/*! For license information please see main.f10fe959.js.LICENSE.txt */
!function(){var e={5395:function(e,t,n){var r;!function(i){"use strict";var a,o=1e6,s=1e6,u="[big.js] ",l=u+"Invalid ",c=l+"decimal places",f=l+"rounding mode",h=u+"Division by zero",d={},p=void 0,v=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function m(e,t,n,r){var i=e.c,a=e.e+t+1;if(a<i.length){if(1===n)r=i[a]>=5;else if(2===n)r=i[a]>5||5==i[a]&&(r||a<0||i[a+1]!==p||1&i[a-1]);else if(3===n)r=r||!!i[0];else if(r=!1,0!==n)throw Error(f);if(a<1)i.length=1,r?(e.e=-t,i[0]=1):i[0]=e.e=0;else{if(i.length=a--,r)for(;++i[a]>9;)i[a]=0,a--||(++e.e,i.unshift(1));for(a=i.length;!i[--a];)i.pop()}}else if(n<0||n>3||n!==~~n)throw Error(f);return e}function y(e,t,n,r){var i,a,s=e.constructor,u=!e.c[0];if(n!==p){if(n!==~~n||n<(3==t)||n>o)throw Error(3==t?l+"precision":c);for(n=r-(e=new s(e)).e,e.c.length>++r&&m(e,n,s.RM),2==t&&(r=e.e+n+1);e.c.length<r;)e.c.push(0)}if(i=e.e,n=(a=e.c.join("")).length,2!=t&&(1==t||3==t&&r<=i||i<=s.NE||i>=s.PE))a=a.charAt(0)+(n>1?"."+a.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)a="0"+a;a="0."+a}else if(i>0)if(++i>n)for(i-=n;i--;)a+="0";else i<n&&(a=a.slice(0,i)+"."+a.slice(i));else n>1&&(a=a.charAt(0)+"."+a.slice(1));return e.s<0&&(!u||4==t)?"-"+a:a}d.abs=function(){var e=new this.constructor(this);return e.s=1,e},d.cmp=function(e){var t,n=this,r=n.c,i=(e=new n.constructor(e)).c,a=n.s,o=e.s,s=n.e,u=e.e;if(!r[0]||!i[0])return r[0]?a:i[0]?-o:0;if(a!=o)return a;if(t=a<0,s!=u)return s>u^t?1:-1;for(o=(s=r.length)<(u=i.length)?s:u,a=-1;++a<o;)if(r[a]!=i[a])return r[a]>i[a]^t?1:-1;return s==u?0:s>u^t?1:-1},d.div=function(e){var t=this,n=t.constructor,r=t.c,i=(e=new n(e)).c,a=t.s==e.s?1:-1,s=n.DP;if(s!==~~s||s<0||s>o)throw Error(c);if(!i[0])throw Error(h);if(!r[0])return new n(0*a);var u,l,f,d,v,y=i.slice(),g=u=i.length,b=r.length,w=r.slice(0,u),x=w.length,_=e,k=_.c=[],S=0,M=s+(_.e=t.e-e.e)+1;for(_.s=a,a=M<0?0:M,y.unshift(0);x++<u;)w.push(0);do{for(f=0;f<10;f++){if(u!=(x=w.length))d=u>x?1:-1;else for(v=-1,d=0;++v<u;)if(i[v]!=w[v]){d=i[v]>w[v]?1:-1;break}if(!(d<0))break;for(l=x==u?i:y;x;){if(w[--x]<l[x]){for(v=x;v&&!w[--v];)w[v]=9;--w[v],w[x]+=10}w[x]-=l[x]}for(;!w[0];)w.shift()}k[S++]=d?f:++f,w[0]&&d?w[x]=r[g]||0:w=[r[g]]}while((g++<b||w[0]!==p)&&a--);return k[0]||1==S||(k.shift(),_.e--),S>M&&m(_,s,n.RM,w[0]!==p),_},d.eq=function(e){return!this.cmp(e)},d.gt=function(e){return this.cmp(e)>0},d.gte=function(e){return this.cmp(e)>-1},d.lt=function(e){return this.cmp(e)<0},d.lte=function(e){return this.cmp(e)<1},d.minus=d.sub=function(e){var t,n,r,i,a=this,o=a.constructor,s=a.s,u=(e=new o(e)).s;if(s!=u)return e.s=-u,a.plus(e);var l=a.c.slice(),c=a.e,f=e.c,h=e.e;if(!l[0]||!f[0])return f[0]?(e.s=-u,e):new o(l[0]?a:0);if(s=c-h){for((i=s<0)?(s=-s,r=l):(h=c,r=f),r.reverse(),u=s;u--;)r.push(0);r.reverse()}else for(n=((i=l.length<f.length)?l:f).length,s=u=0;u<n;u++)if(l[u]!=f[u]){i=l[u]<f[u];break}if(i&&(r=l,l=f,f=r,e.s=-e.s),(u=(n=f.length)-(t=l.length))>0)for(;u--;)l[t++]=0;for(u=t;n>s;){if(l[--n]<f[n]){for(t=n;t&&!l[--t];)l[t]=9;--l[t],l[n]+=10}l[n]-=f[n]}for(;0===l[--u];)l.pop();for(;0===l[0];)l.shift(),--h;return l[0]||(e.s=1,l=[h=0]),e.c=l,e.e=h,e},d.mod=function(e){var t,n=this,r=n.constructor,i=n.s,a=(e=new r(e)).s;if(!e.c[0])throw Error(h);return n.s=e.s=1,t=1==e.cmp(n),n.s=i,e.s=a,t?new r(n):(i=r.DP,a=r.RM,r.DP=r.RM=0,n=n.div(e),r.DP=i,r.RM=a,this.minus(n.times(e)))},d.plus=d.add=function(e){var t,n=this,r=n.constructor,i=n.s,a=(e=new r(e)).s;if(i!=a)return e.s=-a,n.minus(e);var o=n.e,s=n.c,u=e.e,l=e.c;if(!s[0]||!l[0])return l[0]?e:new r(s[0]?n:0*i);if(s=s.slice(),i=o-u){for(i>0?(u=o,t=l):(i=-i,t=s),t.reverse();i--;)t.push(0);t.reverse()}for(s.length-l.length<0&&(t=l,l=s,s=t),i=l.length,a=0;i;s[i]%=10)a=(s[--i]=s[i]+l[i]+a)/10|0;for(a&&(s.unshift(a),++u),i=s.length;0===s[--i];)s.pop();return e.c=s,e.e=u,e},d.pow=function(e){var t=this,n=new t.constructor(1),r=n,i=e<0;if(e!==~~e||e<-1e6||e>s)throw Error(l+"exponent");for(i&&(e=-e);1&e&&(r=r.times(t)),e>>=1;)t=t.times(t);return i?n.div(r):r},d.round=function(e,t){var n=this.constructor;if(e===p)e=0;else if(e!==~~e||e<-o||e>o)throw Error(c);return m(new n(this),e,t===p?n.RM:t)},d.sqrt=function(){var e,t,n,r=this,i=r.constructor,a=r.s,o=r.e,s=new i(.5);if(!r.c[0])return new i(r);if(a<0)throw Error(u+"No square root");0===(a=Math.sqrt(r+""))||a===1/0?((t=r.c.join("")).length+o&1||(t+="0"),o=((o+1)/2|0)-(o<0||1&o),e=new i(((a=Math.sqrt(t))==1/0?"1e":(a=a.toExponential()).slice(0,a.indexOf("e")+1))+o)):e=new i(a),o=e.e+(i.DP+=4);do{n=e,e=s.times(n.plus(r.div(n)))}while(n.c.slice(0,o).join("")!==e.c.slice(0,o).join(""));return m(e,i.DP-=4,i.RM)},d.times=d.mul=function(e){var t,n=this,r=n.constructor,i=n.c,a=(e=new r(e)).c,o=i.length,s=a.length,u=n.e,l=e.e;if(e.s=n.s==e.s?1:-1,!i[0]||!a[0])return new r(0*e.s);for(e.e=u+l,o<s&&(t=i,i=a,a=t,l=o,o=s,s=l),t=new Array(l=o+s);l--;)t[l]=0;for(u=s;u--;){for(s=0,l=o+u;l>u;)s=t[l]+a[u]*i[l-u-1]+s,t[l--]=s%10,s=s/10|0;t[l]=(t[l]+s)%10}for(s?++e.e:t.shift(),u=t.length;!t[--u];)t.pop();return e.c=t,e},d.toExponential=function(e){return y(this,1,e,e)},d.toFixed=function(e){return y(this,2,e,this.e+e)},d.toPrecision=function(e){return y(this,3,e,e-1)},d.toString=function(){return y(this)},d.valueOf=d.toJSON=function(){return y(this,4)},a=function e(){function t(n){var r=this;if(!(r instanceof t))return n===p?e():new t(n);n instanceof t?(r.s=n.s,r.e=n.e,r.c=n.c.slice()):function(e,t){var n,r,i;if(0===t&&1/t<0)t="-0";else if(!v.test(t+=""))throw Error(l+"number");e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".",""));(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length);for(i=t.length,r=0;r<i&&"0"==t.charAt(r);)++r;if(r==i)e.c=[e.e=0];else{for(;i>0&&"0"==t.charAt(--i););for(e.e=n-r-1,e.c=[],n=0;r<=i;)e.c[n++]=+t.charAt(r++)}}(r,n),r.constructor=t}return t.prototype=d,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.version="5.2.2",t}(),a.default=a.Big=a,void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},518:function(e,t,n){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function a(e,t,n){if(a.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var o;"object"===typeof e?e.exports=a:t.BN=a,a.BN=a,a.wordSize=26;try{o="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:n(6601).Buffer}catch(E){}function s(e,t){var n=e.charCodeAt(t);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+e)}function u(e,t,n){var r=s(e,n);return n-1>=t&&(r|=s(e,n-1)<<4),r}function l(e,t,n,i){for(var a=0,o=0,s=Math.min(e.length,n),u=t;u<s;u++){var l=e.charCodeAt(u)-48;a*=i,o=l>=49?l-49+10:l>=17?l-17+10:l,r(l>=0&&o<i,"Invalid character"),a+=o}return a}function c(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(a.isBN=function(e){return e instanceof a||null!==e&&"object"===typeof e&&e.constructor.wordSize===a.wordSize&&Array.isArray(e.words)},a.max=function(e,t){return e.cmp(t)>0?e:t},a.min=function(e,t){return e.cmp(t)<0?e:t},a.prototype._init=function(e,t,n){if("number"===typeof e)return this._initNumber(e,t,n);if("object"===typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},a.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},a.prototype._initArray=function(e,t,n){if(r("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var a,o,s=0;if("be"===n)for(i=e.length-1,a=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);else if("le"===n)for(i=0,a=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);return this._strip()},a.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,a=0,o=0;if("be"===n)for(r=e.length-1;r>=t;r-=2)i=u(e,t,r)<<a,this.words[o]|=67108863&i,a>=18?(a-=18,o+=1,this.words[o]|=i>>>26):a+=8;else for(r=(e.length-t)%2===0?t+1:t;r<e.length;r+=2)i=u(e,t,r)<<a,this.words[o]|=67108863&i,a>=18?(a-=18,o+=1,this.words[o]|=i>>>26):a+=8;this._strip()},a.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var a=e.length-n,o=a%r,s=Math.min(a,a-o)+n,u=0,c=n;c<s;c+=r)u=l(e,c,c+r,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var f=1;for(u=l(e,c,e.length,t),c=0;c<o;c++)f*=t;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},a.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},a.prototype._move=function(e){c(e,this)},a.prototype.clone=function(){var e=new a(null);return this.copy(e),e},a.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},a.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch(E){a.prototype.inspect=f}else a.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,a=0,o=0;o<this.length;o++){var s=this.words[o],u=(16777215&(s<<i|a)).toString(16);a=s>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),n=0!==a||o!==this.length-1?h[6-u.length]+u+n:u+n}for(0!==a&&(n=a.toString(16)+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var l=d[e],c=p[e];n="";var f=this.clone();for(f.negative=0;!f.isZero();){var v=f.modrn(c).toString(e);n=(f=f.idivn(c)).isZero()?v+n:h[l-v.length]+v+n}for(this.isZero()&&(n="0"+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},a.prototype.toJSON=function(){return this.toString(16,2)},o&&(a.prototype.toBuffer=function(e,t){return this.toArrayLike(o,e,t)}),a.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function v(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],a=0|t.words[0],o=i*a,s=67108863&o,u=o/67108864|0;n.words[0]=s;for(var l=1;l<r;l++){for(var c=u>>>26,f=67108863&u,h=Math.min(l,t.length-1),d=Math.max(0,l-e.length+1);d<=h;d++){var p=l-d|0;c+=(o=(i=0|e.words[p])*(a=0|t.words[d])+f)/67108864|0,f=67108863&o}n.words[l]=0|f,u=0|c}return 0!==u?n.words[l]=0|u:n.length--,n._strip()}a.prototype.toArrayLike=function(e,t,n){this._strip();var i=this.byteLength(),a=n||Math.max(1,i);r(i<=a,"byte array longer than desired length"),r(a>0,"Requested array length <= 0");var o=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,a);return this["_toArrayLike"+("le"===t?"LE":"BE")](o,i),o},a.prototype._toArrayLikeLE=function(e,t){for(var n=0,r=0,i=0,a=0;i<this.length;i++){var o=this.words[i]<<a|r;e[n++]=255&o,n<e.length&&(e[n++]=o>>8&255),n<e.length&&(e[n++]=o>>16&255),6===a?(n<e.length&&(e[n++]=o>>24&255),r=0,a=0):(r=o>>>24,a+=2)}if(n<e.length)for(e[n++]=r;n<e.length;)e[n++]=0},a.prototype._toArrayLikeBE=function(e,t){for(var n=e.length-1,r=0,i=0,a=0;i<this.length;i++){var o=this.words[i]<<a|r;e[n--]=255&o,n>=0&&(e[n--]=o>>8&255),n>=0&&(e[n--]=o>>16&255),6===a?(n>=0&&(e[n--]=o>>24&255),r=0,a=0):(r=o>>>24,a+=2)}if(n>=0)for(e[n--]=r;n>=0;)e[n--]=0},Math.clz32?a.prototype._countBits=function(e){return 32-Math.clz32(e)}:a.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},a.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0===(8191&t)&&(n+=13,t>>>=13),0===(127&t)&&(n+=7,t>>>=7),0===(15&t)&&(n+=4,t>>>=4),0===(3&t)&&(n+=2,t>>>=2),0===(1&t)&&n++,n},a.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},a.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return 0!==this.negative},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},a.prototype.ior=function(e){return r(0===(this.negative|e.negative)),this.iuor(e)},a.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},a.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},a.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this._strip()},a.prototype.iand=function(e){return r(0===(this.negative|e.negative)),this.iuand(e)},a.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},a.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},a.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this._strip()},a.prototype.ixor=function(e){return r(0===(this.negative|e.negative)),this.iuxor(e)},a.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},a.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},a.prototype.inotn=function(e){r("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},a.prototype.notn=function(e){return this.clone().inotn(e)},a.prototype.setn=function(e,t){r("number"===typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},a.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,a=0;a<r.length;a++)t=(0|n.words[a])+(0|r.words[a])+i,this.words[a]=67108863&t,i=t>>>26;for(;0!==i&&a<n.length;a++)t=(0|n.words[a])+i,this.words[a]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this},a.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},a.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var a=0,o=0;o<r.length;o++)a=(t=(0|n.words[o])-(0|r.words[o])+a)>>26,this.words[o]=67108863&t;for(;0!==a&&o<n.length;o++)a=(t=(0|n.words[o])+a)>>26,this.words[o]=67108863&t;if(0===a&&o<n.length&&n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this.length=Math.max(this.length,o),n!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(e){return this.clone().isub(e)};var m=function(e,t,n){var r,i,a,o=e.words,s=t.words,u=n.words,l=0,c=0|o[0],f=8191&c,h=c>>>13,d=0|o[1],p=8191&d,v=d>>>13,m=0|o[2],y=8191&m,g=m>>>13,b=0|o[3],w=8191&b,x=b>>>13,_=0|o[4],k=8191&_,S=_>>>13,M=0|o[5],A=8191&M,T=M>>>13,E=0|o[6],C=8191&E,P=E>>>13,R=0|o[7],I=8191&R,L=R>>>13,N=0|o[8],O=8191&N,D=N>>>13,U=0|o[9],z=8191&U,B=U>>>13,F=0|s[0],H=8191&F,W=F>>>13,G=0|s[1],j=8191&G,V=G>>>13,q=0|s[2],X=8191&q,J=q>>>13,Y=0|s[3],Q=8191&Y,Z=Y>>>13,K=0|s[4],$=8191&K,ee=K>>>13,te=0|s[5],ne=8191&te,re=te>>>13,ie=0|s[6],ae=8191&ie,oe=ie>>>13,se=0|s[7],ue=8191&se,le=se>>>13,ce=0|s[8],fe=8191&ce,he=ce>>>13,de=0|s[9],pe=8191&de,ve=de>>>13;n.negative=e.negative^t.negative,n.length=19;var me=(l+(r=Math.imul(f,H))|0)+((8191&(i=(i=Math.imul(f,W))+Math.imul(h,H)|0))<<13)|0;l=((a=Math.imul(h,W))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,r=Math.imul(p,H),i=(i=Math.imul(p,W))+Math.imul(v,H)|0,a=Math.imul(v,W);var ye=(l+(r=r+Math.imul(f,j)|0)|0)+((8191&(i=(i=i+Math.imul(f,V)|0)+Math.imul(h,j)|0))<<13)|0;l=((a=a+Math.imul(h,V)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(y,H),i=(i=Math.imul(y,W))+Math.imul(g,H)|0,a=Math.imul(g,W),r=r+Math.imul(p,j)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(v,j)|0,a=a+Math.imul(v,V)|0;var ge=(l+(r=r+Math.imul(f,X)|0)|0)+((8191&(i=(i=i+Math.imul(f,J)|0)+Math.imul(h,X)|0))<<13)|0;l=((a=a+Math.imul(h,J)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(w,H),i=(i=Math.imul(w,W))+Math.imul(x,H)|0,a=Math.imul(x,W),r=r+Math.imul(y,j)|0,i=(i=i+Math.imul(y,V)|0)+Math.imul(g,j)|0,a=a+Math.imul(g,V)|0,r=r+Math.imul(p,X)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(v,X)|0,a=a+Math.imul(v,J)|0;var be=(l+(r=r+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,Z)|0)+Math.imul(h,Q)|0))<<13)|0;l=((a=a+Math.imul(h,Z)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(k,H),i=(i=Math.imul(k,W))+Math.imul(S,H)|0,a=Math.imul(S,W),r=r+Math.imul(w,j)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(x,j)|0,a=a+Math.imul(x,V)|0,r=r+Math.imul(y,X)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(g,X)|0,a=a+Math.imul(g,J)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(v,Q)|0,a=a+Math.imul(v,Z)|0;var we=(l+(r=r+Math.imul(f,$)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(h,$)|0))<<13)|0;l=((a=a+Math.imul(h,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(A,H),i=(i=Math.imul(A,W))+Math.imul(T,H)|0,a=Math.imul(T,W),r=r+Math.imul(k,j)|0,i=(i=i+Math.imul(k,V)|0)+Math.imul(S,j)|0,a=a+Math.imul(S,V)|0,r=r+Math.imul(w,X)|0,i=(i=i+Math.imul(w,J)|0)+Math.imul(x,X)|0,a=a+Math.imul(x,J)|0,r=r+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(g,Q)|0,a=a+Math.imul(g,Z)|0,r=r+Math.imul(p,$)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(v,$)|0,a=a+Math.imul(v,ee)|0;var xe=(l+(r=r+Math.imul(f,ne)|0)|0)+((8191&(i=(i=i+Math.imul(f,re)|0)+Math.imul(h,ne)|0))<<13)|0;l=((a=a+Math.imul(h,re)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(C,H),i=(i=Math.imul(C,W))+Math.imul(P,H)|0,a=Math.imul(P,W),r=r+Math.imul(A,j)|0,i=(i=i+Math.imul(A,V)|0)+Math.imul(T,j)|0,a=a+Math.imul(T,V)|0,r=r+Math.imul(k,X)|0,i=(i=i+Math.imul(k,J)|0)+Math.imul(S,X)|0,a=a+Math.imul(S,J)|0,r=r+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,Z)|0)+Math.imul(x,Q)|0,a=a+Math.imul(x,Z)|0,r=r+Math.imul(y,$)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(g,$)|0,a=a+Math.imul(g,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(v,ne)|0,a=a+Math.imul(v,re)|0;var _e=(l+(r=r+Math.imul(f,ae)|0)|0)+((8191&(i=(i=i+Math.imul(f,oe)|0)+Math.imul(h,ae)|0))<<13)|0;l=((a=a+Math.imul(h,oe)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(I,H),i=(i=Math.imul(I,W))+Math.imul(L,H)|0,a=Math.imul(L,W),r=r+Math.imul(C,j)|0,i=(i=i+Math.imul(C,V)|0)+Math.imul(P,j)|0,a=a+Math.imul(P,V)|0,r=r+Math.imul(A,X)|0,i=(i=i+Math.imul(A,J)|0)+Math.imul(T,X)|0,a=a+Math.imul(T,J)|0,r=r+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(S,Q)|0,a=a+Math.imul(S,Z)|0,r=r+Math.imul(w,$)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(x,$)|0,a=a+Math.imul(x,ee)|0,r=r+Math.imul(y,ne)|0,i=(i=i+Math.imul(y,re)|0)+Math.imul(g,ne)|0,a=a+Math.imul(g,re)|0,r=r+Math.imul(p,ae)|0,i=(i=i+Math.imul(p,oe)|0)+Math.imul(v,ae)|0,a=a+Math.imul(v,oe)|0;var ke=(l+(r=r+Math.imul(f,ue)|0)|0)+((8191&(i=(i=i+Math.imul(f,le)|0)+Math.imul(h,ue)|0))<<13)|0;l=((a=a+Math.imul(h,le)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(O,H),i=(i=Math.imul(O,W))+Math.imul(D,H)|0,a=Math.imul(D,W),r=r+Math.imul(I,j)|0,i=(i=i+Math.imul(I,V)|0)+Math.imul(L,j)|0,a=a+Math.imul(L,V)|0,r=r+Math.imul(C,X)|0,i=(i=i+Math.imul(C,J)|0)+Math.imul(P,X)|0,a=a+Math.imul(P,J)|0,r=r+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,Z)|0)+Math.imul(T,Q)|0,a=a+Math.imul(T,Z)|0,r=r+Math.imul(k,$)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(S,$)|0,a=a+Math.imul(S,ee)|0,r=r+Math.imul(w,ne)|0,i=(i=i+Math.imul(w,re)|0)+Math.imul(x,ne)|0,a=a+Math.imul(x,re)|0,r=r+Math.imul(y,ae)|0,i=(i=i+Math.imul(y,oe)|0)+Math.imul(g,ae)|0,a=a+Math.imul(g,oe)|0,r=r+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(v,ue)|0,a=a+Math.imul(v,le)|0;var Se=(l+(r=r+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,he)|0)+Math.imul(h,fe)|0))<<13)|0;l=((a=a+Math.imul(h,he)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(z,H),i=(i=Math.imul(z,W))+Math.imul(B,H)|0,a=Math.imul(B,W),r=r+Math.imul(O,j)|0,i=(i=i+Math.imul(O,V)|0)+Math.imul(D,j)|0,a=a+Math.imul(D,V)|0,r=r+Math.imul(I,X)|0,i=(i=i+Math.imul(I,J)|0)+Math.imul(L,X)|0,a=a+Math.imul(L,J)|0,r=r+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,Z)|0)+Math.imul(P,Q)|0,a=a+Math.imul(P,Z)|0,r=r+Math.imul(A,$)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(T,$)|0,a=a+Math.imul(T,ee)|0,r=r+Math.imul(k,ne)|0,i=(i=i+Math.imul(k,re)|0)+Math.imul(S,ne)|0,a=a+Math.imul(S,re)|0,r=r+Math.imul(w,ae)|0,i=(i=i+Math.imul(w,oe)|0)+Math.imul(x,ae)|0,a=a+Math.imul(x,oe)|0,r=r+Math.imul(y,ue)|0,i=(i=i+Math.imul(y,le)|0)+Math.imul(g,ue)|0,a=a+Math.imul(g,le)|0,r=r+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(v,fe)|0,a=a+Math.imul(v,he)|0;var Me=(l+(r=r+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ve)|0)+Math.imul(h,pe)|0))<<13)|0;l=((a=a+Math.imul(h,ve)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(z,j),i=(i=Math.imul(z,V))+Math.imul(B,j)|0,a=Math.imul(B,V),r=r+Math.imul(O,X)|0,i=(i=i+Math.imul(O,J)|0)+Math.imul(D,X)|0,a=a+Math.imul(D,J)|0,r=r+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,Z)|0)+Math.imul(L,Q)|0,a=a+Math.imul(L,Z)|0,r=r+Math.imul(C,$)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(P,$)|0,a=a+Math.imul(P,ee)|0,r=r+Math.imul(A,ne)|0,i=(i=i+Math.imul(A,re)|0)+Math.imul(T,ne)|0,a=a+Math.imul(T,re)|0,r=r+Math.imul(k,ae)|0,i=(i=i+Math.imul(k,oe)|0)+Math.imul(S,ae)|0,a=a+Math.imul(S,oe)|0,r=r+Math.imul(w,ue)|0,i=(i=i+Math.imul(w,le)|0)+Math.imul(x,ue)|0,a=a+Math.imul(x,le)|0,r=r+Math.imul(y,fe)|0,i=(i=i+Math.imul(y,he)|0)+Math.imul(g,fe)|0,a=a+Math.imul(g,he)|0;var Ae=(l+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ve)|0)+Math.imul(v,pe)|0))<<13)|0;l=((a=a+Math.imul(v,ve)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(z,X),i=(i=Math.imul(z,J))+Math.imul(B,X)|0,a=Math.imul(B,J),r=r+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,Z)|0)+Math.imul(D,Q)|0,a=a+Math.imul(D,Z)|0,r=r+Math.imul(I,$)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(L,$)|0,a=a+Math.imul(L,ee)|0,r=r+Math.imul(C,ne)|0,i=(i=i+Math.imul(C,re)|0)+Math.imul(P,ne)|0,a=a+Math.imul(P,re)|0,r=r+Math.imul(A,ae)|0,i=(i=i+Math.imul(A,oe)|0)+Math.imul(T,ae)|0,a=a+Math.imul(T,oe)|0,r=r+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,le)|0)+Math.imul(S,ue)|0,a=a+Math.imul(S,le)|0,r=r+Math.imul(w,fe)|0,i=(i=i+Math.imul(w,he)|0)+Math.imul(x,fe)|0,a=a+Math.imul(x,he)|0;var Te=(l+(r=r+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,ve)|0)+Math.imul(g,pe)|0))<<13)|0;l=((a=a+Math.imul(g,ve)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(z,Q),i=(i=Math.imul(z,Z))+Math.imul(B,Q)|0,a=Math.imul(B,Z),r=r+Math.imul(O,$)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(D,$)|0,a=a+Math.imul(D,ee)|0,r=r+Math.imul(I,ne)|0,i=(i=i+Math.imul(I,re)|0)+Math.imul(L,ne)|0,a=a+Math.imul(L,re)|0,r=r+Math.imul(C,ae)|0,i=(i=i+Math.imul(C,oe)|0)+Math.imul(P,ae)|0,a=a+Math.imul(P,oe)|0,r=r+Math.imul(A,ue)|0,i=(i=i+Math.imul(A,le)|0)+Math.imul(T,ue)|0,a=a+Math.imul(T,le)|0,r=r+Math.imul(k,fe)|0,i=(i=i+Math.imul(k,he)|0)+Math.imul(S,fe)|0,a=a+Math.imul(S,he)|0;var Ee=(l+(r=r+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,ve)|0)+Math.imul(x,pe)|0))<<13)|0;l=((a=a+Math.imul(x,ve)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(z,$),i=(i=Math.imul(z,ee))+Math.imul(B,$)|0,a=Math.imul(B,ee),r=r+Math.imul(O,ne)|0,i=(i=i+Math.imul(O,re)|0)+Math.imul(D,ne)|0,a=a+Math.imul(D,re)|0,r=r+Math.imul(I,ae)|0,i=(i=i+Math.imul(I,oe)|0)+Math.imul(L,ae)|0,a=a+Math.imul(L,oe)|0,r=r+Math.imul(C,ue)|0,i=(i=i+Math.imul(C,le)|0)+Math.imul(P,ue)|0,a=a+Math.imul(P,le)|0,r=r+Math.imul(A,fe)|0,i=(i=i+Math.imul(A,he)|0)+Math.imul(T,fe)|0,a=a+Math.imul(T,he)|0;var Ce=(l+(r=r+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,ve)|0)+Math.imul(S,pe)|0))<<13)|0;l=((a=a+Math.imul(S,ve)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(z,ne),i=(i=Math.imul(z,re))+Math.imul(B,ne)|0,a=Math.imul(B,re),r=r+Math.imul(O,ae)|0,i=(i=i+Math.imul(O,oe)|0)+Math.imul(D,ae)|0,a=a+Math.imul(D,oe)|0,r=r+Math.imul(I,ue)|0,i=(i=i+Math.imul(I,le)|0)+Math.imul(L,ue)|0,a=a+Math.imul(L,le)|0,r=r+Math.imul(C,fe)|0,i=(i=i+Math.imul(C,he)|0)+Math.imul(P,fe)|0,a=a+Math.imul(P,he)|0;var Pe=(l+(r=r+Math.imul(A,pe)|0)|0)+((8191&(i=(i=i+Math.imul(A,ve)|0)+Math.imul(T,pe)|0))<<13)|0;l=((a=a+Math.imul(T,ve)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,r=Math.imul(z,ae),i=(i=Math.imul(z,oe))+Math.imul(B,ae)|0,a=Math.imul(B,oe),r=r+Math.imul(O,ue)|0,i=(i=i+Math.imul(O,le)|0)+Math.imul(D,ue)|0,a=a+Math.imul(D,le)|0,r=r+Math.imul(I,fe)|0,i=(i=i+Math.imul(I,he)|0)+Math.imul(L,fe)|0,a=a+Math.imul(L,he)|0;var Re=(l+(r=r+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,ve)|0)+Math.imul(P,pe)|0))<<13)|0;l=((a=a+Math.imul(P,ve)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(z,ue),i=(i=Math.imul(z,le))+Math.imul(B,ue)|0,a=Math.imul(B,le),r=r+Math.imul(O,fe)|0,i=(i=i+Math.imul(O,he)|0)+Math.imul(D,fe)|0,a=a+Math.imul(D,he)|0;var Ie=(l+(r=r+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,ve)|0)+Math.imul(L,pe)|0))<<13)|0;l=((a=a+Math.imul(L,ve)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(z,fe),i=(i=Math.imul(z,he))+Math.imul(B,fe)|0,a=Math.imul(B,he);var Le=(l+(r=r+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,ve)|0)+Math.imul(D,pe)|0))<<13)|0;l=((a=a+Math.imul(D,ve)|0)+(i>>>13)|0)+(Le>>>26)|0,Le&=67108863;var Ne=(l+(r=Math.imul(z,pe))|0)+((8191&(i=(i=Math.imul(z,ve))+Math.imul(B,pe)|0))<<13)|0;return l=((a=Math.imul(B,ve))+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,u[0]=me,u[1]=ye,u[2]=ge,u[3]=be,u[4]=we,u[5]=xe,u[6]=_e,u[7]=ke,u[8]=Se,u[9]=Me,u[10]=Ae,u[11]=Te,u[12]=Ee,u[13]=Ce,u[14]=Pe,u[15]=Re,u[16]=Ie,u[17]=Le,u[18]=Ne,0!==l&&(u[19]=l,n.length++),n};function y(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,a=0;a<n.length-1;a++){var o=i;i=0;for(var s=67108863&r,u=Math.min(a,t.length-1),l=Math.max(0,a-e.length+1);l<=u;l++){var c=a-l,f=(0|e.words[c])*(0|t.words[l]),h=67108863&f;s=67108863&(h=h+s|0),i+=(o=(o=o+(f/67108864|0)|0)+(h>>>26)|0)>>>26,o&=67108863}n.words[a]=s,r=o,o=i}return 0!==r?n.words[a]=r:n.length--,n._strip()}function g(e,t,n){return y(e,t,n)}function b(e,t){this.x=e,this.y=t}Math.imul||(m=v),a.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?m(this,e,t):n<63?v(this,e,t):n<1024?y(this,e,t):g(this,e,t)},b.prototype.makeRBT=function(e){for(var t=new Array(e),n=a.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},b.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},b.prototype.permute=function(e,t,n,r,i,a){for(var o=0;o<a;o++)r[o]=t[e[o]],i[o]=n[e[o]]},b.prototype.transform=function(e,t,n,r,i,a){this.permute(a,e,t,n,r,i);for(var o=1;o<i;o<<=1)for(var s=o<<1,u=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),c=0;c<i;c+=s)for(var f=u,h=l,d=0;d<o;d++){var p=n[c+d],v=r[c+d],m=n[c+d+o],y=r[c+d+o],g=f*m-h*y;y=f*y+h*m,m=g,n[c+d]=p+m,r[c+d]=v+y,n[c+d+o]=p-m,r[c+d+o]=v-y,d!==s&&(g=u*f-l*h,h=u*h+l*f,f=g)}},b.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},b.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},b.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},b.prototype.convert13b=function(e,t,n,i){for(var a=0,o=0;o<t;o++)a+=0|e[o],n[2*o]=8191&a,a>>>=13,n[2*o+1]=8191&a,a>>>=13;for(o=2*t;o<i;++o)n[o]=0;r(0===a),r(0===(-8192&a))},b.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},b.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),a=this.stub(r),o=new Array(r),s=new Array(r),u=new Array(r),l=new Array(r),c=new Array(r),f=new Array(r),h=n.words;h.length=r,this.convert13b(e.words,e.length,o,r),this.convert13b(t.words,t.length,l,r),this.transform(o,a,s,u,r,i),this.transform(l,a,c,f,r,i);for(var d=0;d<r;d++){var p=s[d]*c[d]-u[d]*f[d];u[d]=s[d]*f[d]+u[d]*c[d],s[d]=p}return this.conjugate(s,u,r),this.transform(s,u,h,a,r,i),this.conjugate(h,a,r),this.normalize13b(h,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n._strip()},a.prototype.mul=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},a.prototype.mulf=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),g(this,e,t)},a.prototype.imul=function(e){return this.clone().mulTo(e,this)},a.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"===typeof e),r(e<67108864);for(var n=0,i=0;i<this.length;i++){var a=(0|this.words[i])*e,o=(67108863&a)+(67108863&n);n>>=26,n+=a/67108864|0,n+=o>>>26,this.words[i]=67108863&o}return 0!==n&&(this.words[i]=n,this.length++),t?this.ineg():this},a.prototype.muln=function(e){return this.clone().imuln(e)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=e.words[r]>>>i&1}return t}(e);if(0===t.length)return new a(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},a.prototype.iushln=function(e){r("number"===typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,a=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(t=0;t<this.length;t++){var s=this.words[t]&a,u=(0|this.words[t])-s<<n;this.words[t]=u|o,o=s>>>26-n}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},a.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},a.prototype.iushrn=function(e,t,n){var i;r("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var a=e%26,o=Math.min((e-a)/26,this.length),s=67108863^67108863>>>a<<a,u=n;if(i-=o,i=Math.max(0,i),u){for(var l=0;l<o;l++)u.words[l]=this.words[l];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;var c=0;for(l=this.length-1;l>=0&&(0!==c||l>=i);l--){var f=0|this.words[l];this.words[l]=c<<26-a|f>>>a,c=f&s}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},a.prototype.shln=function(e){return this.clone().ishln(e)},a.prototype.ushln=function(e){return this.clone().iushln(e)},a.prototype.shrn=function(e){return this.clone().ishrn(e)},a.prototype.ushrn=function(e){return this.clone().iushrn(e)},a.prototype.testn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},a.prototype.imaskn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},a.prototype.maskn=function(e){return this.clone().imaskn(e)},a.prototype.iaddn=function(e){return r("number"===typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},a.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},a.prototype.isubn=function(e){if(r("number"===typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},a.prototype.addn=function(e){return this.clone().iaddn(e)},a.prototype.subn=function(e){return this.clone().isubn(e)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(e,t,n){var i,a,o=e.length+n;this._expand(o);var s=0;for(i=0;i<e.length;i++){a=(0|this.words[i+n])+s;var u=(0|e.words[i])*t;s=((a-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&a}for(;i<this.length-n;i++)s=(a=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&a;if(0===s)return this._strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(a=-(0|this.words[i])+s)>>26,this.words[i]=67108863&a;return this.negative=1,this._strip()},a.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,o=0|i.words[i.length-1];0!==(n=26-this._countBits(o))&&(i=i.ushln(n),r.iushln(n),o=0|i.words[i.length-1]);var s,u=r.length-i.length;if("mod"!==t){(s=new a(null)).length=u+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var c=r.clone()._ishlnsubmul(i,1,u);0===c.negative&&(r=c,s&&(s.words[u]=1));for(var f=u-1;f>=0;f--){var h=67108864*(0|r.words[i.length+f])+(0|r.words[i.length+f-1]);for(h=Math.min(h/o|0,67108863),r._ishlnsubmul(i,h,f);0!==r.negative;)h--,r.negative=0,r._ishlnsubmul(i,1,f),r.isZero()||(r.negative^=1);s&&(s.words[f]=h)}return s&&s._strip(),r._strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},a.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(o=s.mod.neg(),n&&0!==o.negative&&o.iadd(e)),{div:i,mod:o}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(o=s.mod.neg(),n&&0!==o.negative&&o.isub(e)),{div:s.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new a(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new a(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new a(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,o,s},a.prototype.div=function(e){return this.divmod(e,"div",!1).div},a.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},a.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},a.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),a=n.cmp(r);return a<0||1===i&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},a.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=(1<<26)%e,i=0,a=this.length-1;a>=0;a--)i=(n*i+(0|this.words[a]))%e;return t?-i:i},a.prototype.modn=function(e){return this.modrn(e)},a.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var a=(0|this.words[i])+67108864*n;this.words[i]=a/e|0,n=a%e}return this._strip(),t?this.ineg():this},a.prototype.divn=function(e){return this.clone().idivn(e)},a.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new a(1),o=new a(0),s=new a(0),u=new a(1),l=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++l;for(var c=n.clone(),f=t.clone();!t.isZero();){for(var h=0,d=1;0===(t.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(c),o.isub(f)),i.iushrn(1),o.iushrn(1);for(var p=0,v=1;0===(n.words[0]&v)&&p<26;++p,v<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(c),u.isub(f)),s.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(s),o.isub(u)):(n.isub(t),s.isub(i),u.isub(o))}return{a:s,b:u,gcd:n.iushln(l)}},a.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,o=new a(1),s=new a(0),u=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,c=1;0===(t.words[0]&c)&&l<26;++l,c<<=1);if(l>0)for(t.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var f=0,h=1;0===(n.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(s)):(n.isub(t),s.isub(o))}return(i=0===t.cmpn(1)?o:s).cmpn(0)<0&&i.iadd(e),i},a.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var a=t;t=n,n=a}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},a.prototype.invm=function(e){return this.egcd(e).a.umod(e)},a.prototype.isEven=function(){return 0===(1&this.words[0])},a.prototype.isOdd=function(){return 1===(1&this.words[0])},a.prototype.andln=function(e){return this.words[0]&e},a.prototype.bincn=function(e){r("number"===typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var a=i,o=n;0!==a&&o<this.length;o++){var s=0|this.words[o];a=(s+=a)>>>26,s&=67108863,this.words[o]=s}return 0!==a&&(this.words[o]=a,this.length++),this},a.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},a.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},a.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},a.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},a.prototype.gtn=function(e){return 1===this.cmpn(e)},a.prototype.gt=function(e){return 1===this.cmp(e)},a.prototype.gten=function(e){return this.cmpn(e)>=0},a.prototype.gte=function(e){return this.cmp(e)>=0},a.prototype.ltn=function(e){return-1===this.cmpn(e)},a.prototype.lt=function(e){return-1===this.cmp(e)},a.prototype.lten=function(e){return this.cmpn(e)<=0},a.prototype.lte=function(e){return this.cmp(e)<=0},a.prototype.eqn=function(e){return 0===this.cmpn(e)},a.prototype.eq=function(e){return 0===this.cmp(e)},a.red=function(e){return new A(e)},a.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(e){return this.red=e,this},a.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},a.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},a.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},a.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},a.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},a.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},a.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},a.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var w={k256:null,p224:null,p192:null,p25519:null};function x(e,t){this.name=e,this.p=new a(t,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function _(){x.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function k(){x.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){x.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){x.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(e){if("string"===typeof e){var t=a._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function T(e){A.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}x.prototype._tmp=function(){var e=new a(null);return e.words=new Array(Math.ceil(this.n/13)),e},x.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},x.prototype.split=function(e,t){e.iushrn(this.n,0,t)},x.prototype.imulK=function(e){return e.imul(this.k)},i(_,x),_.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=a&n,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&n)<<4|a>>>22,a=o}a>>>=22,e.words[i-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},_.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(k,x),i(S,x),i(M,x),M.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},a._prime=function(e){if(w[e])return w[e];var t;if("k256"===e)t=new _;else if("p224"===e)t=new k;else if("p192"===e)t=new S;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new M}return w[e]=t,t},A.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},A.prototype._verify2=function(e,t){r(0===(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},A.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(c(e,e.umod(this.m)._forceRed(this)),e)},A.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},A.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},A.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},A.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},A.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},A.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},A.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},A.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},A.prototype.isqr=function(e){return this.imul(e,e.clone())},A.prototype.sqr=function(e){return this.mul(e,e)},A.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2===1),3===t){var n=this.m.add(new a(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);r(!i.isZero());var s=new a(1).toRed(this),u=s.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new a(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var f=this.pow(c,i),h=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=o;0!==d.cmp(s);){for(var v=d,m=0;0!==v.cmp(s);m++)v=v.redSqr();r(m<p);var y=this.pow(f,new a(1).iushln(p-m-1));h=h.redMul(y),f=y.redSqr(),d=d.redMul(f),p=m}return h},A.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},A.prototype.pow=function(e,t){if(t.isZero())return new a(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new a(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],o=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),r=t.length-1;r>=0;r--){for(var l=t.words[r],c=u-1;c>=0;c--){var f=l>>c&1;i!==n[0]&&(i=this.sqr(i)),0!==f||0!==o?(o<<=1,o|=f,(4===++s||0===r&&0===c)&&(i=this.mul(i,n[o]),s=0,o=0)):s=0}u=26}return i},A.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},A.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},a.mont=function(e){return new T(e)},i(T,A),T.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},T.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},T.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},T.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new a(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},T.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=n.nmd(e),this)},8182:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function i(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}n.r(t),n.d(t,{clsx:function(){return i}}),t.default=i},7494:function(e){function t(e,t,n){var r,i,a,o,s;function u(){var l=Date.now()-o;l<t&&l>=0?r=setTimeout(u,t-l):(r=null,n||(s=e.apply(a,i),a=i=null))}null==t&&(t=100);var l=function(){a=this,i=arguments,o=Date.now();var l=n&&!r;return r||(r=setTimeout(u,t)),l&&(s=e.apply(a,i),a=i=null),s};return l.clear=function(){r&&(clearTimeout(r),r=null)},l.flush=function(){r&&(s=e.apply(a,i),a=i=null,clearTimeout(r),r=null)},l}t.debounce=t,e.exports=t},4234:function(e,t,n){var r;!function(i){"use strict";var a,o=1e9,s={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},u=!0,l="[DecimalError] ",c=l+"Invalid argument: ",f=l+"Exponent out of range: ",h=Math.floor,d=Math.pow,p=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,v=1e7,m=7,y=9007199254740991,g=h(y/m),b={};function w(e,t){var n,r,i,a,o,s,l,c,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),u?P(t,h):t;if(l=e.d,c=t.d,o=e.e,i=t.e,l=l.slice(),a=o-i){for(a<0?(r=l,a=-a,s=c.length):(r=c,i=o,s=l.length),a>(s=(o=Math.ceil(h/m))>s?o+1:s+1)&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for((s=l.length)-(a=c.length)<0&&(a=s,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/v|0,l[a]%=v;for(n&&(l.unshift(n),++i),s=l.length;0==l[--s];)l.pop();return t.d=l,t.e=i,u?P(t,h):t}function x(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function _(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",(n=m-r.length)&&(a+=T(n)),a+=r;o=e[t],(n=m-(r=o+"").length)&&(a+=T(n))}else if(0===o)return"0";for(;o%10===0;)o/=10;return a+o}b.absoluteValue=b.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},b.comparedTo=b.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(t=0,n=(r=a.d.length)<(i=e.d.length)?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1},b.decimalPlaces=b.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*m;if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},b.dividedBy=b.div=function(e){return k(this,new this.constructor(e))},b.dividedToIntegerBy=b.idiv=function(e){var t=this.constructor;return P(k(this,new t(e),0,1),t.precision)},b.equals=b.eq=function(e){return!this.cmp(e)},b.exponent=function(){return M(this)},b.greaterThan=b.gt=function(e){return this.cmp(e)>0},b.greaterThanOrEqualTo=b.gte=function(e){return this.cmp(e)>=0},b.isInteger=b.isint=function(){return this.e>this.d.length-2},b.isNegative=b.isneg=function(){return this.s<0},b.isPositive=b.ispos=function(){return this.s>0},b.isZero=function(){return 0===this.s},b.lessThan=b.lt=function(e){return this.cmp(e)<0},b.lessThanOrEqualTo=b.lte=function(e){return this.cmp(e)<1},b.logarithm=b.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(a))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(a)?new r(0):(u=!1,t=k(E(n,o),E(e,o),o),u=!0,P(t,i))},b.minus=b.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?R(t,e):w(t,(e.s=-e.s,e))},b.modulo=b.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(u=!1,t=k(n,e,0,1).times(e),u=!0,n.minus(t)):P(new r(n),i)},b.naturalExponential=b.exp=function(){return S(this)},b.naturalLogarithm=b.ln=function(){return E(this)},b.negated=b.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},b.plus=b.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?w(t,e):R(t,(e.s=-e.s,e))},b.precision=b.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=M(i)+1,n=(r=i.d.length-1)*m+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},b.squareRoot=b.sqrt=function(){var e,t,n,r,i,a,o,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(l+"NaN")}for(e=M(s),u=!1,0==(i=Math.sqrt(+s))||i==1/0?(((t=_(s.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=h((e+1)/2)-(e<0||e%2),r=new c(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new c(i.toString()),i=o=(n=c.precision)+3;;)if(r=(a=r).plus(k(s,a,o+2)).times(.5),_(a.d).slice(0,o)===(t=_(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&"4999"==t){if(P(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if("9999"!=t)break;o+=4}return u=!0,P(r,n)},b.times=b.mul=function(e){var t,n,r,i,a,o,s,l,c,f=this,h=f.constructor,d=f.d,p=(e=new h(e)).d;if(!f.s||!e.s)return new h(0);for(e.s*=f.s,n=f.e+e.e,(l=d.length)<(c=p.length)&&(a=d,d=p,p=a,o=l,l=c,c=o),a=[],r=o=l+c;r--;)a.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)s=a[i]+p[r]*d[i-r-1]+t,a[i--]=s%v|0,t=s/v|0;a[i]=(a[i]+t)%v|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,u?P(e,h.precision):e},b.toDecimalPlaces=b.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(x(e,0,o),void 0===t?t=r.rounding:x(t,0,8),P(n,e+M(n)+1,t))},b.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=I(r,!0):(x(e,0,o),void 0===t?t=i.rounding:x(t,0,8),n=I(r=P(new i(r),e+1,t),!0,e+1)),n},b.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?I(i):(x(e,0,o),void 0===t?t=a.rounding:x(t,0,8),n=I((r=P(new a(i),e+M(i)+1,t)).abs(),!1,e+M(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},b.toInteger=b.toint=function(){var e=this,t=e.constructor;return P(new t(e),M(e)+1,t.rounding)},b.toNumber=function(){return+this},b.toPower=b.pow=function(e){var t,n,r,i,o,s,c=this,f=c.constructor,d=+(e=new f(e));if(!e.s)return new f(a);if(!(c=new f(c)).s){if(e.s<1)throw Error(l+"Infinity");return c}if(c.eq(a))return c;if(r=f.precision,e.eq(a))return P(c,r);if(s=(t=e.e)>=(n=e.d.length-1),o=c.s,s){if((n=d<0?-d:d)<=y){for(i=new f(a),t=Math.ceil(r/m+4),u=!1;n%2&&L((i=i.times(c)).d,t),0!==(n=h(n/2));)L((c=c.times(c)).d,t);return u=!0,e.s<0?new f(a).div(i):P(i,r)}}else if(o<0)throw Error(l+"NaN");return o=o<0&&1&e.d[Math.max(t,n)]?-1:1,c.s=1,u=!1,i=e.times(E(c,r+12)),u=!0,(i=S(i)).s=o,i},b.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?r=I(i,(n=M(i))<=a.toExpNeg||n>=a.toExpPos):(x(e,1,o),void 0===t?t=a.rounding:x(t,0,8),r=I(i=P(new a(i),e,t),e<=(n=M(i))||n<=a.toExpNeg,e)),r},b.toSignificantDigits=b.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(x(e,1,o),void 0===t?t=n.rounding:x(t,0,8)),P(new n(this),e,t)},b.toString=b.valueOf=b.val=b.toJSON=function(){var e=this,t=M(e),n=e.constructor;return I(e,t<=n.toExpNeg||t>=n.toExpPos)};var k=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%v|0,r=n/v|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,a;if(n!=r)a=n>r?1:-1;else for(i=a=0;i<n;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*v+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,a,o){var s,u,c,f,h,d,p,y,g,b,w,x,_,k,S,A,T,E,C=r.constructor,R=r.s==i.s?1:-1,I=r.d,L=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(l+"Division by zero");for(u=r.e-i.e,T=L.length,S=I.length,y=(p=new C(R)).d=[],c=0;L[c]==(I[c]||0);)++c;if(L[c]>(I[c]||0)&&--u,(x=null==a?a=C.precision:o?a+(M(r)-M(i))+1:a)<0)return new C(0);if(x=x/m+2|0,c=0,1==T)for(f=0,L=L[0],x++;(c<S||f)&&x--;c++)_=f*v+(I[c]||0),y[c]=_/L|0,f=_%L|0;else{for((f=v/(L[0]+1)|0)>1&&(L=e(L,f),I=e(I,f),T=L.length,S=I.length),k=T,b=(g=I.slice(0,T)).length;b<T;)g[b++]=0;(E=L.slice()).unshift(0),A=L[0],L[1]>=v/2&&++A;do{f=0,(s=t(L,g,T,b))<0?(w=g[0],T!=b&&(w=w*v+(g[1]||0)),(f=w/A|0)>1?(f>=v&&(f=v-1),1==(s=t(h=e(L,f),g,d=h.length,b=g.length))&&(f--,n(h,T<d?E:L,d))):(0==f&&(s=f=1),h=L.slice()),(d=h.length)<b&&h.unshift(0),n(g,h,b),-1==s&&(s=t(L,g,T,b=g.length))<1&&(f++,n(g,T<b?E:L,b)),b=g.length):0===s&&(f++,g=[0]),y[c++]=f,s&&g[0]?g[b++]=I[k]||0:(g=[I[k]],b=1)}while((k++<S||void 0!==g[0])&&x--)}return y[0]||y.shift(),p.e=u,P(p,o?a+M(p)+1:a)}}();function S(e,t){var n,r,i,o,s,l=0,c=0,h=e.constructor,p=h.precision;if(M(e)>16)throw Error(f+M(e));if(!e.s)return new h(a);for(null==t?(u=!1,s=p):s=t,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(s+=Math.log(d(2,c))/Math.LN10*2+5|0,n=r=i=new h(a),h.precision=s;;){if(r=P(r.times(e),s),n=n.times(++l),_((o=i.plus(k(r,n,s))).d).slice(0,s)===_(i.d).slice(0,s)){for(;c--;)i=P(i.times(i),s);return h.precision=p,null==t?(u=!0,P(i,p)):i}i=o}}function M(e){for(var t=e.e*m,n=e.d[0];n>=10;n/=10)t++;return t}function A(e,t,n){if(t>e.LN10.sd())throw u=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return P(new e(e.LN10),t)}function T(e){for(var t="";e--;)t+="0";return t}function E(e,t){var n,r,i,o,s,c,f,h,d,p=1,v=e,m=v.d,y=v.constructor,g=y.precision;if(v.s<1)throw Error(l+(v.s?"NaN":"-Infinity"));if(v.eq(a))return new y(0);if(null==t?(u=!1,h=g):h=t,v.eq(10))return null==t&&(u=!0),A(y,h);if(h+=10,y.precision=h,r=(n=_(m)).charAt(0),o=M(v),!(Math.abs(o)<15e14))return f=A(y,h+2,g).times(o+""),v=E(new y(r+"."+n.slice(1)),h-10).plus(f),y.precision=g,null==t?(u=!0,P(v,g)):v;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=_((v=v.times(e)).d)).charAt(0),p++;for(o=M(v),r>1?(v=new y("0."+n),o++):v=new y(r+"."+n.slice(1)),c=s=v=k(v.minus(a),v.plus(a),h),d=P(v.times(v),h),i=3;;){if(s=P(s.times(d),h),_((f=c.plus(k(s,new y(i),h))).d).slice(0,h)===_(c.d).slice(0,h))return c=c.times(2),0!==o&&(c=c.plus(A(y,h+2,g).times(o+""))),c=k(c,new y(p),h),y.precision=g,null==t?(u=!0,P(c,g)):c;c=f,i+=2}}function C(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=h(n/m),e.d=[],r=(n+1)%m,n<0&&(r+=m),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=m;r<i;)e.d.push(+t.slice(r,r+=m));t=t.slice(r),r=m-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),u&&(e.e>g||e.e<-g))throw Error(f+n)}else e.s=0,e.e=0,e.d=[0];return e}function P(e,t,n){var r,i,a,o,s,l,c,p,y=e.d;for(o=1,a=y[0];a>=10;a/=10)o++;if((r=t-o)<0)r+=m,i=t,c=y[p=0];else{if((p=Math.ceil((r+1)/m))>=(a=y.length))return e;for(c=a=y[p],o=1;a>=10;a/=10)o++;i=(r%=m)-m+o}if(void 0!==n&&(s=c/(a=d(10,o-i-1))%10|0,l=t<0||void 0!==y[p+1]||c%a,l=n<4?(s||l)&&(0==n||n==(e.s<0?3:2)):s>5||5==s&&(4==n||l||6==n&&(r>0?i>0?c/d(10,o-i):0:y[p-1])%10&1||n==(e.s<0?8:7))),t<1||!y[0])return l?(a=M(e),y.length=1,t=t-a-1,y[0]=d(10,(m-t%m)%m),e.e=h(-t/m)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==r?(y.length=p,a=1,p--):(y.length=p+1,a=d(10,m-r),y[p]=i>0?(c/d(10,o-i)%d(10,i)|0)*a:0),l)for(;;){if(0==p){(y[0]+=a)==v&&(y[0]=1,++e.e);break}if(y[p]+=a,y[p]!=v)break;y[p--]=0,a=1}for(r=y.length;0===y[--r];)y.pop();if(u&&(e.e>g||e.e<-g))throw Error(f+M(e));return e}function R(e,t){var n,r,i,a,o,s,l,c,f,h,d=e.constructor,p=d.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new d(e),u?P(t,p):t;if(l=e.d,h=t.d,r=t.e,c=e.e,l=l.slice(),o=c-r){for((f=o<0)?(n=l,o=-o,s=h.length):(n=h,r=c,s=l.length),o>(i=Math.max(Math.ceil(p/m),s)+2)&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for((f=(i=l.length)<(s=h.length))&&(s=i),i=0;i<s;i++)if(l[i]!=h[i]){f=l[i]<h[i];break}o=0}for(f&&(n=l,l=h,h=n,t.s=-t.s),s=l.length,i=h.length-s;i>0;--i)l[s++]=0;for(i=h.length;i>o;){if(l[--i]<h[i]){for(a=i;a&&0===l[--a];)l[a]=v-1;--l[a],l[i]+=v}l[i]-=h[i]}for(;0===l[--s];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(t.d=l,t.e=r,u?P(t,p):t):new d(0)}function I(e,t,n){var r,i=M(e),a=_(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+T(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+T(-i-1)+a,n&&(r=n-o)>0&&(a+=T(r))):i>=o?(a+=T(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+T(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=T(r))),e.s<0?"-"+a:a}function L(e,t){if(e.length>t)return e.length=t,!0}function N(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,i=["precision",1,o,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(h(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}s=function e(t){var n,r,i;function a(e){var t=this;if(!(t instanceof a))return new a(e);if(t.constructor=a,e instanceof a)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):C(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!p.test(e))throw Error(c+e);C(t,e)}if(a.prototype=b,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=N,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return a.config(t),a}(s),s.default=s.Decimal=s,a=new s(1),void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()},8959:function(e){function t(e,t,n,r){var i,a=null==(i=r)||"number"===typeof i||"boolean"===typeof i?r:n(r),o=t.get(a);return"undefined"===typeof o&&(o=e.call(this,r),t.set(a,o)),o}function n(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),a=t.get(i);return"undefined"===typeof a&&(a=e.apply(this,r),t.set(i,a)),a}function r(e,t,n,r,i){return n.bind(t,e,r,i)}function i(e,i){return r(e,this,1===e.length?t:n,i.cache.create(),i.serializer)}function a(){return JSON.stringify(arguments)}function o(){this.cache=Object.create(null)}o.prototype.has=function(e){return e in this.cache},o.prototype.get=function(e){return this.cache[e]},o.prototype.set=function(e,t){this.cache[e]=t};var s={create:function(){return new o}};e.exports=function(e,t){var n=t&&t.cache?t.cache:s,r=t&&t.serializer?t.serializer:a;return(t&&t.strategy?t.strategy:i)(e,{cache:n,serializer:r})},e.exports.strategies={variadic:function(e,t){return r(e,this,n,t.cache.create(),t.serializer)},monadic:function(e,n){return r(e,this,t,n.cache.create(),n.serializer)}}},2110:function(e,t,n){"use strict";var r=n(7441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var l=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=c(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var g=h(n,y);try{l(t,y,g)}catch(b){}}}}return t}},7898:function(e,t,n){var r;!function(){"use strict";var i="input is invalid type",a="object"===typeof window,o=a?window:{};o.JS_SHA3_NO_WINDOW&&(a=!1);var s=!a&&"object"===typeof self;!o.JS_SHA3_NO_NODE_JS&&"object"===typeof process&&process.versions&&process.versions.node?o=n.g:s&&(o=self);var u=!o.JS_SHA3_NO_COMMON_JS&&e.exports,l=n.amdO,c=!o.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!==typeof ArrayBuffer,f="0123456789abcdef".split(""),h=[4,1024,262144,67108864],d=[0,8,16,24],p=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],v=[224,256,384,512],m=[128,256],y=["hex","buffer","arrayBuffer","array","digest"],g={128:168,256:136};!o.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!c||!o.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"===typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var b=function(e,t,n){return function(r){return new N(e,t,e).update(r)[n]()}},w=function(e,t,n){return function(r,i){return new N(e,t,i).update(r)[n]()}},x=function(e,t,n){return function(t,r,i,a){return A["cshake"+e].update(t,r,i,a)[n]()}},_=function(e,t,n){return function(t,r,i,a){return A["kmac"+e].update(t,r,i,a)[n]()}},k=function(e,t,n,r){for(var i=0;i<y.length;++i){var a=y[i];e[a]=t(n,r,a)}return e},S=function(e,t){var n=b(e,t,"hex");return n.create=function(){return new N(e,t,e)},n.update=function(e){return n.create().update(e)},k(n,b,e,t)},M=[{name:"keccak",padding:[1,256,65536,16777216],bits:v,createMethod:S},{name:"sha3",padding:[6,1536,393216,100663296],bits:v,createMethod:S},{name:"shake",padding:[31,7936,2031616,520093696],bits:m,createMethod:function(e,t){var n=w(e,t,"hex");return n.create=function(n){return new N(e,t,n)},n.update=function(e,t){return n.create(t).update(e)},k(n,w,e,t)}},{name:"cshake",padding:h,bits:m,createMethod:function(e,t){var n=g[e],r=x(e,0,"hex");return r.create=function(r,i,a){return i||a?new N(e,t,r).bytepad([i,a],n):A["shake"+e].create(r)},r.update=function(e,t,n,i){return r.create(t,n,i).update(e)},k(r,x,e,t)}},{name:"kmac",padding:h,bits:m,createMethod:function(e,t){var n=g[e],r=_(e,0,"hex");return r.create=function(r,i,a){return new O(e,t,i).bytepad(["KMAC",a],n).bytepad([r],n)},r.update=function(e,t,n,i){return r.create(e,n,i).update(t)},k(r,_,e,t)}}],A={},T=[],E=0;E<M.length;++E)for(var C=M[E],P=C.bits,R=0;R<P.length;++R){var I=C.name+"_"+P[R];if(T.push(I),A[I]=C.createMethod(P[R],C.padding),"sha3"!==C.name){var L=C.name+P[R];T.push(L),A[L]=A[I]}}function N(e,t,n){this.blocks=[],this.s=[],this.padding=t,this.outputBits=n,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=n>>5,this.extraBytes=(31&n)>>3;for(var r=0;r<50;++r)this.s[r]=0}function O(e,t,n){N.call(this,e,t,n)}N.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var t,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(i);if(null===e)throw new Error(i);if(c&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!c||!ArrayBuffer.isView(e)))throw new Error(i);t=!0}for(var r,a,o=this.blocks,s=this.byteCount,u=e.length,l=this.blockCount,f=0,h=this.s;f<u;){if(this.reset)for(this.reset=!1,o[0]=this.block,r=1;r<l+1;++r)o[r]=0;if(t)for(r=this.start;f<u&&r<s;++f)o[r>>2]|=e[f]<<d[3&r++];else for(r=this.start;f<u&&r<s;++f)(a=e.charCodeAt(f))<128?o[r>>2]|=a<<d[3&r++]:a<2048?(o[r>>2]|=(192|a>>6)<<d[3&r++],o[r>>2]|=(128|63&a)<<d[3&r++]):a<55296||a>=57344?(o[r>>2]|=(224|a>>12)<<d[3&r++],o[r>>2]|=(128|a>>6&63)<<d[3&r++],o[r>>2]|=(128|63&a)<<d[3&r++]):(a=65536+((1023&a)<<10|1023&e.charCodeAt(++f)),o[r>>2]|=(240|a>>18)<<d[3&r++],o[r>>2]|=(128|a>>12&63)<<d[3&r++],o[r>>2]|=(128|a>>6&63)<<d[3&r++],o[r>>2]|=(128|63&a)<<d[3&r++]);if(this.lastByteIndex=r,r>=s){for(this.start=r-s,this.block=o[l],r=0;r<l;++r)h[r]^=o[r];D(h),this.reset=!0}else this.start=r}return this},N.prototype.encode=function(e,t){var n=255&e,r=1,i=[n];for(n=255&(e>>=8);n>0;)i.unshift(n),n=255&(e>>=8),++r;return t?i.push(r):i.unshift(r),this.update(i),i.length},N.prototype.encodeString=function(e){var t,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(i);if(null===e)throw new Error(i);if(c&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!c||!ArrayBuffer.isView(e)))throw new Error(i);t=!0}var r=0,a=e.length;if(t)r=a;else for(var o=0;o<e.length;++o){var s=e.charCodeAt(o);s<128?r+=1:s<2048?r+=2:s<55296||s>=57344?r+=3:(s=65536+((1023&s)<<10|1023&e.charCodeAt(++o)),r+=4)}return r+=this.encode(8*r),this.update(e),r},N.prototype.bytepad=function(e,t){for(var n=this.encode(t),r=0;r<e.length;++r)n+=this.encodeString(e[r]);var i=t-n%t,a=[];return a.length=i,this.update(a),this},N.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,n=this.blockCount,r=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[n],t=1;t<n+1;++t)e[t]=0;for(e[n-1]|=2147483648,t=0;t<n;++t)r[t]^=e[t];D(r)}},N.prototype.toString=N.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,n=this.s,r=this.outputBlocks,i=this.extraBytes,a=0,o=0,s="";o<r;){for(a=0;a<t&&o<r;++a,++o)e=n[a],s+=f[e>>4&15]+f[15&e]+f[e>>12&15]+f[e>>8&15]+f[e>>20&15]+f[e>>16&15]+f[e>>28&15]+f[e>>24&15];o%t===0&&(D(n),a=0)}return i&&(e=n[a],s+=f[e>>4&15]+f[15&e],i>1&&(s+=f[e>>12&15]+f[e>>8&15]),i>2&&(s+=f[e>>20&15]+f[e>>16&15])),s},N.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,n=this.s,r=this.outputBlocks,i=this.extraBytes,a=0,o=0,s=this.outputBits>>3;e=i?new ArrayBuffer(r+1<<2):new ArrayBuffer(s);for(var u=new Uint32Array(e);o<r;){for(a=0;a<t&&o<r;++a,++o)u[o]=n[a];o%t===0&&D(n)}return i&&(u[a]=n[a],e=e.slice(0,s)),e},N.prototype.buffer=N.prototype.arrayBuffer,N.prototype.digest=N.prototype.array=function(){this.finalize();for(var e,t,n=this.blockCount,r=this.s,i=this.outputBlocks,a=this.extraBytes,o=0,s=0,u=[];s<i;){for(o=0;o<n&&s<i;++o,++s)e=s<<2,t=r[o],u[e]=255&t,u[e+1]=t>>8&255,u[e+2]=t>>16&255,u[e+3]=t>>24&255;s%n===0&&D(r)}return a&&(e=s<<2,t=r[o],u[e]=255&t,a>1&&(u[e+1]=t>>8&255),a>2&&(u[e+2]=t>>16&255)),u},O.prototype=new N,O.prototype.finalize=function(){return this.encode(this.outputBits,!0),N.prototype.finalize.call(this)};var D=function(e){var t,n,r,i,a,o,s,u,l,c,f,h,d,v,m,y,g,b,w,x,_,k,S,M,A,T,E,C,P,R,I,L,N,O,D,U,z,B,F,H,W,G,j,V,q,X,J,Y,Q,Z,K,$,ee,te,ne,re,ie,ae,oe,se,ue,le,ce;for(r=0;r<48;r+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],a=e[1]^e[11]^e[21]^e[31]^e[41],o=e[2]^e[12]^e[22]^e[32]^e[42],s=e[3]^e[13]^e[23]^e[33]^e[43],u=e[4]^e[14]^e[24]^e[34]^e[44],l=e[5]^e[15]^e[25]^e[35]^e[45],c=e[6]^e[16]^e[26]^e[36]^e[46],f=e[7]^e[17]^e[27]^e[37]^e[47],t=(h=e[8]^e[18]^e[28]^e[38]^e[48])^(o<<1|s>>>31),n=(d=e[9]^e[19]^e[29]^e[39]^e[49])^(s<<1|o>>>31),e[0]^=t,e[1]^=n,e[10]^=t,e[11]^=n,e[20]^=t,e[21]^=n,e[30]^=t,e[31]^=n,e[40]^=t,e[41]^=n,t=i^(u<<1|l>>>31),n=a^(l<<1|u>>>31),e[2]^=t,e[3]^=n,e[12]^=t,e[13]^=n,e[22]^=t,e[23]^=n,e[32]^=t,e[33]^=n,e[42]^=t,e[43]^=n,t=o^(c<<1|f>>>31),n=s^(f<<1|c>>>31),e[4]^=t,e[5]^=n,e[14]^=t,e[15]^=n,e[24]^=t,e[25]^=n,e[34]^=t,e[35]^=n,e[44]^=t,e[45]^=n,t=u^(h<<1|d>>>31),n=l^(d<<1|h>>>31),e[6]^=t,e[7]^=n,e[16]^=t,e[17]^=n,e[26]^=t,e[27]^=n,e[36]^=t,e[37]^=n,e[46]^=t,e[47]^=n,t=c^(i<<1|a>>>31),n=f^(a<<1|i>>>31),e[8]^=t,e[9]^=n,e[18]^=t,e[19]^=n,e[28]^=t,e[29]^=n,e[38]^=t,e[39]^=n,e[48]^=t,e[49]^=n,v=e[0],m=e[1],X=e[11]<<4|e[10]>>>28,J=e[10]<<4|e[11]>>>28,C=e[20]<<3|e[21]>>>29,P=e[21]<<3|e[20]>>>29,se=e[31]<<9|e[30]>>>23,ue=e[30]<<9|e[31]>>>23,G=e[40]<<18|e[41]>>>14,j=e[41]<<18|e[40]>>>14,O=e[2]<<1|e[3]>>>31,D=e[3]<<1|e[2]>>>31,y=e[13]<<12|e[12]>>>20,g=e[12]<<12|e[13]>>>20,Y=e[22]<<10|e[23]>>>22,Q=e[23]<<10|e[22]>>>22,R=e[33]<<13|e[32]>>>19,I=e[32]<<13|e[33]>>>19,le=e[42]<<2|e[43]>>>30,ce=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,ne=e[4]<<30|e[5]>>>2,U=e[14]<<6|e[15]>>>26,z=e[15]<<6|e[14]>>>26,b=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,Z=e[34]<<15|e[35]>>>17,K=e[35]<<15|e[34]>>>17,L=e[45]<<29|e[44]>>>3,N=e[44]<<29|e[45]>>>3,M=e[6]<<28|e[7]>>>4,A=e[7]<<28|e[6]>>>4,re=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,B=e[26]<<25|e[27]>>>7,F=e[27]<<25|e[26]>>>7,x=e[36]<<21|e[37]>>>11,_=e[37]<<21|e[36]>>>11,$=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,V=e[8]<<27|e[9]>>>5,q=e[9]<<27|e[8]>>>5,T=e[18]<<20|e[19]>>>12,E=e[19]<<20|e[18]>>>12,ae=e[29]<<7|e[28]>>>25,oe=e[28]<<7|e[29]>>>25,H=e[38]<<8|e[39]>>>24,W=e[39]<<8|e[38]>>>24,k=e[48]<<14|e[49]>>>18,S=e[49]<<14|e[48]>>>18,e[0]=v^~y&b,e[1]=m^~g&w,e[10]=M^~T&C,e[11]=A^~E&P,e[20]=O^~U&B,e[21]=D^~z&F,e[30]=V^~X&Y,e[31]=q^~J&Q,e[40]=te^~re&ae,e[41]=ne^~ie&oe,e[2]=y^~b&x,e[3]=g^~w&_,e[12]=T^~C&R,e[13]=E^~P&I,e[22]=U^~B&H,e[23]=z^~F&W,e[32]=X^~Y&Z,e[33]=J^~Q&K,e[42]=re^~ae&se,e[43]=ie^~oe&ue,e[4]=b^~x&k,e[5]=w^~_&S,e[14]=C^~R&L,e[15]=P^~I&N,e[24]=B^~H&G,e[25]=F^~W&j,e[34]=Y^~Z&$,e[35]=Q^~K&ee,e[44]=ae^~se&le,e[45]=oe^~ue&ce,e[6]=x^~k&v,e[7]=_^~S&m,e[16]=R^~L&M,e[17]=I^~N&A,e[26]=H^~G&O,e[27]=W^~j&D,e[36]=Z^~$&V,e[37]=K^~ee&q,e[46]=se^~le&te,e[47]=ue^~ce&ne,e[8]=k^~v&y,e[9]=S^~m&g,e[18]=L^~M&T,e[19]=N^~A&E,e[28]=G^~O&U,e[29]=j^~D&z,e[38]=$^~V&X,e[39]=ee^~q&J,e[48]=le^~te&re,e[49]=ce^~ne&ie,e[0]^=p[r],e[1]^=p[r+1]};if(u)e.exports=A;else{for(E=0;E<T.length;++E)o[T[E]]=A[T[E]];l&&(void 0===(r=function(){return A}.call(t,n,t,e))||(e.exports=r))}}()},9327:function(e,t,n){var r=n(4704).default,i=n(6690).default,a=n(9728).default,o=n(4993).default,s=n(1655).default,u=n(6389).default,l=n(3496).default;e.exports=function(){"use strict";var e=Math.imul,t=Math.clz32,n=Math.abs,c=Math.max,f=Math.floor,h=function(e){s(l,e);var t=u(l);function l(e,n){var r;if(i(this,l),(r=t.call(this,e)).sign=n,e>l.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return o(r)}return a(l,[{key:"toDebugString",value:function(){var e,t=["BigInt["],n=r(this);try{for(n.s();!(e=n.n()).done;){var i=e.value;t.push((i?(i>>>0).toString(16):i)+", ")}}catch(a){n.e(a)}finally{n.f()}return t.push("]"),t.join("")}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":0==(e&e-1)?l.__toStringBasePowerOfTwo(this,e):l.__toStringGeneric(this,e,!1)}},{key:"__copy",value:function(){for(var e=new l(this.length,this.sign),t=0;t<this.length;t++)e[t]=this[t];return e}},{key:"__trim",value:function(){for(var e=this.length,t=this[e-1];0===t;)t=this[--e-1],this.pop();return 0===e&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var e=0;e<this.length;e++)this[e]=0}},{key:"__clzmsd",value:function(){return l.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(e,t,n){n>this.length&&(n=this.length);for(var r=32767&e,i=e>>>15,a=0,o=t,s=0;s<n;s++){var u=this.__digit(s),c=32767&u,f=u>>>15,h=l.__imul(c,r),d=l.__imul(c,i),p=l.__imul(f,r),v=o+h+a;a=v>>>30,v&=1073741823,a+=(v+=((32767&d)<<15)+((32767&p)<<15))>>>30,o=l.__imul(f,i)+(d>>>15)+(p>>>15),this.__setDigit(s,1073741823&v)}if(0!=a||0!==o)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(e,t,n){for(var r=0,i=0;i<n;i++){var a=this.__halfDigit(t+i)+e.__halfDigit(i)+r;r=a>>>15,this.__setHalfDigit(t+i,32767&a)}return r}},{key:"__inplaceSub",value:function(e,t,n){var r=0;if(1&t){t>>=1;for(var i=this.__digit(t),a=32767&i,o=0;o<n-1>>>1;o++){var s=e.__digit(o),u=(i>>>15)-(32767&s)-r;r=1&u>>>15,this.__setDigit(t+o,(32767&u)<<15|32767&a),r=1&(a=(32767&(i=this.__digit(t+o+1)))-(s>>>15)-r)>>>15}var l=e.__digit(o),c=(i>>>15)-(32767&l)-r;if(r=1&c>>>15,this.__setDigit(t+o,(32767&c)<<15|32767&a),t+o+1>=this.length)throw new RangeError("out of bounds");0==(1&n)&&(r=1&(a=(32767&(i=this.__digit(t+o+1)))-(l>>>15)-r)>>>15,this.__setDigit(t+e.length,1073709056&i|32767&a))}else{t>>=1;for(var f=0;f<e.length-1;f++){var h=this.__digit(t+f),d=e.__digit(f),p=(32767&h)-(32767&d)-r,v=(h>>>15)-(d>>>15)-(r=1&p>>>15);r=1&v>>>15,this.__setDigit(t+f,(32767&v)<<15|32767&p)}var m=this.__digit(t+f),y=e.__digit(f),g=(32767&m)-(32767&y)-r;r=1&g>>>15;var b=0;0==(1&n)&&(r=1&(b=(m>>>15)-(y>>>15)-r)>>>15),this.__setDigit(t+f,(32767&b)<<15|32767&g)}return r}},{key:"__inplaceRightShift",value:function(e){if(0!==e){for(var t=this.__digit(0)>>>e,n=this.length-1,r=0;r<n;r++){var i=this.__digit(r+1);this.__setDigit(r,1073741823&i<<30-e|t),t=i>>>e}this.__setDigit(n,t)}}},{key:"__digit",value:function(e){return this[e]}},{key:"__unsignedDigit",value:function(e){return this[e]>>>0}},{key:"__setDigit",value:function(e,t){this[e]=0|t}},{key:"__setDigitGrow",value:function(e,t){this[e]=0|t}},{key:"__halfDigitLength",value:function(){var e=this.length;return 32767>=this.__unsignedDigit(e-1)?2*e-1:2*e}},{key:"__halfDigit",value:function(e){return 32767&this[e>>>1]>>>15*(1&e)}},{key:"__setHalfDigit",value:function(e,t){var n=e>>>1,r=this.__digit(n),i=1&e?32767&r|t<<15:1073709056&r|32767&t;this.__setDigit(n,i)}}],[{key:"BigInt",value:function(e){var t=Number.isFinite;if("number"==typeof e){if(0===e)return l.__zero();if(l.__isOneDigitInt(e))return 0>e?l.__oneDigit(-e,!0):l.__oneDigit(e,!1);if(!t(e)||f(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return l.__fromDouble(e)}if("string"==typeof e){var n=l.__fromString(e);if(null===n)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return n}if("boolean"==typeof e)return!0===e?l.__oneDigit(1,!1):l.__zero();if("object"==typeof e){if(e.constructor===l)return e;var r=l.__toPrimitive(e);return l.BigInt(r)}throw new TypeError("Cannot convert "+e+" to a BigInt")}},{key:"toNumber",value:function(e){var t=e.length;if(0===t)return 0;if(1===t){var n=e.__unsignedDigit(0);return e.sign?-n:n}var r=e.__digit(t-1),i=l.__clz30(r),a=30*t-i;if(1024<a)return e.sign?-1/0:1/0;var o=a-1,s=r,u=t-1,c=i+3,f=32===c?0:s<<c;f>>>=12;var h=c-12,d=12<=c?0:s<<20+c,p=20+c;for(0<h&&0<u&&(u--,f|=(s=e.__digit(u))>>>30-h,d=s<<h+2,p=h+2);0<p&&0<u;)u--,s=e.__digit(u),d|=30<=p?s<<p-30:s>>>30-p,p-=30;var v=l.__decideRounding(e,p,u,s);if((1===v||0===v&&1==(1&d))&&0===(d=d+1>>>0)&&0!=++f>>>20&&(f=0,1023<++o))return e.sign?-1/0:1/0;var m=e.sign?-2147483648:0;return o=o+1023<<20,l.__kBitConversionInts[1]=m|o|f,l.__kBitConversionInts[0]=d,l.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(e){if(0===e.length)return e;var t=e.__copy();return t.sign=!e.sign,t}},{key:"bitwiseNot",value:function(e){return e.sign?l.__absoluteSubOne(e).__trim():l.__absoluteAddOne(e,!0)}},{key:"exponentiate",value:function(e,t){if(t.sign)throw new RangeError("Exponent must be positive");if(0===t.length)return l.__oneDigit(1,!1);if(0===e.length)return e;if(1===e.length&&1===e.__digit(0))return e.sign&&0==(1&t.__digit(0))?l.unaryMinus(e):e;if(1<t.length)throw new RangeError("BigInt too big");var n=t.__unsignedDigit(0);if(1===n)return e;if(n>=l.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===e.length&&2===e.__digit(0)){var r=1+(0|n/30),i=new l(r,e.sign&&0!=(1&n));i.__initializeDigits();var a=1<<n%30;return i.__setDigit(r-1,a),i}var o=null,s=e;for(0!=(1&n)&&(o=e),n>>=1;0!==n;n>>=1)s=l.multiply(s,s),0!=(1&n)&&(o=null===o?s:l.multiply(o,s));return o}},{key:"multiply",value:function(e,t){if(0===e.length)return e;if(0===t.length)return t;var n=e.length+t.length;30<=e.__clzmsd()+t.__clzmsd()&&n--;var r=new l(n,e.sign!==t.sign);r.__initializeDigits();for(var i=0;i<e.length;i++)l.__multiplyAccumulate(t,e.__digit(i),r,i);return r.__trim()}},{key:"divide",value:function(e,t){if(0===t.length)throw new RangeError("Division by zero");if(0>l.__absoluteCompare(e,t))return l.__zero();var n,r=e.sign!==t.sign,i=t.__unsignedDigit(0);if(1===t.length&&32767>=i){if(1===i)return r===e.sign?e:l.unaryMinus(e);n=l.__absoluteDivSmall(e,i,null)}else n=l.__absoluteDivLarge(e,t,!0,!1);return n.sign=r,n.__trim()}},{key:"remainder",value:function(e,t){if(0===t.length)throw new RangeError("Division by zero");if(0>l.__absoluteCompare(e,t))return e;var n=t.__unsignedDigit(0);if(1===t.length&&32767>=n){if(1===n)return l.__zero();var r=l.__absoluteModSmall(e,n);return 0===r?l.__zero():l.__oneDigit(r,e.sign)}var i=l.__absoluteDivLarge(e,t,!1,!0);return i.sign=e.sign,i.__trim()}},{key:"add",value:function(e,t){var n=e.sign;return n===t.sign?l.__absoluteAdd(e,t,n):0<=l.__absoluteCompare(e,t)?l.__absoluteSub(e,t,n):l.__absoluteSub(t,e,!n)}},{key:"subtract",value:function(e,t){var n=e.sign;return n===t.sign?0<=l.__absoluteCompare(e,t)?l.__absoluteSub(e,t,n):l.__absoluteSub(t,e,!n):l.__absoluteAdd(e,t,n)}},{key:"leftShift",value:function(e,t){return 0===t.length||0===e.length?e:t.sign?l.__rightShiftByAbsolute(e,t):l.__leftShiftByAbsolute(e,t)}},{key:"signedRightShift",value:function(e,t){return 0===t.length||0===e.length?e:t.sign?l.__leftShiftByAbsolute(e,t):l.__rightShiftByAbsolute(e,t)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(e,t){return 0>l.__compareToBigInt(e,t)}},{key:"lessThanOrEqual",value:function(e,t){return 0>=l.__compareToBigInt(e,t)}},{key:"greaterThan",value:function(e,t){return 0<l.__compareToBigInt(e,t)}},{key:"greaterThanOrEqual",value:function(e,t){return 0<=l.__compareToBigInt(e,t)}},{key:"equal",value:function(e,t){if(e.sign!==t.sign)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e.__digit(n)!==t.__digit(n))return!1;return!0}},{key:"notEqual",value:function(e,t){return!l.equal(e,t)}},{key:"bitwiseAnd",value:function(e,t){var n;if(!e.sign&&!t.sign)return l.__absoluteAnd(e,t).__trim();if(e.sign&&t.sign){var r=c(e.length,t.length)+1,i=l.__absoluteSubOne(e,r),a=l.__absoluteSubOne(t);return i=l.__absoluteOr(i,a,i),l.__absoluteAddOne(i,!0,i).__trim()}return e.sign&&(e=(n=[t,e])[0],t=n[1]),l.__absoluteAndNot(e,l.__absoluteSubOne(t)).__trim()}},{key:"bitwiseXor",value:function(e,t){var n;if(!e.sign&&!t.sign)return l.__absoluteXor(e,t).__trim();if(e.sign&&t.sign){var r=c(e.length,t.length),i=l.__absoluteSubOne(e,r),a=l.__absoluteSubOne(t);return l.__absoluteXor(i,a,i).__trim()}var o=c(e.length,t.length)+1;e.sign&&(e=(n=[t,e])[0],t=n[1]);var s=l.__absoluteSubOne(t,o);return s=l.__absoluteXor(s,e,s),l.__absoluteAddOne(s,!0,s).__trim()}},{key:"bitwiseOr",value:function(e,t){var n,r=c(e.length,t.length);if(!e.sign&&!t.sign)return l.__absoluteOr(e,t).__trim();if(e.sign&&t.sign){var i=l.__absoluteSubOne(e,r),a=l.__absoluteSubOne(t);return i=l.__absoluteAnd(i,a,i),l.__absoluteAddOne(i,!0,i).__trim()}e.sign&&(e=(n=[t,e])[0],t=n[1]);var o=l.__absoluteSubOne(t,r);return o=l.__absoluteAndNot(o,e,o),l.__absoluteAddOne(o,!0,o).__trim()}},{key:"asIntN",value:function(e,t){if(0===t.length)return t;if(0>(e=f(e)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return l.__zero();if(e>=l.__kMaxLengthBits)return t;var n=0|(e+29)/30;if(t.length<n)return t;var r=t.__unsignedDigit(n-1),i=1<<(e-1)%30;if(t.length===n&&r<i)return t;if((r&i)!==i)return l.__truncateToNBits(e,t);if(!t.sign)return l.__truncateAndSubFromPowerOfTwo(e,t,!0);if(0==(r&i-1)){for(var a=n-2;0<=a;a--)if(0!==t.__digit(a))return l.__truncateAndSubFromPowerOfTwo(e,t,!1);return t.length===n&&r===i?t:l.__truncateToNBits(e,t)}return l.__truncateAndSubFromPowerOfTwo(e,t,!1)}},{key:"asUintN",value:function(e,t){if(0===t.length)return t;if(0>(e=f(e)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return l.__zero();if(t.sign){if(e>l.__kMaxLengthBits)throw new RangeError("BigInt too big");return l.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(e>=l.__kMaxLengthBits)return t;var n=0|(e+29)/30;if(t.length<n)return t;var r=e%30;if(t.length==n){if(0===r)return t;if(0==t.__digit(n-1)>>>r)return t}return l.__truncateToNBits(e,t)}},{key:"ADD",value:function(e,t){if(e=l.__toPrimitive(e),t=l.__toPrimitive(t),"string"==typeof e)return"string"!=typeof t&&(t=t.toString()),e+t;if("string"==typeof t)return e.toString()+t;if(e=l.__toNumeric(e),t=l.__toNumeric(t),l.__isBigInt(e)&&l.__isBigInt(t))return l.add(e,t);if("number"==typeof e&&"number"==typeof t)return e+t;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(e,t){return l.__compare(e,t,0)}},{key:"LE",value:function(e,t){return l.__compare(e,t,1)}},{key:"GT",value:function(e,t){return l.__compare(e,t,2)}},{key:"GE",value:function(e,t){return l.__compare(e,t,3)}},{key:"EQ",value:function(e,t){for(;;){if(l.__isBigInt(e))return l.__isBigInt(t)?l.equal(e,t):l.EQ(t,e);if("number"==typeof e){if(l.__isBigInt(t))return l.__equalToNumber(t,e);if("object"!=typeof t)return e==t;t=l.__toPrimitive(t)}else if("string"==typeof e){if(l.__isBigInt(t))return null!==(e=l.__fromString(e))&&l.equal(e,t);if("object"!=typeof t)return e==t;t=l.__toPrimitive(t)}else if("boolean"==typeof e){if(l.__isBigInt(t))return l.__equalToNumber(t,+e);if("object"!=typeof t)return e==t;t=l.__toPrimitive(t)}else if("symbol"==typeof e){if(l.__isBigInt(t))return!1;if("object"!=typeof t)return e==t;t=l.__toPrimitive(t)}else{if("object"!=typeof e)return e==t;if("object"==typeof t&&t.constructor!==l)return e==t;e=l.__toPrimitive(e)}}}},{key:"NE",value:function(e,t){return!l.EQ(e,t)}},{key:"__zero",value:function(){return new l(0,!1)}},{key:"__oneDigit",value:function(e,t){var n=new l(1,t);return n.__setDigit(0,e),n}},{key:"__decideRounding",value:function(e,t,n,r){if(0<t)return-1;var i;if(0>t)i=-t-1;else{if(0===n)return-1;n--,r=e.__digit(n),i=29}var a=1<<i;if(0==(r&a))return-1;if(0!=(r&(a-=1)))return 1;for(;0<n;)if(n--,0!==e.__digit(n))return 1;return 0}},{key:"__fromDouble",value:function(e){l.__kBitConversionDouble[0]=e;var t,n=(2047&l.__kBitConversionInts[1]>>>20)-1023,r=1+(0|n/30),i=new l(r,0>e),a=1048575&l.__kBitConversionInts[1]|1048576,o=l.__kBitConversionInts[0],s=20,u=n%30,c=0;if(20>u){var f=s-u;c=f+32,t=a>>>f,a=a<<32-f|o>>>f,o<<=32-f}else if(20===u)c=32,t=a,a=o,o=0;else{var h=u-s;c=32-h,t=a<<h|o>>>32-h,a=o<<h,o=0}i.__setDigit(r-1,t);for(var d=r-2;0<=d;d--)0<c?(c-=30,t=a>>>2,a=a<<30|o>>>2,o<<=30):t=0,i.__setDigit(d,t);return i.__trim()}},{key:"__isWhitespace",value:function(e){return!!(13>=e&&9<=e)||(159>=e?32==e:131071>=e?160==e||5760==e:196607>=e?10>=(e&=131071)||40==e||41==e||47==e||95==e||4096==e:65279==e)}},{key:"__fromString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0,r=e.length,i=0;if(i===r)return l.__zero();for(var a=e.charCodeAt(i);l.__isWhitespace(a);){if(++i===r)return l.__zero();a=e.charCodeAt(i)}if(43===a){if(++i===r)return null;a=e.charCodeAt(i),n=1}else if(45===a){if(++i===r)return null;a=e.charCodeAt(i),n=-1}if(0===t){if(t=10,48===a){if(++i===r)return l.__zero();if(88===(a=e.charCodeAt(i))||120===a){if(t=16,++i===r)return null;a=e.charCodeAt(i)}else if(79===a||111===a){if(t=8,++i===r)return null;a=e.charCodeAt(i)}else if(66===a||98===a){if(t=2,++i===r)return null;a=e.charCodeAt(i)}}}else if(16===t&&48===a){if(++i===r)return l.__zero();if(88===(a=e.charCodeAt(i))||120===a){if(++i===r)return null;a=e.charCodeAt(i)}}if(0!=n&&10!==t)return null;for(;48===a;){if(++i===r)return l.__zero();a=e.charCodeAt(i)}var o=r-i,s=l.__kMaxBitsPerChar[t],u=l.__kBitsPerCharTableMultiplier-1;if(o>1073741824/s)return null;var c=new l(0|(29+(s*o+u>>>l.__kBitsPerCharTableShift))/30,!1),f=10>t?t:10,h=10<t?t-10:0;if(0==(t&t-1)){s>>=l.__kBitsPerCharTableShift;var d=[],p=[],v=!1;do{for(var m=0,y=0;;){var g=void 0;if(a-48>>>0<f)g=a-48;else{if(!((32|a)-97>>>0<h)){v=!0;break}g=(32|a)-87}if(y+=s,m=m<<s|g,++i===r){v=!0;break}if(a=e.charCodeAt(i),30<y+s)break}d.push(m),p.push(y)}while(!v);l.__fillFromParts(c,d,p)}else{c.__initializeDigits();var b=!1,w=0;do{for(var x=0,_=1;;){var k=void 0;if(a-48>>>0<f)k=a-48;else{if(!((32|a)-97>>>0<h)){b=!0;break}k=(32|a)-87}var S=_*t;if(1073741823<S)break;if(_=S,x=x*t+k,w++,++i===r){b=!0;break}a=e.charCodeAt(i)}var M=0|(s*w+(u=30*l.__kBitsPerCharTableMultiplier-1)>>>l.__kBitsPerCharTableShift)/30;c.__inplaceMultiplyAdd(_,x,M)}while(!b)}if(i!==r){if(!l.__isWhitespace(a))return null;for(i++;i<r;i++)if(a=e.charCodeAt(i),!l.__isWhitespace(a))return null}return c.sign=-1==n,c.__trim()}},{key:"__fillFromParts",value:function(e,t,n){for(var r=0,i=0,a=0,o=t.length-1;0<=o;o--){var s=t[o],u=n[o];i|=s<<a,30===(a+=u)?(e.__setDigit(r++,i),a=0,i=0):30<a&&(e.__setDigit(r++,1073741823&i),i=s>>>u-(a-=30))}if(0!==i){if(r>=e.length)throw new Error("implementation bug");e.__setDigit(r++,i)}for(;r<e.length;r++)e.__setDigit(r,0)}},{key:"__toStringBasePowerOfTwo",value:function(e,t){var n=e.length,r=t-1,i=r=(15&(r=(51&(r=(85&r>>>1)+(85&r))>>>2)+(51&r))>>>4)+(15&r),a=t-1,o=e.__digit(n-1),s=0|(30*n-l.__clz30(o)+i-1)/i;if(e.sign&&s++,268435456<s)throw new Error("string too long");for(var u=Array(s),c=s-1,f=0,h=0,d=0;d<n-1;d++){var p=e.__digit(d),v=(f|p<<h)&a;u[c--]=l.__kConversionChars[v];var m=i-h;for(f=p>>>m,h=30-m;h>=i;)u[c--]=l.__kConversionChars[f&a],f>>>=i,h-=i}var y=(f|o<<h)&a;for(u[c--]=l.__kConversionChars[y],f=o>>>i-h;0!==f;)u[c--]=l.__kConversionChars[f&a],f>>>=i;if(e.sign&&(u[c--]="-"),-1!=c)throw new Error("implementation bug");return u.join("")}},{key:"__toStringGeneric",value:function(e,t,n){var r=e.length;if(0===r)return"";if(1===r){var i=e.__unsignedDigit(0).toString(t);return!1===n&&e.sign&&(i="-"+i),i}var a,o,s=30*r-l.__clz30(e.__digit(r-1)),u=l.__kMaxBitsPerChar[t]-1,c=s*l.__kBitsPerCharTableMultiplier,f=1+(c=0|(c+=u-1)/u)>>1,h=l.exponentiate(l.__oneDigit(t,!1),l.__oneDigit(f,!1)),d=h.__unsignedDigit(0);if(1===h.length&&32767>=d){(a=new l(e.length,!1)).__initializeDigits();for(var p=0,v=2*e.length-1;0<=v;v--){var m=p<<15|e.__halfDigit(v);a.__setHalfDigit(v,0|m/d),p=0|m%d}o=p.toString(t)}else{var y=l.__absoluteDivLarge(e,h,!0,!0);a=y.quotient;var g=y.remainder.__trim();o=l.__toStringGeneric(g,t,!0)}a.__trim();for(var b=l.__toStringGeneric(a,t,!0);o.length<f;)o="0"+o;return!1===n&&e.sign&&(b="-"+b),b+o}},{key:"__unequalSign",value:function(e){return e?-1:1}},{key:"__absoluteGreater",value:function(e){return e?-1:1}},{key:"__absoluteLess",value:function(e){return e?1:-1}},{key:"__compareToBigInt",value:function(e,t){var n=e.sign;if(n!==t.sign)return l.__unequalSign(n);var r=l.__absoluteCompare(e,t);return 0<r?l.__absoluteGreater(n):0>r?l.__absoluteLess(n):0}},{key:"__compareToNumber",value:function(e,t){if(l.__isOneDigitInt(t)){var r=e.sign,i=0>t;if(r!==i)return l.__unequalSign(r);if(0===e.length){if(i)throw new Error("implementation bug");return 0===t?0:-1}if(1<e.length)return l.__absoluteGreater(r);var a=n(t),o=e.__unsignedDigit(0);return o>a?l.__absoluteGreater(r):o<a?l.__absoluteLess(r):0}return l.__compareToDouble(e,t)}},{key:"__compareToDouble",value:function(e,t){if(t!==t)return t;if(t===1/0)return-1;if(t===-1/0)return 1;var n=e.sign;if(n!==0>t)return l.__unequalSign(n);if(0===t)throw new Error("implementation bug: should be handled elsewhere");if(0===e.length)return-1;l.__kBitConversionDouble[0]=t;var r=2047&l.__kBitConversionInts[1]>>>20;if(2047==r)throw new Error("implementation bug: handled elsewhere");var i=r-1023;if(0>i)return l.__absoluteGreater(n);var a=e.length,o=e.__digit(a-1),s=l.__clz30(o),u=30*a-s,c=i+1;if(u<c)return l.__absoluteLess(n);if(u>c)return l.__absoluteGreater(n);var f=1048576|1048575&l.__kBitConversionInts[1],h=l.__kBitConversionInts[0],d=20,p=29-s;if(p!==(0|(u-1)%30))throw new Error("implementation bug");var v,m=0;if(20>p){var y=d-p;m=y+32,v=f>>>y,f=f<<32-y|h>>>y,h<<=32-y}else if(20===p)m=32,v=f,f=h,h=0;else{var g=p-d;m=32-g,v=f<<g|h>>>32-g,f=h<<g,h=0}if((o>>>=0)>(v>>>=0))return l.__absoluteGreater(n);if(o<v)return l.__absoluteLess(n);for(var b=a-2;0<=b;b--){0<m?(m-=30,v=f>>>2,f=f<<30|h>>>2,h<<=30):v=0;var w=e.__unsignedDigit(b);if(w>v)return l.__absoluteGreater(n);if(w<v)return l.__absoluteLess(n)}if(0!==f||0!==h){if(0===m)throw new Error("implementation bug");return l.__absoluteLess(n)}return 0}},{key:"__equalToNumber",value:function(e,t){return l.__isOneDigitInt(t)?0===t?0===e.length:1===e.length&&e.sign===0>t&&e.__unsignedDigit(0)===n(t):0===l.__compareToDouble(e,t)}},{key:"__comparisonResultToBool",value:function(e,t){return 0===t?0>e:1===t?0>=e:2===t?0<e:3===t?0<=e:void 0}},{key:"__compare",value:function(e,t,n){if(e=l.__toPrimitive(e),t=l.__toPrimitive(t),"string"==typeof e&&"string"==typeof t)switch(n){case 0:return e<t;case 1:return e<=t;case 2:return e>t;case 3:return e>=t}if(l.__isBigInt(e)&&"string"==typeof t)return null!==(t=l.__fromString(t))&&l.__comparisonResultToBool(l.__compareToBigInt(e,t),n);if("string"==typeof e&&l.__isBigInt(t))return null!==(e=l.__fromString(e))&&l.__comparisonResultToBool(l.__compareToBigInt(e,t),n);if(e=l.__toNumeric(e),t=l.__toNumeric(t),l.__isBigInt(e)){if(l.__isBigInt(t))return l.__comparisonResultToBool(l.__compareToBigInt(e,t),n);if("number"!=typeof t)throw new Error("implementation bug");return l.__comparisonResultToBool(l.__compareToNumber(e,t),n)}if("number"!=typeof e)throw new Error("implementation bug");if(l.__isBigInt(t))return l.__comparisonResultToBool(l.__compareToNumber(t,e),2^n);if("number"!=typeof t)throw new Error("implementation bug");return 0===n?e<t:1===n?e<=t:2===n?e>t:3===n?e>=t:void 0}},{key:"__absoluteAdd",value:function(e,t,n){if(e.length<t.length)return l.__absoluteAdd(t,e,n);if(0===e.length)return e;if(0===t.length)return e.sign===n?e:l.unaryMinus(e);var r=e.length;(0===e.__clzmsd()||t.length===e.length&&0===t.__clzmsd())&&r++;for(var i=new l(r,n),a=0,o=0;o<t.length;o++){var s=e.__digit(o)+t.__digit(o)+a;a=s>>>30,i.__setDigit(o,1073741823&s)}for(;o<e.length;o++){var u=e.__digit(o)+a;a=u>>>30,i.__setDigit(o,1073741823&u)}return o<i.length&&i.__setDigit(o,a),i.__trim()}},{key:"__absoluteSub",value:function(e,t,n){if(0===e.length)return e;if(0===t.length)return e.sign===n?e:l.unaryMinus(e);for(var r=new l(e.length,n),i=0,a=0;a<t.length;a++){var o=e.__digit(a)-t.__digit(a)-i;i=1&o>>>30,r.__setDigit(a,1073741823&o)}for(;a<e.length;a++){var s=e.__digit(a)-i;i=1&s>>>30,r.__setDigit(a,1073741823&s)}return r.__trim()}},{key:"__absoluteAddOne",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e.length;null===n?n=new l(r,t):n.sign=t;for(var i=1,a=0;a<r;a++){var o=e.__digit(a)+i;i=o>>>30,n.__setDigit(a,1073741823&o)}return 0!=i&&n.__setDigitGrow(r,1),n}},{key:"__absoluteSubOne",value:function(e,t){for(var n=e.length,r=new l(t=t||n,!1),i=1,a=0;a<n;a++){var o=e.__digit(a)-i;i=1&o>>>30,r.__setDigit(a,1073741823&o)}if(0!=i)throw new Error("implementation bug");for(var s=n;s<t;s++)r.__setDigit(s,0);return r}},{key:"__absoluteAnd",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e.length,i=t.length,a=i;if(r<i){a=r;var o=e,s=r;e=t,r=i,t=o,i=s}var u=a;null===n?n=new l(u,!1):u=n.length;for(var c=0;c<a;c++)n.__setDigit(c,e.__digit(c)&t.__digit(c));for(;c<u;c++)n.__setDigit(c,0);return n}},{key:"__absoluteAndNot",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e.length,i=t.length,a=i;r<i&&(a=r);var o=r;null===n?n=new l(o,!1):o=n.length;for(var s=0;s<a;s++)n.__setDigit(s,e.__digit(s)&~t.__digit(s));for(;s<r;s++)n.__setDigit(s,e.__digit(s));for(;s<o;s++)n.__setDigit(s,0);return n}},{key:"__absoluteOr",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e.length,i=t.length,a=i;if(r<i){a=r;var o=e,s=r;e=t,r=i,t=o,i=s}var u=r;null===n?n=new l(u,!1):u=n.length;for(var c=0;c<a;c++)n.__setDigit(c,e.__digit(c)|t.__digit(c));for(;c<r;c++)n.__setDigit(c,e.__digit(c));for(;c<u;c++)n.__setDigit(c,0);return n}},{key:"__absoluteXor",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e.length,i=t.length,a=i;if(r<i){a=r;var o=e,s=r;e=t,r=i,t=o,i=s}var u=r;null===n?n=new l(u,!1):u=n.length;for(var c=0;c<a;c++)n.__setDigit(c,e.__digit(c)^t.__digit(c));for(;c<r;c++)n.__setDigit(c,e.__digit(c));for(;c<u;c++)n.__setDigit(c,0);return n}},{key:"__absoluteCompare",value:function(e,t){var n=e.length-t.length;if(0!=n)return n;for(var r=e.length-1;0<=r&&e.__digit(r)===t.__digit(r);)r--;return 0>r?0:e.__unsignedDigit(r)>t.__unsignedDigit(r)?1:-1}},{key:"__multiplyAccumulate",value:function(e,t,n,r){if(0!==t){for(var i,a=32767&t,o=t>>>15,s=0,u=0,c=0;c<e.length;c++,r++){i=n.__digit(r);var f=e.__digit(c),h=32767&f,d=f>>>15,p=l.__imul(h,a),v=l.__imul(h,o),m=l.__imul(d,a);s=(i+=u+p+s)>>>30,i&=1073741823,s+=(i+=((32767&v)<<15)+((32767&m)<<15))>>>30,u=l.__imul(d,o)+(v>>>15)+(m>>>15),n.__setDigit(r,1073741823&i)}for(;0!=s||0!==u;r++){var y=n.__digit(r);y+=s+u,u=0,s=y>>>30,n.__setDigit(r,1073741823&y)}}}},{key:"__internalMultiplyAdd",value:function(e,t,n,r,i){for(var a=n,o=0,s=0;s<r;s++){var u=e.__digit(s),c=l.__imul(32767&u,t),f=l.__imul(u>>>15,t),h=c+((32767&f)<<15)+o+a;a=h>>>30,o=f>>>15,i.__setDigit(s,1073741823&h)}if(i.length>r)for(i.__setDigit(r++,a+o);r<i.length;)i.__setDigit(r++,0);else if(0!==a+o)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===n&&(n=new l(e.length,!1));for(var r,i=0,a=2*e.length-1;0<=a;a-=2){var o=0|(r=(i<<15|e.__halfDigit(a))>>>0)/t,s=0|(r=((i=0|r%t)<<15|e.__halfDigit(a-1))>>>0)/t;i=0|r%t,n.__setDigit(a>>>1,o<<15|s)}return n}},{key:"__absoluteModSmall",value:function(e,t){for(var n=0,r=2*e.length-1;0<=r;r--)n=0|((n<<15|e.__halfDigit(r))>>>0)%t;return n}},{key:"__absoluteDivLarge",value:function(e,t,n,r){var i=t.__halfDigitLength(),a=t.length,o=e.__halfDigitLength()-i,s=null;n&&(s=new l(o+2>>>1,!1)).__initializeDigits();var u=new l(i+2>>>1,!1);u.__initializeDigits();var c=l.__clz15(t.__halfDigit(i-1));0<c&&(t=l.__specialLeftShift(t,c,0));for(var f,h=l.__specialLeftShift(e,c,1),d=t.__halfDigit(i-1),p=0,v=o;0<=v;v--){f=32767;var m=h.__halfDigit(v+i);if(m!==d){var y=(m<<15|h.__halfDigit(v+i-1))>>>0;f=0|y/d;for(var g=0|y%d,b=t.__halfDigit(i-2),w=h.__halfDigit(v+i-2);l.__imul(f,b)>>>0>(g<<16|w)>>>0&&(f--,!(32767<(g+=d))););}l.__internalMultiplyAdd(t,f,0,a,u);var x=h.__inplaceSub(u,v,i+1);0!==x&&(x=h.__inplaceAdd(t,v,i),h.__setHalfDigit(v+i,32767&h.__halfDigit(v+i)+x),f--),n&&(1&v?p=f<<15:s.__setDigit(v>>>1,p|f))}if(r)return h.__inplaceRightShift(c),n?{quotient:s,remainder:h}:h;if(n)return s;throw new Error("unreachable")}},{key:"__clz15",value:function(e){return l.__clz30(e)-15}},{key:"__specialLeftShift",value:function(e,t,n){var r=e.length,i=new l(r+n,!1);if(0===t){for(var a=0;a<r;a++)i.__setDigit(a,e.__digit(a));return 0<n&&i.__setDigit(r,0),i}for(var o=0,s=0;s<r;s++){var u=e.__digit(s);i.__setDigit(s,1073741823&u<<t|o),o=u>>>30-t}return 0<n&&i.__setDigit(r,o),i}},{key:"__leftShiftByAbsolute",value:function(e,t){var n=l.__toShiftAmount(t);if(0>n)throw new RangeError("BigInt too big");var r=0|n/30,i=n%30,a=e.length,o=0!==i&&0!=e.__digit(a-1)>>>30-i,s=a+r+(o?1:0),u=new l(s,e.sign);if(0===i){for(var c=0;c<r;c++)u.__setDigit(c,0);for(;c<s;c++)u.__setDigit(c,e.__digit(c-r))}else{for(var f=0,h=0;h<r;h++)u.__setDigit(h,0);for(var d=0;d<a;d++){var p=e.__digit(d);u.__setDigit(d+r,1073741823&p<<i|f),f=p>>>30-i}if(o)u.__setDigit(a+r,f);else if(0!==f)throw new Error("implementation bug")}return u.__trim()}},{key:"__rightShiftByAbsolute",value:function(e,t){var n=e.length,r=e.sign,i=l.__toShiftAmount(t);if(0>i)return l.__rightShiftByMaximum(r);var a=0|i/30,o=i%30,s=n-a;if(0>=s)return l.__rightShiftByMaximum(r);var u=!1;if(r)if(0!=(e.__digit(a)&(1<<o)-1))u=!0;else for(var c=0;c<a;c++)if(0!==e.__digit(c)){u=!0;break}u&&0===o&&0==~e.__digit(n-1)&&s++;var f=new l(s,r);if(0===o){f.__setDigit(s-1,0);for(var h=a;h<n;h++)f.__setDigit(h-a,e.__digit(h))}else{for(var d=e.__digit(a)>>>o,p=n-a-1,v=0;v<p;v++){var m=e.__digit(v+a+1);f.__setDigit(v,1073741823&m<<30-o|d),d=m>>>o}f.__setDigit(p,d)}return u&&(f=l.__absoluteAddOne(f,!0,f)),f.__trim()}},{key:"__rightShiftByMaximum",value:function(e){return e?l.__oneDigit(1,!0):l.__zero()}},{key:"__toShiftAmount",value:function(e){if(1<e.length)return-1;var t=e.__unsignedDigit(0);return t>l.__kMaxLengthBits?-1:t}},{key:"__toPrimitive",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";if("object"!=typeof e)return e;if(e.constructor===l)return e;if("undefined"!=typeof Symbol&&"symbol"==typeof Symbol.toPrimitive){var n=e[Symbol.toPrimitive];if(n){var r=n(t);if("object"!=typeof r)return r;throw new TypeError("Cannot convert object to primitive value")}}var i=e.valueOf;if(i){var a=i.call(e);if("object"!=typeof a)return a}var o=e.toString;if(o){var s=o.call(e);if("object"!=typeof s)return s}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(e){return l.__isBigInt(e)?e:+e}},{key:"__isBigInt",value:function(e){return"object"==typeof e&&null!==e&&e.constructor===l}},{key:"__truncateToNBits",value:function(e,t){for(var n=0|(e+29)/30,r=new l(n,t.sign),i=n-1,a=0;a<i;a++)r.__setDigit(a,t.__digit(a));var o=t.__digit(i);if(0!=e%30){var s=32-e%30;o=o<<s>>>s}return r.__setDigit(i,o),r.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(e,t,n){for(var r=Math.min,i=0|(e+29)/30,a=new l(i,n),o=0,s=i-1,u=0,c=r(s,t.length);o<c;o++){var f=0-t.__digit(o)-u;u=1&f>>>30,a.__setDigit(o,1073741823&f)}for(;o<s;o++)a.__setDigit(o,0|1073741823&-u);var h,d=s<t.length?t.__digit(s):0,p=e%30;if(0==p)h=0-d-u,h&=1073741823;else{var v=32-p,m=1<<32-v;h=m-(d=d<<v>>>v)-u,h&=m-1}return a.__setDigit(s,h),a.__trim()}},{key:"__digitPow",value:function(e,t){for(var n=1;0<t;)1&t&&(n*=e),t>>>=1,e*=e;return n}},{key:"__isOneDigitInt",value:function(e){return(1073741823&e)===e}}]),l}(l(Array));return h.__kMaxLength=33554432,h.__kMaxLengthBits=h.__kMaxLength<<5,h.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],h.__kBitsPerCharTableShift=5,h.__kBitsPerCharTableMultiplier=1<<h.__kBitsPerCharTableShift,h.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],h.__kBitConversionBuffer=new ArrayBuffer(8),h.__kBitConversionDouble=new Float64Array(h.__kBitConversionBuffer),h.__kBitConversionInts=new Int32Array(h.__kBitConversionBuffer),h.__clz30=t?function(e){return t(e)-2}:function(e){var t=Math.LN2,n=Math.log;return 0===e?30:0|29-(0|n(e>>>0)/t)},h.__imul=e||function(e,t){return 0|e*t},h}()},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5585);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),_=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),T=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var D,U=Object.assign;function z(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var B=!1;function F(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function H(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case _:return"Portal";case M:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function j(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=j(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function K(e,t){Z(e,t);var n=j(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,j(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+j(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:j(n)}}function ae(e,t){var n=j(t.value),r=j(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,ke=null,Se=null;function Me(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=xi(t),_e(e.stateNode,e.type,t))}}function Ae(e){ke?Se?Se.push(e):Se=[e]:ke=e}function Te(){if(ke){var e=ke,t=Se;if(Se=ke=null,Me(e),t)for(e=0;e<t.length;e++)Me(t[e])}}function Ee(e,t){return e(t)}function Ce(){}var Pe=!1;function Re(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ee(e,t,n)}finally{Pe=!1,(null!==ke||null!==Se)&&(Ce(),Te())}}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Le=!1;if(c)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ce){Le=!1}function Oe(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var De=!1,Ue=null,ze=!1,Be=null,Fe={onError:function(e){De=!0,Ue=e}};function He(e,t,n,r,i,a,o,s,u){De=!1,Ue=null,Oe.apply(Fe,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function je(e){if(We(e)!==e)throw Error(a(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return je(i),e;if(o===r)return je(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Xe=i.unstable_scheduleCallback,Je=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Ze=i.unstable_now,Ke=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,_t,kt,St,Mt,At=!1,Tt=[],Et=null,Ct=null,Pt=null,Rt=new Map,It=new Map,Lt=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Dt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ut(e){var t=gi(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ge(n)))return e.blockedOn=t,void Mt(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Bt(e,t,n){zt(e)&&n.delete(t)}function Ft(){At=!1,null!==Et&&zt(Et)&&(Et=null),null!==Ct&&zt(Ct)&&(Ct=null),null!==Pt&&zt(Pt)&&(Pt=null),Rt.forEach(Bt),It.forEach(Bt)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ft)))}function Wt(e){function t(t){return Ht(t,e)}if(0<Tt.length){Ht(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&Ht(Et,e),null!==Ct&&Ht(Ct,e),null!==Pt&&Ht(Pt,e),Rt.forEach(t),It.forEach(t),n=0;n<Lt.length;n++)(r=Lt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Lt.length&&null===(n=Lt[0]).blockedOn;)Ut(n),null===n.blockedOn&&Lt.shift()}var Gt=w.ReactCurrentBatchConfig,jt=!0;function Vt(e,t,n,r){var i=bt,a=Gt.transition;Gt.transition=null;try{bt=1,Xt(e,t,n,r)}finally{bt=i,Gt.transition=a}}function qt(e,t,n,r){var i=bt,a=Gt.transition;Gt.transition=null;try{bt=4,Xt(e,t,n,r)}finally{bt=i,Gt.transition=a}}function Xt(e,t,n,r){if(jt){var i=Yt(e,t,n,r);if(null===i)jr(e,t,r,Jt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Et=Dt(Et,e,t,n,r,i),!0;case"dragenter":return Ct=Dt(Ct,e,t,n,r,i),!0;case"mouseover":return Pt=Dt(Pt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Dt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,It.set(a,Dt(It.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&xt(a),null===(a=Yt(e,t,n,r))&&jr(e,t,r,Jt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else jr(e,t,r,null,n)}}var Jt=null;function Yt(e,t,n,r){if(Jt=null,null!==(e=gi(e=xe(r))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ke()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Kt=null,$t=null;function en(){if($t)return $t;var e,t,n=Kt,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),fn=U({},ln,{view:0,detail:0}),hn=an(fn),dn=U({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(U({},dn,{dataTransfer:0})),mn=an(U({},fn,{relatedTarget:0})),yn=an(U({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=U({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),wn=an(U({},ln,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Mn(){return Sn}var An=U({},fn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(An),En=an(U({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=an(U({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mn})),Pn=an(U({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=U({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=an(Rn),Ln=[9,13,27,32],Nn=c&&"CompositionEvent"in window,On=null;c&&"documentMode"in document&&(On=document.documentMode);var Dn=c&&"TextEvent"in window&&!On,Un=c&&(!Nn||On&&8<On&&11>=On),zn=String.fromCharCode(32),Bn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function Vn(e,t,n,r){Ae(r),0<(t=qr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Xn=null;function Jn(e){zr(e,0)}function Yn(e){if(X(wi(e)))return e}function Qn(e,t){if("change"===e)return t}var Zn=!1;if(c){var Kn;if(c){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Kn=$n}else Kn=!1;Zn=Kn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Xn=qn=null)}function nr(e){if("value"===e.propertyName&&Yn(Xn)){var t=[];Vn(t,Xn,e,xe(e)),Re(Jn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Xn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Xn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==J(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=qr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},kr={},Sr={};function Mr(e){if(kr[e])return kr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return kr[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Ar=Mr("animationend"),Tr=Mr("animationiteration"),Er=Mr("animationstart"),Cr=Mr("transitionend"),Pr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Pr.set(e,t),u(t,[e])}for(var Lr=0;Lr<Rr.length;Lr++){var Nr=Rr[Lr];Ir(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}Ir(Ar,"onAnimationEnd"),Ir(Tr,"onAnimationIteration"),Ir(Er,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Cr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(He.apply(this,arguments),De){if(!De)throw Error(a(198));var c=Ue;De=!1,Ue=null,ze||(ze=!0,Be=c)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Ur(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Ur(i,s,l),a=u}}}if(ze)throw e=Be,ze=!1,Be=null,e}function Br(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Gr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Gr(n,e,r,t)}var Hr="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[Hr]){e[Hr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Hr]||(t[Hr]=!0,Fr("selectionchange",!1,t))}}function Gr(e,t,n,r){switch(Qt(t)){case 1:var i=Vt;break;case 4:i=qt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function jr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Re((function(){var r=a,i=xe(n),o=[];e:{var s=Pr.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":l="focus",u=mn;break;case"focusout":l="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Cn;break;case Ar:case Tr:case Er:u=yn;break;case Cr:u=Pn;break;case"scroll":u=hn;break;case"wheel":u=In;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=En}var c=0!==(4&t),f=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ie(p,h))&&c.push(Vr(p,v,d)))),f)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(l=n.relatedTarget||n.fromElement)||!gi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?gi(l):null)&&(l!==(f=We(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=En,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:wi(u),d=null==l?s:wi(l),(s=new c(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((c=new c(h,p+"enter",l,n,i)).target=d,c.relatedTarget=f,v=c),f=v,u&&l)e:{for(h=l,p=0,d=c=u;d;d=Xr(d))p++;for(d=0,v=h;v;v=Xr(v))d++;for(;0<p-d;)c=Xr(c),p--;for(;0<d-p;)h=Xr(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Xr(c),h=Xr(h)}c=null}else c=null;null!==u&&Jr(o,s,u,c,!1),null!==l&&null!==f&&Jr(o,f,l,c,!0)}if("select"===(u=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Qn;else if(jn(s))if(Zn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Vn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?wi(r):window,e){case"focusin":(jn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":wr(o,n,i)}var g;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?Fn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(g=en()):(Kt="value"in(Zt=i)?Zt.value:Zt.textContent,Wn=!0)),0<(y=qr(r,b)).length&&(b=new wn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=Hn(n))&&(b.data=g))),(g=Dn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Bn=!0,zn);case"textInput":return(e=t.data)===zn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Nn&&Fn(e,t)?(e=en(),$t=Kt=Zt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}zr(o,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ie(e,n))&&r.unshift(Vr(e,a,i)),null!=(a=Ie(e,t))&&r.push(Vr(e,a,i))),e=e.return}return r}function Xr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Jr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Ie(n,a))&&o.unshift(Vr(n,u,s)):i||null!=(u=Ie(n,a))&&o.push(Vr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Qr,"")}function Kr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Wt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Wt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function xi(e){return e[di]||null}var _i=[],ki=-1;function Si(e){return{current:e}}function Mi(e){0>ki||(e.current=_i[ki],_i[ki]=null,ki--)}function Ai(e,t){ki++,_i[ki]=e.current,e.current=t}var Ti={},Ei=Si(Ti),Ci=Si(!1),Pi=Ti;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ii(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Li(){Mi(Ci),Mi(Ei)}function Ni(e,t,n){if(Ei.current!==Ti)throw Error(a(168));Ai(Ei,t),Ai(Ci,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,G(e)||"Unknown",i));return U({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Pi=Ei.current,Ai(Ei,e),Ai(Ci,Ci.current),!0}function Ui(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Oi(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Mi(Ci),Mi(Ei),Ai(Ei,e)):Mi(Ci),Ai(Ci,n)}var zi=null,Bi=!1,Fi=!1;function Hi(e){null===zi?zi=[e]:zi.push(e)}function Wi(){if(!Fi&&null!==zi){Fi=!0;var e=0,t=bt;try{var n=zi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zi=null,Bi=!1}catch(i){throw null!==zi&&(zi=zi.slice(e+1)),Xe($e,Wi),i}finally{bt=t,Fi=!1}}return null}var Gi=[],ji=0,Vi=null,qi=0,Xi=[],Ji=0,Yi=null,Qi=1,Zi="";function Ki(e,t){Gi[ji++]=qi,Gi[ji++]=Vi,Vi=e,qi=t}function $i(e,t,n){Xi[Ji++]=Qi,Xi[Ji++]=Zi,Xi[Ji++]=Yi,Yi=e;var r=Qi;e=Zi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Qi=1<<32-ot(t)+i|n<<i|r,Zi=a+e}else Qi=1<<a|n<<i|r,Zi=e}function ea(e){null!==e.return&&(Ki(e,1),$i(e,1,0))}function ta(e){for(;e===Vi;)Vi=Gi[--ji],Gi[ji]=null,qi=Gi[--ji],Gi[ji]=null;for(;e===Yi;)Yi=Xi[--Ji],Xi[Ji]=null,Zi=Xi[--Ji],Xi[Ji]=null,Qi=Xi[--Ji],Xi[Ji]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Il(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Qi,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Il(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=li(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=w.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,ba=null,wa=null;function xa(){wa=ba=ga=null}function _a(e){var t=ya.current;Mi(ya),e._currentValue=t}function ka(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,wa=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function Ma(e){var t=e._currentValue;if(wa!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ga)throw Error(a(308));ba=e,ga.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Aa=null;function Ta(e){null===Aa?Aa=[e]:Aa.push(e)}function Ea(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ca(e,r)}function Ca(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Pa=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ia(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function La(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Na(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ca(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ca(e,n)}function Oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Da(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ua(e,t,n,r){var i=e.updateQueue;Pa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,c=l=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=U({},f,h);break e;case 2:Pa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=d,u=f):c=c.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Uu|=o,e.lanes=o,e.memoizedState=f}}function za(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ba=(new r.Component).refs;function Fa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ha={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=La(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Na(e,a,i))&&(rl(t,e,i,r),Oa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=La(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Na(e,a,i))&&(rl(t,e,i,r),Oa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=La(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Na(e,i,r))&&(rl(t,e,r,n),Oa(t,e,r))}};function Wa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function Ga(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ma(a):(i=Ii(t)?Pi:Ei.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ha,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ja(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ha.enqueueReplaceState(t,t.state,null)}function Va(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ba,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ma(a):(a=Ii(t)?Pi:Ei.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Fa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ha.enqueueReplaceState(i,i.state,null),Ua(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function qa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ba&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Xa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ja(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Nl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=zl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===k?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===I&&Ja(a)===t.type)?((r=i(t,n.props)).ref=qa(e,t,n),r.return=e,r):((r=Ol(n.type,n.key,n.props,null,e.mode,r)).ref=qa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Dl(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Ol(t.type,t.key,t.props,null,e.mode,n)).ref=qa(e,null,t),n.return=e,n;case _:return(t=Bl(t,e.mode,n)).return=e,t;case I:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Dl(t,e.mode,n,null)).return=e,t;Xa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?l(e,t,n,r):null;case _:return n.key===i?c(e,t,n,r):null;case I:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:f(e,t,n,r,null);Xa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return f(t,e=e.get(n)||null,r,i,null);Xa(t,r)}return null}function v(i,a,s,u){for(var l=null,c=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===c?l=y:c.sibling=y,c=y,f=m}if(v===s.length)return n(i,f),ia&&Ki(i,v),l;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===c?l=f:c.sibling=f,c=f);return ia&&Ki(i,v),l}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ki(i,v),l}function m(i,s,u,l){var c=O(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var f=c=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=d(i,v,g.value,l);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===f?c=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),ia&&Ki(i,m),c;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,l))&&(s=o(g,s,m),null===f?c=g:f.sibling=g,f=g);return ia&&Ki(i,m),c}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,l))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?c=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ki(i,m),c}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===k){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===I&&Ja(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=qa(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===k?((a=Dl(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Ol(o.type,o.key,o.props,null,r.mode,u)).ref=qa(r,a,o),u.return=r,r=u)}return s(r);case _:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Bl(o,r.mode,u)).return=r,r=a}return s(r);case I:return e(r,a,(c=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(O(o))return m(r,a,o,u);Xa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=zl(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Qa=Ya(!0),Za=Ya(!1),Ka={},$a=Si(Ka),eo=Si(Ka),to=Si(Ka);function no(e){if(e===Ka)throw Error(a(174));return e}function ro(e,t){switch(Ai(to,t),Ai(eo,e),Ai($a,Ka),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Mi($a),Ai($a,t)}function io(){Mi($a),Mi(eo),Mi(to)}function ao(e){no(to.current);var t=no($a.current),n=ue(t,e.type);t!==n&&(Ai(eo,e),Ai($a,n))}function oo(e){eo.current===e&&(Mi($a),Mi(eo))}var so=Si(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var fo=w.ReactCurrentDispatcher,ho=w.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,bo=!1,wo=0,xo=0;function _o(){throw Error(a(321))}function ko(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),bo){o=0;do{if(bo=!1,wo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=ls,e=n(r,i)}while(bo)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Mo(){var e=0!==wo;return wo=0,e}function Ao(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Eo(e,t){return"function"===typeof t?t(e):t}function Co(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,l=null,c=o;do{var f=c.lane;if((po&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=h,s=r):l=l.next=h,vo.lanes|=f,Uu|=f}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Uu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Po(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ws=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function Io(e,t){var n=vo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ws=!0),r=r.queue,jo(Oo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Bo(9,No.bind(null,n,r,i,t),void 0,null),null===Pu)throw Error(a(349));0!==(30&po)||Lo(n,t,i)}return i}function Lo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function No(e,t,n,r){t.value=n,t.getSnapshot=r,Do(t)&&Uo(e)}function Oo(e,t,n){return n((function(){Do(t)&&Uo(e)}))}function Do(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Uo(e){var t=Ca(e,1);null!==t&&rl(t,e,1,-1)}function zo(e){var t=Ao();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Bo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fo(){return To().memoizedState}function Ho(e,t,n,r){var i=Ao();vo.flags|=e,i.memoizedState=Bo(1|t,n,void 0,void 0===r?null:r)}function Wo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&ko(r,o.deps))return void(i.memoizedState=Bo(t,n,a,r))}vo.flags|=e,i.memoizedState=Bo(1|t,n,a,r)}function Go(e,t){return Ho(8390656,8,e,t)}function jo(e,t){return Wo(2048,8,e,t)}function Vo(e,t){return Wo(4,2,e,t)}function qo(e,t){return Wo(4,4,e,t)}function Xo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Jo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Wo(4,4,Xo.bind(null,t,e),n)}function Yo(){}function Qo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Zo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ko(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Uu|=n,e.baseState=!0),t)}function $o(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ea(e,t,n,r))){rl(n,e,r,tl()),as(n,t,r)}}function ns(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ta(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ea(e,t,i,r))&&(rl(n,e,r,i=tl()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){bo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Ma,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},ss={readContext:Ma,useCallback:function(e,t){return Ao().memoizedState=[e,void 0===t?null:t],e},useContext:Ma,useEffect:Go,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ho(4194308,4,Xo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ho(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ho(4,2,e,t)},useMemo:function(e,t){var n=Ao();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ao();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ao().memoizedState=e},useState:zo,useDebugValue:Yo,useDeferredValue:function(e){return Ao().memoizedState=e},useTransition:function(){var e=zo(!1),t=e[0];return e=$o.bind(null,e[1]),Ao().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Ao();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Pu)throw Error(a(349));0!==(30&po)||Lo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Go(Oo.bind(null,r,o,e),[e]),r.flags|=2048,Bo(9,No.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Ao(),t=Pu.identifierPrefix;if(ia){var n=Zi;t=":"+t+"R"+(n=(Qi&~(1<<32-ot(Qi)-1)).toString(32)+n),0<(n=wo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=xo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ma,useCallback:Qo,useContext:Ma,useEffect:jo,useImperativeHandle:Jo,useInsertionEffect:Vo,useLayoutEffect:qo,useMemo:Zo,useReducer:Co,useRef:Fo,useState:function(){return Co(Eo)},useDebugValue:Yo,useDeferredValue:function(e){return Ko(To(),mo.memoizedState,e)},useTransition:function(){return[Co(Eo)[0],To().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Io,useId:es,unstable_isNewReconciler:!1},ls={readContext:Ma,useCallback:Qo,useContext:Ma,useEffect:jo,useImperativeHandle:Jo,useInsertionEffect:Vo,useLayoutEffect:qo,useMemo:Zo,useReducer:Po,useRef:Fo,useState:function(){return Po(Eo)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Ko(t,mo.memoizedState,e)},useTransition:function(){return[Po(Eo)[0],To().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Io,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=La(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vu||(Vu=!0,qu=r),hs(0,t)},n}function vs(e,t,n){(n=La(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Xu?Xu=new Set([this]):Xu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Al.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=La(-1,1)).tag=2,Na(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=w.ReactCurrentOwner,ws=!1;function xs(e,t,n,r){t.child=null===e?Za(t,null,n,r):Qa(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Mo(),null===e||ws?(ia&&n&&ea(t),t.flags|=1,xs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vs(e,t,i))}function ks(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ll(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ol(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Vs(e,t,i)}return t.flags|=1,(e=Nl(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Vs(e,t,i);0!==(131072&e.flags)&&(ws=!0)}}return Ts(e,t,n,r,i)}function Ms(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ai(Nu,Lu),Lu|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ai(Nu,Lu),Lu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ai(Nu,Lu),Lu|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ai(Nu,Lu),Lu|=r;return xs(e,t,i,n),t.child}function As(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Ii(n)?Pi:Ei.current;return a=Ri(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Mo(),null===e||ws?(ia&&r&&ea(t),t.flags|=1,xs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vs(e,t,i))}function Es(e,t,n,r,i){if(Ii(n)){var a=!0;Di(t)}else a=!1;if(Sa(t,i),null===t.stateNode)js(e,t),Ga(t,n,r),Va(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ma(l):l=Ri(t,l=Ii(n)?Pi:Ei.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&ja(t,o,r,l),Pa=!1;var h=t.memoizedState;o.state=h,Ua(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ci.current||Pa?("function"===typeof c&&(Fa(t,n,c,r),u=t.memoizedState),(s=Pa||Wa(t,n,s,r,h,u,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ia(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ma(t.type,s),o.props=l,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ma(u):u=Ri(t,u=Ii(n)?Pi:Ei.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&ja(t,o,r,u),Pa=!1,h=t.memoizedState,o.state=h,Ua(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ci.current||Pa?("function"===typeof d&&(Fa(t,n,d,r),p=t.memoizedState),(l=Pa||Wa(t,n,l,r,h,p,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Cs(e,t,n,r,a,i)}function Cs(e,t,n,r,i,a){As(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ui(t,n,!1),Vs(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Qa(t,e.child,null,a),t.child=Qa(t,null,s,a)):xs(e,t,s,a),t.memoizedState=r.state,i&&Ui(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Ni(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ni(0,t.context,!1),ro(e,t.containerInfo)}function Rs(e,t,n,r,i){return da(),pa(i),t.flags|=256,xs(e,t,n,r),t.child}var Is,Ls,Ns,Os,Ds={dehydrated:null,treeContext:null,retryLane:0};function Us(e){return{baseLanes:e,cachePool:null,transitions:null}}function zs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ai(so,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Ul(u,i,0,null),e=Dl(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Us(n),t.memoizedState=Ds,e):Bs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Fs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ul({mode:"visible",children:r.children},i,0,null),(o=Dl(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Qa(t,e.child,null,s),t.child.memoizedState=Us(s),t.memoizedState=Ds,o);if(0===(1&t.mode))return Fs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Fs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ws||u){if(null!==(r=Pu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ca(e,i),rl(r,e,i,-1))}return ml(),Fs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=El.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Xi[Ji++]=Qi,Xi[Ji++]=Zi,Xi[Ji++]=Yi,Qi=e.id,Zi=e.overflow,Yi=t),t=Bs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Nl(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Nl(r,s):(s=Dl(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Us(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ds,i}return e=(s=e.child).sibling,i=Nl(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Bs(e,t){return(t=Ul({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,r){return null!==r&&pa(r),Qa(t,e.child,null,n),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Hs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ka(e.return,t,n)}function Ws(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Gs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(xs(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Hs(e,n,t);else if(19===e.tag)Hs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ai(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ws(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ws(t,!0,n,null,a);break;case"together":Ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function js(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Uu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Nl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Js(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xs(t),null;case 1:case 17:return Ii(t.type)&&Li(),Xs(t),null;case 3:return r=t.stateNode,io(),Mi(Ci),Mi(Ei),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sl(aa),aa=null))),Ls(e,t),Xs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ns(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Xs(t),null}if(e=no($a.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Br(Or[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":Q(r,o),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Br("invalid",r);break;case"textarea":ie(r,o),Br("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Kr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Kr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Br("scroll",r)}switch(n){case"input":q(r),$(r,o,!0);break;case"textarea":q(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Is(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Br(Or[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":Q(e,r),i=Y(e,r),Br("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=U({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Br("invalid",e)}for(o in ge(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Br("scroll",e):null!=c&&b(e,o,c,u))}switch(n){case"input":q(e),$(e,r,!1);break;case"textarea":q(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+j(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Xs(t),null;case 6:if(e&&null!=t.stateNode)Os(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Kr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Kr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Xs(t),null;case 13:if(Mi(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Xs(t),o=!1}else null!==aa&&(sl(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Ou&&(Ou=3):ml())),null!==t.updateQueue&&(t.flags|=4),Xs(t),null);case 4:return io(),Ls(e,t),null===e&&Wr(t.stateNode.containerInfo),Xs(t),null;case 10:return _a(t.type._context),Xs(t),null;case 19:if(Mi(so),null===(o=t.memoizedState))return Xs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)qs(o,!1);else{if(0!==Ou||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,qs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ai(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Ze()>Gu&&(t.flags|=128,r=!0,qs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Xs(t),null}else 2*Ze()-o.renderingStartTime>Gu&&1073741824!==n&&(t.flags|=128,r=!0,qs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ze(),t.sibling=null,n=so.current,Ai(so,r?1&n|2:1&n),t):(Xs(t),null);case 22:case 23:return hl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Lu)&&(Xs(t),6&t.subtreeFlags&&(t.flags|=8192)):Xs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Ii(t.type)&&Li(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Mi(Ci),Mi(Ei),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Mi(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Mi(so),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return hl(),null;default:return null}}Is=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ls=function(){},Ns=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=U({},i,{value:void 0}),r=U({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Br("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Os=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs=!1,Zs=!1,Ks="function"===typeof WeakSet?WeakSet:Set,$s=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ml(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Ml(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var fu=null,hu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Zs||eu(n,t);case 6:var r=fu,i=hu;fu=null,du(e,t,n),hu=i,null!==(fu=r)&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Wt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=hu,fu=n.stateNode.containerInfo,hu=!0,du(e,t,n),fu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Zs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Zs&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ml(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Zs=(r=Zs)||null!==n.memoizedState,du(e,t,n),Zs=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ks),t.forEach((function(t){var r=Cl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,hu=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===fu)throw Error(a(160));pu(o,s,i),fu=null,hu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){Ml(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yu(t,e),t=t.sibling}function yu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),gu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Ml(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Ml(e,e.return,m)}}break;case 1:mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ml(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&Z(i,o),be(u,s);var c=be(u,o);for(s=0;s<l.length;s+=2){var f=l[s],h=l[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,c)}switch(u){case"input":K(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ml(e,e.return,m)}}break;case 6:if(mu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ml(e,e.return,m)}}break;case 3:if(mu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(m){Ml(e,e.return,m)}break;case 4:default:mu(t,e),gu(e);break;case 13:mu(t,e),gu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Wu=Ze())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Zs=(c=Zs)||f,mu(t,e),Zs=c):mu(t,e),gu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for($s=e,f=e.child;null!==f;){for(h=$s=f;null!==$s;){switch(p=(d=$s).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ml(r,n,m)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){_u(h);continue}}null!==p?(p.return=d,$s=p):_u(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ve("display",s))}catch(m){Ml(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){Ml(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mu(t,e),gu(e),4&r&&vu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;lu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Ml(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bu(e,t,n){$s=e,wu(e,t,n)}function wu(e,t,n){for(var r=0!==(1&e.mode);null!==$s;){var i=$s,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Qs;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Zs;s=Qs;var l=Zs;if(Qs=o,(Zs=u)&&!l)for($s=i;null!==$s;)u=(o=$s).child,22===o.tag&&null!==o.memoizedState?ku(i):null!==u?(u.return=o,$s=u):ku(i);for(;null!==a;)$s=a,wu(a,t,n),a=a.sibling;$s=i,Qs=s,Zs=l}xu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$s=a):xu(e)}}function xu(e){for(;null!==$s;){var t=$s;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Zs||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Zs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&za(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}za(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Wt(h)}}}break;default:throw Error(a(163))}Zs||512&t.flags&&au(t)}catch(d){Ml(t,t.return,d)}}if(t===e){$s=null;break}if(null!==(n=t.sibling)){n.return=t.return,$s=n;break}$s=t.return}}function _u(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$s=n;break}$s=t.return}}function ku(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Ml(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ml(t,i,u)}}var a=t.return;try{au(t)}catch(u){Ml(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Ml(t,o,u)}}}catch(u){Ml(t,t.return,u)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var Su,Mu=Math.ceil,Au=w.ReactCurrentDispatcher,Tu=w.ReactCurrentOwner,Eu=w.ReactCurrentBatchConfig,Cu=0,Pu=null,Ru=null,Iu=0,Lu=0,Nu=Si(0),Ou=0,Du=null,Uu=0,zu=0,Bu=0,Fu=null,Hu=null,Wu=0,Gu=1/0,ju=null,Vu=!1,qu=null,Xu=null,Ju=!1,Yu=null,Qu=0,Zu=0,Ku=null,$u=-1,el=0;function tl(){return 0!==(6&Cu)?Ze():-1!==$u?$u:$u=Ze()}function nl(e){return 0===(1&e.mode)?1:0!==(2&Cu)&&0!==Iu?Iu&-Iu:null!==va.transition?(0===el&&(el=vt()),el):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function rl(e,t,n,r){if(50<Zu)throw Zu=0,Ku=null,Error(a(185));yt(e,n,r),0!==(2&Cu)&&e===Pu||(e===Pu&&(0===(2&Cu)&&(zu|=n),4===Ou&&ul(e,Iu)),il(e,r),1===n&&0===Cu&&0===(1&t.mode)&&(Gu=Ze()+500,Bi&&Wi()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Pu?Iu:0);if(0===r)null!==n&&Je(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Je(n),1===t)0===e.tag?function(e){Bi=!0,Hi(e)}(ll.bind(null,e)):Hi(ll.bind(null,e)),oi((function(){0===(6&Cu)&&Wi()})),n=null;else{switch(wt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pl(n,al.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function al(e,t){if($u=-1,el=0,0!==(6&Cu))throw Error(a(327));var n=e.callbackNode;if(kl()&&e.callbackNode!==n)return null;var r=ht(e,e===Pu?Iu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yl(e,r);else{t=r;var i=Cu;Cu|=2;var o=vl();for(Pu===e&&Iu===t||(ju=null,Gu=Ze()+500,dl(e,t));;)try{bl();break}catch(u){pl(e,u)}xa(),Au.current=o,Cu=i,null!==Ru?t=0:(Pu=null,Iu=0,t=Ou)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ol(e,i))),1===t)throw n=Du,dl(e,0),ul(e,r),il(e,Ze()),n;if(6===t)ul(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yl(e,r))&&(0!==(o=pt(e))&&(r=o,t=ol(e,o))),1===t))throw n=Du,dl(e,0),ul(e,r),il(e,Ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_l(e,Hu,ju);break;case 3:if(ul(e,r),(130023424&r)===r&&10<(t=Wu+500-Ze())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_l.bind(null,e,Hu,ju),t);break}_l(e,Hu,ju);break;case 4:if(ul(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Mu(r/1960))-r)){e.timeoutHandle=ri(_l.bind(null,e,Hu,ju),r);break}_l(e,Hu,ju);break;default:throw Error(a(329))}}}return il(e,Ze()),e.callbackNode===n?al.bind(null,e):null}function ol(e,t){var n=Fu;return e.current.memoizedState.isDehydrated&&(dl(e,t).flags|=256),2!==(e=yl(e,t))&&(t=Hu,Hu=n,null!==t&&sl(t)),e}function sl(e){null===Hu?Hu=e:Hu.push.apply(Hu,e)}function ul(e,t){for(t&=~Bu,t&=~zu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&Cu))throw Error(a(327));kl();var t=ht(e,0);if(0===(1&t))return il(e,Ze()),null;var n=yl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Du,dl(e,0),ul(e,t),il(e,Ze()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_l(e,Hu,ju),il(e,Ze()),null}function cl(e,t){var n=Cu;Cu|=1;try{return e(t)}finally{0===(Cu=n)&&(Gu=Ze()+500,Bi&&Wi())}}function fl(e){null!==Yu&&0===Yu.tag&&0===(6&Cu)&&kl();var t=Cu;Cu|=1;var n=Eu.transition,r=bt;try{if(Eu.transition=null,bt=1,e)return e()}finally{bt=r,Eu.transition=n,0===(6&(Cu=t))&&Wi()}}function hl(){Lu=Nu.current,Mi(Nu)}function dl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ru)for(n=Ru.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Li();break;case 3:io(),Mi(Ci),Mi(Ei),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Mi(so);break;case 10:_a(r.type._context);break;case 22:case 23:hl()}n=n.return}if(Pu=e,Ru=e=Nl(e.current,null),Iu=Lu=t,Ou=0,Du=null,Bu=zu=Uu=0,Hu=Fu=null,null!==Aa){for(t=0;t<Aa.length;t++)if(null!==(r=(n=Aa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Aa=null}return e}function pl(e,t){for(;;){var n=Ru;try{if(xa(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,bo=!1,wo=0,Tu.current=null,null===n||null===n.return){Ou=1,Du=t,Ru=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Iu,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){ms(o,c,t),ml();break e}l=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),pa(cs(l,u));break e}}o=l=cs(l,u),4!==Ou&&(Ou=2),null===Fu?Fu=[o]:Fu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Da(o,ps(0,l,t));break e;case 1:u=l;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Xu||!Xu.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Da(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}xl(n)}catch(w){t=w,Ru===n&&null!==n&&(Ru=n=n.return);continue}break}}function vl(){var e=Au.current;return Au.current=os,null===e?os:e}function ml(){0!==Ou&&3!==Ou&&2!==Ou||(Ou=4),null===Pu||0===(268435455&Uu)&&0===(268435455&zu)||ul(Pu,Iu)}function yl(e,t){var n=Cu;Cu|=2;var r=vl();for(Pu===e&&Iu===t||(ju=null,dl(e,t));;)try{gl();break}catch(i){pl(e,i)}if(xa(),Cu=n,Au.current=r,null!==Ru)throw Error(a(261));return Pu=null,Iu=0,Ou}function gl(){for(;null!==Ru;)wl(Ru)}function bl(){for(;null!==Ru&&!Ye();)wl(Ru)}function wl(e){var t=Su(e.alternate,e,Lu);e.memoizedProps=e.pendingProps,null===t?xl(e):Ru=t,Tu.current=null}function xl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Js(n,t,Lu)))return void(Ru=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Ru=n);if(null===e)return Ou=6,void(Ru=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ru=t);Ru=t=e}while(null!==t);0===Ou&&(Ou=5)}function _l(e,t,n){var r=bt,i=Eu.transition;try{Eu.transition=null,bt=1,function(e,t,n,r){do{kl()}while(null!==Yu);if(0!==(6&Cu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Pu&&(Ru=Pu=null,Iu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ju||(Ju=!0,Pl(tt,(function(){return kl(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Eu.transition,Eu.transition=null;var s=bt;bt=1;var u=Cu;Cu|=4,Tu.current=null,function(e,t){if(ei=jt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var s=0,u=-1,l=-1,c=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(l=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++c===i&&(u=s),d===o&&++f===r&&(l=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},jt=!1,$s=t;null!==$s;)if(e=(t=$s).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(a(163))}}catch(x){Ml(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}v=nu,nu=!1}(e,n),yu(n,e),pr(ti),jt=!!ei,ti=ei=null,e.current=n,bu(n,e,i),Qe(),Cu=u,bt=s,Eu.transition=o}else e.current=n;if(Ju&&(Ju=!1,Yu=e,Qu=i),o=e.pendingLanes,0===o&&(Xu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vu)throw Vu=!1,e=qu,qu=null,e;0!==(1&Qu)&&0!==e.tag&&kl(),o=e.pendingLanes,0!==(1&o)?e===Ku?Zu++:(Zu=0,Ku=e):Zu=0,Wi()}(e,t,n,r)}finally{Eu.transition=i,bt=r}return null}function kl(){if(null!==Yu){var e=wt(Qu),t=Eu.transition,n=bt;try{if(Eu.transition=null,bt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,Qu=0,0!==(6&Cu))throw Error(a(331));var i=Cu;for(Cu|=4,$s=e.current;null!==$s;){var o=$s,s=o.child;if(0!==(16&$s.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for($s=c;null!==$s;){var f=$s;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var h=f.child;if(null!==h)h.return=f,$s=h;else for(;null!==$s;){var d=(f=$s).sibling,p=f.return;if(ou(f),f===c){$s=null;break}if(null!==d){d.return=p,$s=d;break}$s=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}$s=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,$s=s;else e:for(;null!==$s;){if(0!==(2048&(o=$s).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,$s=g;break e}$s=o.return}}var b=e.current;for($s=b;null!==$s;){var w=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,$s=w;else e:for(s=b;null!==$s;){if(0!==(2048&(u=$s).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(_){Ml(u,u.return,_)}if(u===s){$s=null;break e}var x=u.sibling;if(null!==x){x.return=u.return,$s=x;break e}$s=u.return}}if(Cu=i,Wi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,Eu.transition=t}}return!1}function Sl(e,t,n){e=Na(e,t=ps(0,t=cs(n,t),1),1),t=tl(),null!==e&&(yt(e,1,t),il(e,t))}function Ml(e,t,n){if(3===e.tag)Sl(e,e,n);else for(;null!==t;){if(3===t.tag){Sl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r))){t=Na(t,e=vs(t,e=cs(n,e),1),1),e=tl(),null!==t&&(yt(t,1,e),il(t,e));break}}t=t.return}}function Al(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Iu&n)===n&&(4===Ou||3===Ou&&(130023424&Iu)===Iu&&500>Ze()-Wu?dl(e,0):Bu|=n),il(e,t)}function Tl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tl();null!==(e=Ca(e,t))&&(yt(e,t,n),il(e,n))}function El(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tl(e,n)}function Cl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tl(e,n)}function Pl(e,t){return Xe(e,t)}function Rl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Il(e,t,n,r){return new Rl(e,t,n,r)}function Ll(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nl(e,t){var n=e.alternate;return null===n?((n=Il(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ol(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Ll(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Dl(n.children,i,o,t);case S:s=8,i|=8;break;case M:return(e=Il(12,n,t,2|i)).elementType=M,e.lanes=o,e;case C:return(e=Il(13,n,t,i)).elementType=C,e.lanes=o,e;case P:return(e=Il(19,n,t,i)).elementType=P,e.lanes=o,e;case L:return Ul(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:s=10;break e;case T:s=9;break e;case E:s=11;break e;case R:s=14;break e;case I:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Il(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Dl(e,t,n,r){return(e=Il(7,e,r,t)).lanes=n,e}function Ul(e,t,n,r){return(e=Il(22,e,r,t)).elementType=L,e.lanes=n,e.stateNode={isHidden:!1},e}function zl(e,t,n){return(e=Il(6,e,null,t)).lanes=n,e}function Bl(e,t,n){return(t=Il(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hl(e,t,n,r,i,a,o,s,u){return e=new Fl(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Il(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function Wl(e){if(!e)return Ti;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ii(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ii(n))return Oi(e,n,t)}return t}function Gl(e,t,n,r,i,a,o,s,u){return(e=Hl(n,r,!0,e,0,a,0,s,u)).context=Wl(null),n=e.current,(a=La(r=tl(),i=nl(n))).callback=void 0!==t&&null!==t?t:null,Na(n,a,i),e.current.lanes=i,yt(e,i,r),il(e,r),e}function jl(e,t,n,r){var i=t.current,a=tl(),o=nl(i);return n=Wl(n),null===t.context?t.context=n:t.pendingContext=n,(t=La(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Na(i,t,o))&&(rl(e,i,o,a),Oa(e,i,o)),o}function Vl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ql(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xl(e,t){ql(e,t),(e=e.alternate)&&ql(e,t)}Su=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),da();break;case 5:ao(t);break;case 1:Ii(t.type)&&Di(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ai(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ai(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?zs(e,t,n):(Ai(so,1&so.current),null!==(e=Vs(e,t,n))?e.sibling:null);Ai(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Gs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ai(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Ms(e,t,n)}return Vs(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,ia&&0!==(1048576&t.flags)&&$i(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;js(e,t),e=t.pendingProps;var i=Ri(t,Ei.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Mo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ii(r)?(o=!0,Di(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=Ha,t.stateNode=i,i._reactInternals=t,Va(t,r,e,n),t=Cs(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),xs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(js(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ll(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===R)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Es(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=ks(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Es(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ps(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ia(e,t),Ua(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Rs(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=Rs(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Za(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Vs(e,t,n);break e}xs(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&la(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),As(e,t),xs(e,t,s,n),t.child;case 6:return null===e&&la(t),null;case 13:return zs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Qa(t,null,r,n):xs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return xs(e,t,t.pendingProps,n),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ai(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ci.current){t=Vs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=La(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),ka(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),ka(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}xs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ma(i)),t.flags|=1,xs(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),ks(e,t,r,i=ma(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),js(e,t),t.tag=1,Ii(r)?(e=!0,Di(t)):e=!1,Sa(t,n),Ga(t,r,i),Va(t,r,i,n),Cs(null,t,r,!0,e,n);case 19:return Gs(e,t,n);case 22:return Ms(e,t,n)}throw Error(a(156,t.tag))};var Jl="function"===typeof reportError?reportError:function(e){console.error(e)};function Yl(e){this._internalRoot=e}function Ql(e){this._internalRoot=e}function Zl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Kl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $l(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Vl(o);s.call(e)}}jl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Vl(o);a.call(e)}}var o=Gl(t,r,e,0,null,!1,0,"",$l);return e._reactRootContainer=o,e[pi]=o.current,Wr(8===e.nodeType?e.parentNode:e),fl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Vl(u);s.call(e)}}var u=Hl(e,0,!1,null,0,!1,0,"",$l);return e._reactRootContainer=u,e[pi]=u.current,Wr(8===e.nodeType?e.parentNode:e),fl((function(){jl(t,u,n,r)})),u}(n,t,e,i,r);return Vl(o)}Ql.prototype.render=Yl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));jl(e,t,null,null)},Ql.prototype.unmount=Yl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fl((function(){jl(null,e,null,null)})),t[pi]=null}},Ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&0!==t&&t<Lt[n].priority;n++);Lt.splice(n,0,e),0===n&&Ut(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),il(t,Ze()),0===(6&Cu)&&(Gu=Ze()+500,Wi()))}break;case 13:fl((function(){var t=Ca(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Xl(e,1)}},_t=function(e){if(13===e.tag){var t=Ca(e,134217728);if(null!==t)rl(t,e,134217728,tl());Xl(e,134217728)}},kt=function(e){if(13===e.tag){var t=nl(e),n=Ca(e,t);if(null!==n)rl(n,e,t,tl());Xl(e,t)}},St=function(){return bt},Mt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(K(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(a(90));X(r),K(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=cl,Ce=fl;var tc={usingClientEntryPoint:!1,Events:[bi,wi,xi,Ae,Te,cl]},nc={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zl(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Zl(e))throw Error(a(299));var n=!1,r="",i=Jl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Hl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Wr(8===e.nodeType?e.parentNode:e),new Yl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return fl(e)},t.hydrate=function(e,t,n){if(!Kl(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Jl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Gl(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Wr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ql(t)},t.render=function(e,t,n){if(!Kl(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Kl(e))throw Error(a(40));return!!e._reactRootContainer&&(fl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cl,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Kl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},67:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function x(e){if(m=!1,w(e),!v)if(null!==r(l))v=!0,L(_);else{var t=r(c);null!==t&&N(x,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,g(A),A=-1),p=!0;var a=d;try{for(w(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!C());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(l)&&i(l),w(n)}else i(l);h=r(l)}if(null!==h)var u=!0;else{var f=r(c);null!==f&&N(x,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,M=null,A=-1,T=5,E=-1;function C(){return!(t.unstable_now()-E<T)}function P(){if(null!==M){var e=t.unstable_now();E=e;var n=!0;try{n=M(!0,e)}finally{n?k():(S=!1,M=null)}}else S=!1}if("function"===typeof b)k=function(){b(P)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,I=R.port2;R.port1.onmessage=P,k=function(){I.postMessage(null)}}else k=function(){y(P,0)};function L(e){M=e,S||(S=!0,k())}function N(e,n){A=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,L(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(g(A),A=-1):m=!0,N(x,a-o))):(e.sortIndex=s,n(l,e),v||p||(v=!0,L(_))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5585:function(e,t,n){"use strict";e.exports=n(67)},37:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return f.default}}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(2791)),a=p(n(2007)),o=p(n(4164)),s=p(n(8182)),u=n(2280),l=n(580),c=n(2693),f=p(n(8091)),h=p(n(9392)),d=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}function y(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=A(e);if(t){var a=A(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return M(e)}(this,n)}}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(c,e);var t,n,r,a=S(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),T(M(t=a.call(this,e)),"onDragStart",(function(e,n){if((0,h.default)("Draggable: onDragStart: %j",n),!1===t.props.onStart(e,(0,l.createDraggableData)(M(t),n)))return!1;t.setState({dragging:!0,dragged:!0})})),T(M(t),"onDrag",(function(e,n){if(!t.state.dragging)return!1;(0,h.default)("Draggable: onDrag: %j",n);var r=(0,l.createDraggableData)(M(t),n),i={x:r.x,y:r.y};if(t.props.bounds){var a=i.x,o=i.y;i.x+=t.state.slackX,i.y+=t.state.slackY;var s=w((0,l.getBoundPosition)(M(t),i.x,i.y),2),u=s[0],c=s[1];i.x=u,i.y=c,i.slackX=t.state.slackX+(a-i.x),i.slackY=t.state.slackY+(o-i.y),r.x=i.x,r.y=i.y,r.deltaX=i.x-t.state.x,r.deltaY=i.y-t.state.y}if(!1===t.props.onDrag(e,r))return!1;t.setState(i)})),T(M(t),"onDragStop",(function(e,n){if(!t.state.dragging)return!1;if(!1===t.props.onStop(e,(0,l.createDraggableData)(M(t),n)))return!1;(0,h.default)("Draggable: onDragStop: %j",n);var r={dragging:!1,slackX:0,slackY:0};if(Boolean(t.props.position)){var i=t.props.position,a=i.x,o=i.y;r.x=a,r.y=o}t.setState(r)})),t.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:b({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),t}return t=c,r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,r=t.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,h.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:b({},n)})}}],(n=[{key:"componentDidMount",value:function(){"undefined"!==typeof window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var e,t,n;return null!==(e=null===(t=this.props)||void 0===t||null===(n=t.nodeRef)||void 0===n?void 0:n.current)&&void 0!==e?e:o.default.findDOMNode(this)}},{key:"render",value:function(){var e,t=this.props,n=(t.axis,t.bounds,t.children),r=t.defaultPosition,a=t.defaultClassName,o=t.defaultClassNameDragging,c=t.defaultClassNameDragged,h=t.position,p=t.positionOffset,v=(t.scale,y(t,d)),g={},w=null,x=!Boolean(h)||this.state.dragging,_=h||r,k={x:(0,l.canDragX)(this)&&x?this.state.x:_.x,y:(0,l.canDragY)(this)&&x?this.state.y:_.y};this.state.isElementSVG?w=(0,u.createSVGTransform)(k,p):g=(0,u.createCSSTransform)(k,p);var S=(0,s.default)(n.props.className||"",a,(T(e={},o,this.state.dragging),T(e,c,this.state.dragged),e));return i.createElement(f.default,m({},v,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),i.cloneElement(i.Children.only(n),{className:S,style:b(b({},n.props.style),g),transform:w}))}}])&&_(t.prototype,n),r&&_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(i.Component);t.default=E,T(E,"displayName","Draggable"),T(E,"propTypes",b(b({},f.default.propTypes),{},{axis:a.default.oneOf(["both","x","y","none"]),bounds:a.default.oneOfType([a.default.shape({left:a.default.number,right:a.default.number,top:a.default.number,bottom:a.default.number}),a.default.string,a.default.oneOf([!1])]),defaultClassName:a.default.string,defaultClassNameDragging:a.default.string,defaultClassNameDragged:a.default.string,defaultPosition:a.default.shape({x:a.default.number,y:a.default.number}),positionOffset:a.default.shape({x:a.default.oneOfType([a.default.number,a.default.string]),y:a.default.oneOfType([a.default.number,a.default.string])}),position:a.default.shape({x:a.default.number,y:a.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe})),T(E,"defaultProps",b(b({},f.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))},8091:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(2791)),a=f(n(2007)),o=f(n(4164)),s=n(2280),u=n(580),l=n(2693),c=f(n(9392));function f(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=b(e);if(t){var a=b(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}(this,n)}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x={start:"touchstart",move:"touchmove",stop:"touchend"},_={start:"mousedown",move:"mousemove",stop:"mouseup"},k=_,S=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(l,e);var t,n,r,a=y(l);function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(g(e=a.call.apply(a,[this].concat(n))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),w(g(e),"mounted",!1),w(g(e),"handleDragStart",(function(t){if(e.props.onMouseDown(t),!e.props.allowAnyClick&&"number"===typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(e.props.disabled||!(t.target instanceof r.defaultView.Node)||e.props.handle&&!(0,s.matchesSelectorAndParentsTo)(t.target,e.props.handle,n)||e.props.cancel&&(0,s.matchesSelectorAndParentsTo)(t.target,e.props.cancel,n))){"touchstart"===t.type&&t.preventDefault();var i=(0,s.getTouchIdentifier)(t);e.setState({touchIdentifier:i});var a=(0,u.getControlPosition)(t,i,g(e));if(null!=a){var o=a.x,l=a.y,f=(0,u.createCoreData)(g(e),o,l);(0,c.default)("DraggableCore: handleDragStart: %j",f),(0,c.default)("calling",e.props.onStart),!1!==e.props.onStart(t,f)&&!1!==e.mounted&&(e.props.enableUserSelectHack&&(0,s.addUserSelectStyles)(r),e.setState({dragging:!0,lastX:o,lastY:l}),(0,s.addEvent)(r,k.move,e.handleDrag),(0,s.addEvent)(r,k.stop,e.handleDragStop))}}})),w(g(e),"handleDrag",(function(t){var n=(0,u.getControlPosition)(t,e.state.touchIdentifier,g(e));if(null!=n){var r=n.x,i=n.y;if(Array.isArray(e.props.grid)){var a=r-e.state.lastX,o=i-e.state.lastY,s=d((0,u.snapToGrid)(e.props.grid,a,o),2);if(a=s[0],o=s[1],!a&&!o)return;r=e.state.lastX+a,i=e.state.lastY+o}var l=(0,u.createCoreData)(g(e),r,i);if((0,c.default)("DraggableCore: handleDrag: %j",l),!1!==e.props.onDrag(t,l)&&!1!==e.mounted)e.setState({lastX:r,lastY:i});else try{e.handleDragStop(new MouseEvent("mouseup"))}catch(h){var f=document.createEvent("MouseEvents");f.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.handleDragStop(f)}}})),w(g(e),"handleDragStop",(function(t){if(e.state.dragging){var n=(0,u.getControlPosition)(t,e.state.touchIdentifier,g(e));if(null!=n){var r=n.x,i=n.y;if(Array.isArray(e.props.grid)){var a=r-e.state.lastX||0,o=i-e.state.lastY||0,l=d((0,u.snapToGrid)(e.props.grid,a,o),2);a=l[0],o=l[1],r=e.state.lastX+a,i=e.state.lastY+o}var f=(0,u.createCoreData)(g(e),r,i);if(!1===e.props.onStop(t,f)||!1===e.mounted)return!1;var h=e.findDOMNode();h&&e.props.enableUserSelectHack&&(0,s.removeUserSelectStyles)(h.ownerDocument),(0,c.default)("DraggableCore: handleDragStop: %j",f),e.setState({dragging:!1,lastX:NaN,lastY:NaN}),h&&((0,c.default)("DraggableCore: Removing handlers"),(0,s.removeEvent)(h.ownerDocument,k.move,e.handleDrag),(0,s.removeEvent)(h.ownerDocument,k.stop,e.handleDragStop))}}})),w(g(e),"onMouseDown",(function(t){return k=_,e.handleDragStart(t)})),w(g(e),"onMouseUp",(function(t){return k=_,e.handleDragStop(t)})),w(g(e),"onTouchStart",(function(t){return k=x,e.handleDragStart(t)})),w(g(e),"onTouchEnd",(function(t){return k=x,e.handleDragStop(t)})),e}return t=l,(n=[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.findDOMNode();e&&(0,s.addEvent)(e,x.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.findDOMNode();if(e){var t=e.ownerDocument;(0,s.removeEvent)(t,_.move,this.handleDrag),(0,s.removeEvent)(t,x.move,this.handleDrag),(0,s.removeEvent)(t,_.stop,this.handleDragStop),(0,s.removeEvent)(t,x.stop,this.handleDragStop),(0,s.removeEvent)(e,x.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,s.removeUserSelectStyles)(t)}}},{key:"findDOMNode",value:function(){var e,t,n;return null!==(e=this.props)&&void 0!==e&&e.nodeRef?null===(t=this.props)||void 0===t||null===(n=t.nodeRef)||void 0===n?void 0:n.current:o.default.findDOMNode(this)}},{key:"render",value:function(){return i.cloneElement(i.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&v(t.prototype,n),r&&v(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(i.Component);t.default=S,w(S,"displayName","DraggableCore"),w(S,"propTypes",{allowAnyClick:a.default.bool,disabled:a.default.bool,enableUserSelectHack:a.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:a.default.arrayOf(a.default.number),handle:a.default.string,cancel:a.default.string,nodeRef:a.default.object,onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func,onMouseDown:a.default.func,scale:a.default.number,className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),w(S,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},9962:function(e,t,n){"use strict";var r=n(37),i=r.default,a=r.DraggableCore;e.exports=i,e.exports.default=i,e.exports.DraggableCore=a},2280:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.addClassName=d,t.addEvent=function(e,t,n,r){if(!e)return;var i=u({capture:!0},r);e.addEventListener?e.addEventListener(t,n,i):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.addUserSelectStyles=function(e){if(!e)return;var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&d(e.body,"react-draggable-transparent-selection")},t.createCSSTransform=function(e,t){var n=h(e,t,"px");return l({},(0,a.browserPrefixToKey)("transform",a.default),n)},t.createSVGTransform=function(e,t){return h(e,t,"")},t.getTouch=function(e,t){return e.targetTouches&&(0,i.findInArray)(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&(0,i.findInArray)(e.changedTouches,(function(e){return t===e.identifier}))},t.getTouchIdentifier=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},t.getTranslation=h,t.innerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,i.int)(n.paddingTop),t-=(0,i.int)(n.paddingBottom)},t.innerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,i.int)(n.paddingLeft),t-=(0,i.int)(n.paddingRight)},t.matchesSelector=f,t.matchesSelectorAndParentsTo=function(e,t,n){var r=e;do{if(f(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},t.offsetXYFromParent=function(e,t,n){var r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),i=(e.clientX+t.scrollLeft-r.left)/n,a=(e.clientY+t.scrollTop-r.top)/n;return{x:i,y:a}},t.outerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,i.int)(n.borderTopWidth),t+=(0,i.int)(n.borderBottomWidth)},t.outerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,i.int)(n.borderLeftWidth),t+=(0,i.int)(n.borderRightWidth)},t.removeClassName=p,t.removeEvent=function(e,t,n,r){if(!e)return;var i=u({capture:!0},r);e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},t.removeUserSelectStyles=function(e){if(!e)return;try{if(e.body&&p(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(n){}};var i=n(2693),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=a?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(n(4021));function o(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c="";function f(e,t){return c||(c=(0,i.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,i.isFunction)(e[t])}))),!!(0,i.isFunction)(e[c])&&e[c](t)}function h(e,t,n){var r=e.x,i=e.y,a="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(t){var o="".concat("string"===typeof t.x?t.x:t.x+n),s="".concat("string"===typeof t.y?t.y:t.y+n);a="translate(".concat(o,", ").concat(s,")")+a}return a}function d(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function p(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},4021:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserPrefixToKey=i,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0,t.getPrefix=r;var n=["Moz","Webkit","O","ms"];function r(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"===typeof window)return"";var a=null===(e=window.document)||void 0===e||null===(t=e.documentElement)||void 0===t?void 0:t.style;if(!a)return"";if(r in a)return"";for(var o=0;o<n.length;o++)if(i(r,n[o])in a)return n[o];return""}function i(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}var a=r();t.default=a},9392:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){0}},580:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.createCoreData=function(e,t,n){var i=e.state,o=!(0,r.isNum)(i.lastX),s=a(e);return o?{node:s,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:s,deltaX:t-i.lastX,deltaY:n-i.lastY,lastX:i.lastX,lastY:i.lastY,x:t,y:n}},t.createDraggableData=function(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}},t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];var o=e.props.bounds;o="string"===typeof o?o:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(o);var s=a(e);if("string"===typeof o){var u,l=s.ownerDocument,c=l.defaultView;if(!((u="parent"===o?s.parentNode:l.querySelector(o))instanceof c.HTMLElement))throw new Error('Bounds selector "'+o+'" could not find an element.');var f=u,h=c.getComputedStyle(s),d=c.getComputedStyle(f);o={left:-s.offsetLeft+(0,r.int)(d.paddingLeft)+(0,r.int)(h.marginLeft),top:-s.offsetTop+(0,r.int)(d.paddingTop)+(0,r.int)(h.marginTop),right:(0,i.innerWidth)(f)-(0,i.outerWidth)(s)-s.offsetLeft+(0,r.int)(d.paddingRight)-(0,r.int)(h.marginRight),bottom:(0,i.innerHeight)(f)-(0,i.outerHeight)(s)-s.offsetTop+(0,r.int)(d.paddingBottom)-(0,r.int)(h.marginBottom)}}(0,r.isNum)(o.right)&&(t=Math.min(t,o.right));(0,r.isNum)(o.bottom)&&(n=Math.min(n,o.bottom));(0,r.isNum)(o.left)&&(t=Math.max(t,o.left));(0,r.isNum)(o.top)&&(n=Math.max(n,o.top));return[t,n]},t.getControlPosition=function(e,t,n){var r="number"===typeof t?(0,i.getTouch)(e,t):null;if("number"===typeof t&&!r)return null;var o=a(n),s=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,i.offsetXYFromParent)(r||e,s,n.props.scale)},t.snapToGrid=function(e,t,n){var r=Math.round(t/e[0])*e[0],i=Math.round(n/e[1])*e[1];return[r,i]};var r=n(2693),i=n(2280);function a(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},2693:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dontSetMe=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))},t.findInArray=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.int=function(e){return parseInt(e,10)},t.isFunction=function(e){return"function"===typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"===typeof e&&!isNaN(e)}},1372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case l:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function _(e){return x(e)===f}t.AsyncMode=c,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||x(e)===c},t.isConcurrentMode=_,t.isContextConsumer=function(e){return x(e)===l},t.isContextProvider=function(e){return x(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===h},t.isFragment=function(e){return x(e)===a},t.isLazy=function(e){return x(e)===m},t.isMemo=function(e){return x(e)===v},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===o},t.isSuspense=function(e){return x(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===l||e.$$typeof===h||e.$$typeof===g||e.$$typeof===b||e.$$typeof===w||e.$$typeof===y)},t.typeOf=x},7441:function(e,t,n){"use strict";e.exports=n(1372)},4976:function(e,t){"use strict";t.ConcurrentRoot=1,t.ContinuousEventPriority=4,t.DefaultEventPriority=16,t.DiscreteEventPriority=1},3721:function(e,t,n){e.exports=function(e){var t={},r=n(2791),i=n(5296),a=Object.assign;function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=Symbol.for("react.element"),l=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),p=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var w=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var x=Symbol.iterator;function _(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=x&&e[x]||e["@@iterator"])?e:null}function k(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case c:return"Fragment";case l:return"Portal";case h:return"Profiler";case f:return"StrictMode";case m:return"Suspense";case y:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case p:return(e.displayName||"Context")+".Consumer";case d:return(e._context.displayName||"Context")+".Provider";case v:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case g:return null!==(t=e.displayName||null)?t:k(e.type)||"Memo";case b:t=e._payload,e=e._init;try{return k(e(t))}catch(n){}}return null}function S(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return k(t);case 8:return t===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function M(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function A(e){if(M(e)!==e)throw Error(o(188))}function T(e){var t=e.alternate;if(!t){if(null===(t=M(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return A(i),e;if(a===r)return A(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}function E(e){return null!==(e=T(e))?C(e):null}function C(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=C(e);if(null!==t)return t;e=e.sibling}return null}function P(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){if(4!==e.tag){var t=P(e);if(null!==t)return t}e=e.sibling}return null}var R,I=Array.isArray,L=e.getPublicInstance,N=e.getRootHostContext,O=e.getChildHostContext,D=e.prepareForCommit,U=e.resetAfterCommit,z=e.createInstance,B=e.appendInitialChild,F=e.finalizeInitialChildren,H=e.prepareUpdate,W=e.shouldSetTextContent,G=e.createTextInstance,j=e.scheduleTimeout,V=e.cancelTimeout,q=e.noTimeout,X=e.isPrimaryRenderer,J=e.supportsMutation,Y=e.supportsPersistence,Q=e.supportsHydration,Z=e.getInstanceFromNode,K=e.preparePortalMount,$=e.getCurrentEventPriority,ee=e.detachDeletedInstance,te=e.supportsMicrotasks,ne=e.scheduleMicrotask,re=e.supportsTestSelectors,ie=e.findFiberRoot,ae=e.getBoundingRect,oe=e.getTextContent,se=e.isHiddenSubtree,ue=e.matchAccessibilityRole,le=e.setFocusIfFocusable,ce=e.setupIntersectionObserver,fe=e.appendChild,he=e.appendChildToContainer,de=e.commitTextUpdate,pe=e.commitMount,ve=e.commitUpdate,me=e.insertBefore,ye=e.insertInContainerBefore,ge=e.removeChild,be=e.removeChildFromContainer,we=e.resetTextContent,xe=e.hideInstance,_e=e.hideTextInstance,ke=e.unhideInstance,Se=e.unhideTextInstance,Me=e.clearContainer,Ae=e.cloneInstance,Te=e.createContainerChildSet,Ee=e.appendChildToContainerChildSet,Ce=e.finalizeContainerChildren,Pe=e.replaceContainerChildren,Re=e.cloneHiddenInstance,Ie=e.cloneHiddenTextInstance,Le=e.canHydrateInstance,Ne=e.canHydrateTextInstance,Oe=e.canHydrateSuspenseInstance,De=e.isSuspenseInstancePending,Ue=e.isSuspenseInstanceFallback,ze=e.registerSuspenseInstanceRetry,Be=e.getNextHydratableSibling,Fe=e.getFirstHydratableChild,He=e.getFirstHydratableChildWithinContainer,We=e.getFirstHydratableChildWithinSuspenseInstance,Ge=e.hydrateInstance,je=e.hydrateTextInstance,Ve=e.hydrateSuspenseInstance,qe=e.getNextHydratableInstanceAfterSuspenseInstance,Xe=e.commitHydratedContainer,Je=e.commitHydratedSuspenseInstance,Ye=e.clearSuspenseBoundary,Qe=e.clearSuspenseBoundaryFromContainer,Ze=e.shouldDeleteUnhydratedTailInstances,Ke=e.didNotMatchHydratedContainerTextInstance,$e=e.didNotMatchHydratedTextInstance;function et(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var tt=!1;function nt(e,t){if(!e||tt)return"";tt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{tt=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?et(e):""}var rt=Object.prototype.hasOwnProperty,it=[],at=-1;function ot(e){return{current:e}}function st(e){0>at||(e.current=it[at],it[at]=null,at--)}function ut(e,t){at++,it[at]=e.current,e.current=t}var lt={},ct=ot(lt),ft=ot(!1),ht=lt;function dt(e,t){var n=e.type.contextTypes;if(!n)return lt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function pt(e){return null!==(e=e.childContextTypes)&&void 0!==e}function vt(){st(ft),st(ct)}function mt(e,t,n){if(ct.current!==lt)throw Error(o(168));ut(ct,t),ut(ft,n)}function yt(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,S(e)||"Unknown",i));return a({},n,r)}function gt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lt,ht=ct.current,ut(ct,e),ut(ft,ft.current),!0}function bt(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=yt(e,t,ht),r.__reactInternalMemoizedMergedChildContext=e,st(ft),st(ct),ut(ct,e)):st(ft),ut(ft,n)}var wt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(xt(e)/_t|0)|0},xt=Math.log,_t=Math.LN2;var kt=64,St=4194304;function Mt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function At(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=Mt(s):0!==(a&=o)&&(r=Mt(a))}else 0!==(o=n&~i)?r=Mt(o):0!==a&&(r=Mt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-wt(t)),r|=e[n],t&=~i;return r}function Tt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Et(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ct(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-wt(t)]=n}function Rt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var It=0;function Lt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Nt=i.unstable_scheduleCallback,Ot=i.unstable_cancelCallback,Dt=i.unstable_shouldYield,Ut=i.unstable_requestPaint,zt=i.unstable_now,Bt=i.unstable_ImmediatePriority,Ft=i.unstable_UserBlockingPriority,Ht=i.unstable_NormalPriority,Wt=i.unstable_IdlePriority,Gt=null,jt=null;var Vt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},qt=null,Xt=!1,Jt=!1;function Yt(e){null===qt?qt=[e]:qt.push(e)}function Qt(){if(!Jt&&null!==qt){Jt=!0;var e=0,t=It;try{var n=qt;for(It=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}qt=null,Xt=!1}catch(i){throw null!==qt&&(qt=qt.slice(e+1)),Nt(Bt,Qt),i}finally{It=t,Jt=!1}}return null}var Zt=s.ReactCurrentBatchConfig;function Kt(e,t){if(Vt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rt.call(t,i)||!Vt(e[i],t[i]))return!1}return!0}function $t(e){switch(e.tag){case 5:return et(e.type);case 16:return et("Lazy");case 13:return et("Suspense");case 19:return et("SuspenseList");case 0:case 2:case 15:return e=nt(e.type,!1);case 11:return e=nt(e.type.render,!1);case 1:return e=nt(e.type,!0);default:return""}}function en(e,t){if(e&&e.defaultProps){for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var tn=ot(null),nn=null,rn=null,an=null;function on(){an=rn=nn=null}function sn(e,t,n){X?(ut(tn,t._currentValue),t._currentValue=n):(ut(tn,t._currentValue2),t._currentValue2=n)}function un(e){var t=tn.current;st(tn),X?e._currentValue=t:e._currentValue2=t}function ln(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function cn(e,t){nn=e,an=rn=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Di=!0),e.firstContext=null)}function fn(e){var t=X?e._currentValue:e._currentValue2;if(an!==e)if(e={context:e,memoizedValue:t,next:null},null===rn){if(null===nn)throw Error(o(308));rn=e,nn.dependencies={lanes:0,firstContext:e}}else rn=rn.next=e;return t}var hn=null,dn=!1;function pn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function yn(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==Ja&&0!==(1&e.mode)&&0===(2&Xa)?(null===(e=n.interleaved)?(t.next=t,null===hn?hn=[n]:hn.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function gn(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Rt(e,n)}}function bn(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wn(e,t,n,r){var i=e.updateQueue;dn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var l=u,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var f=e.alternate;null!==f&&((u=(f=f.updateQueue).lastBaseUpdate)!==s&&(null===u?f.firstBaseUpdate=c:u.next=c,f.lastBaseUpdate=l))}if(null!==o){var h=i.baseState;for(s=0,f=c=l=null,u=o;;){var d=u.lane,p=u.eventTime;if((r&d)===d){null!==f&&(f=f.next={eventTime:p,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var v=e,m=u;switch(d=t,p=n,m.tag){case 1:if("function"===typeof(v=m.payload)){h=v.call(p,h,d);break e}h=v;break e;case 3:v.flags=-65537&v.flags|128;case 0:if(null===(d="function"===typeof(v=m.payload)?v.call(p,h,d):v)||void 0===d)break e;h=a({},h,d);break e;case 2:dn=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[u]:d.push(u))}else p={eventTime:p,lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===f?(c=f=p,l=h):f=f.next=p,s|=d;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(d=u).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===f&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=f,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);to|=s,e.lanes=s,e.memoizedState=h}}function xn(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var _n=(new r.Component).refs;function kn(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:a({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Sn={isMounted:function(e){return!!(e=e._reactInternals)&&M(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=xo(),i=_o(e),a=mn(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),yn(e,a),null!==(t=ko(e,i,r))&&gn(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=xo(),i=_o(e),a=mn(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),yn(e,a),null!==(t=ko(e,i,r))&&gn(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=xo(),r=_o(e),i=mn(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),yn(e,i),null!==(t=ko(e,r,n))&&gn(t,e,r)}};function Mn(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Kt(n,r)||!Kt(i,a))}function An(e,t,n){var r=!1,i=lt,a=t.contextType;return"object"===typeof a&&null!==a?a=fn(a):(i=pt(t)?ht:ct.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?dt(e,i):lt),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Sn,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Tn(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Sn.enqueueReplaceState(t,t.state,null)}function En(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=_n,pn(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=fn(a):(a=pt(t)?ht:ct.current,i.context=dt(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(kn(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Sn.enqueueReplaceState(i,i.state,null),wn(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var Cn=[],Pn=0,Rn=null,In=0,Ln=[],Nn=0,On=null,Dn=1,Un="";function zn(e,t){Cn[Pn++]=In,Cn[Pn++]=Rn,Rn=e,In=t}function Bn(e,t,n){Ln[Nn++]=Dn,Ln[Nn++]=Un,Ln[Nn++]=On,On=e;var r=Dn;e=Un;var i=32-wt(r)-1;r&=~(1<<i),n+=1;var a=32-wt(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Dn=1<<32-wt(t)+i|n<<i|r,Un=a+e}else Dn=1<<a|n<<i|r,Un=e}function Fn(e){null!==e.return&&(zn(e,1),Bn(e,1,0))}function Hn(e){for(;e===Rn;)Rn=Cn[--Pn],Cn[Pn]=null,In=Cn[--Pn],Cn[Pn]=null;for(;e===On;)On=Ln[--Nn],Ln[Nn]=null,Un=Ln[--Nn],Ln[Nn]=null,Dn=Ln[--Nn],Ln[Nn]=null}var Wn=null,Gn=null,jn=!1,Vn=!1,qn=null;function Xn(e,t){var n=Ko(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Jn(e,t){switch(e.tag){case 5:return null!==(t=Le(t,e.type,e.pendingProps))&&(e.stateNode=t,Wn=e,Gn=Fe(t),!0);case 6:return null!==(t=Ne(t,e.pendingProps))&&(e.stateNode=t,Wn=e,Gn=null,!0);case 13:if(null!==(t=Oe(t))){var n=null!==On?{id:Dn,overflow:Un}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ko(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Wn=e,Gn=null,!0}return!1;default:return!1}}function Yn(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Qn(e){if(jn){var t=Gn;if(t){var n=t;if(!Jn(e,t)){if(Yn(e))throw Error(o(418));t=Be(n);var r=Wn;t&&Jn(e,t)?Xn(r,n):(e.flags=-4097&e.flags|2,jn=!1,Wn=e)}}else{if(Yn(e))throw Error(o(418));e.flags=-4097&e.flags|2,jn=!1,Wn=e}}}function Zn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Wn=e}function Kn(e){if(!Q||e!==Wn)return!1;if(!jn)return Zn(e),jn=!0,!1;if(3!==e.tag&&(5!==e.tag||Ze(e.type)&&!W(e.type,e.memoizedProps))){var t=Gn;if(t){if(Yn(e)){for(e=Gn;e;)e=Be(e);throw Error(o(418))}for(;t;)Xn(e,t),t=Be(t)}}if(Zn(e),13===e.tag){if(!Q)throw Error(o(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));Gn=qe(e)}else Gn=Wn?Be(e.stateNode):null;return!0}function $n(){Q&&(Gn=Wn=null,Vn=jn=!1)}function er(e){null===qn?qn=[e]:qn.push(e)}function tr(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===_n&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function nr(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rr(e){return(0,e._init)(e._payload)}function ir(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=es(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function f(e,t,n,r){return null===t||6!==t.tag?((t=is(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n,r){var a=n.type;return a===c?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===b&&rr(a)===t.type)?((r=i(t,n.props)).ref=tr(e,t,n),r.return=e,r):((r=ts(n.type,n.key,n.props,null,e.mode,r)).ref=tr(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=as(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,a){return null===t||7!==t.tag?((t=ns(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function v(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=is(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case u:return(n=ts(t.type,t.key,t.props,null,e.mode,n)).ref=tr(e,null,t),n.return=e,n;case l:return(t=as(t,e.mode,n)).return=e,t;case b:return v(e,(0,t._init)(t._payload),n)}if(I(t)||_(t))return(t=ns(t,e.mode,n,null)).return=e,t;nr(e,t)}return null}function m(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:f(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case u:return n.key===i?h(e,t,n,r):null;case l:return n.key===i?d(e,t,n,r):null;case b:return m(e,t,(i=n._init)(n._payload),r)}if(I(n)||_(n))return null!==i?null:p(e,t,n,r,null);nr(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return f(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case u:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i);case l:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i);case b:return y(e,t,n,(0,r._init)(r._payload),i)}if(I(r)||_(r))return p(t,e=e.get(n)||null,r,i,null);nr(t,r)}return null}function g(i,o,s,u){for(var l=null,c=null,f=o,h=o=0,d=null;null!==f&&h<s.length;h++){f.index>h?(d=f,f=null):d=f.sibling;var p=m(i,f,s[h],u);if(null===p){null===f&&(f=d);break}e&&f&&null===p.alternate&&t(i,f),o=a(p,o,h),null===c?l=p:c.sibling=p,c=p,f=d}if(h===s.length)return n(i,f),jn&&zn(i,h),l;if(null===f){for(;h<s.length;h++)null!==(f=v(i,s[h],u))&&(o=a(f,o,h),null===c?l=f:c.sibling=f,c=f);return jn&&zn(i,h),l}for(f=r(i,f);h<s.length;h++)null!==(d=y(f,i,h,s[h],u))&&(e&&null!==d.alternate&&f.delete(null===d.key?h:d.key),o=a(d,o,h),null===c?l=d:c.sibling=d,c=d);return e&&f.forEach((function(e){return t(i,e)})),jn&&zn(i,h),l}function w(i,s,u,l){var c=_(u);if("function"!==typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var f=c=null,h=s,d=s=0,p=null,g=u.next();null!==h&&!g.done;d++,g=u.next()){h.index>d?(p=h,h=null):p=h.sibling;var b=m(i,h,g.value,l);if(null===b){null===h&&(h=p);break}e&&h&&null===b.alternate&&t(i,h),s=a(b,s,d),null===f?c=b:f.sibling=b,f=b,h=p}if(g.done)return n(i,h),jn&&zn(i,d),c;if(null===h){for(;!g.done;d++,g=u.next())null!==(g=v(i,g.value,l))&&(s=a(g,s,d),null===f?c=g:f.sibling=g,f=g);return jn&&zn(i,d),c}for(h=r(i,h);!g.done;d++,g=u.next())null!==(g=y(h,i,d,g.value,l))&&(e&&null!==g.alternate&&h.delete(null===g.key?d:g.key),s=a(g,s,d),null===f?c=g:f.sibling=g,f=g);return e&&h.forEach((function(e){return t(i,e)})),jn&&zn(i,d),c}return function e(r,a,o,f){if("object"===typeof o&&null!==o&&o.type===c&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case u:e:{for(var h=o.key,d=a;null!==d;){if(d.key===h){if((h=o.type)===c){if(7===d.tag){n(r,d.sibling),(a=i(d,o.props.children)).return=r,r=a;break e}}else if(d.elementType===h||"object"===typeof h&&null!==h&&h.$$typeof===b&&rr(h)===d.type){n(r,d.sibling),(a=i(d,o.props)).ref=tr(r,d,o),a.return=r,r=a;break e}n(r,d);break}t(r,d),d=d.sibling}o.type===c?((a=ns(o.props.children,r.mode,f,o.key)).return=r,r=a):((f=ts(o.type,o.key,o.props,null,r.mode,f)).ref=tr(r,a,o),f.return=r,r=f)}return s(r);case l:e:{for(d=o.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=as(o,r.mode,f)).return=r,r=a}return s(r);case b:return e(r,a,(d=o._init)(o._payload),f)}if(I(o))return g(r,a,o,f);if(_(o))return w(r,a,o,f);nr(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=is(o,r.mode,f)).return=r,r=a),s(r)):n(r,a)}}var ar=ir(!0),or=ir(!1),sr={},ur=ot(sr),lr=ot(sr),cr=ot(sr);function fr(e){if(e===sr)throw Error(o(174));return e}function hr(e,t){ut(cr,t),ut(lr,e),ut(ur,sr),e=N(t),st(ur),ut(ur,e)}function dr(){st(ur),st(lr),st(cr)}function pr(e){var t=fr(cr.current),n=fr(ur.current);n!==(t=O(n,e.type,t))&&(ut(lr,e),ut(ur,t))}function vr(e){lr.current===e&&(st(ur),st(lr))}var mr=ot(0);function yr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||De(n)||Ue(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gr=[];function br(){for(var e=0;e<gr.length;e++){var t=gr[e];X?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}gr.length=0}var wr=s.ReactCurrentDispatcher,xr=s.ReactCurrentBatchConfig,_r=0,kr=null,Sr=null,Mr=null,Ar=!1,Tr=!1,Er=0,Cr=0;function Pr(){throw Error(o(321))}function Rr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vt(e[n],t[n]))return!1;return!0}function Ir(e,t,n,r,i,a){if(_r=a,kr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wr.current=null===e||null===e.memoizedState?pi:vi,e=n(r,i),Tr){a=0;do{if(Tr=!1,Er=0,25<=a)throw Error(o(301));a+=1,Mr=Sr=null,t.updateQueue=null,wr.current=mi,e=n(r,i)}while(Tr)}if(wr.current=di,t=null!==Sr&&null!==Sr.next,_r=0,Mr=Sr=kr=null,Ar=!1,t)throw Error(o(300));return e}function Lr(){var e=0!==Er;return Er=0,e}function Nr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Mr?kr.memoizedState=Mr=e:Mr=Mr.next=e,Mr}function Or(){if(null===Sr){var e=kr.alternate;e=null!==e?e.memoizedState:null}else e=Sr.next;var t=null===Mr?kr.memoizedState:Mr.next;if(null!==t)Mr=t,Sr=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Sr=e).memoizedState,baseState:Sr.baseState,baseQueue:Sr.baseQueue,queue:Sr.queue,next:null},null===Mr?kr.memoizedState=Mr=e:Mr=Mr.next=e}return Mr}function Dr(e,t){return"function"===typeof t?t(e):t}function Ur(e){var t=Or(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Sr,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,l=null,c=a;do{var f=c.lane;if((_r&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=h,s=r):l=l.next=h,kr.lanes|=f,to|=f}c=c.next}while(null!==c&&c!==a);null===l?s=r:l.next=u,Vt(r,t.memoizedState)||(Di=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,kr.lanes|=a,to|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function zr(e){var t=Or(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Vt(a,t.memoizedState)||(Di=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Br(){}function Fr(e,t){var n=kr,r=Or(),i=t(),a=!Vt(r.memoizedState,i);if(a&&(r.memoizedState=i,Di=!0),r=r.queue,Zr(Gr.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==Mr&&1&Mr.memoizedState.tag){if(n.flags|=2048,qr(9,Wr.bind(null,n,r,i,t),void 0,null),null===Ja)throw Error(o(349));0!==(30&_r)||Hr(n,t,i)}return i}function Hr(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=kr.updateQueue)?(t={lastEffect:null,stores:null},kr.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Wr(e,t,n,r){t.value=n,t.getSnapshot=r,jr(t)&&ko(e,1,-1)}function Gr(e,t,n){return n((function(){jr(t)&&ko(e,1,-1)}))}function jr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vt(e,n)}catch(r){return!0}}function Vr(e){var t=Nr();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:e},t.queue=e,e=e.dispatch=ui.bind(null,kr,e),[t.memoizedState,e]}function qr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=kr.updateQueue)?(t={lastEffect:null,stores:null},kr.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Xr(){return Or().memoizedState}function Jr(e,t,n,r){var i=Nr();kr.flags|=e,i.memoizedState=qr(1|t,n,void 0,void 0===r?null:r)}function Yr(e,t,n,r){var i=Or();r=void 0===r?null:r;var a=void 0;if(null!==Sr){var o=Sr.memoizedState;if(a=o.destroy,null!==r&&Rr(r,o.deps))return void(i.memoizedState=qr(t,n,a,r))}kr.flags|=e,i.memoizedState=qr(1|t,n,a,r)}function Qr(e,t){return Jr(8390656,8,e,t)}function Zr(e,t){return Yr(2048,8,e,t)}function Kr(e,t){return Yr(4,2,e,t)}function $r(e,t){return Yr(4,4,e,t)}function ei(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ti(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Yr(4,4,ei.bind(null,t,e),n)}function ni(){}function ri(e,t){var n=Or();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Rr(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ii(e,t){var n=Or();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Rr(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ai(e,t){var n=It;It=0!==n&&4>n?n:4,e(!0);var r=xr.transition;xr.transition={};try{e(!1),t()}finally{It=n,xr.transition=r}}function oi(){return Or().memoizedState}function si(e,t,n){var r=_o(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},li(e)?ci(t,n):(fi(e,t,n),null!==(e=ko(e,r,n=xo()))&&hi(e,t,r))}function ui(e,t,n){var r=_o(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(li(e))ci(t,i);else{fi(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Vt(s,o))return}catch(u){}null!==(e=ko(e,r,n=xo()))&&hi(e,t,r)}}function li(e){var t=e.alternate;return e===kr||null!==t&&t===kr}function ci(e,t){Tr=Ar=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fi(e,t,n){null!==Ja&&0!==(1&e.mode)&&0===(2&Xa)?(null===(e=t.interleaved)?(n.next=n,null===hn?hn=[t]:hn.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function hi(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Rt(e,n)}}var di={readContext:fn,useCallback:Pr,useContext:Pr,useEffect:Pr,useImperativeHandle:Pr,useInsertionEffect:Pr,useLayoutEffect:Pr,useMemo:Pr,useReducer:Pr,useRef:Pr,useState:Pr,useDebugValue:Pr,useDeferredValue:Pr,useTransition:Pr,useMutableSource:Pr,useSyncExternalStore:Pr,useId:Pr,unstable_isNewReconciler:!1},pi={readContext:fn,useCallback:function(e,t){return Nr().memoizedState=[e,void 0===t?null:t],e},useContext:fn,useEffect:Qr,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Jr(4194308,4,ei.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Jr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Jr(4,2,e,t)},useMemo:function(e,t){var n=Nr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Nr();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=si.bind(null,kr,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Nr().memoizedState=e},useState:Vr,useDebugValue:ni,useDeferredValue:function(e){var t=Vr(e),n=t[0],r=t[1];return Qr((function(){var t=xr.transition;xr.transition={};try{r(e)}finally{xr.transition=t}}),[e]),n},useTransition:function(){var e=Vr(!1),t=e[0];return e=ai.bind(null,e[1]),Nr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=kr,i=Nr();if(jn){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ja)throw Error(o(349));0!==(30&_r)||Hr(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Qr(Gr.bind(null,r,a,e),[e]),r.flags|=2048,qr(9,Wr.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Nr(),t=Ja.identifierPrefix;if(jn){var n=Un;t=":"+t+"R"+(n=(Dn&~(1<<32-wt(Dn)-1)).toString(32)+n),0<(n=Er++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Cr++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vi={readContext:fn,useCallback:ri,useContext:fn,useEffect:Zr,useImperativeHandle:ti,useInsertionEffect:Kr,useLayoutEffect:$r,useMemo:ii,useReducer:Ur,useRef:Xr,useState:function(){return Ur(Dr)},useDebugValue:ni,useDeferredValue:function(e){var t=Ur(Dr),n=t[0],r=t[1];return Zr((function(){var t=xr.transition;xr.transition={};try{r(e)}finally{xr.transition=t}}),[e]),n},useTransition:function(){return[Ur(Dr)[0],Or().memoizedState]},useMutableSource:Br,useSyncExternalStore:Fr,useId:oi,unstable_isNewReconciler:!1},mi={readContext:fn,useCallback:ri,useContext:fn,useEffect:Zr,useImperativeHandle:ti,useInsertionEffect:Kr,useLayoutEffect:$r,useMemo:ii,useReducer:zr,useRef:Xr,useState:function(){return zr(Dr)},useDebugValue:ni,useDeferredValue:function(e){var t=zr(Dr),n=t[0],r=t[1];return Zr((function(){var t=xr.transition;xr.transition={};try{r(e)}finally{xr.transition=t}}),[e]),n},useTransition:function(){return[zr(Dr)[0],Or().memoizedState]},useMutableSource:Br,useSyncExternalStore:Fr,useId:oi,unstable_isNewReconciler:!1};function yi(e,t){try{var n="",r=t;do{n+=$t(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function gi(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var bi,wi,xi,_i,ki="function"===typeof WeakMap?WeakMap:Map;function Si(e,t,n){(n=mn(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){co||(co=!0,fo=r),gi(0,t)},n}function Mi(e,t,n){(n=mn(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){gi(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){gi(0,t),"function"!==typeof r&&(null===ho?ho=new Set([this]):ho.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Ai(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ki;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=qo.bind(null,e,t,n),t.then(e,e))}function Ti(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ei(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=mn(-1,1)).tag=2,yn(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function Ci(e){e.flags|=4}function Pi(e,t){if(null!==e&&e.child===t.child)return!0;if(0!==(16&t.flags))return!1;for(e=t.child;null!==e;){if(0!==(12854&e.flags)||0!==(12854&e.subtreeFlags))return!1;e=e.sibling}return!0}if(J)bi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)B(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},wi=function(){},xi=function(e,t,n,r,i){if((e=e.memoizedProps)!==r){var a=t.stateNode,o=fr(ur.current);n=H(a,n,e,r,i,o),(t.updateQueue=n)&&Ci(t)}},_i=function(e,t,n,r){n!==r&&Ci(t)};else if(Y){bi=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=Re(a,i.type,i.memoizedProps,i)),B(e,a)}else if(6===i.tag)a=i.stateNode,n&&r&&(a=Ie(a,i.memoizedProps,i)),B(e,a);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(a=i.child)&&(a.return=i),bi(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var Ri=function e(t,n,r,i){for(var a=n.child;null!==a;){if(5===a.tag){var o=a.stateNode;r&&i&&(o=Re(o,a.type,a.memoizedProps,a)),Ee(t,o)}else if(6===a.tag)o=a.stateNode,r&&i&&(o=Ie(o,a.memoizedProps,a)),Ee(t,o);else if(4!==a.tag)if(22===a.tag&&null!==a.memoizedState)null!==(o=a.child)&&(o.return=a),e(t,a,!0,!0);else if(null!==a.child){a.child.return=a,a=a.child;continue}if(a===n)break;for(;null===a.sibling;){if(null===a.return||a.return===n)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};wi=function(e,t){var n=t.stateNode;if(!Pi(e,t)){e=n.containerInfo;var r=Te(e);Ri(r,t,!1,!1),n.pendingChildren=r,Ci(t),Ce(e,r)}},xi=function(e,t,n,r,i){var a=e.stateNode,o=e.memoizedProps;if((e=Pi(e,t))&&o===r)t.stateNode=a;else{var s=t.stateNode,u=fr(ur.current),l=null;o!==r&&(l=H(s,n,o,r,i,u)),e&&null===l?t.stateNode=a:(a=Ae(a,l,n,o,r,t,e,s),F(a,n,r,i,u)&&Ci(t),t.stateNode=a,e?Ci(t):bi(a,t,!1,!1))}},_i=function(e,t,n,r){n!==r?(e=fr(cr.current),n=fr(ur.current),t.stateNode=G(r,e,n,t),Ci(t)):t.stateNode=e.stateNode}}else wi=function(){},xi=function(){},_i=function(){};function Ii(e,t){if(!jn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Li(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ni(e,t,n){var r=t.pendingProps;switch(Hn(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Li(t),null;case 1:case 17:return pt(t.type)&&vt(),Li(t),null;case 3:return r=t.stateNode,dr(),st(ft),st(ct),br(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Kn(t)?Ci(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==qn&&(Eo(qn),qn=null))),wi(e,t),Li(t),null;case 5:vr(t),n=fr(cr.current);var i=t.type;if(null!==e&&null!=t.stateNode)xi(e,t,i,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Li(t),null}if(e=fr(ur.current),Kn(t)){if(!Q)throw Error(o(175));e=Ge(t.stateNode,t.type,t.memoizedProps,n,e,t,!Vn),t.updateQueue=e,null!==e&&Ci(t)}else{var a=z(i,r,n,e,t);bi(a,t,!1,!1),t.stateNode=a,F(a,i,r,n,e)&&Ci(t)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Li(t),null;case 6:if(e&&null!=t.stateNode)_i(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=fr(cr.current),n=fr(ur.current),Kn(t)){if(!Q)throw Error(o(176));if(e=t.stateNode,r=t.memoizedProps,(n=je(e,r,t,!Vn))&&null!==(i=Wn))switch(a=0!==(1&i.mode),i.tag){case 3:Ke(i.stateNode.containerInfo,e,r,a);break;case 5:$e(i.type,i.memoizedProps,i.stateNode,e,r,a)}n&&Ci(t)}else t.stateNode=G(r,e,n,t)}return Li(t),null;case 13:if(st(mr),r=t.memoizedState,jn&&null!==Gn&&0!==(1&t.mode)&&0===(128&t.flags)){for(e=Gn;e;)e=Be(e);return $n(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Kn(t),null===e){if(!r)throw Error(o(318));if(!Q)throw Error(o(344));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(o(317));Ve(e,t)}else $n(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return Li(t),null}return null!==qn&&(Eo(qn),qn=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Kn(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&mr.current)?0===$a&&($a=3):Do())),null!==t.updateQueue&&(t.flags|=4),Li(t),null);case 4:return dr(),wi(e,t),null===e&&K(t.stateNode.containerInfo),Li(t),null;case 10:return un(t.type._context),Li(t),null;case 19:if(st(mr),null===(i=t.memoizedState))return Li(t),null;if(r=0!==(128&t.flags),null===(a=i.rendering))if(r)Ii(i,!1);else{if(0!==$a||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=yr(e))){for(t.flags|=128,Ii(i,!1),null!==(e=a.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,r=t.child;null!==r;)i=e,(n=r).flags&=14680066,null===(a=n.alternate)?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=null===i?null:{lanes:i.lanes,firstContext:i.firstContext}),r=r.sibling;return ut(mr,1&mr.current|2),t.child}e=e.sibling}null!==i.tail&&zt()>so&&(t.flags|=128,r=!0,Ii(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=yr(a))){if(t.flags|=128,r=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),Ii(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!jn)return Li(t),null}else 2*zt()-i.renderingStartTime>so&&1073741824!==n&&(t.flags|=128,r=!0,Ii(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=zt(),t.sibling=null,e=mr.current,ut(mr,r?1&e|2:1&e),t):(Li(t),null);case 22:case 23:return Io(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Za)&&(Li(t),J&&6&t.subtreeFlags&&(t.flags|=8192)):Li(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}var Oi=s.ReactCurrentOwner,Di=!1;function Ui(e,t,n,r){t.child=null===e?or(t,null,n,r):ar(t,e.child,n,r)}function zi(e,t,n,r,i){n=n.render;var a=t.ref;return cn(t,i),r=Ir(e,t,n,r,a,i),n=Lr(),null===e||Di?(jn&&n&&Fn(t),t.flags|=1,Ui(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ia(e,t,i))}function Bi(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||$o(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ts(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Fi(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:Kt)(o,r)&&e.ref===t.ref)return ia(e,t,i)}return t.flags|=1,(e=es(a,r)).ref=t.ref,e.return=t,t.child=e}function Fi(e,t,n,r,i){if(null!==e&&Kt(e.memoizedProps,r)&&e.ref===t.ref){if(Di=!1,0===(e.lanes&i))return t.lanes=e.lanes,ia(e,t,i);0!==(131072&e.flags)&&(Di=!0)}return Gi(e,t,n,r,i)}function Hi(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},ut(Ka,Za),Za|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,ut(Ka,Za),Za|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,ut(Ka,Za),Za|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,ut(Ka,Za),Za|=r;return Ui(e,t,i,n),t.child}function Wi(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Gi(e,t,n,r,i){var a=pt(n)?ht:ct.current;return a=dt(t,a),cn(t,i),n=Ir(e,t,n,r,a,i),r=Lr(),null===e||Di?(jn&&r&&Fn(t),t.flags|=1,Ui(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ia(e,t,i))}function ji(e,t,n,r,i){if(pt(n)){var a=!0;gt(t)}else a=!1;if(cn(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),An(t,n,r),En(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=fn(l):l=dt(t,l=pt(n)?ht:ct.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&Tn(t,o,r,l),dn=!1;var h=t.memoizedState;o.state=h,wn(t,r,o,i),u=t.memoizedState,s!==r||h!==u||ft.current||dn?("function"===typeof c&&(kn(t,n,c,r),u=t.memoizedState),(s=dn||Mn(t,n,s,r,h,u,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,vn(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:en(t.type,s),o.props=l,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=fn(u):u=dt(t,u=pt(n)?ht:ct.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Tn(t,o,r,u),dn=!1,h=t.memoizedState,o.state=h,wn(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||ft.current||dn?("function"===typeof d&&(kn(t,n,d,r),p=t.memoizedState),(l=dn||Mn(t,n,l,r,h,p,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Vi(e,t,n,r,a,i)}function Vi(e,t,n,r,i,a){Wi(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&bt(t,n,!1),ia(e,t,a);r=t.stateNode,Oi.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ar(t,e.child,null,a),t.child=ar(t,null,s,a)):Ui(e,t,s,a),t.memoizedState=r.state,i&&bt(t,n,!0),t.child}function qi(e){var t=e.stateNode;t.pendingContext?mt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&mt(0,t.context,!1),hr(e,t.containerInfo)}function Xi(e,t,n,r,i){return $n(),er(i),t.flags|=256,Ui(e,t,n,r),t.child}var Ji={dehydrated:null,treeContext:null,retryLane:0};function Yi(e){return{baseLanes:e,cachePool:null}}function Qi(e,t,n){var r,i=t.pendingProps,a=mr.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ut(mr,1&a),null===e)return Qn(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:Ue(e)?t.lanes=8:t.lanes=1073741824,null):(a=i.children,e=i.fallback,s?(i=t.mode,s=t.child,a={mode:"hidden",children:a},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=a):s=rs(a,i,0,null),e=ns(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Yi(n),t.memoizedState=Ji,e):Zi(t,a));if(null!==(a=e.memoizedState)){if(null!==(r=a.dehydrated)){if(u)return 256&t.flags?(t.flags&=-257,ea(e,t,n,Error(o(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,a=t.mode,i=rs({mode:"visible",children:i.children},a,0,null),(s=ns(s,a,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!==(1&t.mode)&&ar(t,e.child,null,n),t.child.memoizedState=Yi(n),t.memoizedState=Ji,s);if(0===(1&t.mode))t=ea(e,t,n,null);else if(Ue(r))t=ea(e,t,n,Error(o(419)));else if(i=0!==(n&e.childLanes),Di||i){if(null!==(i=Ja)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=0!==(s&(i.suspendedLanes|n))?0:s)&&i!==a.retryLane&&(a.retryLane=i,ko(e,i,-1))}Do(),t=ea(e,t,n,Error(o(421)))}else De(r)?(t.flags|=128,t.child=e.child,t=Jo.bind(null,e),ze(r,t),t=null):(n=a.treeContext,Q&&(Gn=We(r),Wn=t,jn=!0,qn=null,Vn=!1,null!==n&&(Ln[Nn++]=Dn,Ln[Nn++]=Un,Ln[Nn++]=On,Dn=n.id,Un=n.overflow,On=t)),(t=Zi(t,t.pendingProps.children)).flags|=4096);return t}return s?(i=$i(e,t,i.children,i.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?Yi(n):{baseLanes:a.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Ji,i):(n=Ki(e,t,i.children,n),t.memoizedState=null,n)}return s?(i=$i(e,t,i.children,i.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?Yi(n):{baseLanes:a.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Ji,i):(n=Ki(e,t,i.children,n),t.memoizedState=null,n)}function Zi(e,t){return(t=rs({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ki(e,t,n,r){var i=e.child;return e=i.sibling,n=es(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function $i(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,s={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=es(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=es(o,r):(r=ns(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ea(e,t,n,r){return null!==r&&er(r),ar(t,e.child,null,n),(e=Zi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ta(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ln(e.return,t,n)}function na(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function ra(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Ui(e,t,r.children,n),0!==(2&(r=mr.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ta(e,n,t);else if(19===e.tag)ta(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ut(mr,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===yr(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),na(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===yr(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}na(t,!0,n,null,a);break;case"together":na(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ia(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),to|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=es(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=es(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function aa(e,t){switch(Hn(t),t.tag){case 1:return pt(t.type)&&vt(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return dr(),st(ft),st(ct),br(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return vr(t),null;case 13:if(st(mr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));$n()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return st(mr),null;case 4:return dr(),null;case 10:return un(t.type._context),null;case 22:case 23:return Io(),null;default:return null}}var oa=!1,sa=!1,ua="function"===typeof WeakSet?WeakSet:Set,la=null;function ca(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Vo(e,t,r)}else n.current=null}function fa(e,t,n){try{n()}catch(r){Vo(e,t,r)}}var ha=!1;function da(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&fa(t,n,a)}i=i.next}while(i!==r)}}function pa(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function va(e){var t=e.ref;if(null!==t){var n=e.stateNode;if(5===e.tag)e=L(n);else e=n;"function"===typeof t?t(e):t.current=e}}function ma(e,t,n){if(jt&&"function"===typeof jt.onCommitFiberUnmount)try{jt.onCommitFiberUnmount(Gt,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&fa(t,n,a),r=r.next}while(r!==e)}break;case 1:if(ca(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Vo(t,n,o)}break;case 5:ca(t,n);break;case 4:J?Sa(e,t,n):Y&&Y&&(t=t.stateNode.containerInfo,n=Te(t),Pe(t,n))}}function ya(e,t,n){for(var r=t;;)if(ma(e,r,n),null===r.child||J&&4===r.tag){if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function ga(e){var t=e.alternate;null!==t&&(e.alternate=null,ga(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ee(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ba(e){return 5===e.tag||3===e.tag||4===e.tag}function wa(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ba(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function xa(e){if(J){e:{for(var t=e.return;null!==t;){if(ba(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(we(t),n.flags&=-33),ka(e,n=wa(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,_a(e,n=wa(e),t);break;default:throw Error(o(161))}}}function _a(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ye(n,e,t):he(n,e);else if(4!==r&&null!==(e=e.child))for(_a(e,t,n),e=e.sibling;null!==e;)_a(e,t,n),e=e.sibling}function ka(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?me(n,e,t):fe(n,e);else if(4!==r&&null!==(e=e.child))for(ka(e,t,n),e=e.sibling;null!==e;)ka(e,t,n),e=e.sibling}function Sa(e,t,n){for(var r,i,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag)ya(e,a,n),i?be(r,a.stateNode):ge(r,a.stateNode);else if(18===a.tag)i?Qe(r,a.stateNode):Ye(r,a.stateNode);else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(ma(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function Ma(e,t){if(J){switch(t.tag){case 0:case 11:case 14:case 15:return da(3,t,t.return),pa(3,t),void da(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&ve(n,a,i,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(o(162));return n=t.memoizedProps,void de(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void(Q&&null!==e&&e.memoizedState.isDehydrated&&Xe(t.stateNode.containerInfo));case 13:case 19:return void Aa(t)}throw Error(o(163))}switch(t.tag){case 0:case 11:case 14:case 15:return da(3,t,t.return),pa(3,t),void da(5,t,t.return);case 12:case 22:case 23:return;case 13:case 19:return void Aa(t);case 3:Q&&null!==e&&e.memoizedState.isDehydrated&&Xe(t.stateNode.containerInfo)}e:if(Y){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:t=t.stateNode,Pe(t.containerInfo,t.pendingChildren);break e}throw Error(o(163))}}function Aa(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ua),t.forEach((function(t){var r=Yo.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ta(e,t,n){la=e,Ea(e,t,n)}function Ea(e,t,n){for(var r=0!==(1&e.mode);null!==la;){var i=la,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||oa;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||sa;s=oa;var l=sa;if(oa=o,(sa=u)&&!l)for(la=i;null!==la;)u=(o=la).child,22===o.tag&&null!==o.memoizedState?Ra(i):null!==u?(u.return=o,la=u):Ra(i);for(;null!==a;)la=a,Ea(a,t,n),a=a.sibling;la=i,oa=s,sa=l}Ca(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,la=a):Ca(e)}}function Ca(e){for(;null!==la;){var t=la;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:sa||pa(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!sa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:en(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&xn(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=L(t.child.stateNode);break;case 1:n=t.child.stateNode}xn(t,s,n)}break;case 5:var u=t.stateNode;null===n&&4&t.flags&&pe(u,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(Q&&null===t.memoizedState){var l=t.alternate;if(null!==l){var c=l.memoizedState;if(null!==c){var f=c.dehydrated;null!==f&&Je(f)}}}break;default:throw Error(o(163))}sa||512&t.flags&&va(t)}catch(h){Vo(t,t.return,h)}}if(t===e){la=null;break}if(null!==(n=t.sibling)){n.return=t.return,la=n;break}la=t.return}}function Pa(e){for(;null!==la;){var t=la;if(t===e){la=null;break}var n=t.sibling;if(null!==n){n.return=t.return,la=n;break}la=t.return}}function Ra(e){for(;null!==la;){var t=la;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{pa(4,t)}catch(u){Vo(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Vo(t,i,u)}}var a=t.return;try{va(t)}catch(u){Vo(t,a,u)}break;case 5:var o=t.return;try{va(t)}catch(u){Vo(t,o,u)}}}catch(u){Vo(t,t.return,u)}if(t===e){la=null;break}var s=t.sibling;if(null!==s){s.return=t.return,la=s;break}la=t.return}}var Ia=0,La=1,Na=2,Oa=3,Da=4;if("function"===typeof Symbol&&Symbol.for){var Ua=Symbol.for;Ia=Ua("selector.component"),La=Ua("selector.has_pseudo_class"),Na=Ua("selector.role"),Oa=Ua("selector.test_id"),Da=Ua("selector.text")}function za(e){var t=Z(e);if(null!=t){if("string"!==typeof t.memoizedProps["data-testname"])throw Error(o(364));return t}if(null===(e=ie(e)))throw Error(o(362));return e.stateNode.current}function Ba(e,t){switch(t.$$typeof){case Ia:if(e.type===t.value)return!0;break;case La:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],i=e[n++],a=t[i];if(5!==r.tag||!se(r)){for(;null!=a&&Ba(r,a);)a=t[++i];if(i===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,i),r=r.sibling}}t=!1}return t;case Na:if(5===e.tag&&ue(e.stateNode,t.value))return!0;break;case Da:if((5===e.tag||6===e.tag)&&(null!==(e=oe(e))&&0<=e.indexOf(t.value)))return!0;break;case Oa:if(5===e.tag&&("string"===typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Fa(e){switch(e.$$typeof){case Ia:return"<"+(k(e.value)||"Unknown")+">";case La:return":has("+(Fa(e)||"")+")";case Na:return'[role="'+e.value+'"]';case Da:return'"'+e.value+'"';case Oa:return'[data-testname="'+e.value+'"]';default:throw Error(o(365))}}function Ha(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],a=e[r++],o=t[a];if(5!==i.tag||!se(i)){for(;null!=o&&Ba(i,o);)o=t[++a];if(a===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,a),i=i.sibling}}return n}function Wa(e,t){if(!re)throw Error(o(363));e=Ha(e=za(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)se(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var Ga=Math.ceil,ja=s.ReactCurrentDispatcher,Va=s.ReactCurrentOwner,qa=s.ReactCurrentBatchConfig,Xa=0,Ja=null,Ya=null,Qa=0,Za=0,Ka=ot(0),$a=0,eo=null,to=0,no=0,ro=0,io=null,ao=null,oo=0,so=1/0;function uo(){so=zt()+500}var lo,co=!1,fo=null,ho=null,po=!1,vo=null,mo=0,yo=0,go=null,bo=-1,wo=0;function xo(){return 0!==(6&Xa)?zt():-1!==bo?bo:bo=zt()}function _o(e){return 0===(1&e.mode)?1:0!==(2&Xa)&&0!==Qa?Qa&-Qa:null!==Zt.transition?(0===wo&&(e=kt,0===(4194240&(kt<<=1))&&(kt=64),wo=e),wo):0!==(e=It)?e:$()}function ko(e,t,n){if(50<yo)throw yo=0,go=null,Error(o(185));var r=So(e,t);return null===r?null:(Pt(r,t,n),0!==(2&Xa)&&r===Ja||(r===Ja&&(0===(2&Xa)&&(no|=t),4===$a&&Co(r,Qa)),Mo(r,n),1===t&&0===Xa&&0===(1&e.mode)&&(uo(),Xt&&Qt())),r)}function So(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Mo(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-wt(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=Tt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=At(e,e===Ja?Qa:0);if(0===r)null!==n&&Ot(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ot(n),1===t)0===e.tag?function(e){Xt=!0,Yt(e)}(Po.bind(null,e)):Yt(Po.bind(null,e)),te?ne((function(){0===Xa&&Qt()})):Nt(Bt,Qt),n=null;else{switch(Lt(r)){case 1:n=Bt;break;case 4:n=Ft;break;case 16:default:n=Ht;break;case 536870912:n=Wt}n=Qo(n,Ao.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ao(e,t){if(bo=-1,wo=0,0!==(6&Xa))throw Error(o(327));var n=e.callbackNode;if(Go()&&e.callbackNode!==n)return null;var r=At(e,e===Ja?Qa:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Uo(e,r);else{t=r;var i=Xa;Xa|=2;var a=Oo();for(Ja===e&&Qa===t||(uo(),Lo(e,t));;)try{Bo();break}catch(u){No(e,u)}on(),ja.current=a,Xa=i,null!==Ya?t=0:(Ja=null,Qa=0,t=$a)}if(0!==t){if(2===t&&(0!==(i=Et(e))&&(r=i,t=To(e,i))),1===t)throw n=eo,Lo(e,0),Co(e,r),Mo(e,zt()),n;if(6===t)Co(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Vt(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Uo(e,r))&&(0!==(a=Et(e))&&(r=a,t=To(e,a))),1===t))throw n=eo,Lo(e,0),Co(e,r),Mo(e,zt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Wo(e,ao);break;case 3:if(Co(e,r),(130023424&r)===r&&10<(t=oo+500-zt())){if(0!==At(e,0))break;if(((i=e.suspendedLanes)&r)!==r){xo(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=j(Wo.bind(null,e,ao),t);break}Wo(e,ao);break;case 4:if(Co(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-wt(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=zt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ga(r/1960))-r)){e.timeoutHandle=j(Wo.bind(null,e,ao),r);break}Wo(e,ao);break;default:throw Error(o(329))}}}return Mo(e,zt()),e.callbackNode===n?Ao.bind(null,e):null}function To(e,t){var n=io;return e.current.memoizedState.isDehydrated&&(Lo(e,t).flags|=256),2!==(e=Uo(e,t))&&(t=ao,ao=n,null!==t&&Eo(t)),e}function Eo(e){null===ao?ao=e:ao.push.apply(ao,e)}function Co(e,t){for(t&=~ro,t&=~no,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wt(t),r=1<<n;e[n]=-1,t&=~r}}function Po(e){if(0!==(6&Xa))throw Error(o(327));Go();var t=At(e,0);if(0===(1&t))return Mo(e,zt()),null;var n=Uo(e,t);if(0!==e.tag&&2===n){var r=Et(e);0!==r&&(t=r,n=To(e,r))}if(1===n)throw n=eo,Lo(e,0),Co(e,t),Mo(e,zt()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wo(e,ao),Mo(e,zt()),null}function Ro(e){null!==vo&&0===vo.tag&&0===(6&Xa)&&Go();var t=Xa;Xa|=1;var n=qa.transition,r=It;try{if(qa.transition=null,It=1,e)return e()}finally{It=r,qa.transition=n,0===(6&(Xa=t))&&Qt()}}function Io(){Za=Ka.current,st(Ka)}function Lo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==q&&(e.timeoutHandle=q,V(n)),null!==Ya)for(n=Ya.return;null!==n;){var r=n;switch(Hn(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&vt();break;case 3:dr(),st(ft),st(ct),br();break;case 5:vr(r);break;case 4:dr();break;case 13:case 19:st(mr);break;case 10:un(r.type._context);break;case 22:case 23:Io()}n=n.return}if(Ja=e,Ya=e=es(e.current,null),Qa=Za=t,$a=0,eo=null,ro=no=to=0,ao=io=null,null!==hn){for(t=0;t<hn.length;t++)if(null!==(r=(n=hn[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}hn=null}return e}function No(e,t){for(;;){var n=Ya;try{if(on(),wr.current=di,Ar){for(var r=kr.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Ar=!1}if(_r=0,Mr=Sr=kr=null,Tr=!1,Er=0,Va.current=null,null===n||null===n.return){$a=1,eo=t,Ya=null;break}e:{var a=e,s=n.return,u=n,l=t;if(t=Qa,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=Ti(s);if(null!==p){p.flags&=-257,Ei(p,s,u,0,t),1&p.mode&&Ai(a,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){Ai(a,c,t),Do();break e}l=Error(o(426))}else if(jn&&1&u.mode){var y=Ti(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),Ei(y,s,u,0,t),er(l);break e}}a=l,4!==$a&&($a=2),null===io?io=[a]:io.push(a),l=yi(l,u),u=s;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t,bn(u,Si(0,l,t));break e;case 1:a=l;var g=u.type,b=u.stateNode;if(0===(128&u.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ho||!ho.has(b)))){u.flags|=65536,t&=-t,u.lanes|=t,bn(u,Mi(u,a,t));break e}}u=u.return}while(null!==u)}Ho(n)}catch(w){t=w,Ya===n&&null!==n&&(Ya=n=n.return);continue}break}}function Oo(){var e=ja.current;return ja.current=di,null===e?di:e}function Do(){0!==$a&&3!==$a&&2!==$a||($a=4),null===Ja||0===(268435455&to)&&0===(268435455&no)||Co(Ja,Qa)}function Uo(e,t){var n=Xa;Xa|=2;var r=Oo();for(Ja===e&&Qa===t||Lo(e,t);;)try{zo();break}catch(i){No(e,i)}if(on(),Xa=n,ja.current=r,null!==Ya)throw Error(o(261));return Ja=null,Qa=0,$a}function zo(){for(;null!==Ya;)Fo(Ya)}function Bo(){for(;null!==Ya&&!Dt();)Fo(Ya)}function Fo(e){var t=lo(e.alternate,e,Za);e.memoizedProps=e.pendingProps,null===t?Ho(e):Ya=t,Va.current=null}function Ho(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ni(n,t,Za)))return void(Ya=n)}else{if(null!==(n=aa(n,t)))return n.flags&=32767,void(Ya=n);if(null===e)return $a=6,void(Ya=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ya=t);Ya=t=e}while(null!==t);0===$a&&($a=5)}function Wo(e,t){var n=It,r=qa.transition;try{qa.transition=null,It=1,function(e,t,n){do{Go()}while(null!==vo);if(0!==(6&Xa))throw Error(o(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-wt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,a),e===Ja&&(Ya=Ja=null,Qa=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||po||(po=!0,Qo(Ht,(function(){return Go(),null}))),a=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||a){a=qa.transition,qa.transition=null;var s=It;It=1;var u=Xa;Xa|=4,Va.current=null,function(e,t){for(D(e.containerInfo),la=t;null!==la;)if(t=(e=la).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,la=t;else for(;null!==la;){e=la;try{var n=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==n){var r=n.memoizedProps,i=n.memoizedState,a=e.stateNode,s=a.getSnapshotBeforeUpdate(e.elementType===e.type?r:en(e.type,r),i);a.__reactInternalSnapshotBeforeUpdate=s}break;case 3:J&&Me(e.stateNode.containerInfo);break;default:throw Error(o(163))}}catch(u){Vo(e,e.return,u)}if(null!==(t=e.sibling)){t.return=e.return,la=t;break}la=e.return}n=ha,ha=!1}(e,r),function(e,t){for(la=t;null!==la;){var n=(t=la).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e;J?Sa(a,i,t):ya(a,i,t);var o=i.alternate;null!==o&&(o.return=null),i.return=null}catch(x){Vo(i,t,x)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,la=n;else for(;null!==la;){t=la;try{var s=t.flags;if(32&s&&J&&we(t.stateNode),512&s){var u=t.alternate;if(null!==u){var l=u.ref;null!==l&&("function"===typeof l?l(null):l.current=null)}}if(8192&s)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(oo=zt())}break;case 22:var f=null!==t.memoizedState,h=t.alternate,d=null!==h&&null!==h.memoizedState;if(n=t,J)e:if(r=n,i=f,a=null,J)for(var p=r;;){if(5===p.tag){if(null===a){a=p;var v=p.stateNode;i?xe(v):ke(p.stateNode,p.memoizedProps)}}else if(6===p.tag){if(null===a){var m=p.stateNode;i?_e(m):Se(m,p.memoizedProps)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;a===p&&(a=null),p=p.return}a===p&&(a=null),p.sibling.return=p.return,p=p.sibling}if(f&&!d&&0!==(1&n.mode)){la=n;for(var y=n.child;null!==y;){for(n=la=y;null!==la;){var g=(r=la).child;switch(r.tag){case 0:case 11:case 14:case 15:da(4,r,r.return);break;case 1:ca(r,r.return);var b=r.stateNode;if("function"===typeof b.componentWillUnmount){var w=r.return;try{b.props=r.memoizedProps,b.state=r.memoizedState,b.componentWillUnmount()}catch(x){Vo(r,w,x)}}break;case 5:ca(r,r.return);break;case 22:if(null!==r.memoizedState){Pa(n);continue}}null!==g?(g.return=r,la=g):Pa(n)}y=y.sibling}}}switch(4102&s){case 2:xa(t),t.flags&=-3;break;case 6:xa(t),t.flags&=-3,Ma(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,Ma(t.alternate,t);break;case 4:Ma(t.alternate,t)}}catch(x){Vo(t,t.return,x)}if(null!==(n=t.sibling)){n.return=t.return,la=n;break}la=t.return}}}(e,r),U(e.containerInfo),e.current=r,Ta(r,e,i),Ut(),Xa=u,It=s,qa.transition=a}else e.current=r;if(po&&(po=!1,vo=e,mo=i),a=e.pendingLanes,0===a&&(ho=null),function(e){if(jt&&"function"===typeof jt.onCommitFiberRoot)try{jt.onCommitFiberRoot(Gt,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Mo(e,zt()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(co)throw co=!1,e=fo,fo=null,e;0!==(1&mo)&&0!==e.tag&&Go(),a=e.pendingLanes,0!==(1&a)?e===go?yo++:(yo=0,go=e):yo=0,Qt()}(e,t,n)}finally{qa.transition=r,It=n}return null}function Go(){if(null!==vo){var e=Lt(mo),t=qa.transition,n=It;try{if(qa.transition=null,It=16>e?16:e,null===vo)var r=!1;else{if(e=vo,vo=null,mo=0,0!==(6&Xa))throw Error(o(331));var i=Xa;for(Xa|=4,la=e.current;null!==la;){var a=la,s=a.child;if(0!==(16&la.flags)){var u=a.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(la=c;null!==la;){var f=la;switch(f.tag){case 0:case 11:case 15:da(8,f,a)}var h=f.child;if(null!==h)h.return=f,la=h;else for(;null!==la;){var d=(f=la).sibling,p=f.return;if(ga(f),f===c){la=null;break}if(null!==d){d.return=p,la=d;break}la=p}}}var v=a.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}la=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,la=s;else e:for(;null!==la;){if(0!==(2048&(a=la).flags))switch(a.tag){case 0:case 11:case 15:da(9,a,a.return)}var g=a.sibling;if(null!==g){g.return=a.return,la=g;break e}la=a.return}}var b=e.current;for(la=b;null!==la;){var w=(s=la).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,la=w;else e:for(s=b;null!==la;){if(0!==(2048&(u=la).flags))try{switch(u.tag){case 0:case 11:case 15:pa(9,u)}}catch(_){Vo(u,u.return,_)}if(u===s){la=null;break e}var x=u.sibling;if(null!==x){x.return=u.return,la=x;break e}la=u.return}}if(Xa=i,Qt(),jt&&"function"===typeof jt.onPostCommitFiberRoot)try{jt.onPostCommitFiberRoot(Gt,e)}catch(_){}r=!0}return r}finally{It=n,qa.transition=t}}return!1}function jo(e,t,n){yn(e,t=Si(0,t=yi(n,t),1)),t=xo(),null!==(e=So(e,1))&&(Pt(e,1,t),Mo(e,t))}function Vo(e,t,n){if(3===e.tag)jo(e,e,n);else for(;null!==t;){if(3===t.tag){jo(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ho||!ho.has(r))){yn(t,e=Mi(t,e=yi(n,e),1)),e=xo(),null!==(t=So(t,1))&&(Pt(t,1,e),Mo(t,e));break}}t=t.return}}function qo(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=xo(),e.pingedLanes|=e.suspendedLanes&n,Ja===e&&(Qa&n)===n&&(4===$a||3===$a&&(130023424&Qa)===Qa&&500>zt()-oo?Lo(e,0):ro|=n),Mo(e,t)}function Xo(e,t){0===t&&(0===(1&e.mode)?t=1:(t=St,0===(130023424&(St<<=1))&&(St=4194304)));var n=xo();null!==(e=So(e,t))&&(Pt(e,t,n),Mo(e,n))}function Jo(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Xo(e,n)}function Yo(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Xo(e,n)}function Qo(e,t){return Nt(e,t)}function Zo(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ko(e,t,n,r){return new Zo(e,t,n,r)}function $o(e){return!(!(e=e.prototype)||!e.isReactComponent)}function es(e,t){var n=e.alternate;return null===n?((n=Ko(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ts(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)$o(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case c:return ns(n.children,i,a,t);case f:s=8,i|=8;break;case h:return(e=Ko(12,n,t,2|i)).elementType=h,e.lanes=a,e;case m:return(e=Ko(13,n,t,i)).elementType=m,e.lanes=a,e;case y:return(e=Ko(19,n,t,i)).elementType=y,e.lanes=a,e;case w:return rs(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case d:s=10;break e;case p:s=9;break e;case v:s=11;break e;case g:s=14;break e;case b:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ko(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function ns(e,t,n,r){return(e=Ko(7,e,r,t)).lanes=n,e}function rs(e,t,n,r){return(e=Ko(22,e,r,t)).elementType=w,e.lanes=n,e.stateNode={},e}function is(e,t,n){return(e=Ko(6,e,null,t)).lanes=n,e}function as(e,t,n){return(t=Ko(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function os(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=q,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ct(0),this.expirationTimes=Ct(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ct(0),this.identifierPrefix=r,this.onRecoverableError=i,Q&&(this.mutableSourceEagerHydrationData=null)}function ss(e,t,n,r,i,a,o,s,u){return e=new os(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ko(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},pn(a),e}function us(e){if(!e)return lt;e:{if(M(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(pt(n))return yt(e,n,t)}return t}function ls(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return null===(e=E(t))?null:e.stateNode}function cs(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function fs(e,t){cs(e,t),(e=e.alternate)&&cs(e,t)}function hs(e){return null===(e=E(e))?null:e.stateNode}function ds(){return null}return lo=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ft.current)Di=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Di=!1,function(e,t,n){switch(t.tag){case 3:qi(t),$n();break;case 5:pr(t);break;case 1:pt(t.type)&&gt(t);break;case 4:hr(t,t.stateNode.containerInfo);break;case 10:sn(0,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(ut(mr,1&mr.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Qi(e,t,n):(ut(mr,1&mr.current),null!==(e=ia(e,t,n))?e.sibling:null);ut(mr,1&mr.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return ra(e,t,n);t.flags|=128}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),ut(mr,mr.current),r)break;return null;case 22:case 23:return t.lanes=0,Hi(e,t,n)}return ia(e,t,n)}(e,t,n);Di=0!==(131072&e.flags)}else Di=!1,jn&&0!==(1048576&t.flags)&&Bn(t,In,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=dt(t,ct.current);cn(t,n),i=Ir(null,t,r,e,i,n);var a=Lr();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pt(r)?(a=!0,gt(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,pn(t),i.updater=Sn,t.stateNode=i,i._reactInternals=t,En(t,r,e,n),t=Vi(null,t,r,!0,a,n)):(t.tag=0,jn&&a&&Fn(t),Ui(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return $o(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===v)return 11;if(e===g)return 14}return 2}(r),e=en(r,e),i){case 0:t=Gi(null,t,r,e,n);break e;case 1:t=ji(null,t,r,e,n);break e;case 11:t=zi(null,t,r,e,n);break e;case 14:t=Bi(null,t,r,en(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Gi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 1:return r=t.type,i=t.pendingProps,ji(e,t,r,i=t.elementType===r?i:en(r,i),n);case 3:e:{if(qi(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,vn(e,t),wn(t,r,null,n);var s=t.memoizedState;if(r=s.element,Q&&a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Xi(e,t,r,n,i=Error(o(423)));break e}if(r!==i){t=Xi(e,t,r,n,i=Error(o(424)));break e}for(Q&&(Gn=He(t.stateNode.containerInfo),Wn=t,jn=!0,qn=null,Vn=!1),n=or(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if($n(),r===i){t=ia(e,t,n);break e}Ui(e,t,r,n)}t=t.child}return t;case 5:return pr(t),null===e&&Qn(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,W(r,i)?s=null:null!==a&&W(r,a)&&(t.flags|=32),Wi(e,t),Ui(e,t,s,n),t.child;case 6:return null===e&&Qn(t),null;case 13:return Qi(e,t,n);case 4:return hr(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ar(t,null,r,n):Ui(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,zi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 7:return Ui(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ui(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,sn(0,r,s=i.value),null!==a)if(Vt(a.value,s)){if(a.children===i.children&&!ft.current){t=ia(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=mn(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),ln(a.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),ln(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}Ui(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,cn(t,n),r=r(i=fn(i)),t.flags|=1,Ui(e,t,r,n),t.child;case 14:return i=en(r=t.type,t.pendingProps),Bi(e,t,r,i=en(r.type,i),n);case 15:return Fi(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:en(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pt(r)?(e=!0,gt(t)):e=!1,cn(t,n),An(t,r,i),En(t,r,i,n),Vi(null,t,r,!0,e,n);case 19:return ra(e,t,n);case 22:return Hi(e,t,n)}throw Error(o(156,t.tag))},t.attemptContinuousHydration=function(e){13===e.tag&&(ko(e,134217728,xo()),fs(e,134217728))},t.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=xo(),n=_o(e);ko(e,n,t),fs(e,n)}},t.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Mt(t.pendingLanes);0!==n&&(Rt(t,1|n),Mo(t,zt()),0===(6&Xa)&&(uo(),Qt()))}break;case 13:var r=xo();Ro((function(){return ko(e,1,r)})),fs(e,1)}},t.batchedUpdates=function(e,t){var n=Xa;Xa|=1;try{return e(t)}finally{0===(Xa=n)&&(uo(),Xt&&Qt())}},t.createComponentSelector=function(e){return{$$typeof:Ia,value:e}},t.createContainer=function(e,t,n,r,i,a,o){return ss(e,t,!1,null,0,r,0,a,o)},t.createHasPseudoClassSelector=function(e){return{$$typeof:La,value:e}},t.createHydrationContainer=function(e,t,n,r,i,a,o,s,u){return(e=ss(n,r,!0,e,0,a,0,s,u)).context=us(null),n=e.current,(a=mn(r=xo(),i=_o(n))).callback=void 0!==t&&null!==t?t:null,yn(n,a),e.current.lanes=i,Pt(e,i,r),Mo(e,r),e},t.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:l,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},t.createRoleSelector=function(e){return{$$typeof:Na,value:e}},t.createTestNameSelector=function(e){return{$$typeof:Oa,value:e}},t.createTextSelector=function(e){return{$$typeof:Da,value:e}},t.deferredUpdates=function(e){var t=It,n=qa.transition;try{return qa.transition=null,It=16,e()}finally{It=t,qa.transition=n}},t.discreteUpdates=function(e,t,n,r,i){var a=It,o=qa.transition;try{return qa.transition=null,It=1,e(t,n,r,i)}finally{It=a,qa.transition=o,0===Xa&&uo()}},t.findAllNodes=Wa,t.findBoundingRects=function(e,t){if(!re)throw Error(o(363));t=Wa(e,t),e=[];for(var n=0;n<t.length;n++)e.push(ae(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,i=r+n.width,a=n.y,s=a+n.height,u=t-1;0<=u;u--)if(t!==u){var l=e[u],c=l.x,f=c+l.width,h=l.y,d=h+l.height;if(r>=c&&a>=h&&i<=f&&s<=d){e.splice(t,1);break}if(!(r!==c||n.width!==l.width||d<a||h>s)){h>a&&(l.height+=h-a,l.y=a),d<s&&(l.height=s-h),e.splice(t,1);break}if(!(a!==h||n.height!==l.height||f<r||c>i)){c>r&&(l.width+=c-r,l.x=r),f<i&&(l.width=i-c),e.splice(t,1);break}}return e},t.findHostInstance=ls,t.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=T(e))?P(e):null)?null:e.stateNode},t.findHostInstanceWithWarning=function(e){return ls(e)},t.flushControlled=function(e){var t=Xa;Xa|=1;var n=qa.transition,r=It;try{qa.transition=null,It=1,e()}finally{It=r,qa.transition=n,0===(Xa=t)&&(uo(),Qt())}},t.flushPassiveEffects=Go,t.flushSync=Ro,t.focusWithin=function(e,t){if(!re)throw Error(o(363));for(t=Ha(e=za(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!se(n)){if(5===n.tag&&le(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},t.getCurrentUpdatePriority=function(){return It},t.getFindAllNodesFailureDescription=function(e,t){if(!re)throw Error(o(363));var n=0,r=[];e=[za(e),0];for(var i=0;i<e.length;){var a=e[i++],s=e[i++],u=t[s];if((5!==a.tag||!se(a))&&(Ba(a,u)&&(r.push(Fa(u)),++s>n&&(n=s)),s<t.length))for(a=a.child;null!==a;)e.push(a,s),a=a.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(Fa(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},t.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?L(e.child.stateNode):e.child.stateNode:null},t.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:hs,findFiberByHostInstance:e.findFiberByHostInstance||ds,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},"undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Gt=t.inject(e),jt=t}catch(n){}e=!!t.checkDCE}}return e},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(e,t,n,r){if(!re)throw Error(o(363));e=Wa(e,t);var i=ce(e,n,r).disconnect;return{disconnect:function(){i()}}},t.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},t.runWithPriority=function(e,t){var n=It;try{return It=e,t()}finally{It=n}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(e,t,n,r){var i=t.current,a=xo(),o=_o(i);return n=us(n),null===t.context?t.context=n:t.pendingContext=n,(t=mn(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),yn(i,t),null!==(e=ko(i,o,a))&&gn(e,i,o),o},t}},4585:function(e,t,n){"use strict";e.exports=n(4976)},258:function(e,t,n){"use strict";e.exports=n(3721)},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var w=b.prototype=new g;w.constructor=b,v(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,_=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function M(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:k.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+E(u,0):a,x(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),C(o,t,i,"",(function(e){return e}))):null!=o&&(A(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",x(e))for(var l=0;l<e.length;l++){var c=a+E(s=e[l],l);u+=C(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=C(s=s.value,t,i,c=a+E(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},L={transition:null},N={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:L,ReactCurrentOwner:k};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)_.call(t,l)&&!S.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=M,t.createFactory=function(e){var t=M.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function x(e){if(m=!1,w(e),!v)if(null!==r(l))v=!0,L(_);else{var t=r(c);null!==t&&N(x,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,g(A),A=-1),p=!0;var a=d;try{for(w(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!C());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(l)&&i(l),w(n)}else i(l);h=r(l)}if(null!==h)var u=!0;else{var f=r(c);null!==f&&N(x,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,M=null,A=-1,T=5,E=-1;function C(){return!(t.unstable_now()-E<T)}function P(){if(null!==M){var e=t.unstable_now();E=e;var n=!0;try{n=M(!0,e)}finally{n?k():(S=!1,M=null)}}else S=!1}if("function"===typeof b)k=function(){b(P)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,I=R.port2;R.port1.onmessage=P,k=function(){I.postMessage(null)}}else k=function(){y(P,0)};function L(e){M=e,S||(S=!0,k())}function N(e,n){A=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,L(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(g(A),A=-1):m=!0,N(x,a-o))):(e.sortIndex=s,n(l,e),v||p||(v=!0,L(_))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},6383:function(e){e.exports&&(e.exports=function(e){"use strict";return e.prototype.toFormat=function(e,t,n){if(!this.e&&0!==this.e)return this.toString();var r,i,a,o,s,u,l,c,f,h,d,p,v,m,y,g=this.format||{},b=this.constructor.format||{};if(e!=s?"object"==typeof e?(n=e,e=s):t!=s?"object"==typeof t?(n=t,t=s):"object"!=typeof n&&(n={}):n={}:n={},c=(r=this.toFixed(e,t).split("."))[0],f=r[1],u=(l=this.s<0?c.slice(1):c).length,(h=n.decimalSeparator)==s&&(h=g.decimalSeparator)==s&&(h=b.decimalSeparator)==s&&(h="."),(d=n.groupSeparator)==s&&(d=g.groupSeparator)==s&&(d=b.groupSeparator),d&&((p=n.groupSize)==s&&(p=g.groupSize)==s&&(p=b.groupSize)==s&&(p=0),(v=n.secondaryGroupSize)==s&&(v=g.secondaryGroupSize)==s&&(v=b.secondaryGroupSize)==s&&(v=0),v?(i=+v,u-=a=+p):(i=+p,a=+v),i>0&&u>0)){for(o=u%i||i,c=l.substr(0,o);o<u;o+=i)c+=d+l.substr(o,i);a>0&&(c+=d+l.slice(o)),this.s<0&&(c="-"+c)}return f?((m=n.fractionGroupSeparator)==s&&(m=g.fractionGroupSeparator)==s&&(m=b.fractionGroupSeparator),m&&((y=n.fractionGroupSize)==s&&(y=g.fractionGroupSize)==s&&(y=b.fractionGroupSize)==s&&(y=0),(y=+y)&&(f=f.replace(new RegExp("\\d{"+y+"}\\B","g"),"$&"+m))),c+h+f):c},e.format={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:"",fractionGroupSize:0},e})},1561:function(e,t,n){"use strict";var r=n(2791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var c="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return s((function(){i.value=n,i.getSnapshot=t,l(i)&&c({inst:i})}),[e,n,t]),o((function(){return l(i)&&c({inst:i}),e((function(){l(i)&&c({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},7595:function(e,t,n){"use strict";var r=n(2791),i=n(7248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,l=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=s(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=l((function(){function e(e){if(!u){if(u=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,u=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return u((function(){h.hasValue=!0,h.value=d}),[d]),c(d),d}},7248:function(e,t,n){"use strict";e.exports=n(1561)},327:function(e,t,n){"use strict";e.exports=n(7595)},5856:function(){},6601:function(){},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},6115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},6690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3515:function(e,t,n){var r=n(6015),i=n(9617);function a(t,n,o){return i()?(e.exports=a=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=a=function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&r(a,n.prototype),a},e.exports.__esModule=!0,e.exports.default=e.exports),a.apply(null,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},9728:function(e,t,n){var r=n(4062);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},4704:function(e,t,n){var r=n(6116);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},6389:function(e,t,n){var r=n(3808),i=n(9617),a=n(4993);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},3808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1655:function(e,t,n){var r=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},6035:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},9617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},4993:function(e,t,n){var r=n(8698).default,i=n(6115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},5036:function(e,t,n){var r=n(8698).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4062:function(e,t,n){var r=n(8698).default,i=n(5036);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},3496:function(e,t,n){var r=n(3808),i=n(6015),a=n(6035),o=n(3515);function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!a(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return o(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.amdO={},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".ea9a0b5f.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="synthia-frontend:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var f=l[c];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);l<o.length;l++)a=o[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunksynthia_frontend=self.webpackChunksynthia_frontend||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{ACESFilmicToneMapping:function(){return GM},AddEquation:function(){return hM},AddOperation:function(){return zM},AdditiveAnimationBlendMode:function(){return gT},AdditiveBlending:function(){return uM},AlphaFormat:function(){return xA},AlwaysDepth:function(){return CM},AlwaysStencilFunc:function(){return XT},AmbientLight:function(){return KU},AmbientLightProbe:function(){return pz},AnimationAction:function(){return Gz},AnimationClip:function(){return xU},AnimationLoader:function(){return RU},AnimationMixer:function(){return Vz},AnimationObjectGroup:function(){return Wz},AnimationUtils:function(){return uU},ArcCurve:function(){return MO},ArrayCamera:function(){return KL},ArrowHelper:function(){return DB},Audio:function(){return Az},AudioAnalyser:function(){return Iz},AudioContext:function(){return fz},AudioListener:function(){return Mz},AudioLoader:function(){return hz},AxesHelper:function(){return UB},BackSide:function(){return rM},BasicDepthPacking:function(){return ST},BasicShadowMap:function(){return KS},Bone:function(){return FN},BooleanKeyframeTrack:function(){return pU},Box2:function(){return rB},Box3:function(){return KE},Box3Helper:function(){return LB},BoxBufferGeometry:function(){return BB},BoxGeometry:function(){return lR},BoxHelper:function(){return IB},BufferAttribute:function(){return MP},BufferGeometry:function(){return GP},BufferGeometryLoader:function(){return az},ByteType:function(){return fA},Cache:function(){return SU},Camera:function(){return vR},CameraHelper:function(){return TB},CanvasTexture:function(){return _O},CapsuleBufferGeometry:function(){return FB},CapsuleGeometry:function(){return qO},CatmullRomCurve3:function(){return RO},CineonToneMapping:function(){return WM},CircleBufferGeometry:function(){return HB},CircleGeometry:function(){return XO},ClampToEdgeWrapping:function(){return KM},Clock:function(){return bz},Color:function(){return vP},ColorKeyframeTrack:function(){return vU},ColorManagement:function(){return OE},CompressedArrayTexture:function(){return xO},CompressedTexture:function(){return wO},CompressedTextureLoader:function(){return IU},ConeBufferGeometry:function(){return WB},ConeGeometry:function(){return YO},CubeCamera:function(){return gR},CubeReflectionMapping:function(){return qM},CubeRefractionMapping:function(){return XM},CubeTexture:function(){return bR},CubeTextureLoader:function(){return NU},CubeUVReflectionMapping:function(){return QM},CubicBezierCurve:function(){return OO},CubicBezierCurve3:function(){return DO},CubicInterpolant:function(){return cU},CullFaceBack:function(){return YS},CullFaceFront:function(){return QS},CullFaceFrontBack:function(){return ZS},CullFaceNone:function(){return JS},Curve:function(){return kO},CurvePath:function(){return GO},CustomBlending:function(){return fM},CustomToneMapping:function(){return jM},CylinderBufferGeometry:function(){return GB},CylinderGeometry:function(){return JO},Cylindrical:function(){return tB},Data3DTexture:function(){return VE},DataArrayTexture:function(){return GE},DataTexture:function(){return HN},DataTextureLoader:function(){return OU},DataUtils:function(){return _P},DecrementStencilOp:function(){return DT},DecrementWrapStencilOp:function(){return zT},DefaultLoadingManager:function(){return AU},DepthFormat:function(){return MA},DepthStencilFormat:function(){return AA},DepthTexture:function(){return nN},DirectionalLight:function(){return ZU},DirectionalLightHelper:function(){return SB},DiscreteInterpolant:function(){return hU},DisplayP3ColorSpace:function(){return RT},DodecahedronBufferGeometry:function(){return jB},DodecahedronGeometry:function(){return ZO},DoubleSide:function(){return iM},DstAlphaFactor:function(){return kM},DstColorFactor:function(){return MM},DynamicCopyUsage:function(){return tE},DynamicDrawUsage:function(){return YT},DynamicReadUsage:function(){return KT},EdgesGeometry:function(){return nD},EllipseCurve:function(){return SO},EqualDepth:function(){return IM},EqualStencilFunc:function(){return WT},EquirectangularReflectionMapping:function(){return JM},EquirectangularRefractionMapping:function(){return YM},Euler:function(){return OC},EventDispatcher:function(){return oE},ExtrudeBufferGeometry:function(){return VB},ExtrudeGeometry:function(){return ID},FileLoader:function(){return PU},Float16BufferAttribute:function(){return LP},Float32BufferAttribute:function(){return NP},Float64BufferAttribute:function(){return OP},FloatType:function(){return mA},Fog:function(){return cN},FogExp2:function(){return lN},FramebufferTexture:function(){return bO},FrontSide:function(){return nM},Frustum:function(){return TR},GLBufferAttribute:function(){return Qz},GLSL1:function(){return rE},GLSL3:function(){return iE},GreaterDepth:function(){return NM},GreaterEqualDepth:function(){return LM},GreaterEqualStencilFunc:function(){return qT},GreaterStencilFunc:function(){return jT},GridHelper:function(){return bB},Group:function(){return $L},HalfFloatType:function(){return yA},HemisphereLight:function(){return zU},HemisphereLightHelper:function(){return gB},HemisphereLightProbe:function(){return dz},IcosahedronBufferGeometry:function(){return qB},IcosahedronGeometry:function(){return ND},ImageBitmapLoader:function(){return cz},ImageLoader:function(){return LU},ImageUtils:function(){return DE},IncrementStencilOp:function(){return OT},IncrementWrapStencilOp:function(){return UT},InstancedBufferAttribute:function(){return VN},InstancedBufferGeometry:function(){return iz},InstancedInterleavedBuffer:function(){return Yz},InstancedMesh:function(){return $N},Int16BufferAttribute:function(){return CP},Int32BufferAttribute:function(){return RP},Int8BufferAttribute:function(){return AP},IntType:function(){return pA},InterleavedBuffer:function(){return hN},InterleavedBufferAttribute:function(){return pN},Interpolant:function(){return lU},InterpolateDiscrete:function(){return fT},InterpolateLinear:function(){return hT},InterpolateSmooth:function(){return dT},InvertStencilOp:function(){return BT},KeepStencilOp:function(){return LT},KeyframeTrack:function(){return dU},LOD:function(){return IN},LatheBufferGeometry:function(){return XB},LatheGeometry:function(){return VO},Layers:function(){return DC},LessDepth:function(){return PM},LessEqualDepth:function(){return RM},LessEqualStencilFunc:function(){return GT},LessStencilFunc:function(){return HT},Light:function(){return UU},LightProbe:function(){return tz},Line:function(){return oO},Line3:function(){return oB},LineBasicMaterial:function(){return eO},LineCurve:function(){return UO},LineCurve3:function(){return zO},LineDashedMaterial:function(){return tU},LineLoop:function(){return cO},LineSegments:function(){return lO},LinearEncoding:function(){return _T},LinearFilter:function(){return aA},LinearInterpolant:function(){return fU},LinearMipMapLinearFilter:function(){return lA},LinearMipMapNearestFilter:function(){return sA},LinearMipmapLinearFilter:function(){return uA},LinearMipmapNearestFilter:function(){return oA},LinearSRGBColorSpace:function(){return PT},LinearToneMapping:function(){return FM},Loader:function(){return TU},LoaderUtils:function(){return rz},LoadingManager:function(){return MU},LoopOnce:function(){return uT},LoopPingPong:function(){return cT},LoopRepeat:function(){return lT},LuminanceAlphaFormat:function(){return SA},LuminanceFormat:function(){return kA},MOUSE:function(){return qS},Material:function(){return cP},MaterialLoader:function(){return nz},MathUtils:function(){return wE},Matrix3:function(){return _E},Matrix4:function(){return MC},MaxEquation:function(){return mM},Mesh:function(){return sR},MeshBasicMaterial:function(){return yP},MeshDepthMaterial:function(){return qL},MeshDistanceMaterial:function(){return XL},MeshLambertMaterial:function(){return $D},MeshMatcapMaterial:function(){return eU},MeshNormalMaterial:function(){return KD},MeshPhongMaterial:function(){return QD},MeshPhysicalMaterial:function(){return YD},MeshStandardMaterial:function(){return JD},MeshToonMaterial:function(){return ZD},MinEquation:function(){return vM},MirroredRepeatWrapping:function(){return $M},MixOperation:function(){return UM},MultiplyBlending:function(){return cM},MultiplyOperation:function(){return DM},NearestFilter:function(){return eA},NearestMipMapLinearFilter:function(){return iA},NearestMipMapNearestFilter:function(){return nA},NearestMipmapLinearFilter:function(){return rA},NearestMipmapNearestFilter:function(){return tA},NeverDepth:function(){return EM},NeverStencilFunc:function(){return FT},NoBlending:function(){return oM},NoColorSpace:function(){return ET},NoToneMapping:function(){return BM},NormalAnimationBlendMode:function(){return yT},NormalBlending:function(){return sM},NotEqualDepth:function(){return OM},NotEqualStencilFunc:function(){return VT},NumberKeyframeTrack:function(){return mU},Object3D:function(){return QC},ObjectLoader:function(){return oz},ObjectSpaceNormalMap:function(){return TT},OctahedronBufferGeometry:function(){return JB},OctahedronGeometry:function(){return OD},OneFactor:function(){return gM},OneMinusDstAlphaFactor:function(){return SM},OneMinusDstColorFactor:function(){return AM},OneMinusSrcAlphaFactor:function(){return _M},OneMinusSrcColorFactor:function(){return wM},OrthographicCamera:function(){return HR},PCFShadowMap:function(){return $S},PCFSoftShadowMap:function(){return eM},PMREMGenerator:function(){return ZR},Path:function(){return jO},PerspectiveCamera:function(){return mR},Plane:function(){return SR},PlaneBufferGeometry:function(){return YB},PlaneGeometry:function(){return PR},PlaneHelper:function(){return NB},PointLight:function(){return YU},PointLightHelper:function(){return pB},Points:function(){return mO},PointsMaterial:function(){return fO},PolarGridHelper:function(){return wB},PolyhedronBufferGeometry:function(){return QB},PolyhedronGeometry:function(){return QO},PositionalAudio:function(){return Rz},PropertyBinding:function(){return Hz},PropertyMixer:function(){return Lz},QuadraticBezierCurve:function(){return BO},QuadraticBezierCurve3:function(){return FO},Quaternion:function(){return JE},QuaternionKeyframeTrack:function(){return gU},QuaternionLinearInterpolant:function(){return yU},RED_GREEN_RGTC2_Format:function(){return oT},RED_RGTC1_Format:function(){return iT},REVISION:function(){return VS},RGBADepthPacking:function(){return MT},RGBAFormat:function(){return _A},RGBAIntegerFormat:function(){return RA},RGBA_ASTC_10x10_Format:function(){return eT},RGBA_ASTC_10x5_Format:function(){return ZA},RGBA_ASTC_10x6_Format:function(){return KA},RGBA_ASTC_10x8_Format:function(){return $A},RGBA_ASTC_12x10_Format:function(){return tT},RGBA_ASTC_12x12_Format:function(){return nT},RGBA_ASTC_4x4_Format:function(){return GA},RGBA_ASTC_5x4_Format:function(){return jA},RGBA_ASTC_5x5_Format:function(){return VA},RGBA_ASTC_6x5_Format:function(){return qA},RGBA_ASTC_6x6_Format:function(){return XA},RGBA_ASTC_8x5_Format:function(){return JA},RGBA_ASTC_8x6_Format:function(){return YA},RGBA_ASTC_8x8_Format:function(){return QA},RGBA_BPTC_Format:function(){return rT},RGBA_ETC2_EAC_Format:function(){return WA},RGBA_PVRTC_2BPPV1_Format:function(){return BA},RGBA_PVRTC_4BPPV1_Format:function(){return zA},RGBA_S3TC_DXT1_Format:function(){return LA},RGBA_S3TC_DXT3_Format:function(){return NA},RGBA_S3TC_DXT5_Format:function(){return OA},RGB_ETC1_Format:function(){return FA},RGB_ETC2_Format:function(){return HA},RGB_PVRTC_2BPPV1_Format:function(){return UA},RGB_PVRTC_4BPPV1_Format:function(){return DA},RGB_S3TC_DXT1_Format:function(){return IA},RGFormat:function(){return CA},RGIntegerFormat:function(){return PA},RawShaderMaterial:function(){return XD},Ray:function(){return SC},Raycaster:function(){return Zz},RectAreaLight:function(){return $U},RedFormat:function(){return TA},RedIntegerFormat:function(){return EA},ReinhardToneMapping:function(){return HM},RepeatWrapping:function(){return ZM},ReplaceStencilOp:function(){return NT},ReverseSubtractEquation:function(){return pM},RingBufferGeometry:function(){return ZB},RingGeometry:function(){return DD},SIGNED_RED_GREEN_RGTC2_Format:function(){return sT},SIGNED_RED_RGTC1_Format:function(){return aT},SRGBColorSpace:function(){return CT},Scene:function(){return fN},ShaderChunk:function(){return RR},ShaderLib:function(){return LR},ShaderMaterial:function(){return pR},ShadowMaterial:function(){return qD},Shape:function(){return rD},ShapeBufferGeometry:function(){return KB},ShapeGeometry:function(){return UD},ShapePath:function(){return zB},ShapeUtils:function(){return CD},ShortType:function(){return hA},Skeleton:function(){return jN},SkeletonHelper:function(){return hB},SkinnedMesh:function(){return BN},Source:function(){return UE},Sphere:function(){return mC},SphereBufferGeometry:function(){return $B},SphereGeometry:function(){return zD},Spherical:function(){return eB},SphericalHarmonics3:function(){return ez},SplineCurve:function(){return HO},SpotLight:function(){return jU},SpotLightHelper:function(){return uB},Sprite:function(){return EN},SpriteMaterial:function(){return vN},SrcAlphaFactor:function(){return xM},SrcAlphaSaturateFactor:function(){return TM},SrcColorFactor:function(){return bM},StaticCopyUsage:function(){return eE},StaticDrawUsage:function(){return JT},StaticReadUsage:function(){return ZT},StereoCamera:function(){return gz},StreamCopyUsage:function(){return nE},StreamDrawUsage:function(){return QT},StreamReadUsage:function(){return $T},StringKeyframeTrack:function(){return bU},SubtractEquation:function(){return dM},SubtractiveBlending:function(){return lM},TOUCH:function(){return XS},TangentSpaceNormalMap:function(){return AT},TetrahedronBufferGeometry:function(){return eF},TetrahedronGeometry:function(){return BD},Texture:function(){return FE},TextureLoader:function(){return DU},TorusBufferGeometry:function(){return tF},TorusGeometry:function(){return FD},TorusKnotBufferGeometry:function(){return nF},TorusKnotGeometry:function(){return HD},Triangle:function(){return uP},TriangleFanDrawMode:function(){return xT},TriangleStripDrawMode:function(){return wT},TrianglesDrawMode:function(){return bT},TubeBufferGeometry:function(){return rF},TubeGeometry:function(){return WD},TwoPassDoubleSide:function(){return aM},UVMapping:function(){return VM},Uint16BufferAttribute:function(){return PP},Uint32BufferAttribute:function(){return IP},Uint8BufferAttribute:function(){return TP},Uint8ClampedBufferAttribute:function(){return EP},Uniform:function(){return qz},UniformsGroup:function(){return Jz},UniformsLib:function(){return IR},UniformsUtils:function(){return dR},UnsignedByteType:function(){return cA},UnsignedInt248Type:function(){return wA},UnsignedIntType:function(){return vA},UnsignedShort4444Type:function(){return gA},UnsignedShort5551Type:function(){return bA},UnsignedShortType:function(){return dA},VSMShadowMap:function(){return tM},Vector2:function(){return xE},Vector3:function(){return YE},Vector4:function(){return HE},VectorKeyframeTrack:function(){return wU},VideoTexture:function(){return gO},WebGL1Renderer:function(){return sN},WebGL3DRenderTarget:function(){return qE},WebGLArrayRenderTarget:function(){return jE},WebGLCubeRenderTarget:function(){return wR},WebGLMultipleRenderTargets:function(){return XE},WebGLRenderTarget:function(){return WE},WebGLRenderer:function(){return oN},WebGLUtils:function(){return ZL},WireframeGeometry:function(){return GD},WrapAroundEnding:function(){return mT},ZeroCurvatureEnding:function(){return pT},ZeroFactor:function(){return yM},ZeroSlopeEnding:function(){return vT},ZeroStencilOp:function(){return IT},_SRGBAFormat:function(){return aE},sRGBEncoding:function(){return kT}});var t=n(2791),r=n.t(t,2),i=n(1250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||s(e,t)||u()}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function f(){f=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(P){u=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var a=t&&t.prototype instanceof p?t:p,o=Object.create(a.prototype),s=new T(i||[]);return r(o,"_invoke",{value:k(e,n,s)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var d={};function p(){}function v(){}function m(){}var y={};u(y,a,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(E([])));b&&b!==t&&n.call(b,a)&&(y=b);var w=m.prototype=p.prototype=Object.create(y);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function i(r,a,o,s){var u=h(e[r],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==c(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function k(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=S(o,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=h(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return v.prototype=m,r(w,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:v,configurable:!0}),v.displayName=u(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},x(_.prototype),u(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new _(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(w),u(w,s,"Generator"),u(w,a,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function h(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){h(a,r,i,o,s,"next",e)}function s(e){h(a,r,i,o,s,"throw",e)}o(void 0)}))}}var p=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),v=Math.abs,m=String.fromCharCode,y=Object.assign;function g(e){return e.trim()}function b(e,t,n){return e.replace(t,n)}function w(e,t){return e.indexOf(t)}function x(e,t){return 0|e.charCodeAt(t)}function _(e,t,n){return e.slice(t,n)}function k(e){return e.length}function S(e){return e.length}function M(e,t){return t.push(e),e}var A=1,T=1,E=0,C=0,P=0,R="";function I(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:A,column:T,length:o,return:""}}function L(e,t){return y(I("",null,null,"",null,null,0),e,{length:-e.length},t)}function N(){return P=C>0?x(R,--C):0,T--,10===P&&(T=1,A--),P}function O(){return P=C<E?x(R,C++):0,T++,10===P&&(T=1,A++),P}function D(){return x(R,C)}function U(){return C}function z(e,t){return _(R,e,t)}function B(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function F(e){return A=T=1,E=k(R=e),C=0,[]}function H(e){return R="",e}function W(e){return g(z(C-1,V(91===e?e+2:40===e?e+1:e)))}function G(e){for(;(P=D())&&P<33;)O();return B(e)>2||B(P)>3?"":" "}function j(e,t){for(;--t&&O()&&!(P<48||P>102||P>57&&P<65||P>70&&P<97););return z(e,U()+(t<6&&32==D()&&32==O()))}function V(e){for(;O();)switch(P){case e:return C;case 34:case 39:34!==e&&39!==e&&V(P);break;case 40:41===e&&V(e);break;case 92:O()}return C}function q(e,t){for(;O()&&e+P!==57&&(e+P!==84||47!==D()););return"/*"+z(t,C-1)+"*"+m(47===e?e:O())}function X(e){for(;!B(D());)O();return z(e,C)}var J="-ms-",Y="-moz-",Q="-webkit-",Z="comm",K="rule",$="decl",ee="@keyframes";function te(e,t){for(var n="",r=S(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function ne(e,t,n,r){switch(e.type){case"@import":case $:return e.return=e.return||e.value;case Z:return"";case ee:return e.return=e.value+"{"+te(e.children,r)+"}";case K:e.value=e.props.join(",")}return k(n=te(e.children,r))?e.return=e.value+"{"+n+"}":""}function re(e){return H(ie("",null,null,null,[""],e=F(e),0,[0],e))}function ie(e,t,n,r,i,a,o,s,u){for(var l=0,c=0,f=o,h=0,d=0,p=0,v=1,y=1,g=1,_=0,S="",A=i,T=a,E=r,C=S;y;)switch(p=_,_=O()){case 40:if(108!=p&&58==x(C,f-1)){-1!=w(C+=b(W(_),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:C+=W(_);break;case 9:case 10:case 13:case 32:C+=G(p);break;case 92:C+=j(U()-1,7);continue;case 47:switch(D()){case 42:case 47:M(oe(q(O(),U()),t,n),u);break;default:C+="/"}break;case 123*v:s[l++]=k(C)*g;case 125*v:case 59:case 0:switch(_){case 0:case 125:y=0;case 59+c:d>0&&k(C)-f&&M(d>32?se(C+";",r,n,f-1):se(b(C," ","")+";",r,n,f-2),u);break;case 59:C+=";";default:if(M(E=ae(C,t,n,l,c,i,s,S,A=[],T=[],f),a),123===_)if(0===c)ie(C,t,E,E,A,a,f,s,T);else switch(99===h&&110===x(C,3)?100:h){case 100:case 109:case 115:ie(e,E,E,r&&M(ae(e,E,E,0,0,i,s,S,i,A=[],f),T),i,T,f,s,r?A:T);break;default:ie(C,E,E,E,[""],T,0,s,T)}}l=c=d=0,v=g=1,S=C="",f=o;break;case 58:f=1+k(C),d=p;default:if(v<1)if(123==_)--v;else if(125==_&&0==v++&&125==N())continue;switch(C+=m(_),_*v){case 38:g=c>0?1:(C+="\f",-1);break;case 44:s[l++]=(k(C)-1)*g,g=1;break;case 64:45===D()&&(C+=W(O())),h=D(),c=f=k(S=C+=X(U())),_++;break;case 45:45===p&&2==k(C)&&(v=0)}}return a}function ae(e,t,n,r,i,a,o,s,u,l,c){for(var f=i-1,h=0===i?a:[""],d=S(h),p=0,m=0,y=0;p<r;++p)for(var w=0,x=_(e,f+1,f=v(m=o[p])),k=e;w<d;++w)(k=g(m>0?h[w]+" "+x:b(x,/&\f/g,h[w])))&&(u[y++]=k);return I(e,t,n,0===i?K:s,u,l,c)}function oe(e,t,n){return I(e,t,n,Z,m(P),_(e,2,-2),0)}function se(e,t,n,r){return I(e,t,n,$,_(e,0,r),_(e,r+1,-1),r)}var ue=function(e,t,n){for(var r=0,i=0;r=i,i=D(),38===r&&12===i&&(t[n]=1),!B(i);)O();return z(e,C)},le=function(e,t){return H(function(e,t){var n=-1,r=44;do{switch(B(r)){case 0:38===r&&12===D()&&(t[n]=1),e[n]+=ue(C-1,t,n);break;case 2:e[n]+=W(r);break;case 4:if(44===r){e[++n]=58===D()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=m(r)}}while(r=O());return e}(F(e),t))},ce=new WeakMap,fe=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ce.get(n))&&!r){ce.set(e,!0);for(var i=[],a=le(t,i),o=n.props,s=0,u=0;s<a.length;s++)for(var l=0;l<o.length;l++,u++)e.props[u]=i[s]?a[s].replace(/&\f/g,o[l]):o[l]+" "+a[s]}}},he=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function de(e,t){switch(function(e,t){return 45^x(e,0)?(((t<<2^x(e,0))<<2^x(e,1))<<2^x(e,2))<<2^x(e,3):0}(e,t)){case 5103:return Q+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Q+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Q+e+Y+e+J+e+e;case 6828:case 4268:return Q+e+J+e+e;case 6165:return Q+e+J+"flex-"+e+e;case 5187:return Q+e+b(e,/(\w+).+(:[^]+)/,Q+"box-$1$2"+J+"flex-$1$2")+e;case 5443:return Q+e+J+"flex-item-"+b(e,/flex-|-self/,"")+e;case 4675:return Q+e+J+"flex-line-pack"+b(e,/align-content|flex-|-self/,"")+e;case 5548:return Q+e+J+b(e,"shrink","negative")+e;case 5292:return Q+e+J+b(e,"basis","preferred-size")+e;case 6060:return Q+"box-"+b(e,"-grow","")+Q+e+J+b(e,"grow","positive")+e;case 4554:return Q+b(e,/([^-])(transform)/g,"$1"+Q+"$2")+e;case 6187:return b(b(b(e,/(zoom-|grab)/,Q+"$1"),/(image-set)/,Q+"$1"),e,"")+e;case 5495:case 3959:return b(e,/(image-set\([^]*)/,Q+"$1$`$1");case 4968:return b(b(e,/(.+:)(flex-)?(.*)/,Q+"box-pack:$3"+J+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Q+e+e;case 4095:case 3583:case 4068:case 2532:return b(e,/(.+)-inline(.+)/,Q+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(k(e)-1-t>6)switch(x(e,t+1)){case 109:if(45!==x(e,t+4))break;case 102:return b(e,/(.+:)(.+)-([^]+)/,"$1"+Q+"$2-$3$1"+Y+(108==x(e,t+3)?"$3":"$2-$3"))+e;case 115:return~w(e,"stretch")?de(b(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==x(e,t+1))break;case 6444:switch(x(e,k(e)-3-(~w(e,"!important")&&10))){case 107:return b(e,":",":"+Q)+e;case 101:return b(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Q+(45===x(e,14)?"inline-":"")+"box$3$1"+Q+"$2$3$1"+J+"$2box$3")+e}break;case 5936:switch(x(e,t+11)){case 114:return Q+e+J+b(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Q+e+J+b(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Q+e+J+b(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Q+e+J+e+e}return e}var pe=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case $:e.return=de(e.value,e.length);break;case ee:return te([L(e,{value:b(e.value,"@","@"+Q)})],r);case K:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return te([L(e,{props:[b(t,/:(read-\w+)/,":"+Y+"$1")]})],r);case"::placeholder":return te([L(e,{props:[b(t,/:(plac\w+)/,":"+Q+"input-$1")]}),L(e,{props:[b(t,/:(plac\w+)/,":"+Y+"$1")]}),L(e,{props:[b(t,/:(plac\w+)/,J+"input-$1")]})],r)}return""}))}}],ve=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||pe;var i,a,o={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;s.push(e)}));var u,l,c=[ne,(l=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&l(e)})],f=function(e){var t=S(e);return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}([fe,he].concat(r,c));a=function(e,t,n,r){u=n,function(e){te(re(e),f)}(e?e+"{"+t.styles+"}":t.styles),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new p({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(s),h};var me=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},ye=function(e,t,n){me(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}};var ge=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},be={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var we=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},xe=/[A-Z]|^ms/g,_e=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ke=function(e){return 45===e.charCodeAt(1)},Se=function(e){return null!=e&&"boolean"!==typeof e},Me=we((function(e){return ke(e)?e:e.replace(xe,"-$&").toLowerCase()})),Ae=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(_e,(function(e,t,n){return Ee={name:t,styles:n,next:Ee},t}))}return 1===be[e]||ke(e)||"number"!==typeof t||0===t?t:t+"px"};function Te(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Ee={name:n.name,styles:n.styles,next:Ee},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Ee={name:r.name,styles:r.styles,next:Ee},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Te(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":Se(o)&&(r+=Me(a)+":"+Ae(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=Te(e,t,o);switch(a){case"animation":case"animationName":r+=Me(a)+":"+s+";";break;default:r+=a+"{"+s+"}"}}else for(var u=0;u<o.length;u++)Se(o[u])&&(r+=Me(a)+":"+Ae(a,o[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Ee,a=n(e);return Ee=i,Te(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var Ee,Ce=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Pe=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Ee=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=Te(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=Te(n,t,e[o]),r&&(i+=a[o]);Ce.lastIndex=0;for(var s,u="";null!==(s=Ce.exec(i));)u+="-"+s[1];return{name:ge(i)+u,styles:i,next:Ee}},Re=!!r.useInsertionEffect&&r.useInsertionEffect,Ie=Re||function(e){return e()},Le=Re||t.useLayoutEffect,Ne={}.hasOwnProperty,Oe=(0,t.createContext)("undefined"!==typeof HTMLElement?ve({key:"css"}):null);Oe.Provider;var De=function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(Oe);return e(n,i,r)}))},Ue=(0,t.createContext)({});var ze="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Be=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;me(t,n,r);Ie((function(){return ye(t,n,r)}));return null},Fe=De((function(e,n,r){var i=e.css;"string"===typeof i&&void 0!==n.registered[i]&&(i=n.registered[i]);var a=e[ze],o=[i],s="";"string"===typeof e.className?s=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(n.registered,o,e.className):null!=e.className&&(s=e.className+" ");var u=Pe(o,void 0,(0,t.useContext)(Ue));s+=n.key+"-"+u.name;var l={};for(var c in e)Ne.call(e,c)&&"css"!==c&&c!==ze&&(l[c]=e[c]);return l.ref=r,l.className=s,(0,t.createElement)(t.Fragment,null,(0,t.createElement)(Be,{cache:n,serialized:u,isStringTag:"string"===typeof a}),(0,t.createElement)(a,l))}));n(2110);var He=function(e,n){var r=arguments;if(null==n||!Ne.call(n,"css"))return t.createElement.apply(void 0,r);var i=r.length,a=new Array(i);a[0]=Fe,a[1]=function(e,t){var n={};for(var r in t)Ne.call(t,r)&&(n[r]=t[r]);return n[ze]=e,n}(e,n);for(var o=2;o<i;o++)a[o]=r[o];return t.createElement.apply(null,a)},We=De((function(e,n){var r=e.styles,i=Pe([r],void 0,(0,t.useContext)(Ue)),a=(0,t.useRef)();return Le((function(){var e=n.key+"-global",t=new n.sheet.constructor({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),t.hydrate([o])),a.current=[t,r],function(){t.flush()}}),[n]),Le((function(){var e=a.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&ye(n,i.next,!0),t.tags.length){var r=t.tags[t.tags.length-1].nextElementSibling;t.before=r,t.flush()}n.insert("",i,t,!1)}}),[n,i.name]),null}));function Ge(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Pe(t)}var je=function(){var e=Ge.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function Ve(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function qe(e){return function(e){if(Array.isArray(e))return o(e)}(e)||Ve(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Je,Ye={name:"fpt5ib",styles:"color:white;text-decoration:underline;display:inline-block"},Qe=function(e){var t=e.style,n=e.children,r=e.onClick;return He("p",{"data-cursor":"",style:t,onClick:r,css:Ye},n)};var Ze=je(Je||(Je=Xe(["\n  0%, 100% {\n    opacity: 0.5;\n  }\n  50% {\n    opacity: 1;\n  }\n"]))),Ke=Ge("position:fixed;user-select:none;top:0;left:0;right:0;bottom:0;background-color:rgba(0, 0, 0, 0.25);display:flex;align-items:flex-start;overflow-y:scroll;justify-content:center;z-index:9999;animation:",Ze," 0.19s linear;padding:50px 0;","",""),$e={name:"es23w1",styles:"padding:2rem;border-radius:20px;position:relative;margin:0 10px;min-width:300px;display:flex;justify-content:center;max-width:960px;width:100%;background:url(/tile.png) repeat;border:5px solid #1ae5d4;box-shadow:0 0 100px #1ae5d4"},et={name:"1pywyy3",styles:"position:relative;max-width:600px;width:100%;z-index:5;p{color:white;}"},tt=function(e){var t=e.isOpen,n=e.onClose,r=e.children;return t?He("div",{css:Ke,onClick:n},He("div",{css:$e,onClick:function(e){return e.stopPropagation()}},He("div",{css:et},He(Qe,{style:{padding:"1rem",position:"absolute",right:0},onClick:n},"close"),r))):null};function nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rt(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}function it(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rt(r.key),r)}}function at(e,t,n){return t&&it(e.prototype,t),n&&it(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ot(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function st(e){return st=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},st(e)}function ut(){return ut="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=st(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ut.apply(this,arguments)}function lt(e,t){return lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lt(e,t)}function ct(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lt(e,t)}function ft(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ht(e,t){if(t&&("object"===c(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ot(e)}function dt(e){var t=ft();return function(){var n,r=st(e);if(t){var i=st(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ht(this,n)}}function pt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function vt(e,t,n){pt(e,t),t.set(e,n)}function mt(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function yt(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,mt(e,t,"get"))}function gt(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,mt(e,t,"set"),n),n}var bt="6.3.0";function wt(e,t,n){for(var r=t.split("|").map((function(e){return e.trim()})),i=0;i<r.length;i++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}var a=new Error("invalid value for type ".concat(t));throw a.code="INVALID_ARGUMENT",a.argument="value.".concat(n),a.value=e,a}function xt(e){return _t.apply(this,arguments)}function _t(){return _t=d(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.keys(t),e.next=3,Promise.all(n.map((function(e){return Promise.resolve(t[e])})));case 3:return r=e.sent,e.abrupt("return",r.reduce((function(e,t,r){return e[n[r]]=t,e}),{}));case 5:case"end":return e.stop()}}),e)}))),_t.apply(this,arguments)}function kt(e,t,n){for(var r in t){var i=t[r],a=n?n[r]:null;a&&wt(i,a,r),Object.defineProperty(e,r,{enumerable:!0,value:i,writable:!1})}}function St(e){if(null==e)return"null";if(Array.isArray(e))return"[ "+e.map(St).join(", ")+" ]";if(e instanceof Uint8Array){for(var t="0123456789abcdef",n="0x",r=0;r<e.length;r++)n+=t[e[r]>>4],n+=t[15&e[r]];return n}if("object"===typeof e&&"function"===typeof e.toJSON)return St(e.toJSON());switch(typeof e){case"boolean":case"symbol":case"number":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":var i=Object.keys(e);return i.sort(),"{ "+i.map((function(t){return"".concat(St(t),": ").concat(St(e[t]))})).join(", ")+" }"}return"[ COULD NOT SERIALIZE ]"}function Mt(e,t){return e&&e.code===t}function At(e){return Mt(e,"CALL_EXCEPTION")}function Tt(e,t,n){var r,i=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error("value will overwrite populated values: ".concat(St(n)));for(var a in n){var o=n[a];i.push(a+"="+St(o))}}switch(i.push("code=".concat(t)),i.push("version=".concat(bt)),i.length&&(e+=" ("+i.join(", ")+")"),t){case"INVALID_ARGUMENT":r=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":r=new RangeError(e);break;default:r=new Error(e)}return kt(r,{code:t}),n&&Object.assign(r,n),r}function Et(e,t,n,r){if(!e)throw Tt(t,n,r)}function Ct(e,t,n,r){Et(e,t,"INVALID_ARGUMENT",{argument:n,value:r})}function Pt(e,t,n){null==n&&(n=""),n&&(n=": "+n),Et(e>=t,"missing arguemnt"+n,"MISSING_ARGUMENT",{count:e,expectedCount:t}),Et(e<=t,"too many arguemnts"+n,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})}var Rt=["NFD","NFC","NFKD","NFKC"].reduce((function(e,t){try{if("test"!=="test".normalize(t))throw new Error("bad");if("NFD"===t)if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken");e.push(t)}catch(n){}return e}),[]);function It(e,t,n){if(null==n&&(n=""),e!==t){var r=n,i="new";n&&(r+=".",i+=" "+n),Et(!1,"private constructor; use ".concat(r,"from* methods"),"UNSUPPORTED_OPERATION",{operation:i})}}function Lt(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Nt(e,t){pt(e,t),t.add(e)}function Ot(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function Dt(e,t,n){return(t=rt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(n),!0).forEach((function(t){Dt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bt(e,t,n){return Bt=ft()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&lt(i,n.prototype),i},Bt.apply(null,arguments)}function Ft(e){var t="function"===typeof Map?new Map:void 0;return Ft=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Bt(e,arguments,st(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),lt(r,e)},Ft(e)}function Ht(e,t,n){if(e instanceof Uint8Array)return n?new Uint8Array(e):e;if("string"===typeof e&&e.match(/^0x([0-9a-f][0-9a-f])*$/i)){for(var r=new Uint8Array((e.length-2)/2),i=2,a=0;a<r.length;a++)r[a]=parseInt(e.substring(i,i+2),16),i+=2;return r}Ct(!1,"invalid BytesLike value",t||"value",e)}function Wt(e,t){return Ht(e,t,!1)}function Gt(e,t){return Ht(e,t,!0)}function jt(e,t){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(("number"!==typeof t||e.length===2+2*t)&&(!0!==t||e.length%2===0))}var Vt="0123456789abcdef";function qt(e){for(var t=Wt(e),n="0x",r=0;r<t.length;r++){var i=t[r];n+=Vt[(240&i)>>4]+Vt[15&i]}return n}function Xt(e){return"0x"+e.map((function(e){return qt(e).substring(2)})).join("")}function Jt(e){return jt(e,!0)?(e.length-2)/2:Wt(e).length}function Yt(e,t,n){var r=Wt(e);return null!=n&&n>r.length&&Et(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),qt(r.slice(null==t?0:t,null==n?r.length:n))}function Qt(e,t,n){var r=Wt(e);Et(t>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:t,offset:t+1});var i=new Uint8Array(t);return i.fill(0),n?i.set(r,t-r.length):i.set(r,0),qt(i)}function Zt(e,t){return Qt(e,t,!0)}var Kt=BigInt(0),$t=BigInt(1),en=9007199254740991;function tn(e,t){var n=on(e,"value"),r=BigInt(ln(t,"width"));return Et(n>>r===Kt,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),n>>r-$t?-((~n&($t<<r)-$t)+$t):n}function nn(e,t){var n=an(e,"value"),r=BigInt(ln(t,"width")),i=$t<<r-$t;return n<Kt?(Et((n=-n)<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),(~n&($t<<r)-$t)+$t):(Et(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),n)}function rn(e,t){var n=on(e,"value"),r=BigInt(ln(t,"bits"));return n&($t<<r)-$t}function an(e,t){switch(typeof e){case"bigint":return e;case"number":return Ct(Number.isInteger(e),"underflow",t||"value",e),Ct(e>=-en&&e<=en,"overflow",t||"value",e),BigInt(e);case"string":try{if(""===e)throw new Error("empty string");return"-"===e[0]&&"-"!==e[1]?-BigInt(e.substring(1)):BigInt(e)}catch(n){Ct(!1,"invalid BigNumberish string: ".concat(n.message),t||"value",e)}}Ct(!1,"invalid BigNumberish value",t||"value",e)}function on(e,t){var n=an(e,t);return Et(n>=Kt,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),n}var sn="0123456789abcdef";function un(e){if(e instanceof Uint8Array){var t,n="0x0",r=Lt(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n+=sn[i>>4],n+=sn[15&i]}}catch(a){r.e(a)}finally{r.f()}return BigInt(n)}return an(e)}function ln(e,t){switch(typeof e){case"bigint":return Ct(e>=-en&&e<=en,"overflow",t||"value",e),Number(e);case"number":return Ct(Number.isInteger(e),"underflow",t||"value",e),Ct(e>=-en&&e<=en,"overflow",t||"value",e),e;case"string":try{if(""===e)throw new Error("empty string");return ln(BigInt(e),t)}catch(n){Ct(!1,"invalid numeric string: ".concat(n.message),t||"value",e)}}Ct(!1,"invalid numeric value",t||"value",e)}function cn(e,t){var n=on(e,"value").toString(16);if(null==t)n.length%2&&(n="0"+n);else{var r=ln(t,"width");for(Et(2*r>=n.length,"value exceeds width (".concat(r," bits)"),"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});n.length<2*r;)n="0"+n}return"0x"+n}function fn(e){var t=on(e,"value");if(t===Kt)return new Uint8Array([]);var n=t.toString(16);n.length%2&&(n="0"+n);for(var r=new Uint8Array(n.length/2),i=0;i<r.length;i++){var a=2*i;r[i]=parseInt(n.substring(a,a+2),16)}return r}function hn(e){for(var t=qt(function(e){return jt(e,!0)||e instanceof Uint8Array}(e)?e:fn(e)).substring(2);t.startsWith("0");)t=t.substring(1);return""===t&&(t="0"),"0x"+t}var dn=32,pn=new Uint8Array(dn),vn=["then"],mn={};function yn(e,t){var n=new Error("deferred error during ABI decoding triggered accessing ".concat(e));throw n.error=t,n}var gn=new WeakMap,bn=function(e){ct(n,e);var t=dt(n);function n(){var e;nt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i[0],s=i[1],u=(i[2]||[]).slice(),l=!0;o!==mn&&(s=i,u=[],l=!1),vt(ot(e=t.call(this,s.length)),gn,{writable:!0,value:void 0}),s.forEach((function(t,n){e[n]=t}));var c=u.reduce((function(e,t){return"string"===typeof t&&e.set(t,(e.get(t)||0)+1),e}),new Map);return gt(ot(e),gn,Object.freeze(s.map((function(e,t){var n=u[t];return null!=n&&1===c.get(n)?n:null})))),l?(Object.freeze(ot(e)),ht(e,new Proxy(ot(e),{get:function(t,n,r){if("string"===typeof n){if(n.match(/^[0-9]+$/)){var i=ln(n,"%index");if(i<0||i>=e.length)throw new RangeError("out of result range");var a=t[i];return a instanceof Error&&yn("index ".concat(i),a),a}if(vn.indexOf(n)>=0)return Reflect.get(t,n,r);var o=t[n];if(o instanceof Function)return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return o.apply(this===r?t:this,n)};if(!(n in t))return t.getValue.apply(ot(e)===r?t:ot(e),[n])}return Reflect.get(t,n,r)}}))):ht(e)}return at(n,[{key:"toArray",value:function(){var e=[];return this.forEach((function(t,n){t instanceof Error&&yn("index ".concat(n),t),e.push(t)})),e}},{key:"toObject",value:function(){var e=this;return yt(this,gn).reduce((function(t,n,r){return Et(null!=n,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),n in t||(t[n]=e.getValue(n)),t}),{})}},{key:"slice",value:function(e,t){null==e&&(e=0),e<0&&(e+=this.length)<0&&(e=0),null==t&&(t=this.length),t<0&&(t+=this.length)<0&&(t=0),t>this.length&&(t=this.length);for(var r=[],i=[],a=e;a<t;a++)r.push(this[a]),i.push(yt(this,gn)[a]);return new n(mn,r,i)}},{key:"filter",value:function(e,t){for(var r=[],i=[],a=0;a<this.length;a++){var o=this[a];o instanceof Error&&yn("index ".concat(a),o),e.call(t,o,a,this)&&(r.push(o),i.push(yt(this,gn)[a]))}return new n(mn,r,i)}},{key:"getValue",value:function(e){var t=yt(this,gn).indexOf(e);if(-1!==t){var n=this[t];return n instanceof Error&&yn("property ".concat(JSON.stringify(e)),n.error),n}}}],[{key:"fromItems",value:function(e,t){return new n(mn,e,t)}}]),n}(Ft(Array));function wn(e){var t=fn(e);return Et(t.length<=dn,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:dn,offset:t.length}),t.length!==dn&&(t=Gt(Xt([pn.slice(t.length%dn),t]))),t}var xn=function(){function e(t,n,r,i){nt(this,e),Dt(this,"name",void 0),Dt(this,"type",void 0),Dt(this,"localName",void 0),Dt(this,"dynamic",void 0),kt(this,{name:t,type:n,localName:r,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}return at(e,[{key:"_throwError",value:function(e,t){Ct(!1,e,this.localName,t)}}]),e}(),_n=new WeakMap,kn=new WeakMap,Sn=new WeakSet,Mn=function(){function e(){nt(this,e),Nt(this,Sn),vt(this,_n,{writable:!0,value:void 0}),vt(this,kn,{writable:!0,value:void 0}),gt(this,_n,[]),gt(this,kn,0)}return at(e,[{key:"data",get:function(){return Xt(yt(this,_n))}},{key:"length",get:function(){return yt(this,kn)}},{key:"appendWriter",value:function(e){return Ot(this,Sn,An).call(this,Gt(e.data))}},{key:"writeBytes",value:function(e){var t=Gt(e),n=t.length%dn;return n&&(t=Gt(Xt([t,pn.slice(n)]))),Ot(this,Sn,An).call(this,t)}},{key:"writeValue",value:function(e){return Ot(this,Sn,An).call(this,wn(e))}},{key:"writeUpdatableValue",value:function(){var e=this,t=yt(this,_n).length;return yt(this,_n).push(pn),gt(this,kn,yt(this,kn)+dn),function(n){yt(e,_n)[t]=wn(n)}}}]),e}();function An(e){return yt(this,_n).push(e),gt(this,kn,yt(this,kn)+e.length),e.length}var Tn=new WeakMap,En=new WeakMap,Cn=new WeakSet,Pn=function(){function e(t,n){nt(this,e),Nt(this,Cn),Dt(this,"allowLoose",void 0),vt(this,Tn,{writable:!0,value:void 0}),vt(this,En,{writable:!0,value:void 0}),kt(this,{allowLoose:!!n}),gt(this,Tn,Gt(t)),gt(this,En,0)}return at(e,[{key:"data",get:function(){return qt(yt(this,Tn))}},{key:"dataLength",get:function(){return yt(this,Tn).length}},{key:"consumed",get:function(){return yt(this,En)}},{key:"bytes",get:function(){return new Uint8Array(yt(this,Tn))}},{key:"subReader",value:function(t){return new e(yt(this,Tn).slice(yt(this,En)+t),this.allowLoose)}},{key:"readBytes",value:function(e,t){var n=Ot(this,Cn,Rn).call(this,0,e,!!t);return gt(this,En,yt(this,En)+n.length),n.slice(0,e)}},{key:"readValue",value:function(){return un(this.readBytes(dn))}},{key:"readIndex",value:function(){return ln(un(this.readBytes(dn)))}}]),e}();function Rn(e,t,n){var r=Math.ceil(t/dn)*dn;return yt(this,En)+r>yt(this,Tn).length&&(this.allowLoose&&n&&yt(this,En)+t<=yt(this,Tn).length?r=t:Et(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Gt(yt(this,Tn)),length:yt(this,Tn).length,offset:yt(this,En)+r})),yt(this,Tn).slice(yt(this,En),yt(this,En)+r)}function In(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("Wrong positive integer: ".concat(e))}function Ln(e){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new TypeError("Expected Uint8Array of length ".concat(n,", not of length=").concat(e.length))}var Nn={number:In,bool:function(e){if("boolean"!==typeof e)throw new Error("Expected boolean, not ".concat(e))},bytes:Ln,hash:function(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");In(e.outputLen),In(e.blockLen)},exists:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},output:function(e,t){Ln(e);var n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least ".concat(n))}},On=Nn,Dn=BigInt(Math.pow(2,32)-1),Un=BigInt(32);function zn(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&Dn),l:Number(e>>Un&Dn)}:{h:0|Number(e>>Un&Dn),l:0|Number(e&Dn)}}var Bn={fromBig:zn,split:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length),i=0;i<e.length;i++){var a=zn(e[i],t),o=[a.h,a.l];n[i]=o[0],r[i]=o[1]}return[n,r]},toBig:function(e,t){return BigInt(e>>>0)<<Un|BigInt(t>>>0)},shrSH:function(e,t,n){return e>>>n},shrSL:function(e,t,n){return e<<32-n|t>>>n},rotrSH:function(e,t,n){return e>>>n|t<<32-n},rotrSL:function(e,t,n){return e<<32-n|t>>>n},rotrBH:function(e,t,n){return e<<64-n|t>>>n-32},rotrBL:function(e,t,n){return e>>>n-32|t<<64-n},rotr32H:function(e,t){return t},rotr32L:function(e,t){return e},rotlSH:function(e,t,n){return e<<n|t>>>32-n},rotlSL:function(e,t,n){return t<<n|e>>>32-n},rotlBH:function(e,t,n){return t<<n-32|e>>>64-n},rotlBL:function(e,t,n){return e<<n-32|t>>>64-n},add:function(e,t,n,r){var i=(t>>>0)+(r>>>0);return{h:e+n+(i/Math.pow(2,32)|0)|0,l:0|i}},add3L:function(e,t,n){return(e>>>0)+(t>>>0)+(n>>>0)},add3H:function(e,t,n,r){return t+n+r+(e/Math.pow(2,32)|0)|0},add4L:function(e,t,n,r){return(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)},add4H:function(e,t,n,r,i){return t+n+r+i+(e/Math.pow(2,32)|0)|0},add5H:function(e,t,n,r,i,a){return t+n+r+i+a+(e/Math.pow(2,32)|0)|0},add5L:function(e,t,n,r,i){return(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0)}},Fn=Bn,Hn=("object"===typeof self&&"crypto"in self&&self.crypto,function(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}),Wn=function(e,t){return e<<32-t|e>>>t};if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(function(e,t){return t.toString(16).padStart(2,"0")}));function Gn(e){if("string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new TypeError("utf8ToBytes expected string, got ".concat(typeof e));return(new TextEncoder).encode(e)}(e)),!(e instanceof Uint8Array))throw new TypeError("Expected input type is Uint8Array (got ".concat(typeof e,")"));return e}var jn=function(){function e(){nt(this,e)}return at(e,[{key:"clone",value:function(){return this._cloneInto()}}]),e}();function Vn(e){var t=function(t){return e().update(Gn(t)).digest()},n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=function(){return e()},t}for(var qn=[],Xn=[],Jn=[],Yn=BigInt(0),Qn=BigInt(1),Zn=BigInt(2),Kn=BigInt(7),$n=BigInt(256),er=BigInt(113),tr=0,nr=Qn,rr=1,ir=0;tr<24;tr++){var ar=[ir,(2*rr+3*ir)%5];rr=ar[0],ir=ar[1],qn.push(2*(5*ir+rr)),Xn.push((tr+1)*(tr+2)/2%64);for(var or=Yn,sr=0;sr<7;sr++)(nr=(nr<<Qn^(nr>>Kn)*er)%$n)&Zn&&(or^=Qn<<(Qn<<BigInt(sr))-Qn);Jn.push(or)}var ur=l(Fn.split(Jn,!0),2),lr=ur[0],cr=ur[1],fr=function(e,t,n){return n>32?Fn.rotlBH(e,t,n):Fn.rotlSH(e,t,n)},hr=function(e,t,n){return n>32?Fn.rotlBL(e,t,n):Fn.rotlSL(e,t,n)};var dr=function(e){ct(n,e);var t=dt(n);function n(e,r,i){var a,o,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(nt(this,n),(a=t.call(this)).blockLen=e,a.suffix=r,a.outputLen=i,a.enableXOF=s,a.rounds=u,a.pos=0,a.posOut=0,a.finished=!1,a.destroyed=!1,On.number(i),0>=a.blockLen||a.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");return a.state=new Uint8Array(200),a.state32=(o=a.state,new Uint32Array(o.buffer,o.byteOffset,Math.floor(o.byteLength/4))),a}return at(n,[{key:"keccak",value:function(){!function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24,n=new Uint32Array(10),r=24-t;r<24;r++){for(var i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(var a=0;a<10;a+=2)for(var o=(a+8)%10,s=(a+2)%10,u=n[s],l=n[s+1],c=fr(u,l,1)^n[o],f=hr(u,l,1)^n[o+1],h=0;h<50;h+=10)e[a+h]^=c,e[a+h+1]^=f;for(var d=e[2],p=e[3],v=0;v<24;v++){var m=Xn[v],y=fr(d,p,m),g=hr(d,p,m),b=qn[v];d=e[b],p=e[b+1],e[b]=y,e[b+1]=g}for(var w=0;w<50;w+=10){for(var x=0;x<10;x++)n[x]=e[w+x];for(var _=0;_<10;_++)e[w+_]^=~n[(_+2)%10]&n[(_+4)%10]}e[0]^=lr[r],e[1]^=cr[r]}n.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}},{key:"update",value:function(e){On.exists(this);for(var t=this.blockLen,n=this.state,r=(e=Gn(e)).length,i=0;i<r;){for(var a=Math.min(t-this.pos,r-i),o=0;o<a;o++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}},{key:"finish",value:function(){if(!this.finished){this.finished=!0;var e=this.state,t=this.suffix,n=this.pos,r=this.blockLen;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}}},{key:"writeInto",value:function(e){On.exists(this,!1),On.bytes(e),this.finish();for(var t=this.state,n=this.blockLen,r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();var a=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+a),r),this.posOut+=a,r+=a}return e}},{key:"xofInto",value:function(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}},{key:"xof",value:function(e){return On.number(e),this.xofInto(new Uint8Array(e))}},{key:"digestInto",value:function(e){if(On.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}},{key:"digest",value:function(){return this.digestInto(new Uint8Array(this.outputLen))}},{key:"destroy",value:function(){this.destroyed=!0,this.state.fill(0)}},{key:"_cloneInto",value:function(e){var t=this.blockLen,r=this.suffix,i=this.outputLen,a=this.rounds,o=this.enableXOF;return e||(e=new n(t,r,i,o,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}]),n}(jn),pr=function(e,t,n){return Vn((function(){return new dr(t,e,n)}))},vr=(pr(6,144,28),pr(6,136,32),pr(6,104,48),pr(6,72,64),pr(1,144,28),pr(1,136,32)),mr=(pr(1,104,48),pr(1,72,64),function(e,t,n){return function(e){var t=function(t,n){return e(n).update(Gn(t)).digest()},n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=function(t){return e(t)},t}((function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new dr(t,e,void 0===r.dkLen?n:r.dkLen,!0)}))}),yr=(mr(31,168,16),mr(31,136,32),!1),gr=function(e){return vr(e)},br=gr;function wr(e){var t=Wt(e,"data");return qt(br(t))}wr._=gr,wr.lock=function(){yr=!0},wr.register=function(e){if(yr)throw new TypeError("keccak256 is locked");br=e},Object.freeze(wr);var xr=BigInt(0),_r=BigInt(36);function kr(e){for(var t=(e=e.toLowerCase()).substring(2).split(""),n=new Uint8Array(40),r=0;r<40;r++)n[r]=t[r].charCodeAt(0);for(var i=Wt(wr(n)),a=0;a<40;a+=2)i[a>>1]>>4>=8&&(t[a]=t[a].toUpperCase()),(15&i[a>>1])>=8&&(t[a+1]=t[a+1].toUpperCase());return"0x"+t.join("")}for(var Sr={},Mr=0;Mr<10;Mr++)Sr[String(Mr)]=String(Mr);for(var Ar=0;Ar<26;Ar++)Sr[String.fromCharCode(65+Ar)]=String(10+Ar);var Tr=15;function Er(e){for(var t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((function(e){return Sr[e]})).join("");t.length>=Tr;){var n=t.substring(0,Tr);t=parseInt(n,10)%97+t.substring(n.length)}for(var r=String(98-parseInt(t,10)%97);r.length<2;)r="0"+r;return r}var Cr=function(){for(var e={},t=0;t<36;t++){e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t)}return e}();function Pr(e){if(Ct("string"===typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);var t=kr(e);return Ct(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){Ct(e.substring(2,4)===Er(e),"bad icap checksum","address",e);for(var n=function(e){e=e.toLowerCase();for(var t=xr,n=0;n<e.length;n++)t=t*_r+Cr[e[n]];return t}(e.substring(4)).toString(16);n.length<40;)n="0"+n;return kr("0x"+n)}Ct(!1,"invalid address","address",e)}var Rr={};function Ir(e,t){var n=!1;return t<0&&(n=!0,t*=-1),new Dr(Rr,"".concat(n?"":"u","int").concat(t),e,{signed:n,width:t})}function Lr(e,t){return new Dr(Rr,"bytes".concat(t||""),e,{size:t})}var Nr=Symbol.for("_ethers_typed"),Or=new WeakMap,Dr=function(){function e(t,n,r,i){nt(this,e),Dt(this,"type",void 0),Dt(this,"value",void 0),vt(this,Or,{writable:!0,value:void 0}),Dt(this,"_typedSymbol",void 0),null==i&&(i=null),It(Rr,t,"Typed"),kt(this,{_typedSymbol:Nr,type:n,value:r}),gt(this,Or,i),this.format()}return at(e,[{key:"format",value:function(){if("array"===this.type)throw new Error("");if("dynamicArray"===this.type)throw new Error("");return"tuple"===this.type?"tuple(".concat(this.value.map((function(e){return e.format()})).join(","),")"):this.type}},{key:"defaultValue",value:function(){return 0}},{key:"minValue",value:function(){return 0}},{key:"maxValue",value:function(){return 0}},{key:"isBigInt",value:function(){return!!this.type.match(/^u?int[0-9]+$/)}},{key:"isData",value:function(){return this.type.startsWith("bytes")}},{key:"isString",value:function(){return"string"===this.type}},{key:"tupleName",get:function(){if("tuple"!==this.type)throw TypeError("not a tuple");return yt(this,Or)}},{key:"arrayLength",get:function(){if("array"!==this.type)throw TypeError("not an array");return!0===yt(this,Or)?-1:!1===yt(this,Or)?this.value.length:null}}],[{key:"from",value:function(t,n){return new e(Rr,t,n)}},{key:"uint8",value:function(e){return Ir(e,8)}},{key:"uint16",value:function(e){return Ir(e,16)}},{key:"uint24",value:function(e){return Ir(e,24)}},{key:"uint32",value:function(e){return Ir(e,32)}},{key:"uint40",value:function(e){return Ir(e,40)}},{key:"uint48",value:function(e){return Ir(e,48)}},{key:"uint56",value:function(e){return Ir(e,56)}},{key:"uint64",value:function(e){return Ir(e,64)}},{key:"uint72",value:function(e){return Ir(e,72)}},{key:"uint80",value:function(e){return Ir(e,80)}},{key:"uint88",value:function(e){return Ir(e,88)}},{key:"uint96",value:function(e){return Ir(e,96)}},{key:"uint104",value:function(e){return Ir(e,104)}},{key:"uint112",value:function(e){return Ir(e,112)}},{key:"uint120",value:function(e){return Ir(e,120)}},{key:"uint128",value:function(e){return Ir(e,128)}},{key:"uint136",value:function(e){return Ir(e,136)}},{key:"uint144",value:function(e){return Ir(e,144)}},{key:"uint152",value:function(e){return Ir(e,152)}},{key:"uint160",value:function(e){return Ir(e,160)}},{key:"uint168",value:function(e){return Ir(e,168)}},{key:"uint176",value:function(e){return Ir(e,176)}},{key:"uint184",value:function(e){return Ir(e,184)}},{key:"uint192",value:function(e){return Ir(e,192)}},{key:"uint200",value:function(e){return Ir(e,200)}},{key:"uint208",value:function(e){return Ir(e,208)}},{key:"uint216",value:function(e){return Ir(e,216)}},{key:"uint224",value:function(e){return Ir(e,224)}},{key:"uint232",value:function(e){return Ir(e,232)}},{key:"uint240",value:function(e){return Ir(e,240)}},{key:"uint248",value:function(e){return Ir(e,248)}},{key:"uint256",value:function(e){return Ir(e,256)}},{key:"uint",value:function(e){return Ir(e,256)}},{key:"int8",value:function(e){return Ir(e,-8)}},{key:"int16",value:function(e){return Ir(e,-16)}},{key:"int24",value:function(e){return Ir(e,-24)}},{key:"int32",value:function(e){return Ir(e,-32)}},{key:"int40",value:function(e){return Ir(e,-40)}},{key:"int48",value:function(e){return Ir(e,-48)}},{key:"int56",value:function(e){return Ir(e,-56)}},{key:"int64",value:function(e){return Ir(e,-64)}},{key:"int72",value:function(e){return Ir(e,-72)}},{key:"int80",value:function(e){return Ir(e,-80)}},{key:"int88",value:function(e){return Ir(e,-88)}},{key:"int96",value:function(e){return Ir(e,-96)}},{key:"int104",value:function(e){return Ir(e,-104)}},{key:"int112",value:function(e){return Ir(e,-112)}},{key:"int120",value:function(e){return Ir(e,-120)}},{key:"int128",value:function(e){return Ir(e,-128)}},{key:"int136",value:function(e){return Ir(e,-136)}},{key:"int144",value:function(e){return Ir(e,-144)}},{key:"int152",value:function(e){return Ir(e,-152)}},{key:"int160",value:function(e){return Ir(e,-160)}},{key:"int168",value:function(e){return Ir(e,-168)}},{key:"int176",value:function(e){return Ir(e,-176)}},{key:"int184",value:function(e){return Ir(e,-184)}},{key:"int192",value:function(e){return Ir(e,-192)}},{key:"int200",value:function(e){return Ir(e,-200)}},{key:"int208",value:function(e){return Ir(e,-208)}},{key:"int216",value:function(e){return Ir(e,-216)}},{key:"int224",value:function(e){return Ir(e,-224)}},{key:"int232",value:function(e){return Ir(e,-232)}},{key:"int240",value:function(e){return Ir(e,-240)}},{key:"int248",value:function(e){return Ir(e,-248)}},{key:"int256",value:function(e){return Ir(e,-256)}},{key:"int",value:function(e){return Ir(e,-256)}},{key:"bytes1",value:function(e){return Lr(e,1)}},{key:"bytes2",value:function(e){return Lr(e,2)}},{key:"bytes3",value:function(e){return Lr(e,3)}},{key:"bytes4",value:function(e){return Lr(e,4)}},{key:"bytes5",value:function(e){return Lr(e,5)}},{key:"bytes6",value:function(e){return Lr(e,6)}},{key:"bytes7",value:function(e){return Lr(e,7)}},{key:"bytes8",value:function(e){return Lr(e,8)}},{key:"bytes9",value:function(e){return Lr(e,9)}},{key:"bytes10",value:function(e){return Lr(e,10)}},{key:"bytes11",value:function(e){return Lr(e,11)}},{key:"bytes12",value:function(e){return Lr(e,12)}},{key:"bytes13",value:function(e){return Lr(e,13)}},{key:"bytes14",value:function(e){return Lr(e,14)}},{key:"bytes15",value:function(e){return Lr(e,15)}},{key:"bytes16",value:function(e){return Lr(e,16)}},{key:"bytes17",value:function(e){return Lr(e,17)}},{key:"bytes18",value:function(e){return Lr(e,18)}},{key:"bytes19",value:function(e){return Lr(e,19)}},{key:"bytes20",value:function(e){return Lr(e,20)}},{key:"bytes21",value:function(e){return Lr(e,21)}},{key:"bytes22",value:function(e){return Lr(e,22)}},{key:"bytes23",value:function(e){return Lr(e,23)}},{key:"bytes24",value:function(e){return Lr(e,24)}},{key:"bytes25",value:function(e){return Lr(e,25)}},{key:"bytes26",value:function(e){return Lr(e,26)}},{key:"bytes27",value:function(e){return Lr(e,27)}},{key:"bytes28",value:function(e){return Lr(e,28)}},{key:"bytes29",value:function(e){return Lr(e,29)}},{key:"bytes30",value:function(e){return Lr(e,30)}},{key:"bytes31",value:function(e){return Lr(e,31)}},{key:"bytes32",value:function(e){return Lr(e,32)}},{key:"address",value:function(t){return new e(Rr,"address",t)}},{key:"bool",value:function(t){return new e(Rr,"bool",!!t)}},{key:"bytes",value:function(t){return new e(Rr,"bytes",t)}},{key:"string",value:function(t){return new e(Rr,"string",t)}},{key:"array",value:function(e,t){throw new Error("not implemented yet")}},{key:"tuple",value:function(e,t){throw new Error("not implemented yet")}},{key:"overrides",value:function(t){return new e(Rr,"overrides",Object.assign({},t))}},{key:"isTyped",value:function(e){return e&&e._typedSymbol===Nr}},{key:"dereference",value:function(t,n){if(e.isTyped(t)){if(t.type!==n)throw new Error("invalid type: expecetd ".concat(n,", got ").concat(t.type));return t.value}return t}}]),e}(),Ur=function(e){ct(n,e);var t=dt(n);function n(e){return nt(this,n),t.call(this,"address","address",e,!1)}return at(n,[{key:"defaultValue",value:function(){return"0x0000000000000000000000000000000000000000"}},{key:"encode",value:function(e,t){var n=Dr.dereference(t,"string");try{n=Pr(n)}catch(r){return this._throwError(r.message,t)}return e.writeValue(n)}},{key:"decode",value:function(e){return Pr(cn(e.readValue(),20))}}]),n}(xn),zr=function(e){ct(n,e);var t=dt(n);function n(e){var r;return nt(this,n),Dt(ot(r=t.call(this,e.name,e.type,"_",e.dynamic)),"coder",void 0),r.coder=e,r}return at(n,[{key:"defaultValue",value:function(){return this.coder.defaultValue()}},{key:"encode",value:function(e,t){return this.coder.encode(e,t)}},{key:"decode",value:function(e){return this.coder.decode(e)}}]),n}(xn);function Br(e,t,n){var r=[];if(Array.isArray(n))r=n;else if(n&&"object"===typeof n){var i={};r=t.map((function(e){var t=e.localName;return Et(t,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:e},value:n}),Et(!i[t],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:e},value:n}),i[t]=!0,n[t]}))}else Ct(!1,"invalid tuple value","tuple",n);Ct(t.length===r.length,"types/value length mismatch","tuple",n);var a=new Mn,o=new Mn,s=[];t.forEach((function(e,t){var n=r[t];if(e.dynamic){var i=o.length;e.encode(o,n);var u=a.writeUpdatableValue();s.push((function(e){u(e+i)}))}else e.encode(a,n)})),s.forEach((function(e){e(a.length)}));var u=e.appendWriter(a);return u+=e.appendWriter(o)}function Fr(e,t){var n=[],r=[],i=e.subReader(0);return t.forEach((function(t){var a=null;if(t.dynamic){var o=e.readIndex(),s=i.subReader(o);try{a=t.decode(s)}catch(u){if(Mt(u,"BUFFER_OVERRUN"))throw u;(a=u).baseType=t.name,a.name=t.localName,a.type=t.type}}else try{a=t.decode(e)}catch(u){if(Mt(u,"BUFFER_OVERRUN"))throw u;(a=u).baseType=t.name,a.name=t.localName,a.type=t.type}if(void 0==a)throw new Error("investigate");n.push(a),r.push(t.localName||null)})),bn.fromItems(n,r)}var Hr=function(e){ct(n,e);var t=dt(n);function n(e,r,i){var a;nt(this,n);var o=e.type+"["+(r>=0?r:"")+"]",s=-1===r||e.dynamic;return Dt(ot(a=t.call(this,"array",o,i,s)),"coder",void 0),Dt(ot(a),"length",void 0),kt(ot(a),{coder:e,length:r}),a}return at(n,[{key:"defaultValue",value:function(){for(var e=this.coder.defaultValue(),t=[],n=0;n<this.length;n++)t.push(e);return t}},{key:"encode",value:function(e,t){var n=Dr.dereference(t,"array");Array.isArray(n)||this._throwError("expected array value",n);var r=this.length;-1===r&&(r=n.length,e.writeValue(n.length)),Pt(n.length,r,"coder array"+(this.localName?" "+this.localName:""));for(var i=[],a=0;a<n.length;a++)i.push(this.coder);return Br(e,i,n)}},{key:"decode",value:function(e){var t=this.length;-1===t&&Et((t=e.readIndex())*dn<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:t*dn,length:e.dataLength});for(var n=[],r=0;r<t;r++)n.push(new zr(this.coder));return Fr(e,n)}}]),n}(xn),Wr=function(e){ct(n,e);var t=dt(n);function n(e){return nt(this,n),t.call(this,"bool","bool",e,!1)}return at(n,[{key:"defaultValue",value:function(){return!1}},{key:"encode",value:function(e,t){var n=Dr.dereference(t,"bool");return e.writeValue(n?1:0)}},{key:"decode",value:function(e){return!!e.readValue()}}]),n}(xn),Gr=function(e){ct(n,e);var t=dt(n);function n(e,r){return nt(this,n),t.call(this,e,e,r,!0)}return at(n,[{key:"defaultValue",value:function(){return"0x"}},{key:"encode",value:function(e,t){t=Gt(t);var n=e.writeValue(t.length);return n+=e.writeBytes(t)}},{key:"decode",value:function(e){return e.readBytes(e.readIndex(),!0)}}]),n}(xn),jr=function(e){ct(n,e);var t=dt(n);function n(e){return nt(this,n),t.call(this,"bytes",e)}return at(n,[{key:"decode",value:function(e){return qt(ut(st(n.prototype),"decode",this).call(this,e))}}]),n}(Gr),Vr=function(e){ct(n,e);var t=dt(n);function n(e,r){var i;nt(this,n);var a="bytes"+String(e);return Dt(ot(i=t.call(this,a,a,r,!1)),"size",void 0),kt(ot(i),{size:e},{size:"number"}),i}return at(n,[{key:"defaultValue",value:function(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}},{key:"encode",value:function(e,t){var n=Gt(Dr.dereference(t,this.type));return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}},{key:"decode",value:function(e){return qt(e.readBytes(this.size))}}]),n}(xn),qr=new Uint8Array([]),Xr=function(e){ct(n,e);var t=dt(n);function n(e){return nt(this,n),t.call(this,"null","",e,!1)}return at(n,[{key:"defaultValue",value:function(){return null}},{key:"encode",value:function(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes(qr)}},{key:"decode",value:function(e){return e.readBytes(0),null}}]),n}(xn),Jr=BigInt(0),Yr=BigInt(1),Qr=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Zr=function(e){ct(n,e);var t=dt(n);function n(e,r,i){var a;nt(this,n);var o=(r?"int":"uint")+8*e;return Dt(ot(a=t.call(this,o,o,i,!1)),"size",void 0),Dt(ot(a),"signed",void 0),kt(ot(a),{size:e,signed:r},{size:"number",signed:"boolean"}),a}return at(n,[{key:"defaultValue",value:function(){return 0}},{key:"encode",value:function(e,t){var n=an(Dr.dereference(t,this.type)),r=rn(Qr,8*dn);if(this.signed){var i=rn(r,8*this.size-1);(n>i||n<-(i+Yr))&&this._throwError("value out-of-bounds",t),n=nn(n,8*dn)}else(n<Jr||n>rn(r,8*this.size))&&this._throwError("value out-of-bounds",t);return e.writeValue(n)}},{key:"decode",value:function(e){var t=rn(e.readValue(),8*this.size);return this.signed&&(t=tn(t,8*this.size)),t}}]),n}(xn);function Kr(e,t,n,r,i){if("BAD_PREFIX"===e||"UNEXPECTED_CONTINUE"===e){for(var a=0,o=t+1;o<n.length&&n[o]>>6===2;o++)a++;return a}return"OVERRUN"===e?n.length-t-1:0}var $r=Object.freeze({error:function(e,t,n,r,i){Ct(!1,"invalid codepoint at offset ".concat(t,"; ").concat(e),"bytes",n)},ignore:Kr,replace:function(e,t,n,r,i){return"OVERLONG"===e?(Ct("number"===typeof i,"invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),Kr(e,t,n))}});function ei(e,t){null==t&&(t=$r.error);for(var n=Wt(e,"bytes"),r=[],i=0;i<n.length;){var a=n[i++];if(a>>7!==0){var o=null,s=null;if(192===(224&a))o=1,s=127;else if(224===(240&a))o=2,s=2047;else{if(240!==(248&a)){i+=t(128===(192&a)?"UNEXPECTED_CONTINUE":"BAD_PREFIX",i-1,n,r);continue}o=3,s=65535}if(i-1+o>=n.length)i+=t("OVERRUN",i-1,n,r);else{for(var u=a&(1<<8-o-1)-1,l=0;l<o;l++){var c=n[i];if(128!=(192&c)){i+=t("MISSING_CONTINUE",i,n,r),u=null;break}u=u<<6|63&c,i++}null!==u&&(u>1114111?i+=t("OUT_OF_RANGE",i-1-o,n,r,u):u>=55296&&u<=57343?i+=t("UTF16_SURROGATE",i-1-o,n,r,u):u<=s?i+=t("OVERLONG",i-1-o,n,r,u):r.push(u))}}else r.push(a)}return r}function ti(e,t){null!=t&&(!function(e){Et(Rt.indexOf(e)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:e}})}(t),e=e.normalize(t));for(var n=[],r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(63&i|128);else if(55296==(64512&i)){r++;var a=e.charCodeAt(r);Ct(r<e.length&&56320===(64512&a),"invalid surrogate pair","str",e);var o=65536+((1023&i)<<10)+(1023&a);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(63&o|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(63&i|128)}return new Uint8Array(n)}function ni(e,t){return ei(e,t).map((function(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e)))})).join("")}var ri=function(e){ct(n,e);var t=dt(n);function n(e){return nt(this,n),t.call(this,"string",e)}return at(n,[{key:"defaultValue",value:function(){return""}},{key:"encode",value:function(e,t){return ut(st(n.prototype),"encode",this).call(this,e,ti(Dr.dereference(t,"string")))}},{key:"decode",value:function(e){return ni(ut(st(n.prototype),"decode",this).call(this,e))}}]),n}(Gr),ii=function(e){ct(n,e);var t=dt(n);function n(e,r){var i;nt(this,n);var a=!1,o=[];e.forEach((function(e){e.dynamic&&(a=!0),o.push(e.type)}));var s="tuple("+o.join(",")+")";return Dt(ot(i=t.call(this,"tuple",s,r,a)),"coders",void 0),kt(ot(i),{coders:Object.freeze(e.slice())}),i}return at(n,[{key:"defaultValue",value:function(){var e=[];this.coders.forEach((function(t){e.push(t.defaultValue())}));var t=this.coders.reduce((function(e,t){var n=t.localName;return n&&(e[n]||(e[n]=0),e[n]++),e}),{});return this.coders.forEach((function(n,r){var i=n.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[r]))})),Object.freeze(e)}},{key:"encode",value:function(e,t){var n=Dr.dereference(t,"tuple");return Br(e,this.coders,n)}},{key:"decode",value:function(e){return Fr(e,this.coders)}}]),n}(xn);function ai(e){return wr(ti(e))}function oi(e){var t=new Set;return e.forEach((function(e){return t.add(e)})),Object.freeze(t)}var si="constant external internal payable private public pure view",ui=oi(si.split(" ")),li="constructor error event fallback function receive struct",ci=oi(li.split(" ")),fi="calldata memory storage payable indexed",hi=oi(fi.split(" ")),di=oi([li,fi,"tuple returns",si].join(" ").split(" ")),pi={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},vi=new RegExp("^(\\s*)"),mi=new RegExp("^([0-9]+)"),yi=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),gi=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),bi=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$"),wi=new WeakMap,xi=new WeakMap,_i=new WeakSet,ki=function(){function e(t){nt(this,e),Nt(this,_i),vt(this,wi,{writable:!0,value:void 0}),vt(this,xi,{writable:!0,value:void 0}),gt(this,wi,0),gt(this,xi,t.slice())}return at(e,[{key:"offset",get:function(){return yt(this,wi)}},{key:"length",get:function(){return yt(this,xi).length-yt(this,wi)}},{key:"clone",value:function(){return new e(yt(this,xi))}},{key:"reset",value:function(){gt(this,wi,0)}},{key:"popKeyword",value:function(e){var t=this.peek();if("KEYWORD"!==t.type||!e.has(t.text))throw new Error("expected keyword ".concat(t.text));return this.pop().text}},{key:"popType",value:function(e){if(this.peek().type!==e)throw new Error("expected ".concat(e,"; got ").concat(JSON.stringify(this.peek())));return this.pop().text}},{key:"popParen",value:function(){var e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");var t=Ot(this,_i,Si).call(this,yt(this,wi)+1,e.match+1);return gt(this,wi,e.match+1),t}},{key:"popParams",value:function(){var e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");for(var t=[];yt(this,wi)<e.match-1;){var n=this.peek().linkNext;t.push(Ot(this,_i,Si).call(this,yt(this,wi)+1,n)),gt(this,wi,n)}return gt(this,wi,e.match+1),t}},{key:"peek",value:function(){if(yt(this,wi)>=yt(this,xi).length)throw new Error("out-of-bounds");return yt(this,xi)[yt(this,wi)]}},{key:"peekKeyword",value:function(e){var t=this.peekType("KEYWORD");return null!=t&&e.has(t)?t:null}},{key:"peekType",value:function(e){if(0===this.length)return null;var t=this.peek();return t.type===e?t.text:null}},{key:"pop",value:function(){var e,t=this.peek();return gt(this,wi,(e=yt(this,wi),e++,e)),t}},{key:"toString",value:function(){for(var e=[],t=yt(this,wi);t<yt(this,xi).length;t++){var n=yt(this,xi)[t];e.push("".concat(n.type,":").concat(n.text))}return"<TokenString ".concat(e.join(" "),">")}}]),e}();function Si(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new ki(yt(this,xi).slice(e,t).map((function(t){return Object.freeze(Object.assign({},t,{match:t.match-e,linkBack:t.linkBack-e,linkNext:t.linkNext-e}))})))}function Mi(e){for(var t=[],n=function(t){var n=a<e.length?JSON.stringify(e[a]):"$EOI";throw new Error("invalid token ".concat(n," at ").concat(a,": ").concat(t))},r=[],i=[],a=0;a<e.length;){var o=e.substring(a),s=o.match(vi);s&&(a+=s[1].length,o=e.substring(a));var u={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:a,value:-1};t.push(u);var l=pi[o[0]]||"";if(l){if(u.type=l,u.text=o[0],a++,"OPEN_PAREN"===l)r.push(t.length-1),i.push(t.length-1);else if("CLOSE_PAREN"==l)0===r.length&&n("no matching open bracket"),u.match=r.pop(),t[u.match].match=t.length-1,u.depth--,u.linkBack=i.pop(),t[u.linkBack].linkNext=t.length-1;else if("COMMA"===l)u.linkBack=i.pop(),t[u.linkBack].linkNext=t.length-1,i.push(t.length-1);else if("OPEN_BRACKET"===l)u.type="BRACKET";else if("CLOSE_BRACKET"===l){var c=t.pop().text;if(t.length>0&&"NUMBER"===t[t.length-1].type){var f=t.pop().text;c=f+c,t[t.length-1].value=ln(f)}if(0===t.length||"BRACKET"!==t[t.length-1].type)throw new Error("missing opening bracket");t[t.length-1].text+=c}}else if(s=o.match(yi)){if(u.text=s[1],a+=u.text.length,di.has(u.text)){u.type="KEYWORD";continue}if(u.text.match(bi)){u.type="TYPE";continue}u.type="ID"}else{if(!(s=o.match(mi)))throw new Error("unexpected token ".concat(JSON.stringify(o[0])," at position ").concat(a));u.text=s[1],u.type="NUMBER",a+=u.text.length}}return new ki(t.map((function(e){return Object.freeze(e)})))}function Ai(e,t){var n=[];for(var r in t.keys())e.has(r)&&n.push(r);if(n.length>1)throw new Error("conflicting types: ".concat(n.join(", ")))}function Ti(e,t){if(t.peekKeyword(ci)){var n=t.pop().text;if(n!==e)throw new Error("expected ".concat(e,", got ").concat(n))}return t.popType("ID")}function Ei(e,t){for(var n=new Set;;){var r=e.peekType("KEYWORD");if(null==r||t&&!t.has(r))break;if(e.pop(),n.has(r))throw new Error("duplicate keywords: ".concat(JSON.stringify(r)));n.add(r)}return Object.freeze(n)}function Ci(e){var t=Ei(e,ui);return Ai(t,oi("constant payable nonpayable".split(" "))),Ai(t,oi("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function Pi(e,t){return e.popParams().map((function(e){return Vi.from(e,t)}))}function Ri(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return an(e.pop().text);throw new Error("invalid gas")}return null}function Ii(e){if(e.length)throw new Error("unexpected tokens: ".concat(e.toString()))}var Li=new RegExp(/^(.*)\[([0-9]*)\]$/);function Ni(e){var t=e.match(bi);if(Ct(t,"invalid type","type",e),"uint"===e)return"uint256";if("int"===e)return"int256";if(t[2]){var n=parseInt(t[2]);Ct(0!==n&&n<=32,"invalid bytes length","type",e)}else if(t[3]){var r=parseInt(t[3]);Ct(0!==r&&r<=256&&r%8===0,"invalid numeric width","type",e)}return e}var Oi={},Di=Symbol.for("_ethers_internal"),Ui="_ParamTypeInternal",zi="_ErrorInternal",Bi="_EventInternal",Fi="_ConstructorInternal",Hi="_FallbackInternal",Wi="_FunctionInternal",Gi="_StructInternal",ji=new WeakSet,Vi=function(){function e(t,n,r,i,a,o,s,u){if(nt(this,e),Nt(this,ji),Dt(this,"name",void 0),Dt(this,"type",void 0),Dt(this,"baseType",void 0),Dt(this,"indexed",void 0),Dt(this,"components",void 0),Dt(this,"arrayLength",void 0),Dt(this,"arrayChildren",void 0),It(t,Oi,"ParamType"),Object.defineProperty(this,Di,{value:Ui}),o&&(o=Object.freeze(o.slice())),"array"===i){if(null==s||null==u)throw new Error("")}else if(null!=s||null!=u)throw new Error("");if("tuple"===i){if(null==o)throw new Error("")}else if(null!=o)throw new Error("");kt(this,{name:n,type:r,baseType:i,indexed:a,components:o,arrayLength:s,arrayChildren:u})}return at(e,[{key:"format",value:function(e){if(null==e&&(e="sighash"),"json"===e){var t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"===typeof this.indexed&&(t.indexed=this.indexed),this.isTuple()&&(t.components=this.components.map((function(t){return JSON.parse(t.format(e))}))),JSON.stringify(t)}var n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+="[".concat(this.arrayLength<0?"":String(this.arrayLength),"]")):this.isTuple()?("sighash"!==e&&(n+=this.type),n+="("+this.components.map((function(t){return t.format(e)})).join("full"===e?", ":",")+")"):n+=this.type,"sighash"!==e&&(!0===this.indexed&&(n+=" indexed"),"full"===e&&this.name&&(n+=" "+this.name)),n}},{key:"isArray",value:function(){return"array"===this.baseType}},{key:"isTuple",value:function(){return"tuple"===this.baseType}},{key:"isIndexable",value:function(){return null!=this.indexed}},{key:"walk",value:function(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw new Error("array is wrong length");var n=this;return e.map((function(e){return n.arrayChildren.walk(e,t)}))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");var r=this;return e.map((function(e,n){return r.components[n].walk(e,t)}))}return t(this.type,e)}},{key:"walkAsync",value:function(){var e=d(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],i=[t],Ot(this,ji,qi).call(this,r,t,n,(function(e){i[0]=e})),!r.length){e.next=6;break}return e.next=6,Promise.all(r);case 6:return e.abrupt("return",i[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"from",value:function(t,n){if(e.isParamType(t))return t;if("string"===typeof t)return e.from(Mi(t),n);if(t instanceof ki){var r="",i="",a=null;Ei(t,oi(["tuple"])).has("tuple")||t.peekType("OPEN_PAREN")?(i="tuple",a=t.popParams().map((function(t){return e.from(t)})),r="tuple(".concat(a.map((function(e){return e.format()})).join(","),")")):i=r=Ni(t.popType("TYPE"));for(var o=null,s=null;t.length&&t.peekType("BRACKET");){var u=t.pop();o=new e(Oi,"",r,i,null,a,s,o),s=u.value,r+=u.text,i="array",a=null}var l=null;if(Ei(t,hi).has("indexed")){if(!n)throw new Error("");l=!0}var c=t.peekType("ID")?t.pop().text:"";if(t.length)throw new Error("leftover tokens");return new e(Oi,c,r,i,l,a,s,o)}var f=t.name;Ct(!f||"string"===typeof f&&f.match(gi),"invalid name","obj.name",f);var h=t.indexed;null!=h&&(Ct(n,"parameter cannot be indexed","obj.indexed",t.indexed),h=!!h);var d=t.type,p=d.match(Li);if(p){var v=parseInt(p[2]||"-1"),m=e.from({type:p[1],components:t.components});return new e(Oi,f||"",d,"array",h,null,v,m)}if("tuple"===d||d.startsWith("tuple(")||d.startsWith("(")){var y=null!=t.components?t.components.map((function(t){return e.from(t)})):null;return new e(Oi,f||"",d,"tuple",h,y,null,null)}return d=Ni(t.type),new e(Oi,f||"",d,d,h,null,null,null)}},{key:"isParamType",value:function(e){return e&&e[Di]===Ui}}]),e}();function qi(e,t,n,r){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw new Error("array is wrong length");var i=this.arrayChildren,a=t.slice();return a.forEach((function(t,r){Ot(i,ji,qi).call(i,e,t,n,(function(e){a[r]=e}))})),void r(a)}if(this.isTuple()){var o,s=this.components;if(Array.isArray(t))o=t.slice();else{if(null==t||"object"!==typeof t)throw new Error("invalid tuple value");o=s.map((function(e){if(!e.name)throw new Error("cannot use object value with unnamed components");if(!(e.name in t))throw new Error("missing value for component ".concat(e.name));return t[e.name]}))}if(o.length!==this.components.length)throw new Error("array is wrong length");return o.forEach((function(t,r){var i;Ot(i=s[r],ji,qi).call(i,e,t,n,(function(e){o[r]=e}))})),void r(o)}var u=n(this.type,t);u.then?e.push(d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,u;case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()):r(u)}var Xi=function(){function e(t,n,r){nt(this,e),Dt(this,"type",void 0),Dt(this,"inputs",void 0),It(t,Oi,"Fragment"),kt(this,{type:n,inputs:r=Object.freeze(r.slice())})}return at(e,null,[{key:"from",value:function(t){if("string"===typeof t){try{e.from(JSON.parse(t))}catch(n){}return e.from(Mi(t))}if(t instanceof ki)switch(t.peekKeyword(ci)){case"constructor":return Ki.from(t);case"error":return Qi.from(t);case"event":return Zi.from(t);case"fallback":case"receive":return $i.from(t);case"function":return ea.from(t);case"struct":return ta.from(t)}else if("object"===typeof t){switch(t.type){case"constructor":return Ki.from(t);case"error":return Qi.from(t);case"event":return Zi.from(t);case"fallback":case"receive":return $i.from(t);case"function":return ea.from(t);case"struct":return ta.from(t)}Et(!1,"unsupported type: ".concat(t.type),"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}Ct(!1,"unsupported frgament object","obj",t)}},{key:"isConstructor",value:function(e){return Ki.isFragment(e)}},{key:"isError",value:function(e){return Qi.isFragment(e)}},{key:"isEvent",value:function(e){return Zi.isFragment(e)}},{key:"isFunction",value:function(e){return ea.isFragment(e)}},{key:"isStruct",value:function(e){return ta.isFragment(e)}}]),e}(),Ji=function(e){ct(n,e);var t=dt(n);function n(e,r,i,a){var o;return nt(this,n),Dt(ot(o=t.call(this,e,r,a)),"name",void 0),Ct("string"===typeof i&&i.match(gi),"invalid identifier","name",i),a=Object.freeze(a.slice()),kt(ot(o),{name:i}),o}return at(n)}(Xi);function Yi(e,t){return"("+t.map((function(t){return t.format(e)})).join("full"===e?", ":",")+")"}var Qi=function(e){ct(n,e);var t=dt(n);function n(e,r,i){var a;return nt(this,n),a=t.call(this,e,"error",r,i),Object.defineProperty(ot(a),Di,{value:zi}),a}return at(n,[{key:"selector",get:function(){return ai(this.format("sighash")).substring(0,10)}},{key:"format",value:function(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((function(t){return JSON.parse(t.format(e))}))});var t=[];return"sighash"!==e&&t.push("error"),t.push(this.name+Yi(e,this.inputs)),t.join(" ")}}],[{key:"from",value:function(e){if(n.isFragment(e))return e;if("string"===typeof e)return n.from(Mi(e));if(e instanceof ki){var t=Ti("error",e),r=Pi(e);return Ii(e),new n(Oi,t,r)}return new n(Oi,e.name,e.inputs?e.inputs.map(Vi.from):[])}},{key:"isFragment",value:function(e){return e&&e[Di]===zi}}]),n}(Ji),Zi=function(e){ct(n,e);var t=dt(n);function n(e,r,i,a){var o;return nt(this,n),Dt(ot(o=t.call(this,e,"event",r,i)),"anonymous",void 0),Object.defineProperty(ot(o),Di,{value:Bi}),kt(ot(o),{anonymous:a}),o}return at(n,[{key:"topicHash",get:function(){return ai(this.format("sighash"))}},{key:"format",value:function(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((function(t){return JSON.parse(t.format(e))}))});var t=[];return"sighash"!==e&&t.push("event"),t.push(this.name+Yi(e,this.inputs)),"sighash"!==e&&this.anonymous&&t.push("anonymous"),t.join(" ")}}],[{key:"getTopicHash",value:function(e,t){return t=(t||[]).map((function(e){return Vi.from(e)})),new n(Oi,e,t,!1).topicHash}},{key:"from",value:function(e){if(n.isFragment(e))return e;if("string"===typeof e)return n.from(Mi(e));if(e instanceof ki){var t=Ti("event",e),r=Pi(e,!0),i=!!Ei(e,oi(["anonymous"])).has("anonymous");return Ii(e),new n(Oi,t,r,i)}return new n(Oi,e.name,e.inputs?e.inputs.map((function(e){return Vi.from(e,!0)})):[],!!e.anonymous)}},{key:"isFragment",value:function(e){return e&&e[Di]===Bi}}]),n}(Ji),Ki=function(e){ct(n,e);var t=dt(n);function n(e,r,i,a,o){var s;return nt(this,n),Dt(ot(s=t.call(this,e,r,i)),"payable",void 0),Dt(ot(s),"gas",void 0),Object.defineProperty(ot(s),Di,{value:Fi}),kt(ot(s),{payable:a,gas:o}),s}return at(n,[{key:"format",value:function(e){if(Et(null!=e&&"sighash"!==e,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===e)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((function(t){return JSON.parse(t.format(e))}))});var t=["constructor".concat(Yi(e,this.inputs))];return t.push(this.payable?"payable":"nonpayable"),null!=this.gas&&t.push("@".concat(this.gas.toString())),t.join(" ")}}],[{key:"from",value:function(e){if(n.isFragment(e))return e;if("string"===typeof e)return n.from(Mi(e));if(e instanceof ki){Ei(e,oi(["constructor"]));var t=Pi(e),r=!!Ei(e,oi(["payable"])).has("payable"),i=Ri(e);return Ii(e),new n(Oi,"constructor",t,r,i)}return new n(Oi,"constructor",e.inputs?e.inputs.map(Vi.from):[],!!e.payable,null!=e.gas?e.gas:null)}},{key:"isFragment",value:function(e){return e&&e[Di]===Fi}}]),n}(Xi),$i=function(e){ct(n,e);var t=dt(n);function n(e,r,i){var a;return nt(this,n),Dt(ot(a=t.call(this,e,"fallback",r)),"payable",void 0),Object.defineProperty(ot(a),Di,{value:Hi}),kt(ot(a),{payable:i}),a}return at(n,[{key:"format",value:function(e){var t=0===this.inputs.length?"receive":"fallback";if("json"===e){var n=this.payable?"payable":"nonpayable";return JSON.stringify({type:t,stateMutability:n})}return"".concat(t,"()").concat(this.payable?" payable":"")}}],[{key:"from",value:function(e){if(n.isFragment(e))return e;if("string"===typeof e)return n.from(Mi(e));if(e instanceof ki){var t=e.toString();if(Ct(e.peekKeyword(oi(["fallback","receive"])),"type must be fallback or receive","obj",t),"receive"===e.popKeyword(oi(["fallback","receive"]))){var r=Pi(e);return Ct(0===r.length,"receive cannot have arguments","obj.inputs",r),Ei(e,oi(["payable"])),Ii(e),new n(Oi,[],!0)}var i=Pi(e);i.length?Ct(1===i.length&&"bytes"===i[0].type,"invalid fallback inputs","obj.inputs",i.map((function(e){return e.format("minimal")})).join(", ")):i=[Vi.from("bytes")];var a=Ci(e);if(Ct("nonpayable"===a||"payable"===a,"fallback cannot be constants","obj.stateMutability",a),Ei(e,oi(["returns"])).has("returns")){var o=Pi(e);Ct(1===o.length&&"bytes"===o[0].type,"invalid fallback outputs","obj.outputs",o.map((function(e){return e.format("minimal")})).join(", "))}return Ii(e),new n(Oi,i,"payable"===a)}if("receive"===e.type)return new n(Oi,[],!0);if("fallback"===e.type){var s=[Vi.from("bytes")],u="payable"===e.stateMutability;return new n(Oi,s,u)}Ct(!1,"invalid fallback description","obj",e)}},{key:"isFragment",value:function(e){return e&&e[Di]===Hi}}]),n}(Xi),ea=function(e){ct(n,e);var t=dt(n);function n(e,r,i,a,o,s){var u;nt(this,n),Dt(ot(u=t.call(this,e,"function",r,a)),"constant",void 0),Dt(ot(u),"outputs",void 0),Dt(ot(u),"stateMutability",void 0),Dt(ot(u),"payable",void 0),Dt(ot(u),"gas",void 0),Object.defineProperty(ot(u),Di,{value:Wi}),o=Object.freeze(o.slice());var l="view"===i||"pure"===i,c="payable"===i;return kt(ot(u),{constant:l,gas:s,outputs:o,payable:c,stateMutability:i}),u}return at(n,[{key:"selector",get:function(){return ai(this.format("sighash")).substring(0,10)}},{key:"format",value:function(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((function(t){return JSON.parse(t.format(e))})),outputs:this.outputs.map((function(t){return JSON.parse(t.format(e))}))});var t=[];return"sighash"!==e&&t.push("function"),t.push(this.name+Yi(e,this.inputs)),"sighash"!==e&&("nonpayable"!==this.stateMutability&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(Yi(e,this.outputs))),null!=this.gas&&t.push("@".concat(this.gas.toString()))),t.join(" ")}}],[{key:"getSelector",value:function(e,t){return t=(t||[]).map((function(e){return Vi.from(e)})),new n(Oi,e,"view",t,[],null).selector}},{key:"from",value:function(e){if(n.isFragment(e))return e;if("string"===typeof e)return n.from(Mi(e));if(e instanceof ki){var t=Ti("function",e),r=Pi(e),i=Ci(e),a=[];Ei(e,oi(["returns"])).has("returns")&&(a=Pi(e));var o=Ri(e);return Ii(e),new n(Oi,t,i,r,a,o)}var s=e.stateMutability;return null==s&&(s="payable","boolean"===typeof e.constant?(s="view",e.constant||(s="payable","boolean"!==typeof e.payable||e.payable||(s="nonpayable"))):"boolean"!==typeof e.payable||e.payable||(s="nonpayable")),new n(Oi,e.name,s,e.inputs?e.inputs.map(Vi.from):[],e.outputs?e.outputs.map(Vi.from):[],null!=e.gas?e.gas:null)}},{key:"isFragment",value:function(e){return e&&e[Di]===Wi}}]),n}(Ji),ta=function(e){ct(n,e);var t=dt(n);function n(e,r,i){var a;return nt(this,n),a=t.call(this,e,"struct",r,i),Object.defineProperty(ot(a),Di,{value:Gi}),a}return at(n,[{key:"format",value:function(){throw new Error("@TODO")}}],[{key:"from",value:function(e){if("string"===typeof e)return n.from(Mi(e));if(e instanceof ki){var t=Ti("struct",e),r=Pi(e);return Ii(e),new n(Oi,t,r)}return new n(Oi,e.name,e.inputs?e.inputs.map(Vi.from):[])}},{key:"isFragment",value:function(e){return e&&e[Di]===Gi}}]),n}(Ji),na=new Map;na.set(0,"GENERIC_PANIC"),na.set(1,"ASSERT_FALSE"),na.set(17,"OVERFLOW"),na.set(18,"DIVIDE_BY_ZERO"),na.set(33,"ENUM_RANGE_ERROR"),na.set(34,"BAD_STORAGE_DATA"),na.set(49,"STACK_UNDERFLOW"),na.set(50,"ARRAY_RANGE_ERROR"),na.set(65,"OUT_OF_MEMORY"),na.set(81,"UNINITIALIZED_FUNCTION_CALL");var ra=new RegExp(/^bytes([0-9]*)$/),ia=new RegExp(/^(u?int)([0-9]*)$/),aa=null;var oa=new WeakSet,sa=function(){function e(){nt(this,e),Nt(this,oa)}return at(e,[{key:"getDefaultValue",value:function(e){var t=this,n=e.map((function(e){return Ot(t,oa,ua).call(t,Vi.from(e))}));return new ii(n,"_").defaultValue()}},{key:"encode",value:function(e,t){var n=this;Pt(t.length,e.length,"types/values length mismatch");var r=e.map((function(e){return Ot(n,oa,ua).call(n,Vi.from(e))})),i=new ii(r,"_"),a=new Mn;return i.encode(a,t),a.data}},{key:"decode",value:function(e,t,n){var r=this,i=e.map((function(e){return Ot(r,oa,ua).call(r,Vi.from(e))}));return new ii(i,"_").decode(new Pn(t,n))}}],[{key:"defaultAbiCoder",value:function(){return null==aa&&(aa=new e),aa}},{key:"getBuiltinCallException",value:function(t,n,r){return function(e,t,n,r){var i="missing revert data",a=null,o=null;if(n){i="execution reverted";var s=Wt(n);if(n=qt(n),0===s.length)i+=" (no data present; likely require(false) occurred",a="require(false)";else if(s.length%32!==4)i+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===qt(s.slice(0,4)))try{o={signature:"Error(string)",name:"Error",args:[a=r.decode(["string"],s.slice(4))[0]]},i+=": ".concat(JSON.stringify(a))}catch(c){i+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===qt(s.slice(0,4)))try{var u=Number(r.decode(["uint256"],s.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[u]},a="Panic due to ".concat(na.get(u)||"UNKNOWN","(").concat(u,")"),i+=": ".concat(a)}catch(c){i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}var l={to:t.to?Pr(t.to):null,data:t.data||"0x"};return t.from&&(l.from=Pr(t.from)),Tt(i,"CALL_EXCEPTION",{action:e,data:n,reason:a,transaction:l,invocation:null,revert:o})}(t,n,r,e.defaultAbiCoder())}}]),e}();function ua(e){var t=this;if(e.isArray())return new Hr(Ot(this,oa,ua).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new ii(e.components.map((function(e){return Ot(t,oa,ua).call(t,e)})),e.name);switch(e.baseType){case"address":return new Ur(e.name);case"bool":return new Wr(e.name);case"string":return new ri(e.name);case"bytes":return new jr(e.name);case"":return new Xr(e.name)}var n=e.type.match(ia);if(n){var r=parseInt(n[2]||"256");return Ct(0!==r&&r<=256&&r%8===0,"invalid "+n[1]+" bit length","param",e),new Zr(r/8,"int"===n[1],e.name)}if(n=e.type.match(ra)){var i=parseInt(n[1]);return Ct(0!==i&&i<=32,"invalid bytes length","param",e),new Vr(i,e.name)}Ct(!1,"invalid type","type",e.type)}function la(e,t){return ca.apply(this,arguments)}function ca(){return ca=d(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return null!=(r=e.sent)&&"0x0000000000000000000000000000000000000000"!==r||(Et("string"!==typeof t,"unconfigured name","UNCONFIGURED_NAME",{value:t}),Ct(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),e.abrupt("return",Pr(r));case 5:case"end":return e.stop()}}),e)}))),ca.apply(this,arguments)}function fa(e,t){return"string"===typeof e?e.match(/^0x[0-9a-f]{40}$/i)?Pr(e):(Et(null!=t,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),la(e,t.resolveName(e))):(n=e)&&"function"===typeof n.getAddress?la(e,e.getAddress()):e&&"function"===typeof e.then?la(e,e):void Ct(!1,"unsupported addressable value","target",e);var n}var ha=new Uint8Array(32);ha.fill(0);var da=BigInt(-1),pa=BigInt(0),va=BigInt(1),ma=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var ya=cn(va,32),ga=cn(pa,32),ba={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},wa=["name","version","chainId","verifyingContract","salt"];function xa(e){return function(t){return Ct("string"===typeof t,"invalid domain value for ".concat(JSON.stringify(e)),"domain.".concat(e),t),t}}var _a={name:xa("name"),version:xa("version"),chainId:function(e){var t=an(e,"domain.chainId");return Ct(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t)?Number(t):hn(t)},verifyingContract:function(e){try{return Pr(e).toLowerCase()}catch(t){}Ct(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){var t=Wt(e,"domain.salt");return Ct(32===t.length,'invalid domain value "salt"',"domain.salt",e),qt(t)}};function ka(e){var t=e.match(/^(u?)int(\d*)$/);if(t){var n=""===t[1],r=parseInt(t[2]||"256");Ct(r%8===0&&0!==r&&r<=256&&(null==t[2]||t[2]===String(r)),"invalid numeric width","type",e);var i=rn(ma,n?r-1:r),a=n?(i+va)*da:pa;return function(t){var r=an(t,"value");return Ct(r>=a&&r<=i,"value out-of-bounds for ".concat(e),"value",r),cn(n?nn(r,256):r,32)}}var o=e.match(/^bytes(\d+)$/);if(o){var s=parseInt(o[1]);return Ct(0!==s&&s<=32&&o[1]===String(s),"invalid bytes width","type",e),function(t){return Ct(Wt(t).length===s,"invalid length for ".concat(e),"value",t),function(e){var t=Wt(e),n=t.length%32;return n?Xt([t,ha.slice(n)]):qt(t)}(t)}}switch(e){case"address":return function(e){return Zt(Pr(e),32)};case"bool":return function(e){return e?ya:ga};case"bytes":return function(e){return wr(e)};case"string":return function(e){return ai(e)}}return null}function Sa(e,t){return"".concat(e,"(").concat(t.map((function(e){var t=e.name;return e.type+" "+t})).join(","),")")}var Ma=new WeakMap,Aa=new WeakMap,Ta=new WeakMap,Ea=new WeakSet,Ca=function(){function e(t){nt(this,e),Nt(this,Ea),Dt(this,"primaryType",void 0),vt(this,Ma,{writable:!0,value:void 0}),vt(this,Aa,{writable:!0,value:void 0}),vt(this,Ta,{writable:!0,value:void 0}),gt(this,Ma,JSON.stringify(t)),gt(this,Aa,new Map),gt(this,Ta,new Map);var n=new Map,r=new Map,i=new Map;for(var a in Object.keys(t).forEach((function(e){n.set(e,new Set),r.set(e,[]),i.set(e,new Set)})),t){var o,s=new Set,u=Lt(t[a]);try{for(u.s();!(o=u.n()).done;){var c=o.value;Ct(!s.has(c.name),"duplicate variable name ".concat(JSON.stringify(c.name)," in ").concat(JSON.stringify(a)),"types",t),s.add(c.name);var f=c.type.match(/^([^\x5b]*)(\x5b|$)/)[1]||null;Ct(f!==a,"circular type reference to ".concat(JSON.stringify(f)),"types",t),ka(f)||(Ct(r.has(f),"unknown type ".concat(JSON.stringify(f)),"types",t),r.get(f).push(a),n.get(a).add(f))}}catch(b){u.e(b)}finally{u.f()}}var h=Array.from(r.keys()).filter((function(e){return 0===r.get(e).length}));Ct(0!==h.length,"missing primary type","types",t),Ct(1===h.length,"ambiguous primary types or unused types: ".concat(h.map((function(e){return JSON.stringify(e)})).join(", ")),"types",t),kt(this,{primaryType:h[0]}),function e(a,o){Ct(!o.has(a),"circular type reference to ".concat(JSON.stringify(a)),"types",t),o.add(a);var s,u=Lt(n.get(a));try{for(u.s();!(s=u.n()).done;){var l=s.value;if(r.has(l)){e(l,o);var c,f=Lt(o);try{for(f.s();!(c=f.n()).done;){var h=c.value;i.get(h).add(l)}}catch(b){f.e(b)}finally{f.f()}}}}catch(b){u.e(b)}finally{u.f()}o.delete(a)}(this.primaryType,new Set);var d,p=Lt(i);try{for(p.s();!(d=p.n()).done;){var v=l(d.value,2),m=v[0],y=v[1],g=Array.from(y);g.sort(),yt(this,Aa).set(m,Sa(m,t[m])+g.map((function(e){return Sa(e,t[e])})).join(""))}}catch(b){p.e(b)}finally{p.f()}}return at(e,[{key:"types",get:function(){return JSON.parse(yt(this,Ma))}},{key:"getEncoder",value:function(e){var t=yt(this,Ta).get(e);return t||(t=Ot(this,Ea,Pa).call(this,e),yt(this,Ta).set(e,t)),t}},{key:"encodeType",value:function(e){var t=yt(this,Aa).get(e);return Ct(t,"unknown type: ".concat(JSON.stringify(e)),"name",e),t}},{key:"encodeData",value:function(e,t){return this.getEncoder(e)(t)}},{key:"hashStruct",value:function(e,t){return wr(this.encodeData(e,t))}},{key:"encode",value:function(e){return this.encodeData(this.primaryType,e)}},{key:"hash",value:function(e){return this.hashStruct(this.primaryType,e)}},{key:"_visit",value:function(e,t,n){var r=this;if(ka(e))return n(e,t);var i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i)return Ct(!i[3]||parseInt(i[3])===t.length,"array length mismatch; expected length ".concat(parseInt(i[3])),"value",t),t.map((function(e){return r._visit(i[1],e,n)}));var a=this.types[e];if(a)return a.reduce((function(e,i){var a=i.name,o=i.type;return e[a]=r._visit(o,t[a],n),e}),{});Ct(!1,"unknown type: ".concat(e),"type",e)}},{key:"visit",value:function(e,t){return this._visit(this.primaryType,e,t)}}],[{key:"from",value:function(t){return new e(t)}},{key:"getPrimaryType",value:function(t){return e.from(t).primaryType}},{key:"hashStruct",value:function(t,n,r){return e.from(n).hashStruct(t,r)}},{key:"hashDomain",value:function(t){var n=[];for(var r in t)if(null!=t[r]){var i=ba[r];Ct(i,"invalid typed-data domain key: ".concat(JSON.stringify(r)),"domain",t),n.push({name:r,type:i})}return n.sort((function(e,t){return wa.indexOf(e.name)-wa.indexOf(t.name)})),e.hashStruct("EIP712Domain",{EIP712Domain:n},t)}},{key:"encode",value:function(t,n,r){return Xt(["0x1901",e.hashDomain(t),e.from(n).hash(r)])}},{key:"hash",value:function(t,n,r){return wr(e.encode(t,n,r))}},{key:"resolveNames",value:function(){var t=d(f().mark((function t(n,r,i,a){var o,s,u,l;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(o in n=Object.assign({},n))null==n[o]&&delete n[o];s={},n.verifyingContract&&!jt(n.verifyingContract,20)&&(s[n.verifyingContract]="0x"),(u=e.from(r)).visit(i,(function(e,t){return"address"!==e||jt(t,20)||(s[t]="0x"),t})),t.t0=f().keys(s);case 7:if((t.t1=t.t0()).done){t.next=14;break}return l=t.t1.value,t.next=11,a(l);case 11:s[l]=t.sent,t.next=7;break;case 14:return n.verifyingContract&&s[n.verifyingContract]&&(n.verifyingContract=s[n.verifyingContract]),i=u.visit(i,(function(e,t){return"address"===e&&s[t]?s[t]:t})),t.abrupt("return",{domain:n,value:i});case 17:case"end":return t.stop()}}),t)})));return function(e,n,r,i){return t.apply(this,arguments)}}()},{key:"getPayload",value:function(t,n,r){e.hashDomain(t);var i={},a=[];wa.forEach((function(e){var n=t[e];null!=n&&(i[e]=_a[e](n),a.push({name:e,type:ba[e]}))}));var o=e.from(n),s=Object.assign({},n);return Ct(null==s.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",n),s.EIP712Domain=a,o.encode(r),{types:s,domain:i,primaryType:o.primaryType,message:o.visit(r,(function(e,t){if(e.match(/^bytes(\d*)/))return qt(Wt(t));if(e.match(/^u?int/))return an(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return Ct("string"===typeof t,"invalid string","value",t),t}Ct(!1,"unsupported type","type",e)}))}}}]),e}();function Pa(e){var t=this,n=ka(e);if(n)return n;var r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){var i=r[1],a=this.getEncoder(i);return function(e){Ct(!r[3]||parseInt(r[3])===e.length,"array length mismatch; expected length ".concat(parseInt(r[3])),"value",e);var n=e.map(a);return yt(t,Aa).has(i)&&(n=n.map(wr)),wr(Xt(n))}}var o=this.types[e];if(o){var s=ai(yt(this,Aa).get(e));return function(e){var n=o.map((function(n){var r=n.name,i=n.type,a=t.getEncoder(i)(e[r]);return yt(t,Aa).has(i)?wr(a):a}));return n.unshift(s),Xt(n)}}Ct(!1,"unknown type: ".concat(e),"type",e)}function Ra(e,t){return{address:Pr(e),storageKeys:t.map((function(e,t){return Ct(jt(e,32),"invalid slot","storageKeys[".concat(t,"]"),e),e.toLowerCase()}))}}function Ia(e){if(Array.isArray(e))return e.map((function(t,n){return Array.isArray(t)?(Ct(2===t.length,"invalid slot set","value[".concat(n,"]"),t),Ra(t[0],t[1])):(Ct(null!=t&&"object"===typeof t,"invalid address-slot set","value",e),Ra(t.address,t.storageKeys))}));Ct(null!=e&&"object"===typeof e,"invalid access list","value",e);var t=Object.keys(e).map((function(t){var n=e[t].reduce((function(e,t){return e[t]=!0,e}),{});return Ra(t,Object.keys(n).sort())}));return t.sort((function(e,t){return e.address.localeCompare(t.address)})),t}var La,Na,Oa="0x0000000000000000000000000000000000000000000000000000000000000000",Da=at((function e(t,n,r){nt(this,e),Dt(this,"fragment",void 0),Dt(this,"name",void 0),Dt(this,"signature",void 0),Dt(this,"topic",void 0),Dt(this,"args",void 0);var i=t.name,a=t.format();kt(this,{fragment:t,name:i,signature:a,topic:n,args:r})})),Ua=at((function e(t,n,r,i){nt(this,e),Dt(this,"fragment",void 0),Dt(this,"name",void 0),Dt(this,"args",void 0),Dt(this,"signature",void 0),Dt(this,"selector",void 0),Dt(this,"value",void 0);var a=t.name,o=t.format();kt(this,{fragment:t,name:a,args:r,signature:o,selector:n,value:i})})),za=at((function e(t,n,r){nt(this,e),Dt(this,"fragment",void 0),Dt(this,"name",void 0),Dt(this,"args",void 0),Dt(this,"signature",void 0),Dt(this,"selector",void 0);var i=t.name,a=t.format();kt(this,{fragment:t,name:i,args:r,signature:a,selector:n})})),Ba=function(){function e(t){nt(this,e),Dt(this,"hash",void 0),Dt(this,"_isIndexed",void 0),kt(this,{hash:t,_isIndexed:!0})}return at(e,null,[{key:"isIndexed",value:function(e){return!(!e||!e._isIndexed)}}]),e}(),Fa={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Ha={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:function(e){return"reverted with reason string ".concat(JSON.stringify(e))}},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:function(e){var t="unknown panic code";return e>=0&&e<=255&&Fa[e.toString()]&&(t=Fa[e.toString()]),"reverted with panic code 0x".concat(e.toString(16)," (").concat(t,")")}}},Wa=new WeakMap,Ga=new WeakMap,ja=new WeakMap,Va=new WeakMap,qa=new WeakSet,Xa=new WeakSet,Ja=function(){function e(t){var n=this;nt(this,e),Nt(this,Xa),Nt(this,qa),Dt(this,"fragments",void 0),Dt(this,"deploy",void 0),Dt(this,"fallback",void 0),Dt(this,"receive",void 0),vt(this,Wa,{writable:!0,value:void 0}),vt(this,Ga,{writable:!0,value:void 0}),vt(this,ja,{writable:!0,value:void 0}),vt(this,Va,{writable:!0,value:void 0});var r=[];r="string"===typeof t?JSON.parse(t):t,gt(this,ja,new Map),gt(this,Wa,new Map),gt(this,Ga,new Map);var i,a=[],o=Lt(r);try{for(o.s();!(i=o.n()).done;){var s=i.value;try{a.push(Xi.from(s))}catch(c){console.log("EE",c)}}}catch(f){o.e(f)}finally{o.f()}kt(this,{fragments:Object.freeze(a)});var u=null,l=!1;gt(this,Va,this.getAbiCoder()),this.fragments.forEach((function(e,t){var r;switch(e.type){case"constructor":return n.deploy?void console.log("duplicate definition - constructor"):void kt(n,{deploy:e});case"fallback":return void(0===e.inputs.length?l=!0:(Ct(!u||e.payable!==u.payable,"conflicting fallback fragments","fragments[".concat(t,"]"),e),l=(u=e).payable));case"function":r=yt(n,ja);break;case"event":r=yt(n,Ga);break;case"error":r=yt(n,Wa);break;default:return}var i=e.format();r.has(i)||r.set(i,e)})),this.deploy||kt(this,{deploy:Ki.from("constructor()")}),kt(this,{fallback:u,receive:l})}return at(e,[{key:"format",value:function(e){var t=e?"minimal":"full";return this.fragments.map((function(e){return e.format(t)}))}},{key:"formatJson",value:function(){var e=this.fragments.map((function(e){return e.format("json")}));return JSON.stringify(e.map((function(e){return JSON.parse(e)})))}},{key:"getAbiCoder",value:function(){return sa.defaultAbiCoder()}},{key:"getFunctionName",value:function(e){var t=Ot(this,qa,Ya).call(this,e,null,!1);return Ct(t,"no matching function","key",e),t.name}},{key:"hasFunction",value:function(e){return!!Ot(this,qa,Ya).call(this,e,null,!1)}},{key:"getFunction",value:function(e,t){return Ot(this,qa,Ya).call(this,e,t||null,!0)}},{key:"forEachFunction",value:function(e){var t=Array.from(yt(this,ja).keys());t.sort((function(e,t){return e.localeCompare(t)}));for(var n=0;n<t.length;n++){var r=t[n];e(yt(this,ja).get(r),n)}}},{key:"getEventName",value:function(e){var t=Ot(this,Xa,Qa).call(this,e,null,!1);return Ct(t,"no matching event","key",e),t.name}},{key:"hasEvent",value:function(e){return!!Ot(this,Xa,Qa).call(this,e,null,!1)}},{key:"getEvent",value:function(e,t){return Ot(this,Xa,Qa).call(this,e,t||null,!0)}},{key:"forEachEvent",value:function(e){var t=Array.from(yt(this,Ga).keys());t.sort((function(e,t){return e.localeCompare(t)}));for(var n=0;n<t.length;n++){var r=t[n];e(yt(this,Ga).get(r),n)}}},{key:"getError",value:function(e,t){if(jt(e)){var n=e.toLowerCase();if(Ha[n])return Qi.from(Ha[n].signature);var r,i=Lt(yt(this,Wa).values());try{for(i.s();!(r=i.n()).done;){var a=r.value;if(n===a.selector)return a}}catch(v){i.e(v)}finally{i.f()}return null}if(-1===e.indexOf("(")){var o,s=[],u=Lt(yt(this,Wa));try{for(u.s();!(o=u.n()).done;){var c=l(o.value,2),f=c[0],h=c[1];f.split("(")[0]===e&&s.push(h)}}catch(v){u.e(v)}finally{u.f()}if(0===s.length)return"Error"===e?Qi.from("error Error(string)"):"Panic"===e?Qi.from("error Panic(uint256)"):null;if(s.length>1){var d=s.map((function(e){return JSON.stringify(e.format())})).join(", ");Ct(!1,"ambiguous error description (i.e. ".concat(d,")"),"name",e)}return s[0]}if("Error(string)"===(e=Qi.from(e).format()))return Qi.from("error Error(string)");if("Panic(uint256)"===e)return Qi.from("error Panic(uint256)");var p=yt(this,Wa).get(e);return p||null}},{key:"forEachError",value:function(e){var t=Array.from(yt(this,Wa).keys());t.sort((function(e,t){return e.localeCompare(t)}));for(var n=0;n<t.length;n++){var r=t[n];e(yt(this,Wa).get(r),n)}}},{key:"_decodeParams",value:function(e,t){return yt(this,Va).decode(e,t)}},{key:"_encodeParams",value:function(e,t){return yt(this,Va).encode(e,t)}},{key:"encodeDeploy",value:function(e){return this._encodeParams(this.deploy.inputs,e||[])}},{key:"decodeErrorResult",value:function(e,t){if("string"===typeof e){var n=this.getError(e);Ct(n,"unknown error","fragment",e),e=n}return Ct(Yt(t,0,4)===e.selector,"data signature does not match error ".concat(e.name,"."),"data",t),this._decodeParams(e.inputs,Yt(t,4))}},{key:"encodeErrorResult",value:function(e,t){if("string"===typeof e){var n=this.getError(e);Ct(n,"unknown error","fragment",e),e=n}return Xt([e.selector,this._encodeParams(e.inputs,t||[])])}},{key:"decodeFunctionData",value:function(e,t){if("string"===typeof e){var n=this.getFunction(e);Ct(n,"unknown function","fragment",e),e=n}return Ct(Yt(t,0,4)===e.selector,"data signature does not match function ".concat(e.name,"."),"data",t),this._decodeParams(e.inputs,Yt(t,4))}},{key:"encodeFunctionData",value:function(e,t){if("string"===typeof e){var n=this.getFunction(e);Ct(n,"unknown function","fragment",e),e=n}return Xt([e.selector,this._encodeParams(e.inputs,t||[])])}},{key:"decodeFunctionResult",value:function(e,t){if("string"===typeof e){var n=this.getFunction(e);Ct(n,"unknown function","fragment",e),e=n}var r="invalid length for result data",i=Gt(t);if(i.length%32===0)try{return yt(this,Va).decode(e.outputs,i)}catch(a){r="could not decode result data"}Et(!1,r,"BAD_DATA",{value:qt(i),info:{method:e.name,signature:e.format()}})}},{key:"makeError",value:function(e,t){var n=Wt(e,"data"),r=sa.getBuiltinCallException("call",t,n);if(r.message.startsWith("execution reverted (unknown custom error)")){var i=qt(n.slice(0,4)),a=this.getError(i);if(a)try{var o=yt(this,Va).decode(a.inputs,n.slice(4));r.revert={name:a.name,signature:a.format(),args:o},r.reason=r.revert.signature,r.message="execution reverted: ".concat(r.reason)}catch(u){r.message="execution reverted (coult not decode custom error)"}}var s=this.parseTransaction(t);return s&&(r.invocation={method:s.name,signature:s.signature,args:s.args}),r}},{key:"encodeFunctionResult",value:function(e,t){if("string"===typeof e){var n=this.getFunction(e);Ct(n,"unknown function","fragment",e),e=n}return qt(yt(this,Va).encode(e.outputs,t||[]))}},{key:"encodeFilterTopics",value:function(e,t){var n=this;if("string"===typeof e){var r=this.getEvent(e);Ct(r,"unknown event","eventFragment",e),e=r}Et(t.length<=e.inputs.length,"too many arguments for ".concat(e.format()),"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});var i=[];e.anonymous||i.push(e.topicHash);var a=function(e,t){return"string"===e.type?ai(t):"bytes"===e.type?wr(qt(t)):("bool"===e.type&&"boolean"===typeof t&&(t=t?"0x01":"0x00"),e.type.match(/^u?int/)&&(t=cn(t)),"address"===e.type&&yt(n,Va).encode(["address"],[t]),Zt(qt(t),32))};for(t.forEach((function(t,n){var r=e.inputs[n];r.indexed?null==t?i.push(null):"array"===r.baseType||"tuple"===r.baseType?Ct(!1,"filtering with tuples or arrays not supported","contract."+r.name,t):Array.isArray(t)?i.push(t.map((function(e){return a(r,e)}))):i.push(a(r,t)):Ct(null==t,"cannot filter non-indexed parameters; must be null","contract."+r.name,t)}));i.length&&null===i[i.length-1];)i.pop();return i}},{key:"encodeEventLog",value:function(e,t){var n=this;if("string"===typeof e){var r=this.getEvent(e);Ct(r,"unknown event","eventFragment",e),e=r}var i=[],a=[],o=[];return e.anonymous||i.push(e.topicHash),Ct(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((function(e,r){var s=t[r];if(e.indexed)if("string"===e.type)i.push(ai(s));else if("bytes"===e.type)i.push(wr(s));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");i.push(yt(n,Va).encode([e.type],[s]))}else a.push(e),o.push(s)})),{data:yt(this,Va).encode(a,o),topics:i}}},{key:"decodeEventLog",value:function(e,t,n){if("string"===typeof e){var r=this.getEvent(e);Ct(r,"unknown event","eventFragment",e),e=r}if(null!=n&&!e.anonymous){var i=e.topicHash;Ct(jt(n[0],32)&&n[0].toLowerCase()===i,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}var a=[],o=[],s=[];e.inputs.forEach((function(e,t){e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(a.push(Vi.from({type:"bytes32",name:e.name})),s.push(!0)):(a.push(e),s.push(!1)):(o.push(e),s.push(!1))}));var u=null!=n?yt(this,Va).decode(a,Xt(n)):null,l=yt(this,Va).decode(o,t,!0),c=[],f=[],h=0,d=0;return e.inputs.forEach((function(e,t){var n=null;if(e.indexed)if(null==u)n=new Ba(null);else if(s[t])n=new Ba(u[d++]);else try{n=u[d++]}catch(r){n=r}else try{n=l[h++]}catch(r){n=r}c.push(n),f.push(e.name||null)})),bn.fromItems(c,f)}},{key:"parseTransaction",value:function(e){var t=Wt(e.data,"tx.data"),n=an(null!=e.value?e.value:0,"tx.value"),r=this.getFunction(qt(t.slice(0,4)));if(!r)return null;var i=yt(this,Va).decode(r.inputs,t.slice(4));return new Ua(r,r.selector,i,n)}},{key:"parseCallResult",value:function(e){throw new Error("@TODO")}},{key:"parseLog",value:function(e){var t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new Da(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}},{key:"parseError",value:function(e){var t=qt(e),n=this.getError(Yt(t,0,4));if(!n)return null;var r=yt(this,Va).decode(n.inputs,Yt(t,4));return new za(n,n.selector,r)}}],[{key:"from",value:function(t){return t instanceof e?t:"string"===typeof t?new e(JSON.parse(t)):"function"===typeof t.format?new e(t.format("json")):new e(t)}}]),e}();function Ya(e,t,n){if(jt(e)){var r,i=e.toLowerCase(),a=Lt(yt(this,ja).values());try{for(a.s();!(r=a.n()).done;){var o=r.value;if(i===o.selector)return o}}catch(M){a.e(M)}finally{a.f()}return null}if(-1===e.indexOf("(")){var s,u=[],c=Lt(yt(this,ja));try{for(c.s();!(s=c.n()).done;){var f=l(s.value,2),h=f[0],d=f[1];h.split("(")[0]===e&&u.push(d)}}catch(M){c.e(M)}finally{c.f()}if(t){var p=t.length>0?t[t.length-1]:null,v=t.length,m=!0;Dr.isTyped(p)&&"overrides"===p.type&&(m=!1,v--);for(var y=u.length-1;y>=0;y--){var g=u[y].inputs.length;g===v||m&&g===v-1||u.splice(y,1)}for(var b=u.length-1;b>=0;b--)for(var w=u[b].inputs,x=0;x<t.length;x++)if(Dr.isTyped(t[x])){if(x>=w.length){if("overrides"===t[x].type)continue;u.splice(b,1);break}if(t[x].type!==w[x].baseType){u.splice(b,1);break}}}if(1===u.length&&t&&t.length!==u[0].inputs.length){var _=t[t.length-1];(null==_||Array.isArray(_)||"object"!==typeof _)&&u.splice(0,1)}if(0===u.length)return null;if(u.length>1&&n){var k=u.map((function(e){return JSON.stringify(e.format())})).join(", ");Ct(!1,"ambiguous function description (i.e. matches ".concat(k,")"),"key",e)}return u[0]}var S=yt(this,ja).get(ea.from(e).format());return S||null}function Qa(e,t,n){if(jt(e)){var r,i=e.toLowerCase(),a=Lt(yt(this,Ga).values());try{for(a.s();!(r=a.n()).done;){var o=r.value;if(i===o.topicHash)return o}}catch(w){a.e(w)}finally{a.f()}return null}if(-1===e.indexOf("(")){var s,u=[],c=Lt(yt(this,Ga));try{for(c.s();!(s=c.n()).done;){var f=l(s.value,2),h=f[0],d=f[1];h.split("(")[0]===e&&u.push(d)}}catch(w){c.e(w)}finally{c.f()}if(t){for(var p=u.length-1;p>=0;p--)u[p].inputs.length<t.length&&u.splice(p,1);for(var v=u.length-1;v>=0;v--)for(var m=u[v].inputs,y=0;y<t.length;y++)if(Dr.isTyped(t[y])&&t[y].type!==m[y].baseType){u.splice(v,1);break}}if(0===u.length)return null;if(u.length>1&&n){var g=u.map((function(e){return JSON.stringify(e.format())})).join(", ");Ct(!1,"ambiguous event description (i.e. matches ".concat(g,")"),"key",e)}return u[0]}var b=yt(this,Ga).get(Zi.from(e).format());return b||null}var Za=BigInt(0);function Ka(e){return null==e?null:e}function $a(e){return null==e?null:e.toString()}var eo=function(){function e(t,n,r){nt(this,e),Dt(this,"gasPrice",void 0),Dt(this,"maxFeePerGas",void 0),Dt(this,"maxPriorityFeePerGas",void 0),kt(this,{gasPrice:Ka(t),maxFeePerGas:Ka(n),maxPriorityFeePerGas:Ka(r)})}return at(e,[{key:"toJSON",value:function(){var e=this.gasPrice,t=this.maxFeePerGas,n=this.maxPriorityFeePerGas;return{_type:"FeeData",gasPrice:$a(e),maxFeePerGas:$a(t),maxPriorityFeePerGas:$a(n)}}}]),e}();function to(e){var t={};e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=qt(e.data));var n,r=Lt("chainId,gasLimit,gasPrice,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/));try{for(r.s();!(n=r.n()).done;){var i=n.value;i in e&&null!=e[i]&&(t[i]=an(e[i],"request.".concat(i)))}}catch(u){r.e(u)}finally{r.f()}var a,o=Lt("type,nonce".split(/,/));try{for(o.s();!(a=o.n()).done;){var s=a.value;s in e&&null!=e[s]&&(t[s]=ln(e[s],"request.".concat(s)))}}catch(u){o.e(u)}finally{o.f()}return e.accessList&&(t.accessList=Ia(e.accessList)),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipReadEnabled=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),t}var no=new WeakMap;La=Symbol.iterator;var ro=function(){function e(t,n){nt(this,e),Dt(this,"provider",void 0),Dt(this,"number",void 0),Dt(this,"hash",void 0),Dt(this,"timestamp",void 0),Dt(this,"parentHash",void 0),Dt(this,"nonce",void 0),Dt(this,"difficulty",void 0),Dt(this,"gasLimit",void 0),Dt(this,"gasUsed",void 0),Dt(this,"miner",void 0),Dt(this,"extraData",void 0),Dt(this,"baseFeePerGas",void 0),vt(this,no,{writable:!0,value:void 0}),gt(this,no,t.transactions.map((function(e){return"string"!==typeof e?new uo(e,n):e}))),kt(this,{provider:n,hash:Ka(t.hash),number:t.number,timestamp:t.timestamp,parentHash:t.parentHash,nonce:t.nonce,difficulty:t.difficulty,gasLimit:t.gasLimit,gasUsed:t.gasUsed,miner:t.miner,extraData:t.extraData,baseFeePerGas:Ka(t.baseFeePerGas)})}return at(e,[{key:"transactions",get:function(){return yt(this,no).map((function(e){return"string"===typeof e?e:e.hash}))}},{key:"prefetchedTransactions",get:function(){var e=yt(this,no).slice();return 0===e.length?[]:(Et("object"===typeof e[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}},{key:"toJSON",value:function(){var e=this.baseFeePerGas,t=this.difficulty,n=this.extraData,r=this.gasLimit,i=this.gasUsed,a=this.hash,o=this.miner,s=this.nonce,u=this.number,l=this.parentHash,c=this.timestamp,f=this.transactions;return{_type:"Block",baseFeePerGas:$a(e),difficulty:$a(t),extraData:n,gasLimit:$a(r),gasUsed:$a(i),hash:a,miner:o,nonce:s,number:u,parentHash:l,timestamp:c,transactions:f}}},{key:La,value:function(){var e=this,t=0,n=this.transactions;return{next:function(){return t<e.length?{value:n[t++],done:!1}:{value:void 0,done:!0}}}}},{key:"length",get:function(){return yt(this,no).length}},{key:"date",get:function(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}},{key:"getTransaction",value:function(){var e=d(f().mark((function e(t){var n,r,i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=void 0,"number"!==typeof t){e.next=5;break}n=yt(this,no)[t],e.next=32;break;case 5:r=t.toLowerCase(),i=Lt(yt(this,no)),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=24;break}if("string"!==typeof(o=a.value)){e.next=18;break}if(o===r){e.next=14;break}return e.abrupt("continue",22);case 14:return n=o,e.abrupt("break",24);case 18:if(o.hash!==r){e.next=20;break}return e.abrupt("continue",22);case 20:return n=o,e.abrupt("break",24);case 22:e.next=9;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(7),i.e(e.t0);case 29:return e.prev=29,i.f(),e.finish(29);case 32:if(null!=n){e.next=34;break}throw new Error("no such tx");case 34:if("string"!==typeof n){e.next=40;break}return e.next=37,this.provider.getTransaction(n);case 37:return e.abrupt("return",e.sent);case 40:return e.abrupt("return",n);case 41:case"end":return e.stop()}}),e,this,[[7,26,29,32]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getPrefetchedTransaction",value:function(e){var t=this.prefetchedTransactions;if("number"===typeof e)return t[e];e=e.toLowerCase();var n,r=Lt(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.hash===e)return i}}catch(a){r.e(a)}finally{r.f()}Ct(!1,"no matching transaction","indexOrHash",e)}},{key:"isMined",value:function(){return!!this.hash}},{key:"isLondon",value:function(){return!!this.baseFeePerGas}},{key:"orphanedEvent",value:function(){if(!this.isMined())throw new Error("");return{orphan:"drop-block",hash:(e=this).hash,number:e.number};var e}}]),e}(),io=function(){function e(t,n){nt(this,e),Dt(this,"provider",void 0),Dt(this,"transactionHash",void 0),Dt(this,"blockHash",void 0),Dt(this,"blockNumber",void 0),Dt(this,"removed",void 0),Dt(this,"address",void 0),Dt(this,"data",void 0),Dt(this,"topics",void 0),Dt(this,"index",void 0),Dt(this,"transactionIndex",void 0),this.provider=n;var r=Object.freeze(t.topics.slice());kt(this,{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,removed:t.removed,address:t.address,data:t.data,topics:r,index:t.index,transactionIndex:t.transactionIndex})}return at(e,[{key:"toJSON",value:function(){return{_type:"log",address:this.address,blockHash:this.blockHash,blockNumber:this.blockNumber,data:this.data,index:this.index,removed:this.removed,topics:this.topics,transactionHash:this.transactionHash,transactionIndex:this.transactionIndex}}},{key:"getBlock",value:function(){var e=d(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.getBlock(this.blockHash);case 2:return Et(!!(t=e.sent),"failed to find transaction","UNKNOWN_ERROR",{}),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTransaction",value:function(){var e=d(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.getTransaction(this.transactionHash);case 2:return Et(!!(t=e.sent),"failed to find transaction","UNKNOWN_ERROR",{}),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTransactionReceipt",value:function(){var e=d(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.getTransactionReceipt(this.transactionHash);case 2:return Et(!!(t=e.sent),"failed to find transaction receipt","UNKNOWN_ERROR",{}),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removedEvent",value:function(){return{orphan:"drop-log",log:{transactionHash:(e=this).transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,address:e.address,data:e.data,topics:Object.freeze(e.topics.slice()),index:e.index}};var e}}]),e}(),ao=new WeakMap;Na=Symbol.iterator;var oo=function(){function e(t,n){nt(this,e),Dt(this,"provider",void 0),Dt(this,"to",void 0),Dt(this,"from",void 0),Dt(this,"contractAddress",void 0),Dt(this,"hash",void 0),Dt(this,"index",void 0),Dt(this,"blockHash",void 0),Dt(this,"blockNumber",void 0),Dt(this,"logsBloom",void 0),Dt(this,"gasUsed",void 0),Dt(this,"cumulativeGasUsed",void 0),Dt(this,"gasPrice",void 0),Dt(this,"type",void 0),Dt(this,"status",void 0),Dt(this,"root",void 0),vt(this,ao,{writable:!0,value:void 0}),gt(this,ao,Object.freeze(t.logs.map((function(e){return new io(e,n)})))),kt(this,{provider:n,to:t.to,from:t.from,contractAddress:t.contractAddress,hash:t.hash,index:t.index,blockHash:t.blockHash,blockNumber:t.blockNumber,logsBloom:t.logsBloom,gasUsed:t.gasUsed,cumulativeGasUsed:t.cumulativeGasUsed,gasPrice:t.effectiveGasPrice||t.gasPrice,type:t.type,status:t.status,root:t.root})}return at(e,[{key:"logs",get:function(){return yt(this,ao)}},{key:"toJSON",value:function(){var e=this.to,t=this.from,n=this.contractAddress,r=this.hash,i=this.index,a=this.blockHash,o=this.blockNumber,s=this.logsBloom,u=this.logs,l=this.status,c=this.root;return{_type:"TransactionReceipt",blockHash:a,blockNumber:o,contractAddress:n,cumulativeGasUsed:$a(this.cumulativeGasUsed),from:t,gasPrice:$a(this.gasPrice),gasUsed:$a(this.gasUsed),hash:r,index:i,logs:u,logsBloom:s,root:c,status:l,to:e}}},{key:"length",get:function(){return this.logs.length}},{key:Na,value:function(){var e=this,t=0;return{next:function(){return t<e.length?{value:e.logs[t++],done:!1}:{value:void 0,done:!0}}}}},{key:"fee",get:function(){return this.gasUsed*this.gasPrice}},{key:"getBlock",value:function(){var e=d(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.getBlock(this.blockHash);case 2:if(null!=(t=e.sent)){e.next=5;break}throw new Error("TODO");case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTransaction",value:function(){var e=d(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.getTransaction(this.hash);case 2:if(null!=(t=e.sent)){e.next=5;break}throw new Error("TODO");case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getResult",value:function(){var e=d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.getTransactionResult(this.hash);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"confirmations",value:function(){var e=d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.getBlockNumber();case 2:return e.t0=e.sent,e.t1=this.blockNumber,e.t2=e.t0-e.t1,e.abrupt("return",e.t2+1);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removedEvent",value:function(){return co(this)}},{key:"reorderedEvent",value:function(e){return Et(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),lo(this,e)}}]),e}(),so=new WeakMap,uo=function(){function e(t,n){nt(this,e),Dt(this,"provider",void 0),Dt(this,"blockNumber",void 0),Dt(this,"blockHash",void 0),Dt(this,"index",void 0),Dt(this,"hash",void 0),Dt(this,"type",void 0),Dt(this,"to",void 0),Dt(this,"from",void 0),Dt(this,"nonce",void 0),Dt(this,"gasLimit",void 0),Dt(this,"gasPrice",void 0),Dt(this,"maxPriorityFeePerGas",void 0),Dt(this,"maxFeePerGas",void 0),Dt(this,"data",void 0),Dt(this,"value",void 0),Dt(this,"chainId",void 0),Dt(this,"signature",void 0),Dt(this,"accessList",void 0),vt(this,so,{writable:!0,value:void 0}),this.provider=n,this.blockNumber=null!=t.blockNumber?t.blockNumber:null,this.blockHash=null!=t.blockHash?t.blockHash:null,this.hash=t.hash,this.index=t.index,this.type=t.type,this.from=t.from,this.to=t.to||null,this.gasLimit=t.gasLimit,this.nonce=t.nonce,this.data=t.data,this.value=t.value,this.gasPrice=t.gasPrice,this.maxPriorityFeePerGas=null!=t.maxPriorityFeePerGas?t.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=t.maxFeePerGas?t.maxFeePerGas:null,this.chainId=t.chainId,this.signature=t.signature,this.accessList=null!=t.accessList?t.accessList:null,gt(this,so,-1)}return at(e,[{key:"toJSON",value:function(){var e=this.blockNumber,t=this.blockHash,n=this.index,r=this.hash,i=this.type,a=this.to,o=this.from,s=this.nonce,u=this.data,l=this.signature;return{_type:"TransactionReceipt",accessList:this.accessList,blockNumber:e,blockHash:t,chainId:$a(this.chainId),data:u,from:o,gasLimit:$a(this.gasLimit),gasPrice:$a(this.gasPrice),hash:r,maxFeePerGas:$a(this.maxFeePerGas),maxPriorityFeePerGas:$a(this.maxPriorityFeePerGas),nonce:s,signature:l,to:a,index:n,type:i,value:$a(this.value)}}},{key:"getBlock",value:function(){var e=d(f().mark((function e(){var t,n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=this.blockNumber)){e.next=6;break}return e.next=4,this.getTransaction();case 4:(n=e.sent)&&(t=n.blockNumber);case 6:if(null!=t){e.next=8;break}return e.abrupt("return",null);case 8:if(null!=(r=this.provider.getBlock(t))){e.next=11;break}throw new Error("TODO");case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTransaction",value:function(){var e=d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.provider.getTransaction(this.hash));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wait",value:function(){var e=d(f().mark((function e(t,n){var r,i,a,o,s,u,l,c,h=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null==t?1:t,i=null==n?0:n,a=yt(this,so),o=-1,s=-1===a,u=function(){var e=d(f().mark((function e(){var t,n,i,u,l,c,d,p,v,m;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,xt({blockNumber:h.provider.getBlockNumber(),nonce:h.provider.getTransactionCount(h.from)});case 4:if(t=e.sent,n=t.blockNumber,!(t.nonce<h.nonce)){e.next=10;break}return a=n,e.abrupt("return");case 10:if(!s){e.next=12;break}return e.abrupt("return",null);case 12:return e.next=14,h.getTransaction();case 14:if(!(i=e.sent)||null==i.blockNumber){e.next=17;break}return e.abrupt("return");case 17:-1===o&&(o=a-3)<yt(h,so)&&(o=yt(h,so));case 18:if(!(o<=n)){e.next=67;break}if(!s){e.next=21;break}return e.abrupt("return",null);case 21:return e.next=23,h.provider.getBlock(o,!0);case 23:if(null!=(u=e.sent)){e.next=26;break}return e.abrupt("return");case 26:l=Lt(u),e.prev=27,l.s();case 29:if((c=l.n()).done){e.next=35;break}if(c.value!==h.hash){e.next=33;break}return e.abrupt("return");case 33:e.next=29;break;case 35:e.next=40;break;case 37:e.prev=37,e.t0=e.catch(27),l.e(e.t0);case 40:return e.prev=40,l.f(),e.finish(40);case 43:d=0;case 44:if(!(d<u.length)){e.next=64;break}return e.next=47,u.getTransaction(d);case 47:if((p=e.sent).from!==h.from||p.nonce!==h.nonce){e.next=61;break}if(!s){e.next=51;break}return e.abrupt("return",null);case 51:return e.next=53,h.provider.getTransactionReceipt(p.hash);case 53:if(null!=(v=e.sent)){e.next=56;break}return e.abrupt("return");case 56:if(!(n-v.blockNumber+1<r)){e.next=58;break}return e.abrupt("return");case 58:m="replaced",p.data===h.data&&p.to===h.to&&p.value===h.value?m="repriced":"0x"===p.data&&p.from===p.to&&p.value===Za&&(m="cancelled"),Et(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===m||"cancelled"===m,reason:m,replacement:p.replaceableTransaction(a),hash:p.hash,receipt:v});case 61:d++,e.next=44;break;case 64:o++,e.next=18;break;case 67:return e.abrupt("return");case 68:case"end":return e.stop()}}),e,null,[[27,37,40,43]])})));return function(){return e.apply(this,arguments)}}(),e.next=8,this.provider.getTransactionReceipt(this.hash);case 8:if(!(l=e.sent)){e.next=18;break}return e.next=12,l.confirmations();case 12:if(e.t0=e.sent,e.t1=r,!(e.t0>=e.t1)){e.next=16;break}return e.abrupt("return",l);case 16:e.next=22;break;case 18:return e.next=20,u();case 20:if(0!==r){e.next=22;break}return e.abrupt("return",null);case 22:return c=new Promise((function(e,t){var n=[],o=function(){n.forEach((function(e){return e()}))};if(n.push((function(){s=!0})),i>0){var l=setTimeout((function(){o(),t(Tt("wait for transaction timeout","TIMEOUT"))}),i);n.push((function(){clearTimeout(l)}))}var c=function(){var t=d(f().mark((function t(n){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.confirmations();case 2:if(t.t0=t.sent,t.t1=r,!(t.t0>=t.t1)){t.next=7;break}o(),e(n);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();if(n.push((function(){h.provider.off(h.hash,c)})),h.provider.on(h.hash,c),a>=0){var p=function(){var e=d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u();case 3:e.next=11;break;case 5:if(e.prev=5,e.t0=e.catch(0),!Mt(e.t0,"TRANSACTION_REPLACED")){e.next=11;break}return o(),t(e.t0),e.abrupt("return");case 11:s||h.provider.once("block",p);case 12:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();n.push((function(){h.provider.off("block",p)})),h.provider.once("block",p)}})),e.next=25,c;case 25:return e.abrupt("return",e.sent);case 26:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"isMined",value:function(){return null!=this.blockHash}},{key:"isLegacy",value:function(){return 0===this.type}},{key:"isBerlin",value:function(){return 1===this.type}},{key:"isLondon",value:function(){return 2===this.type}},{key:"removedEvent",value:function(){return Et(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),co(this)}},{key:"reorderedEvent",value:function(e){return Et(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Et(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),lo(this,e)}},{key:"replaceableTransaction",value:function(t){Ct(Number.isInteger(t)&&t>=0,"invalid startBlock","startBlock",t);var n=new e(this,this.provider);return gt(n,so,t),n}}]),e}();function lo(e,t){return{orphan:"reorder-transaction",tx:e,other:t}}function co(e){return{orphan:"drop-transaction",tx:e}}var fo=new WeakMap,ho=function(){function e(t,n,r){nt(this,e),Dt(this,"filter",void 0),Dt(this,"emitter",void 0),vt(this,fo,{writable:!0,value:void 0}),gt(this,fo,n),kt(this,{emitter:t,filter:r})}return at(e,[{key:"removeListener",value:function(){var e=d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=yt(this,fo)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.emitter.off(this.filter,yt(this,fo));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),po=function(e){ct(n,e);var t=dt(n);function n(e,r,i){var a;nt(this,n),Dt(ot(a=t.call(this,e,e.provider)),"interface",void 0),Dt(ot(a),"fragment",void 0),Dt(ot(a),"args",void 0);var o=r.decodeEventLog(i,e.data,e.topics);return kt(ot(a),{args:o,fragment:i,interface:r}),a}return at(n,[{key:"eventName",get:function(){return this.fragment.name}},{key:"eventSignature",get:function(){return this.fragment.format()}}]),n}(io),vo=new WeakMap,mo=function(e){ct(n,e);var t=dt(n);function n(e,r,i){var a;return nt(this,n),vt(ot(a=t.call(this,i,r)),vo,{writable:!0,value:void 0}),gt(ot(a),vo,e),a}return at(n,[{key:"logs",get:function(){var e=this;return ut(st(n.prototype),"logs",this).map((function(t){var n=t.topics.length?yt(e,vo).getEvent(t.topics[0]):null;return n?new po(t,yt(e,vo),n):t}))}}]),n}(oo),yo=new WeakMap,go=function(e){ct(n,e);var t=dt(n);function n(e,r,i){var a;return nt(this,n),vt(ot(a=t.call(this,i,r)),yo,{writable:!0,value:void 0}),gt(ot(a),yo,e),a}return at(n,[{key:"wait",value:function(){var e=d(f().mark((function e(t){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut(st(n.prototype),"wait",this).call(this);case 2:if(null!=(r=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",new mo(yt(this,yo),this.provider,r));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(uo),bo=function(e){ct(n,e);var t=dt(n);function n(e,r,i,a){var o;return nt(this,n),Dt(ot(o=t.call(this,e,r,i)),"log",void 0),kt(ot(o),{log:a}),o}return at(n,[{key:"getBlock",value:function(){var e=d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.log.getBlock();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTransaction",value:function(){var e=d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.log.getTransaction();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTransactionReceipt",value:function(){var e=d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.log.getTransactionReceipt();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ho),wo=function(e){ct(n,e);var t=dt(n);function n(e,r,i,a,o){var s;nt(this,n),s=t.call(this,e,r,i,new po(o,e.interface,a));var u=e.interface.decodeEventLog(a,s.log.data,s.log.topics);return kt(ot(s),{args:u,fragment:a}),s}return at(n,[{key:"eventName",get:function(){return this.fragment.name}},{key:"eventSignature",get:function(){return this.fragment.format()}}]),n}(bo),xo=BigInt(0);function _o(e){return e&&"function"===typeof e.call}function ko(e){return e&&"function"===typeof e.estimateGas}function So(e){return e&&"function"===typeof e.resolveName}function Mo(e){return e&&"function"===typeof e.sendTransaction}var Ao=new WeakMap,To=function(){function e(t,n,r){if(nt(this,e),vt(this,Ao,{writable:!0,value:void 0}),Dt(this,"fragment",void 0),kt(this,{fragment:n}),n.inputs.length<r.length)throw new Error("too many arguments");var i=Eo(t.runner,"resolveName"),a=So(i)?i:null;gt(this,Ao,d(f().mark((function e(){var i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(n.inputs.map((function(e,t){return null==r[t]?null:e.walkAsync(r[t],(function(e,t){return"address"===e?fa(t,a):t}))})));case 2:return i=e.sent,e.abrupt("return",t.interface.encodeFilterTopics(n,i));case 4:case"end":return e.stop()}}),e)})))())}return at(e,[{key:"getTopicFilter",value:function(){return yt(this,Ao)}}]),e}();function Eo(e,t){return null==e?null:"function"===typeof e[t]?e:e.provider&&"function"===typeof e.provider[t]?e.provider:null}function Co(e){return null==e?null:e.provider||null}function Po(e,t){return Ro.apply(this,arguments)}function Ro(){return(Ro=d(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ct(null==(r=to(Dr.dereference(t,"overrides"))).to||(n||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),Ct(null==r.data||(n||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),!r.from){e.next=7;break}return e.next=6,fa(r.from);case 6:r.from=e.sent;case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Io(e,t,n){return Lo.apply(this,arguments)}function Lo(){return(Lo=d(f().mark((function e(t,n,r){var i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Eo(t,"resolveName"),a=So(i)?i:null,e.next=4,Promise.all(n.map((function(e,t){return e.walkAsync(r[t],(function(e,t){return t=Dr.dereference(t,e),"address"===e?fa(t,a):t}))})));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function No(e){var t=function(){var t=d(f().mark((function t(n){var r,i;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Po(n,["data"]);case 2:return r=t.sent,t.next=5,e.getAddress();case 5:return r.to=t.sent,i=e.interface,Ct(i.receive||i.fallback&&i.fallback.payable||(r.value||xo)===xo,"cannot send value to non-payable contract","overrides.value",r.value),Ct(i.fallback||"0x"===(r.data||"0x"),"cannot send data to receive-only contract","overrides.data",r.data),t.abrupt("return",r);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n=function(){var n=d(f().mark((function n(r){var i,a;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return Et(_o(i=Eo(e.runner,"call")),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"}),n.next=4,t(r);case 4:return a=n.sent,n.prev=5,n.next=8,i.call(a);case 8:return n.abrupt("return",n.sent);case 11:if(n.prev=11,n.t0=n.catch(5),!At(n.t0)||!n.t0.data){n.next=15;break}throw e.interface.makeError(n.t0.data,a);case 15:throw n.t0;case 16:case"end":return n.stop()}}),n,null,[[5,11]])})));return function(e){return n.apply(this,arguments)}}(),r=function(){var n=d(f().mark((function n(r){var i,a,o;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return Et(Mo(i=e.runner),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"}),n.t0=i,n.next=5,t(r);case 5:return n.t1=n.sent,n.next=8,n.t0.sendTransaction.call(n.t0,n.t1);case 8:return a=n.sent,o=Co(e.runner),n.abrupt("return",new go(e.interface,o,a));case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),i=function(){var n=d(f().mark((function n(r){var i;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return Et(ko(i=Eo(e.runner,"estimateGas")),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),n.t0=i,n.next=5,t(r);case 5:return n.t1=n.sent,n.next=8,n.t0.estimateGas.call(n.t0,n.t1);case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),a=function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return kt(a,{_contract:e,estimateGas:i,populateTransaction:t,send:r,staticCall:n}),a}var Oo=Symbol.for("_ethersInternal_contract"),Do=new WeakMap;function Uo(e){return Do.get(e[Oo])}function zo(e,t){return Bo.apply(this,arguments)}function Bo(){return Bo=d(f().mark((function e(t,n){var r,i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null,!Array.isArray(n)){e.next=6;break}a=function(e){if(jt(e,32))return e;var n=t.interface.getEvent(e);return Ct(n,"unknown fragment","name",e),n.topicHash},r=n.map((function(e){return null==e?null:Array.isArray(e)?e.map(a):a(e)})),e.next=21;break;case 6:if("*"!==n){e.next=10;break}r=[null],e.next=21;break;case 10:if("string"!==typeof n){e.next=14;break}jt(n,32)?r=[n]:(Ct(i=t.interface.getEvent(n),"unknown fragment","event",n),r=[i.topicHash]),e.next=21;break;case 14:if(!((s=n)&&"object"===typeof s&&"getTopicFilter"in s&&"function"===typeof s.getTopicFilter&&s.fragment)){e.next=20;break}return e.next=17,n.getTopicFilter();case 17:r=e.sent,e.next=21;break;case 20:"fragment"in n?(i=n.fragment,r=[i.topicHash]):Ct(!1,"unknown event name","event",n);case 21:return r=r.map((function(e){if(null==e)return null;if(Array.isArray(e)){var t=Array.from(new Set(e.map((function(e){return e.toLowerCase()}))).values());return 1===t.length?t[0]:(t.sort(),t)}return e.toLowerCase()})),o=r.map((function(e){return null==e?"null":Array.isArray(e)?e.join("|"):e})).join("&"),e.abrupt("return",{fragment:i,tag:o,topics:r});case 24:case"end":return e.stop()}var s}),e)}))),Bo.apply(this,arguments)}function Fo(e,t){return Ho.apply(this,arguments)}function Ho(){return(Ho=d(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uo(t),i=r.subs,e.t1=i,e.next=4,zo(t,n);case 4:if(e.t2=e.sent.tag,e.t0=e.t1.get.call(e.t1,e.t2),e.t0){e.next=8;break}e.t0=null;case 8:return e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wo(e,t,n){return Go.apply(this,arguments)}function Go(){return Go=d(f().mark((function e(t,n,r){var i,a,o,s,u,l,c,h,p,v,m,y,g,b;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Et(i=Co(t.runner),"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:n}),e.next=4,zo(t,r);case 4:return a=e.sent,o=a.fragment,s=a.tag,u=a.topics,l=Uo(t),c=l.addr,h=l.subs,(p=h.get(s))||(v={address:c||t,topics:u},m=function(e){var n=o;if(null==n)try{n=t.interface.getEvent(e.topics[0])}catch(s){}if(n){var i=n,a=o?t.interface.decodeEventLog(o,e.data,e.topics):[];Xo(t,r,a,(function(n){return new wo(t,n,r,i,e)}))}else Xo(t,r,[],(function(n){return new bo(t,n,r,e)}))},y=[],g=function(){y.length||y.push(i.on(v,m))},b=function(){var e=d(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=y.length){e.next=2;break}return e.abrupt("return");case 2:return t=y,y=[],e.next=6,Promise.all(t);case 6:i.off(v,m);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p={tag:s,listeners:[],start:g,stop:b},h.set(s,p)),e.abrupt("return",p);case 12:case"end":return e.stop()}}),e)}))),Go.apply(this,arguments)}var jo=Promise.resolve();function Vo(e,t,n,r){return qo.apply(this,arguments)}function qo(){return(qo=d(f().mark((function e(t,n,r,i){var a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jo;case 2:return e.next=4,Fo(t,n);case 4:if(a=e.sent){e.next=7;break}return e.abrupt("return",!1);case 7:return o=a.listeners.length,a.listeners=a.listeners.filter((function(e){var n=e.listener,a=e.once,o=Array.from(r);i&&o.push(i(a?null:n));try{n.call.apply(n,[t].concat(o))}catch(s){}return!a})),e.abrupt("return",o>0);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xo(e,t,n,r){return Jo.apply(this,arguments)}function Jo(){return(Jo=d(f().mark((function e(t,n,r,i){var a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,jo;case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:return a=Vo(t,n,r,i),jo=a,e.next=11,a;case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}var Yo=["then"],Qo=function(){function e(t,n,r,i){var a=this;nt(this,e),Dt(this,"target",void 0),Dt(this,"interface",void 0),Dt(this,"runner",void 0),Dt(this,"filters",void 0),Dt(this,Oo,void 0),Dt(this,"fallback",void 0),null==r&&(r=null);var o,s=Ja.from(n);kt(this,{target:t,runner:r,interface:s}),Object.defineProperty(this,Oo,{value:{}});var u=null,l=null;if(i){var c=Co(r);l=new go(this.interface,c,i)}var f,h,d=new Map;if("string"===typeof t)if(jt(t))u=t,o=Promise.resolve(t);else{var p=Eo(r,"resolveName");if(!So(p))throw Tt("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=p.resolveName(t).then((function(e){if(null==e)throw new Error("TODO");return Uo(a).addr=e,e}))}else o=t.getAddress().then((function(e){if(null==e)throw new Error("TODO");return Uo(a).addr=e,e}));f=this,h={addrPromise:o,addr:u,deployTx:l,subs:d},Do.set(f[Oo],h);var v=new Proxy({},{get:function(e,t,n){if(Yo.indexOf(t)>=0)return Reflect.get(e,t,n);var r=String(t),i=a.getEvent(r);if(i)return i;throw new Error("unknown contract event: ".concat(r))},has:function(e,t){return Yo.indexOf(t)>=0?Reflect.has(e,t):Reflect.has(e,t)||a.interface.hasEvent(String(t))}});return kt(this,{filters:v}),kt(this,{fallback:s.receive||s.fallback?No(this):null}),new Proxy(this,{get:function(e,t,n){if(t in e||Yo.indexOf(t)>=0)return Reflect.get(e,t,n);var r=String(t),i=e.getFunction(r);if(i)return i;throw new Error("unknown contract method: ".concat(r))},has:function(e,t){return t in e||Yo.indexOf(t)>=0?Reflect.has(e,t):e.interface.hasFunction(String(t))}})}return at(e,[{key:"connect",value:function(t){return new e(this.target,this.interface,t)}},{key:"getAddress",value:function(){var e=d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uo(this).addrPromise;case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDeployedCode",value:function(){var e=d(f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Et(t=Co(this.runner),"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"}),e.t0=t,e.next=5,this.getAddress();case 5:return e.t1=e.sent,e.next=8,e.t0.getCode.call(e.t0,e.t1);case 8:if("0x"!==(n=e.sent)){e.next=11;break}return e.abrupt("return",null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"waitForDeployment",value:function(){var e=d(f().mark((function e(){var t,n,r=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.deploymentTransaction())){e.next=5;break}return e.next=4,t.wait();case 4:return e.abrupt("return",this);case 5:return e.next=7,this.getDeployedCode();case 7:if(null==e.sent){e.next=10;break}return e.abrupt("return",this);case 10:return Et(null!=(n=Co(this.runner)),"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),e.abrupt("return",new Promise((function(e,t){var i=function(){var a=d(f().mark((function a(){return f().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,r.getDeployedCode();case 3:if(null==a.sent){a.next=6;break}return a.abrupt("return",e(r));case 6:n.once("block",i),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),t(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(){return a.apply(this,arguments)}}();i()})));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deploymentTransaction",value:function(){return Uo(this).deployTx}},{key:"getFunction",value:function(e){"string"!==typeof e&&(e=e.format());var t=function(e,t){var n=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=e.interface.getFunction(t,r);return Et(a,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment"}),a},r=function(){var t=d(f().mark((function t(){var r,i,a,o,s,u,l=arguments;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r=l.length,i=new Array(r),a=0;a<r;a++)i[a]=l[a];if(o=n.apply(void 0,i),s={},o.inputs.length+1!==i.length){t.next=7;break}return t.next=6,Po(i.pop());case 6:s=t.sent;case 7:if(o.inputs.length===i.length){t.next=9;break}throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");case 9:return t.next=11,Io(e.runner,o.inputs,i);case 11:return u=t.sent,t.t0=Object,t.t1={},t.t2=s,t.next=17,xt({to:e.getAddress(),data:e.interface.encodeFunctionData(o,u)});case 17:return t.t3=t.sent,t.abrupt("return",t.t0.assign.call(t.t0,t.t1,t.t2,t.t3));case 19:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=function(){var e=d(f().mark((function e(){var t,n=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.apply(void 0,n);case 2:if(1!==(t=e.sent).length){e.next=5;break}return e.abrupt("return",t[0]);case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var t=d(f().mark((function t(){var n,i,a,o=arguments;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Et(Mo(n=e.runner),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"}),t.t0=n,t.next=5,r.apply(void 0,o);case 5:return t.t1=t.sent,t.next=8,t.t0.sendTransaction.call(t.t0,t.t1);case 8:return i=t.sent,a=Co(e.runner),t.abrupt("return",new go(e.interface,a,i));case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=function(){var t=d(f().mark((function t(){var n,i=arguments;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Et(ko(n=Eo(e.runner,"estimateGas")),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),t.t0=n,t.next=5,r.apply(void 0,i);case 5:return t.t1=t.sent,t.next=8,t.t0.estimateGas.call(t.t0,t.t1);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s=function(){var t=d(f().mark((function t(){var i,a,o,s,u=arguments;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Et(_o(i=Eo(e.runner,"call")),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"}),t.next=4,r.apply(void 0,u);case 4:return a=t.sent,o="0x",t.prev=6,t.next=9,i.call(a);case 9:o=t.sent,t.next=17;break;case 12:if(t.prev=12,t.t0=t.catch(6),!At(t.t0)||!t.t0.data){t.next=16;break}throw e.interface.makeError(t.t0.data,a);case 16:throw t.t0;case 17:return s=n.apply(void 0,u),t.abrupt("return",e.interface.decodeFunctionResult(s,o));case 19:case"end":return t.stop()}}),t,null,[[6,12]])})));return function(){return t.apply(this,arguments)}}(),u=function(){var e=d(f().mark((function e(){var t=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.apply(void 0,t).constant){e.next=5;break}return e.next=4,i.apply(void 0,t);case 4:case 7:return e.abrupt("return",e.sent);case 5:return e.next=7,a.apply(void 0,t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return kt(u,{name:e.interface.getFunctionName(t),_contract:e,_key:t,getFragment:n,estimateGas:o,populateTransaction:r,send:a,staticCall:i,staticCallResult:s}),Object.defineProperty(u,"fragment",{configurable:!1,enumerable:!0,get:function(){var n=e.interface.getFunction(t);return Et(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment"}),n}}),u}(this,e);return t}},{key:"getEvent",value:function(e){return"string"!==typeof e&&(e=e.format()),function(e,t){var n=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=e.interface.getEvent(t,r);return Et(a,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment"}),a},r=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return new To(e,n.apply(void 0,r),r)};return kt(r,{name:e.interface.getEventName(t),_contract:e,_key:t,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:function(){var n=e.interface.getEvent(t);return Et(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment"}),n}}),r}(this,e)}},{key:"queryTransaction",value:function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("@TODO");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"queryFilter",value:function(){var e=d(f().mark((function e(t,n,r){var i,a,o,s,u,l,c,h,d,p=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n&&(n=0),null==r&&(r="latest"),i=Uo(this),a=i.addr,o=i.addrPromise,!a){e.next=7;break}e.t0=a,e.next=10;break;case 7:return e.next=9,o;case 9:e.t0=e.sent;case 10:return s=e.t0,e.next=13,zo(this,t);case 13:return u=e.sent,l=u.fragment,c=u.topics,h={address:s,topics:c,fromBlock:n,toBlock:r},Et(d=Co(this.runner),"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),e.next=21,d.getLogs(h);case 21:return e.abrupt("return",e.sent.map((function(e){var t=l;if(null==t)try{t=p.interface.getEvent(e.topics[0])}catch(n){}return t?new po(e,p.interface,t):new io(e,d)})));case 22:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"on",value:function(){var e=d(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wo(this,"on",t);case 2:return(r=e.sent).listeners.push({listener:n,once:!1}),r.start(),e.abrupt("return",this);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"once",value:function(){var e=d(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wo(this,"once",t);case 2:return(r=e.sent).listeners.push({listener:n,once:!0}),r.start(),e.abrupt("return",this);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"emit",value:function(){var e=d(f().mark((function e(t){var n,r,i,a=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=a.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=a[i];return e.next=3,Xo(this,t,r,null);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"listenerCount",value:function(){var e=d(f().mark((function e(t){var n,r,i,a,o,s,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return e.next=3,Fo(this,t);case 3:if(n=e.sent){e.next=6;break}return e.abrupt("return",0);case 6:return e.abrupt("return",n.listeners.length);case 7:r=Uo(this),i=r.subs,a=0,o=Lt(i.values());try{for(o.s();!(s=o.n()).done;)u=s.value.listeners,a+=u.length}catch(l){o.e(l)}finally{o.f()}return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"listeners",value:function(){var e=d(f().mark((function e(t){var n,r,i,a,o,s,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return e.next=3,Fo(this,t);case 3:if(n=e.sent){e.next=6;break}return e.abrupt("return",[]);case 6:return e.abrupt("return",n.listeners.map((function(e){return e.listener})));case 7:r=Uo(this),i=r.subs,a=[],o=Lt(i.values());try{for(o.s();!(s=o.n()).done;)u=s.value.listeners,a=a.concat(u.map((function(e){return e.listener})))}catch(l){o.e(l)}finally{o.f()}return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"off",value:function(){var e=d(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fo(this,t);case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return",this);case 5:return n&&(i=r.listeners.map((function(e){return e.listener})).indexOf(n))>=0&&r.listeners.splice(i,1),null!=n&&0!==r.listeners.length||(r.stop(),Uo(this).subs.delete(r.tag)),e.abrupt("return",this);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeAllListeners",value:function(){var e=d(f().mark((function e(t){var n,r,i,a,o,s,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}return e.next=3,Fo(this,t);case 3:if(n=e.sent){e.next=6;break}return e.abrupt("return",this);case 6:n.stop(),Uo(this).subs.delete(n.tag),e.next=13;break;case 10:r=Uo(this),i=r.subs,a=Lt(i.values());try{for(a.s();!(o=a.n()).done;)s=o.value,u=s.tag,(0,s.stop)(),i.delete(u)}catch(l){a.e(l)}finally{a.f()}case 13:return e.abrupt("return",this);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addListener",value:function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.on(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeListener",value:function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.off(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"buildClass",value:function(t){var n=function(e){ct(r,e);var n=dt(r);function r(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return nt(this,r),n.call(this,e,t,i)}return at(r)}(e);return n}},{key:"from",value:function(e,t,n){return null==n&&(n=null),new this(e,t,n)}}]),e}();var Zo=function(e){ct(n,e);var t=dt(n);function n(){return nt(this,n),t.apply(this,arguments)}return at(n)}(Qo);function Ko(e){return a(e)||Ve(e)||s(e)||u()}function $o(e){return function(e){var t=0;return function(){return e[t++]}}(function(e){var t=0;function n(){return e[t++]<<8|e[t++]}for(var r=n(),i=1,a=[0,1],o=1;o<r;o++)a.push(i+=n());var s=n(),u=t;t+=s;var l=0,c=0;function f(){return 0==l&&(c=c<<8|e[t++],l=8),c>>--l&1}for(var h=Math.pow(2,31),d=h>>>1,p=d>>1,v=h-1,m=0,y=0;y<31;y++)m=m<<1|f();for(var g=[],b=0,w=h;;){for(var x=Math.floor(((m-b+1)*i-1)/w),_=0,k=r;k-_>1;){var S=_+k>>>1;x<a[S]?k=S:_=S}if(0==_)break;g.push(_);for(var M=b+Math.floor(w*a[_]/i),A=b+Math.floor(w*a[_+1]/i)-1;0==((M^A)&d);)m=m<<1&v|f(),M=M<<1&v,A=A<<1&v|1;for(;M&~A&p;)m=m&d|m<<1&v>>>1|f(),M=M<<1^d,A=(A^d)<<1|d|1;b=M,w=1+A-M}var T=r-4;return g.map((function(t){switch(t-T){case 3:return T+65792+(e[u++]<<16|e[u++]<<8|e[u++]);case 2:return T+256+(e[u++]<<8|e[u++]);case 1:return T+e[u++];default:return t-1}}))}(function(e){var t=[];qe("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/").forEach((function(e,n){return t[e.charCodeAt(0)]=n}));for(var n=e.length,r=new Uint8Array(6*n>>3),i=0,a=0,o=0,s=0;i<n;i++)s=s<<6|t[e.charCodeAt(i)],(o+=6)>=8&&(r[a++]=s>>(o-=8));return r}(e)))}function es(e){return 1&e?~e>>1:e>>1}function ts(e,t){for(var n=Array(e),r=0,i=0;r<e;r++)n[r]=i+=es(t());return n}function ns(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];;){var r=e(),i=e();if(!i)break;t+=r;for(var a=0;a<i;a++)n.push(t+a);t+=i+1}return n}function rs(e){return as((function(){var t=ns(e);if(t.length)return t}))}function is(e){for(var t=[];;){var n=e();if(0==n)break;t.push(ss(n,e))}for(;;){var r=e()-1;if(r<0)break;t.push(us(r,e))}return t.flat()}function as(e){for(var t=[];;){var n=e(t.length);if(!n)break;t.push(n)}return t}function os(e,t,n){for(var r=Array(e).fill().map((function(){return[]})),i=0;i<t;i++)ts(e,n).forEach((function(e,t){return r[t].push(e)}));return r}function ss(e,t){var n=1+t(),r=t(),i=as(t);return os(i.length,1+e,t).flatMap((function(e,t){var a=Ko(e),o=a[0],s=a.slice(1);return Array(i[t]).fill().map((function(e,t){var i=t*r;return[o+t*n,s.map((function(e){return e+i}))]}))}))}function us(e,t){return os(1+t(),1+e,t).map((function(e){return[e[0],e.slice(1)]}))}var ls=$o("AEgSbwjEDVYByQKaAQsBOQDpATQAngDUAHsAoABoANQAagCNAEQAhABMAHIAOwA9ACsANgAmAGIAHgAvACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGAAeABMAFwAXAA0ADgAWAA8AFAAVBFsF1QEXE0o3xAXUALIArkABaACmAgPGAK6AMDAwMAE/qAYK7P4HQAblMgVYBVkAPSw5Afa3EgfJwgAPA8meNALGCjACjqIChtk/j2+KAsXMAoPzASDgCgDyrgFCAi6OCkCQAOQA4woWABjVuskNDD6eBBx4AP4COhi+D+wKBirqBgSCaA0cBy4ArABqku+mnIAAXAaUJAbqABwAPAyUFvyp/Mo8INAIvCoDshQ8APcubKQAon4ZABgEJtgXAR4AuhnOBPsKIE04CZgJiR8cVlpM5INDABQADQAWAA9sVQAiAA8ASO8W2T30OVnKluYvChEeX05ZPe0AFAANABYAD2wgXUCYAMPsABwAOgzGFryp/AHauQVcBeMC0KACxLEKTR2kZhR0Gm5M9gC8DmgC4gAMLjSKF8qSAoF8ARMcAL4OaALiAAwuAUlQJpJMCwMt/AUpCthqGK4B2EQAciwSeAIyFiIDKCi6OGwAOuIB9iYAyA7MtgEcZIIAsgYABgCK1EoFHNZsGACoKNIBogAAAAAAKy4DnABoAQoaPu43dQQZGACrAcgCIgDgLBJ0OvRQsTOiKDVJBfsoBVoFWbC5BWo7XkITO1hCmHuUZmCh+QwUA8YIJvJ4JASkTAJUVAJ2HKwoAZCkpjZcA0YYBIRiCgDSBqxAMCQHKgI6XgBsAWIgcgCEHhoAlgFKuAAoahgBsMYDOC4iRFQBcFoGZgJmAPJKGAMqAgYASkIArABeAHQALLYGCPTwGo6AAAAKIgAqALQcSAHSAdwIDDKXeYHpAAsAEgA1AD4AOTR3etTBEGAQXQJNCkxtOxUMAq0PpwvmERYM0irM09kANKoH7ANUB+wDVANUB+wH7ANUB+wDVANUA1QDVBwL8BvUwRBgD0kEbgWPBYwE1wiEJkoRggcpCNNUDnQfHEgDRgD9IyZJHTuUMwwlQ0wNTQQH/TZDbKh9OQNIMaxU9pCjA8wyUDltAh5yEqEAKw90HTW2Tn96SHGhCkxPr7WASWNOaAK/Oqk/+QoiCZRvvHdPBj4QGCeiEPQMMAGyATgN6kvVBO4GOATGH3oZFg/KlZkIoi3aDOom4C6egFcj8iqABepL8TzaC0pRZQ9WC2IJ4DpggUsDHgEKIogK2g02CGoQ8ArGaA3iEUIHNgPSSZcAogb+Cw4dMhWyJg1iqQsGOXQG+BrzC4wmrBMmevkF0BoeBkoBJhr8AMwu5IWtWi5cGU9cBgALIiPEFKVQHQ0iQLR4RRoYBxIlpgKOQ21KhFEzHpAh8zw6DWMuEFF5B/I8AhlMC348m0aoRQsRzz6KPUUiRkwpBDJ8LCwniAnMD4IMtnxvAVYJHgmuDG4TLhEUN8IINgcWKpchJxIIHkaSYJcE9JwD8BPOAwgFPAk+BxADshwqEysVJgUKgSHUAvA20i6wAoxWfQEUBcgPIh/cEE1H3Q7mCJgCYgOAJegAKhUeABQimAhAYABcj9VTAi7ICMRqaSNxA2QU5F4RcAeODlQHpBwwFbwc3nDFXgiGBSigrAlYAXIJlgFcBOAIBjVYjJ0gPmdQi1UYmCBeQTxd+QIuDGIVnES6h3UCiA9oEhgBMgFwBzYM/gJ0EeoRaBCSCOiGATWyM/U6IgRMIYAgDgokA0xsywskJvYM9WYBoBJfAwk0OnfrZ6hgsyEX+gcWMsJBXSHuC49PygyZGr4YP1QrGeEHvAPwGvAn50FUBfwDoAAQOkoz6wS6C2YIiAk8AEYOoBQH1BhnCm6MzQEuiAG0lgNUjoACbIwGNAcIAGQIhAV24gAaAqQIoAACAMwDVAA2AqoHmgAWAII+AToDJCwBHuICjAOQCC7IAZIsAfAmBBjADBIA9DRuRwLDrgKAZ2afBdpVAosCRjIBSiIEAktETgOsbt4A2ABIBhDcRAESqEfIF+BAAdxsKADEAPgAAjIHAj4BygHwagC0AVwLLgmfsLIBSuYmAIAAEmgB1AKGANoAMgB87gFQAEoFVvYF0AJMRgEOLhUoVF4BuAMcATABCgB2BsiKosYEHARqB9ACEBgV3gLvKweyAyLcE8pCwgK921IAMhMKNQqkCqNgWF0wAy5vPU0ACx+lPsQ/SwVOO1A7VTtQO1U7UDtVO1A7VTtQO1UDlLzfvN8KaV9CYegMow3RRMU6RhPYYE5gLxPFLbQUvhXLJVMZOhq5JwIl4VUGDwEt0GYtCCk0che5ADwpZYM+Y4MeLQpIHORTjlT1LRgArkufM6wNqRsSRD0FRHXqYicWCwofAmR+AmI/WEqsWDcdAqH0AmiVAmYGAp+BOBgIAmY4AmYjBGsEfAN/EAN+jzkDOXQUOX86ICACbBoCMjM4BwJtxAJtq+yHMGRCKAFkANsA3gBHAgeVDIoA+wi/AAqyAncsAnafPAJ5SEACeLcaWdhFq0bwAnw8AnrFAn0GAnztR/1IemAhACgSSVVKWBIUSskC0P4C0MlLJAOITAOH40TCkS8C8p5dAAMDq0vLTCoiAMxNSU2sAos8AorVvhgEGkBkArQCjjQCjlk9lH4CjtYCjll1UbFTMgdS0VSCApP4ApMJAOYAGVUbVaxVzQMsGCmSgzLeeGNFODYCl5wC769YHqUAViIClowClnmZAKZZqVoGfkoAOAKWsgKWS1xBXM4CmcgCmWFcx10EFgKcmDm/OpoCnBMCn5gCnrWHABoMLicMAp3uAp6PALI6YTFh7AKe0AKgawGmAp6cHAKeS6JjxWQkIigCJ6wCJnsCoPgCoEnUAqYsAqXLAqf8AHoCp+9oeWiuAABGahlqzgKs4AKsqwKtZAKs/wJXGgJV2QKx3tQDH0tslAKyugoCsuUUbN1tYG1FXAMlygK2WTg8bo0DKUICuFsCuUQSArkndHAzcN4CvRYDLa8DMg4CvoVx/wMzbgK+F3Mfc0wCw8gCwwFzf3RIMkJ03QM8pAM8lwM9vALFeQLGRALGDYYCyGZOAshBAslMAskrAmSaAt3PeHZeeKt5IkvNAxigZv8CYfEZ8JUhewhej164DgLPaALPaSxIUM/wEJwAw6oCz3ABJucDTg9+SAIC3CQC24cC0kwDUlkDU1wA/gNViYCGPMgT6l1CcoLLg4oC2sQC2duEDYRGpzkDhqIALANkC4ZuVvYAUgLfYgLetXB0AuIs7REB8y0kAfSYAfLPhALr8ALpbXYC6vYC6uEA9kQBtgLuhgLrmZanlwAC7jwDhd2YdnDdcZ4C8wAAZgOOE5mQAvcQA5FrA5KEAveVAvnWAvhjmhmaqLg0mxsDnYAC/vcBGAA2nxmfsAMFigOmZwOm1gDOwgMGZ6GFogIGAwxGAQwBHAdqBl62ZAIAuARovA6IHrAKABRyNgAgAzASSgOGfAFgJB4AjOwAHgDmoAScjgi0BhygwgCoBRK86h4+PxZ5BWk4P0EsQiJCtV9yEl+9AJbGBTMAkE0am7o7J2AzErrQDjAYxxiKyfcFWAVZBVgFWQVkBVkFWAVZBVgFWQVYBVkFWAVZRxYI2IZoAwMDCmVe6iwEygOyBjC8vAC8BKi8AOhBKhazBUc+aj5xQkBCt192OF/pAFgSM6wAjP/MbMv9puhGez4nJAUsFyg3Nn5u32vB8hnDLGoBbNdvMRgFYAVrycLJuQjQSlwBAQEKfV5+jL8AND+CAAQW0gbmriQGAIzEDAMCDgDlZh4+JSBLQrJCvUI5JF8oYDcoOSQJwj4KRT9EPnk+gj5xPnICikK9SkM8X8xPUGtOCy1sVTBrDG8gX+E0OxwJaJwKYyQsPR4nQqxCvSzMAsv9X8oPIC8KCQoAACN+nt9rOy5LGMmsya0JZsLMzQphQWAP5hCkEgCTjh5GQiYbqm06zjkKND9EPnFCQBwICx5NSG1cLS5a4rwTCn7uHixCQBxeCUsKDzRVREM4BTtEnC0KghwuQkAb9glUIyQZMTIBBo9i8F8KcmTKYAxgLiRvAERgGjoDHB9gtAcDbBFmT2BOEgIAZOhgFmCWYH5gtGBMYJJpFhgGtg/cVqq8WwtDF6wBvCzOwgMgFgEdBB8BegJtMDGWU4EBiwq5SBsA5SR0jwvLDqdN6wGcAoidUAVBYAD4AD4LATUXWHsMpg0lILuwSABQDTUAFhO4NVUC0wxLZhEcANlPBnYECx9bADIAtwKbKAsWcKwzOaAaAVwBhwn9A9ruEAarBksGugAey1aqWwq7YhOKCy1ADrwBvAEjA0hbKSkpIR8gIi0TJwciDY4AVQJvWJFKlgJvIA9ySAHUdRDPUiEaqrFN6wcSBU1gAPgAPgsBewAHJW0LiAymOTEuyLBXDgwAYL0MAGRKaFAiIhzAADIAtwKbKC08D88CkRh8ULxYyXRzjtilnA72mhU+G+0S2hIHDxwByAk7EJQGESwNNwwAPAC0zwEDAKUA4gCbizAAFQBcG8cvbXcrDsIRAzwlRNTiHR8MG34CfATCC6vxbQA4Oi4Opzkuz6IdB7wKABA7Ls8SGgB9rNsdD7wbSBzOoncfAT4qYB0C7KAJBE3z5R9mDL0M+wg9Cj8ABcELPgJMDbwIvQ09CT0KvS7PoisOvAaYAhwPjBriBBwLvBY8AKELPBC8BRihe90AO2wMPQACpwm9BRzR9QYFB2/LBnwAB7wSXBISvQECAOsCAAB1FVwHFswV/HAXvBg8AC68AuyovAAevAJWISuAAAG8AALkFT0VvCvso7zJqDwEAp8nTAACXADn3hm8CaVcD7/FAPUafAiiBQv/cQDfvKe8GNwavKOMeXMG/KmchAASvAcbDAADlABtvAcAC7ynPAIaPLsIopzLDvwHwak8AOF8L7dtvwNJAAPsABW8AAb8AAm8AGmMABq8AA68Axi8jmoV/AABXAAObAAuTB8ABrwAF7wIIgANSwC6vCcAA7wADpwq7ACyWwAcHAAbvAAB7AqiAAXHCxYV3AAHnABCvAEDAGm8AAt8AB28AAi8CaIABcsAbqAZ1gCSCCIABcsAATwAB9wAHZwIIgAGmwAJfAAbLABtHADmvIEACFwACDwAFLwAaPwJIgAGywDjjAAJPAuiDsX7YAAHPABunUBJAEgACrwFAAM8AAmuAzgABxwAGXwAAgym/AAKHAAKPAAJ/KfsBrwACRwAAwwAEDwBABQ8ABFsAA+MAA3sAA28ABkMBxYcABU8AG6cFrQBvAC7ABM8BABpLAsA4UwAAjwABFMAF3wFHAAG0QAYvB8BfClTADpGALAJBw4McwApK3EBpQYIXwJtJA0ACghwTG1gK4oggRVjLjcDogq1AALZABcC/ARvAXdzSFMVIgNQAhY/AS0GBHRHvnxTe0EAKgAyAvwAVAvcAHyRLQEsAHfmDhIzRwJLAFgGAAJRAQiLzQB5PAQhpgBbANcWAJZpOCCMAM5ssgDQ1RcJw3Z0HBlXHgrSAYmRrCNUVE5JEz3DivoAgB04QSos4RKYUABzASosMSlDGhADMVYE+MbvAExm3QBrAnICQBF7Osh4LzXWBhETIAUVCK6v/xPNACYAAQIbAIYAiQCONgDjALQA1QCdPQC7AKsApgChAOcAnwDTAJwA4AEBAPwAwAB6AFsAywDNAPwA1wDrAIkAogEqAOMA2ADVBAIIKzTT09PTtb/bzM/NQjEWAUsBVS5GAVMBYgFhAVQBRUpCRGcMAUwUBgkEMzcMBwAgDSQmKCs3OTk8PDw9Pg0/HVBQUFBSUlFSKFNUVlVVHFxgYF9hYCNlZ29ucXFxcXFxc3Nzc3Nzc3Nzc3N1dXZ1dFsAPesAQgCTAHEAKwBf8QCHAFAAUAAwAm/oAIT+8fEAXQCM6wCYAEgAWwBd+PipAH4AfgBiAE8AqgAdAK8AfAI5AjwA9QDgAPcA9wDhAPgA4gDiAOEA3wAoAnQBSgE5ATcBTQE3ATcBNwEyATEBMQExARUBURAAKgkBAEwYCxcEFhcPAIcAjwCfAEoAYxkCKgBvAGgAkAMOAyArAxpCP0gqAIoCSADAAlACnQC5Ao8CjwKPAo8CjwKPAoQCjwKPAo8CjwKPAo8CjgKOApECmQKQAo8CjwKNAo0CjQKNAosCjgJuAc0CkAKYAo8CjwKOF3oMAPcGA5gCWgIzGAFNETYC2xILLBQBRzgUTpIBdKU9AWJaAP4DOkgA/wCSKh4ZkGsAKmEAagAvAIoDlcyM8K+FWwa7LA/DEgKe1nUrCwQkWwGzAN5/gYB/gX+Cg4N/hIeFf4aJh4GIg4mDin+Lf4x/jYuOf49/kIORf5J/k3+Uf5WElomXg5h/AIMloQCEBDwEOQQ7BD4EPARCBD8EOgRABEIEQQQ9BD8EQgCkA4gAylIA0AINAPdbAPcBGgD3APUA9QD2APXVhSRmvwD3APUA9QD2APUdAIpbAPcAigEaAPcAigLtAPcAitWFJGa/HQD4WwEaAPcA9wD1APUA9gD1APgA9QD1APYA9dWFJGa/HQCKWwEaAPcAigD3AIoC7QD3AIrVhSRmvx0CRAE3AksBOgJMwgOfAu0Dn9WFJGa/HQCKWwEaA58AigOfAIoC7QOfAIrVhSRmvx0EMQCKBDIAigeOMm4hLQCKAT9vBCQA/gDHWwMAVVv/FDMDAIoDPtkASgMAigMAl2dBtv/TrfLzakaPh3aztmIuZQrR3ER2n5Yo+qNR2jK/aP/V04UK1njIJXLgkab9PjOxyJDVbIN3R/FZLoZVl2kYFQIZ7V6LpRqGDt9OdDohnJKp5yX/HLj0voPpLrneDaN11t5W3sSM4ALscgSw8fyWLVkKa/cNcQmjYOgTLZUgOLi2F05g4TR0RfgZ4PBdntxdV3qvdxQt8DeaMMgjJMgwUxYN3tUNpUNx21AvwADDAIa0+raTWaoBXmShAl5AThpMi282o+WzOKMlxjHj7a+DI6AM6VI9w+xyh3Eyg/1XvPmbqjeg2MGXugHt8wW03DQMRTd5iqqOhjLvyOCcKtViGwAHVLyl86KqvxVX7MxSW8HLq6KCrLpB8SspAOHO9IuOwCh9poLoMEha9CHCxlRAXJNDobducWjqhFHqCkzjTM2V9CHslwq4iU19IxqhIFZMve15lDTiMVZIPdADXGxTqzSTv0dDWyk1ht430yvaYCy9qY0MQ3cC5c1uw4mHcTGkMHTAGC99TkNXFAiLQgw9ZWhwKJjGCe+J5FIaMpYhhyUnEgfrF3zEtzn40DdgCIJUJfZ0mo3eXsDwneJ8AYCr7Vx2eHFnt2H6ZEyAHs9JoQ4Lzh5zBoGOGwAz37NOPuqSNmZf51hBEovtpm2T1wI79OBWDyvCFYkONqAKGVYgIL0F+uxTcMLSPtFbiNDbBPFgip8MGDmLLHbSyGXdCMO6f7teiW9EEmorZ+75KzanZwvUySgjoUQBTfHlOIerJs6Y9wLlgDw18AB1ne0tZRNgGjcrqHbtubSUooEpy4hWpDzTSrmvqw0H9AoXQLolMt9eOM+l9RitBB1OBnrdC1XL4yLFyXqZSgZhv7FnnDEXLUeffb4nVDqYTLY6X7gHVaK4ZZlepja2Oe6OhLDI/Ve5SQTCmJdH3HJeb14cw99XsBQAlDy5s5kil2sGezZA3tFok2IsNja7QuFgM30Hff3NGSsSVFYZLOcTBOvlPx8vLhjJrSI7xrNMA/BOzpBIJrdR1+v+zw4RZ7ry6aq4/tFfvPQxQCPDsXlcRvIZYl+E5g3kJ+zLMZon0yElBvEOQTh6SaAdIO6BwdqJqfvgU+e8Y65FQhdiHkZMVt9/39N2jGd26J6cNjq8cQIyp6RonRPgVn2fl89uRDcQ27GacaN0MPrcNyRlbUWelKfDfyrNVVGBG5sjd3jXzTx06ywyzuWn5jbvEfPPCTbpClkgEu9oPLKICxU5HuDe3jA1XnvU85IYYhaEtOU1YVWYhEFsa4/TQj3rHdsU2da2eVbF8YjSI0m619/8bLMZu3xildwqM7zf1cjn4Whx0PSYXcY5bR7wEQfGC7CTOXwZdmsdTO8q3uGm7Rh/RfCWwpzBHCAaVfjxgibL5vUeL0pH6bzDmI9yCXKC/okkmbc28OJvI87L/bjFzpq0DHepw4kT1Od+fL7cyuFaRgfaUWB2++TCFvz11J0leEtrGkpccfX9z2LY39sph4PBHCjNOOkd0ybUm+ZzS8GkFbqMpq8uiX2yHpa0jllTLfGTDBMYR6FT5FWLLDPMkYxt1Q0eyMvxJWztDjy0m6VvZPvamrFXjHmPpU6WxrZqH6WW//I37RwvqPQhPz8I3RPuXAk1C94ZprQWm9iGM/KgiGDO6SV9sjp+Jmk4TBajMNJ5zzWZ1k1jrteQQBp9C2dOvmbIeeEME8y573Q8TgGe+ZCzutM45gYLBzYm2LNvgq2kebAbMpHRDSyh6dQ27GbsAAdCqQVVXWC1C+zpwBM2Lr4eqtobmmu1vJEDlIQR1iN8CUWpztq50z7FFQBn3SKViX6wSqzVQCoYvAjByjeSa+h1PRnYWvBinTDB9cHt4eqDsPS4jcD3FwXJKT0RQsl8EvslI2SFaz2OtmYLFV8FwgvWroZ3fKmh7btewX9tfL2upXsrsqpLJzpzNGyNlnuZyetg7DIOxQTMBR7dqlrTlZ6FWi1g4j1NSjA2j1Yd7fzTH6k9LxCyUCneAKYCU581bnvKih6KJTeTeCX4Zhme/QIz7w2o+AdSgtLAkdrLS9nfweYEqrMLsrGGSWXtgWamAWp6+x6GM/Z8jNw3BqPNQ39hrzYLECn3tPvh/LqKbRSCiDGauDKBBj/kGbpnM1Bb/my8hv4NWStclkwjfl57y4oNDgw1JAG9VOti3QVVoSziMEsSdfEjaCPIDb7SgpLXykQsM+nbqbt97I0mIlzWv0uqFobLMAq8Rd9pszUBKxFhBPwOjf//gVOz2r7URJ2OnpviCXv9iz3a4X/YLBYbXoYwxBv/Kq0a5s4utQHzoTerJ7PmFW/no/ZAsid/hRIV82tD+Qabh5F1ssIM8Ri3chu0PuPD3sSJRMjDoxLAbwUbroiPAz/V52e8s3DIixxlO7OrvhMj3qfzA0kKxzwicr5wJmZwJxTXgrwYsqhRvpgC2Nfdyd+TYYxJSZgk+gk2g9KyHSlwQVAyPtWWgvVGyVBqsU2LpDlLNosSAtolC1uBKt5pQZLhAxTjeGCWIC/HVpagc5rRwkgpCHKEsjA8d+scp8aiMewwQBhp5dYTV5t/Nvl+HbDMu8F3S0psPyZb1bSnqlHPFUnMQeQqSqwDBT23fJO9gO3aVaa1icrXU0PKwlMM5K+iL3ATcVq2fFWKk0irCTF4LDVDG4gUpkyplq6efcZS+WDR1woApjD18x+2JQR9oOXzuA7uy4b+/91WsJd/tSd1QcAH8PVPXApieA37B7YXPhDPH1azP3PKR+HfHmOoDYLeuKsIi/ssSsdYs62qJo14Hw1P2N/6zpr8F3FTWmJ4ysAVcl84Iv/tl///Z8FaAWbBQbyMNDZjrZ2JwdRjtd1jOeNumSodFtr4/Zf45iRJf/8HSW+KIB/+GlKu8Rv1BPLr/4duoL+kFPRqrstEr41gfJupoJRf4hcYDWX93FOcfEBiIivxtjtV8g7mvOReiamYWKE7vfPbv3v2L9Kwq3cIDFGLyhyfOGuf/9vA5muH6Pjg7B4SUj2ydDXra9fSBI+DrsNHA6l51wfHssJb+11TfNk7B8OleUe3Y+ZmHboMFHdv7FFP2cfISFyeAQR0sk/Xv62HBTdW4HmnGSLFk/cqyWVVFJkdIIa+4hos3JRHcqLoRKM5h2Qtk1RZtzISMtlXTfTqIc77YsCCgQD0r61jtxskCctwJOtjE/pL8wC4LBD4AZFjh2wzzFCrT/PNqW0/DeBbkfMfzVm9yy06WiF+1mTdNNEAytVtohBKg3brWd2VQa+aF+cQ0mW5CvbwOlWCT07liX226PjiVLwFCRs/Ax2/u+ZNPjrNFIWIPf5GjHyUKp60OeXe9F01f7IaPf/SDTvyDAf7LSWWejtiZcsqtWZjrdn6A2MqBwnSeKhrZOlUMmgMionmiCIvXqKZfmhGZ1MwD3uMF4n9KJcfWLA3cL5pq48tm5NDYNh3SS/TKUtmFSlQR89MR4+kxcqJgpGbhm9gXneDELkyqAN5nitmIzTscKeJRXqd64RiaOALR2d295NWwbjHRNG2AU5oR9OS2oJg/5CY6BFPc1JvD2Mxdhp2/MZdI8dLePxiP4KRIp8VXmqfg+jqd/RNG7GNuq1U2SiI4735Bdc0MVFx6mH5UOWEa5HuhYykd6t4M1gYLVS8m1B+9bUqi5DziQq7qT8d94cxB6AB4WqMCOF/zPPtRSZUUaMSsvHOWxGASufywTX8ogy6HgUf9p+Z30wUEosl8qgmwm6o2AV6nO9HKQjRHpN6SUegI5pvR61RLnUJ1lqCtmfcsRQutEizVpAaPXN7xMp5UQ5OSZK6tniCK9CpyMd7LjR6+MxfoMEDPpWdf2p2m5N3KO4QMxf+V7vGdYjemQczQ+m2MGIkFNYDMf0Yop2eSx81sP36WHUczqEhKysp2iJSYAvfgJjinKwToPvRKb+HBi+7cJ96S5ngfLOXaHAFRLkulo4TnXTFO51gX0TCCo4ZUHdbpdgkMEwUZAPjh6M+hA8DzycbtxAgH3uD6i0nN1aTiIuQ4BYCE9dEHHwAmINU+4YEWx4EC3OZwFGfYZMPLScVlb+BAAJeARUh+gdWA3/gRqCrf1jecgqeFf1MdzrrP4SVlGm5mMihSP+zYYksAB7O+SBPwNQqSNMiLnkviY/klwgcRmvqtCqeWeA0gjuir4CMZqmw/ntP6M+l0pdN8/P9xI53aP7x/zavJbbKOz8VzO/nXxIr1tjparMnqd6iWdByHKw4lF4p/u57Yv07WeZPDnRl7wgmDVZZ44fQsjdYO/gmXQ+940PRGst8UMQApFC4OOV22e4N+lVOPyFLAOj4t8R3PFw/FjbSWy0ELuAFReNkee8ORcBOT2NPDcs7OfpUmzvn/F9Czk9o9naMyVYy/j8I5qVFmQDFcptBp65J/+sJA3w/j6y/eqUkKxTsf0CZjtNdRSBEmJ2tmfgmJbqpcsSagk+Ul9qdyV+NnqFBIJZFCB1XwPvWGDBOjVUmpWGHsWA5uDuMgLUNKZ4vlq5qfzY1LnRhCc/mh5/EX+hzuGdDy5aYYx4BAdwTTeZHcZpl3X0YyuxZFWNE6wFNppYs3LcFJePOyfKZ8KYb7dmRyvDOcORLPH0sytC6mH1US3JVj6paYM1GEr+CUmyHRnabHPqLlh6Kl0/BWd3ebziDfvpRQpPoR7N+LkUeYWtQ6Rn5v5+NtNeBPs2+DKDlzEVR5aYbTVPrZekJsZ9UC9qtVcP99thVIt1GREnN8zXP8mBfzS+wKYym8fcW6KqrE702Zco+hFQAEIR7qimo7dd7wO8B7R+QZPTuCWm1UAwblDTyURSbd85P4Pz+wBpQyGPeEpsEvxxIZkKsyfSOUcfE3UqzMFwZKYijb7sOkzpou+tC4bPXey5GI1GUAg9c3vLwIwAhcdPHRsYvpAfzkZHWY20vWxxJO0lvKfj6sG2g/pJ1vd/X2EBZkyEjLN4nUZOpOO7MewyHCrxQK8d5aF7rCeQlFX+XksK6l6z971BPuJqwdjj68ULOj9ZTDdOLopMdOLL0PFSS792SXE/EC9EDnIXZGYhr52aQb+9b2zEdBSnpkxAdBUkwJDqGCpZk/HkRidjdp0zKv/Cm52EenmfeKX6HkLUJgMbTTxxIZkIeL/6xuAaAAHbA7mONVduTHNX/UJj1nJEaI7f3HlUyiqKn7VfBE+bdb4HWln1HPJx001Ulq1tOxFf8WZEARvq5Da1+pE7fPVxLntGACz3nkoLsKcPdUqdCwwiyWkmXTd5+bv3j7HaReRt3ESn783Ew3SWsvkEjKtbocNksbrLmV+GVZn1+Uneo35MT1/4r8fngQX5/ptORfgmWfF6KSB/ssJmUSijXxQqUpzkANEkSkYgYj560OOjJr6uqckFuO15TRNgABEwNDjus1V3q2huLPYERMCLXUNmJJpbMrUQsSO7Qnxta55TvPWL6gWmMOvFknqETzqzFVO8SVkovEdYatypLGmDy9VWfgAc0KyIChiOhbd7UlbAeVLPZyEDp4POXKBwN/KP5pT6Cyqs6yaI00vXMn1ubk9OWT9Q/O2t/C25qlnO/zO0xcBzpMBCAB8vsdsh3U8fnPX1XlPEWfaYJxKVaTUgfCESWl4CCkIyjE6iQ5JFcwU6S4/IH0/Agacp8d5Gzq2+GzPnJ7+sqk40mfFQpKrDbAKwLlr3ONEati2k/ycLMSUu7V/7BBkDlNyXoN9tvqXCbbMc4SSQXgC/DBUY9QjtrCtQ+susEomCq8xcNJNNMWCH31GtlTw2BdCXkJBjT+/QNWlBWwQ5SWCh1LdQ99QVii/DyTxjSR6rmdap3l3L3aiplQpPYlrzNm9er88fXd2+ao+YdUNjtqmxiVxmyYPzJxl67OokDcTezEGqldkGgPbRdXA+fGcuZVkembZByo7J1dMnkGNjwwCny+FNcVcWvWYL9mg8oF7jACVWI3bA64EXpdM8bSIEVIAs5JJH+LHXgnCsgcMGPZyAAVBncvbLiexzg9YozcytjPXVlAbQAC7Tc4S0C8QN4LlAGjj4pQAVWrwkaDoUYGxxvkCWKRRHkdzJB5zpREleBDL1oDKEvAqmkDibVC4kTqF89YO6laUjgtJPebBfzr16tg4t10GmN1sJ5vezk2sUOq8blCn5mPZyT3ltaDcddKupQjqusNM9wtFVD0ABzv17fZDn7GPT1nkCtdcgYejcK1qOcTGtPxnCX1rErEjVWCnEJv5HaOAUjgpiKQjUKkQi64D5g2COgwas8FcgIl0Pw95H9dWxE3QG0VbMNffh6BPlAojLDf4es2/5Xfq7hw5NGcON2g8Qsy2UQm94KddKyy3kdJxWgpNaEc15xcylbLC3vnT26u8qS90qc2MU8LdOJc5VPF5KnSpXIhnj1eJJ/jszjZ01oR6JDFJRoeTPO/wh4IPFbdG9KljuSzeuI92p8JF/bpgDE8wG86/W2EBKgPrmzdLijxssQn8mM44ky/KLGOJcrSwXIpZa/Z3v7W6HCRk7ewds99LTsUW1LbeJytw8Q/BFZVZyfO9BUHOCe2suuEkO8DU4fLX0IQSQ2TdOkKXDtPf3sNV9tYhYFueuPRhfQlEEy+aYM/MCz7diDNmFSswYYlZZPmKr2Q5AxLsSVEqqBtn6hVl1BCFOFExnqnIsmyY/NA8jXnDaNzr7Zv3hu+I1Mf/PJjk0gALN2G8ABzdf9FNvWHvZHhv6xIoDCXf964MxG92vGZtx/LYU5PeZqgly8tT5tGeQGeJzMMsJc5p+a5Rn2PtEhiRzo/5Owjy1n0Lzx3ev8GHQmeWb8vagG6O5Qk5nrZuQTiKODI4UqL0LLAusS2Ve7j1Ivdxquu1BR9Rc4QkOiUPwQXJv6du2E8i5pDhVoQpUhyMWGUT2O2YODIhjAfI71gxep5r5zAY7GBUZpy51hAw0pcCCrhOmU8Wp6ujQTdZQsCjtq6SHX8QAMNiPCIIkoxhHEZPgsBcOlP4aErJZPhF7qvx6gHrn8hEwPwYbx8YmT/n7lbcmTip1v8kgsrIjFTAlvLY4Nuil0KDmgz3svYs0ZJ3O3Is/vSx4xpxF1e2VAtZE8dJxGYEIhCSuPvCjP54l/NSNDnwlKvAW8mG+AQkgp7a87Igh26uKMFGD0PoPHTSvoWxiHuk+su8XkQiHIjeYKl/RdcOHpxhQH3zHCNE3aARm83Bl6zGxU/vMltlVPQhubcqhW4RYkl6uXk5JdP/QpzaKFpw2M8zvysv2qj7xaQECuu2akM0Cssj/uB9+wDR7uA6XOnLNaoczalHoMj33eiiu+DRaFsUmlmUZuh9bjDY4INMNSSAivSh03uJvny4Gj+D+neudoa7iJi7c4VFlZ/J5gUR82308zSNAt/ZroBXDWw0fV3eVPAn3aX0mtJabF6RsUZmL+Ehn+wn51/4QipMjD+6y64t7bjL6bjENan2prQ4h7++hBJ9NXvX8CUocJqMC937IasLzm5K0qwXeFMAimMHkEIQIQI2LrQ9sLBfXuyp66zWvlsh74GPv7Xpabj993pRNNDuFud5oIcn/92isbADXdpRPbjmbCNOrwRbxGZx2XmYNGMiV5kjF4IKyxCBvKier9U4uVoheCdmk83rp5G0PihAm2fAtczI4b9BWqX+nrZTrJX5kSwQddi93NQrXG+Cl3eBGNkM77VBsMpEolhXex1MVvMkZN9fG59GGbciH11FEXaY1MxrArovaSjE/lUUqBg2cZBNmiWbvzCHCPJ4RVGFK2dTbObM1m+gJyEX53fa7u3+TZpm74mNEzWbkVL4vjNwfL9uzRCu1cgbrNx5Yv5dDruNrIOgwIk+UZWwJfdbu/WHul6PMmRflVCIzd7B37Pgm/Up/NuCiQW7RXyafevN3AL6ycciCc4ZPlTRzEu+aURGlUBOJbUEsheX7PPyrrhdUt5JAG12EEEZpY/N3Vhbl5uLAfT0CbC2XmpnryFkxZmBTs5prvEeuf0bn73i3O82WTiQtJWEPLsBXnQmdnKhB06NbbhLtlTZYJMxDMJpFeajSNRDB2v61BMUHqXggUwRJ19m6p5zl51v11q34T74lTXdJURuV6+bg2D6qpfGnLy7KGLuLZngobM4pIouz4+n0/UzFKxDgLM4h+fUwKZozQ9UGrHjcif51Ruonz7oIVZ56xWtZS8z7u5zay6J2LD4gCYh2RXoBRLDKsUlZ80R8kmoxlJiL8aZCy2wCAonnucFxCLT1HKoMhbPKt34D97EXPPh0joO93iJVF1Uruew61Qoy3ZUVNX9uIJDt9AQWKLLo+mSzmTibyLHq0D6hhzpvgUgI6ekyVEL3FD+Fi5R3A8MRHPXspN1VyKkfRlC+OGiNgPC4NREZpFETgVmdXrQ2TxChuS3aY+Ndc7CiYv5+CmzfiqeZrWIQJW/C4RvjbGUoJFf1K6ZdR2xL/bG4kVq1+I4jQWX+26YUijpp+lpN7o5c6ZodXJCF56UkFGsqz44sIg8jrdWvbjRCxi2Bk0iyM3a7ecAV93zB6h1Ei38c0s6+8nrbkopArccGP8vntQe1bFeEh2nJIFOHX/k3/UHb5PtKGpnzbkmnRETMX+9X/QduLZWw/feklW/kH/JnzToJe9Kgu9Hct1UGbH5BPCLo4OOtQnZonW0xnyCcdtKyPQ/sbLiSTYJdSx4sJqWLMnfn6fIqPB3WAgk00J+fCOkomPHqtS67pf0mFmKoItYZUlJu6BihSZ8qve8+/X+LX1MhQXF95AshfUleCtmdn6l6QFXzLg2sgLn1oyVFuZecv7fzsIHzoRlAGp0gwYDOn1S4qabWvB5xUaE+Svw4KmjWtxdnuQbI32dw87D4N95u8qQRJTSQg0wLxOLkxSrPMLEn1UIhNKjAa9VLs3WLaXGrtCIt8bKY2AQP/ZdyRU6zT/E8qP2ltyBE2CCZPgWgEYDoJJO4n92y61ylNaSFXKohJhLjkfvYWm592539sIpmBNLlDo1bExFBfmHJJ0lFEiC/fj8v42OoMC9Mo3whIoWvyHfq6Uacqq55mzFf/EGC+NP/gHjhd6urc6R0hES27VXux7UY8CGKPohplWIZtTrFSaPWslCWy78E22Pw8fvReSUZx/txqLtHrFqg1DY/Eus6Iq1heZdrdcqE0/c971Bz1HW/XNXHsXpUIbI4kHdOfCc6T5zHZzvzQJB0ggMFL6IGPAilU9bj/ASdPk6fNvNtZqPuwEDhMBtBnhCexo6D6VAGIOPvJPPV523Y8R8a9vCqZbswSZKzOT1291BsUbmUWehtbb1fdRX9hiJKXvwr1QX6GjnZMgyMvnwOo2Dr24amr7FqEAbVeJAjRNOceM2EQ1Mna9fInqPJ5mh5X8CzT1aDOv08An0blz0fF5Gq4mS2cwq5glwIOlY5nznE8X4j/UdZ3FJsVIXte1JH0A7iibuPfazStM5O/Vo3KXIpXBeGORV0M9XDXFvsYZUHGvFCUubWzTw248EHE0cpQM2zNg6rjavreq3NHCAWsoZ7wvVy7l5gvtKRmIj1MnvfWEm0yFnGcuOq192350a5WefpfKCcX3Sn+AgHU+qnpstNtddbdVebagJU390lq9ko4aI9rqdaWXYG8tv5O/ZQHSqDRYHC6zfH10l5z++opso7aOSaIczlQ13iAzXvLdEu0V7kwNUZ1c8Y8aq7SeIEe5p902FlNkW8DnwHyueHchbK8vVFJfmr9mz7P8nUSccl1ULaoWMRSI1ls32kvlK0h46h3J25Yd9AzfcJbp9qYF/SEt3H5j69mMdcsNxZcAzT/A89ov3tglTX54y/EwjMfuoDoxPwLJDm5I7q6F9Kp469yNy1zSxz0N4HbRRBj9xFFuogvBspv7DXUNIsGxTINEQfmctb42XImWAODgARNo7dfcTqFKq6aTfivmvunLmzP9f8yLsJvXD3JbcPcDGNriMAcjzeDTNr65t8YB5tsnFDFLa0Uwmd2OvUdkLMX9TsAUYUfooSv47sw5J88j7CpahRjjO3/UhOXjTS39W5YZAel2KTbQd1h7INOw9P23GW7GDAe4agIUFHP48MZr7ubq0efFmmtwYMyk7D0r1oeG/CGOODgb9Ur+JMHxkwzPbtCX2ZnENQuI0RN5SyTIZuoY4XS9Rd/tPe3vNAZGSHM/YYwqs9xkkENx0O+eC2YVW1cwOJ3ckE890nbQeHLKlW15L0P0W2VliyYrfNr0nrIYddoRyGaCtj4OYd2MT7ebApqZOAQIaSHJM4mphhfjNjtnjg6YRyx9qM2FT3xOiYIMqXPFWdzhSgFF8ItocqVV09CmIoO8k6U/oJB7++wSX/YksxfPXHyjSgAGZOj1aKEq9fSvXBqtp2wu8/FxEf5AxapAD06pPGuLVUYLdgEzHR8wqRGYEwiUO9MyYbgswstuLYhwYFpSVKOdzAihZ9LuHtD598EGhINU9xc9xhL+QgTLAstmPIvvm2xyRw/WTUPXkP3ZHu6GyPmj5xFH9/QGpkglKXRVUBgVmLOJx8uZO2AstxQYocZH2JhORlxawj66BAXUEs7K/gPxINIRAFyK3WLuyq9oBTF9wEbnmCot82WjIg7CPNwYK3KrZMrKAz5yFszg4wCVLJVnIL8+OYA0xRDH8cHQjQUiQ2i1mr/be32k/3Xej9sdf3iuGvZHyLFSJvPSqz/wltnxumTJYKZsrWXtx/Rmu39jjV9lFaJttfFn57/No2h/unsJmMHbrnZ8csxkp5HQ4xR1s0HH+t3Iz82a3iQWTUDGq/+l2W3TUYLE8zNdL8Y+5oXaIH/Y2UUcX67cXeN4WvENZjz4+8q7vjhowOI3rSjFhGZ6KzwmU7+5nFV+kGWAZ5z2UWvzq0TK0pk1hPwAN4jbw//1CApRvIaIjhSGhioY6TUmsToek9cF9XjJdHvLPcyyCV3lbR5Jiz/ts46ay2F820VjTXvllElwrGzKcNSyvQlWDXdwrUINXmHorAM3fE19ngLZmgeUaCJLsSITf2VcfAOuWwX7mTPdP8Zb/04KqRniufCpwnDUk7sP0RX6cud/sanFMagnzKInSRVey0YzlVSOtA/AjrofmSH6RYbJQ8b4NDeTkIGc6247+Mnbez/qhJ9GAv9fGNFercPnnrf285Qgs+UqThLRgflcAKFuqWhLzZaR4QqvSwa3xe0LPkqj9xJWub195r7NrrR0e78FR+0mRBNMPsraqZctAUVAJfYKehTDV1MGGQSeDsOK9J3sbUuKRIS/WilX/64CBms9jCZocBlsBSZaIAjWm/SUZ8daWL2a/cJFyUOFqE3Epc2RWbtjNyPwOGpWtzu32kUooUqsJud7IV4E8rstUBXM7tGEtBx99x60g1duhyvxeKJSl8s5E34HTMmADT0836aEdg5Dv9rVyCz8i2REOmiz6wtIVFN0HsjAoN37SrY0bV1Ms8CRUILhvZvvRaDzoVCaSI0u8EPuTe4b7OPowgRGODl22UBBmHSTUY8e4DyL+Bc7bngo+2T8HtNvzyATSL5iJZgFPKpmUyZv54vVL90+/RQGATUmNKnrIvcJMYON9fl83naW5sf6hRkbbTC9RUEE6XADwjgA46wWfUQ+QWZl0J4PVTWAln/YfAz/SV3q3J9+yCYDleruoN5uoc/wT2f4YONGTb6zTGq3V+3JqzmCOjwebKln+fExVLN7sqtqfMnsKVXWbb2Ai5m3D/fCTgX7oKYzTZvj+m28XnDqPbXuP4MyWdmPezcesdrh7rCzA7BWdObiuyDEKjjzBbQ0qnuwjliz+b+j7aPMKlkXyIznV3tGzAfYwIbzGGt098oh4eq3ruDjdgHtjxfFCjHrjjRbHajoz/YOY4raojPFQ910GIlBV7hq47UDgpyajBxQUmD8NctiLV1rTSLAEsQDLTeRKcmPBMVMFF0SPBBhZ5oXoxtD3lMhuAQXmA+57OcciczVW9e9zwSIAHS+FJmvfXMJGF1dMBsIUMaPjvgaVqUc3p32qVCMQYFEiRLzlVSOGMCmv/HJIxAHe3mL/XnoZ1IkWLeRZfgyByjnDbbeRK5KL7bYHSVJZ9UFq+yCiNKeRUaYjgbC3hVUvfJAhy/QNl/JqLKVvGMk9ZcfyGidNeo/VTxK9vUpodzfQI9Z2eAre4nmrkzgxKSnT5IJ1D69oHuUS5hp7pK9IAWuNrAOtOH0mAuwCrY8mXAtVXUeaNK3OXr6PRvmWg4VQqFSy+a1GZfFYgdsJELG8N0kvqmzvwZ02Plf5fH9QTy6br0oY/IDsEA+GBf9pEVWCIuBCjsup3LDSDqI+5+0IKSUFr7A96A2f0FbcU9fqljdqvsd8sG55KcKloHIFZem2Wb6pCLXybnVSB0sjCXzdS8IKvE"),cs=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),fs=4;function hs(e){return"{".concat(function(e){return e.toString(16).toUpperCase().padStart(2,"0")}(e),"}")}function ds(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.codePointAt(n);n+=i<65536?1:2,t.push(i)}return t}function ps(e){var t=e.length;if(t<4096)return String.fromCodePoint.apply(String,qe(e));for(var n=[],r=0;r<t;)n.push(String.fromCodePoint.apply(String,qe(e.slice(r,r+=4096))));return n.join("")}var vs=$o("AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g");function ms(e){return e>>24&255}function ys(e){return 16777215&e}var gs,bs=new Map(rs(vs).flatMap((function(e,t){return e.map((function(e){return[e,t+1<<24]}))}))),ws=new Set(ns(vs)),xs=new Map,_s=new Map,ks=Lt(is(vs));try{for(ks.s();!(gs=ks.n()).done;){var Ss=l(gs.value,2),Ms=Ss[0],As=Ss[1];if(!ws.has(Ms)&&2==As.length){var Ts=l(As,2),Es=Ts[0],Cs=Ts[1],Ps=_s.get(Es);Ps||(Ps=new Map,_s.set(Es,Ps)),Ps.set(Cs,Ms)}xs.set(Ms,As.reverse())}}catch(AG){ks.e(AG)}finally{ks.f()}var Rs=44032,Is=4352,Ls=4449,Ns=4519,Os=28,Ds=21*Os,Us=Rs+19*Ds,zs=Is+19,Bs=Ls+21,Fs=Ns+Os;function Hs(e){return e>=Rs&&e<Us}function Ws(e,t){if(e>=Is&&e<zs&&t>=Ls&&t<Bs)return Rs+(e-Is)*Ds+(t-Ls)*Os;if(Hs(e)&&t>Ns&&t<Fs&&(e-Rs)%Os==0)return e+(t-Ns);var n=_s.get(e);return n&&(n=n.get(t))?n:-1}function Gs(e){var t=[],n=[],r=!1;function i(e){var n=bs.get(e);n&&(r=!0,e|=n),t.push(e)}var a,o=Lt(e);try{for(o.s();!(a=o.n()).done;)for(var s=a.value;;){if(s<128)t.push(s);else if(Hs(s)){var u=s-Rs,l=u%Ds/Os|0,c=u%Os;i(Is+(u/Ds|0)),i(Ls+l),c>0&&i(Ns+c)}else{var f=xs.get(s);f?n.push.apply(n,qe(f)):i(s)}if(!n.length)break;s=n.pop()}}catch(AG){o.e(AG)}finally{o.f()}if(r&&t.length>1)for(var h=ms(t[0]),d=1;d<t.length;d++){var p=ms(t[d]);if(0==p||h<=p)h=p;else{for(var v=d-1;;){var m=t[v+1];if(t[v+1]=t[v],t[v]=m,!v)break;if((h=ms(t[--v]))<=p)break}h=ms(t[d])}}return t}function js(e){return Gs(e).map(ys)}function Vs(e){return function(e){var t,n=[],r=[],i=-1,a=0,o=Lt(e);try{for(o.s();!(t=o.n()).done;){var s=t.value,u=ms(s),l=ys(s);if(-1==i)0==u?i=l:n.push(l);else if(a>0&&a>=u)0==u?(n.push.apply(n,[i].concat(r)),r.length=0,i=l):r.push(l),a=u;else{var c=Ws(i,l);c>=0?i=c:0==a&&0==u?(n.push(i),i=l):(r.push(l),a=u)}}}catch(AG){o.e(AG)}finally{o.f()}return i>=0&&n.push.apply(n,[i].concat(r)),n}(Gs(e))}var qs=65039,Xs=".",Js=1,Ys=45;function Qs(){return new Set(ns(ls))}var Zs=new Map(is(ls)),Ks=Qs(),$s=Qs(),eu=new Set(ns(ls).map((function(e){return this[e]}),qe($s))),tu=Qs(),nu=(Qs(),rs(ls));function ru(){return new Set([ns(ls).map((function(e){return nu[e]})),ns(ls)].flat(2))}var iu=ls(),au=as((function(e){var t=as(ls).map((function(e){return e+96}));if(t.length){var n=e>=iu;t[0]-=32,t=ps(t),n&&(t="Restricted[".concat(t,"]"));var r=ru(),i=ru(),a=[].concat(qe(r),qe(i)).sort((function(e,t){return e-t}));return{N:t,P:r,M:!ls(),R:n,V:new Set(a)}}})),ou=Qs(),su=new Map;[].concat(qe(ou),qe(Qs())).sort((function(e,t){return e-t})).map((function(e,t,n){var r=ls(),i=n[t]=r?n[t-r]:{V:[],M:new Map};i.V.push(e),ou.has(e)||su.set(e,i)}));var uu,lu=Lt(new Set(su.values()));try{for(lu.s();!(uu=lu.n()).done;){var cu,fu=uu.value,hu=fu.V,du=fu.M,pu=[],vu=Lt(hu);try{var mu=function(){var e=cu.value,t=au.filter((function(t){return t.V.has(e)})),n=pu.find((function(e){var n=e.G;return t.some((function(e){return n.has(e)}))}));n||(n={G:new Set,V:[]},pu.push(n)),n.V.push(e),t.forEach((function(e){return n.G.add(e)}))};for(vu.s();!(cu=vu.n()).done;)mu()}catch(AG){vu.e(AG)}finally{vu.f()}for(var yu=pu.flatMap((function(e){return qe(e.G)})),gu=function(){var e,t=wu[bu],n=t.G,r=t.V,i=new Set(yu.filter((function(e){return!n.has(e)}))),a=Lt(r);try{for(a.s();!(e=a.n()).done;){var o=e.value;du.set(o,i)}}catch(AG){a.e(AG)}finally{a.f()}},bu=0,wu=pu;bu<wu.length;bu++)gu()}}catch(AG){lu.e(AG)}finally{lu.f()}var xu,_u=new Set,ku=new Set,Su=Lt(au);try{for(Su.s();!(xu=Su.n()).done;){var Mu,Au=Lt(xu.value.V);try{for(Au.s();!(Mu=Au.n()).done;){var Tu=Mu.value;(_u.has(Tu)?ku:_u).add(Tu)}}catch(AG){Au.e(AG)}finally{Au.f()}}}catch(AG){Su.e(AG)}finally{Su.f()}var Eu,Cu=Lt(_u);try{for(Cu.s();!(Eu=Cu.n()).done;){var Pu=Eu.value;su.has(Pu)||ku.has(Pu)||su.set(Pu,Js)}}catch(AG){Cu.e(AG)}finally{Cu.f()}var Ru=new Set([].concat(qe(_u),qe(js(_u)))),Iu=ns(ls),Lu=function e(t){var n=as((function(){var t=ns(ls).map((function(e){return Iu[e]}));if(t.length)return e(t)})).sort((function(e,t){return t.Q.size-e.Q.size})),r=ls(),i=r%3;return{B:n,V:i,F:1&(r=r/3|0),S:1&(r>>=1),C:2&r,Q:new Set(t)}}([]);var Nu=function(e){ct(n,e);var t=dt(n);function n(){return nt(this,n),t.apply(this,arguments)}return at(n,[{key:"is_emoji",get:function(){return!0}}]),n}(Ft(Array));function Ou(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hs,n=[];(function(e){return $s.has(e)})(e[0])&&n.push("\u25cc");for(var r=0,i=e.length,a=0;a<i;a++){var o=e[a];Bu(o)&&(n.push(ps(e.slice(r,a))),n.push(t(o)),r=a+1)}return n.push(ps(e.slice(r,i))),n.join("")}function Du(e){return(Bu(e)?"":"".concat(Uu(Ou([e]))," "))+hs(e)}function Uu(e){return'"'.concat(e,'"\u200e')}function zu(e){for(var t=e.lastIndexOf(95);t>0;)if(95!==e[--t])throw new Error("underscore allowed only at start")}function Bu(e){return tu.has(e)}function Fu(e,t){var n=0;return e.split(Xs).map((function(e){var r,i=ds(e),a={input:i,offset:n};n+=i.length+1;try{var o,s=a.tokens=Vu(i,Vs),u=s.length;if(!u)throw new Error("empty label");var c=s[0],f=u>1||c.is_emoji;if(!f&&c.every((function(e){return e<128})))zu(r=c),function(e){if(e.length>=4&&e[2]==Ys&&e[3]==Ys)throw new Error("invalid label extension")}(r),o="ASCII";else if(f&&(a.emoji=!0,c=s.flatMap((function(e){return e.is_emoji?[]:e}))),r=s.flatMap((function(e){return!t&&e.is_emoji?qu(e):e})),zu(r),c.length){if($s.has(r[0]))throw ju("leading combining mark");for(var h=1;h<u;h++){var d=s[h];if(!d.is_emoji&&$s.has(d[0]))throw ju('emoji + combining mark: "'.concat(ps(s[h-1])," + ").concat(Ou([d[0]]),'"'))}!function(e){var t=e[0],n=cs.get(t);if(n)throw ju("leading ".concat(n));for(var r=e.length,i=-1,a=1;a<r;a++){t=e[a];var o=cs.get(t);if(o){if(i==a)throw ju("".concat(n," + ").concat(o));i=a+1,n=o}}if(i==r)throw ju("trailing ".concat(n))}(r);var p=qe(new Set(c)),v=function(e){var t,n=au,r=Lt(e);try{var i=function(){var e=t.value,r=n.filter((function(t){return t.V.has(e)}));if(!r.length)throw n===au?Wu(e):Gu(n[0],e);if(n=r,1==r.length)return"break"};for(r.s();!(t=r.n()).done;){if("break"===i())break}}catch(AG){r.e(AG)}finally{r.f()}return n}(p),m=l(v,1)[0];!function(e,t){var n,r=e.V,i=e.M,a=Lt(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(!r.has(o))throw Gu(e,o)}}catch(AG){a.e(AG)}finally{a.f()}if(i)for(var s=js(t),u=1,l=s.length;u<l;u++)if(eu.has(s[u])){for(var c,f=u+1;f<l&&eu.has(c=s[f]);f++)for(var h=u;h<f;h++)if(s[h]==c)throw new Error("non-spacing marks: repeated ".concat(Du(c)));if(f-u>fs)throw new Error("non-spacing marks: too many ".concat(Uu(Ou(s.slice(u-1,f)))," (").concat(f-u,"/").concat(fs,")"));u=f}}(m,c),function(e,t){var n,r,i=[],a=Lt(t);try{var o=function(){var e=r.value,t=su.get(e);if(t===Js)return{v:void 0};if(t){var a=t.M.get(e);if(n=n?n.filter((function(e){return a.has(e)})):qe(a),!n.length)return{v:void 0}}else i.push(e)};for(a.s();!(r=a.n()).done;){var s=o();if("object"===typeof s)return s.v}}catch(AG){a.e(AG)}finally{a.f()}if(n){var u,l=Lt(n);try{var c=function(){var t=u.value;if(i.every((function(e){return t.V.has(e)})))throw new Error("whole-script confusable: ".concat(e.N,"/").concat(t.N))};for(l.s();!(u=l.n()).done;)c()}catch(AG){l.e(AG)}finally{l.f()}}}(m,p),o=m.N}else o="Emoji";a.type=o}catch(AG){a.error=AG}return a.output=r,a}))}function Hu(e){return e.map((function(t){var n=t.input,r=t.error,i=t.output;if(r){var a=r.message;throw new Error(1==e.length?a:"Invalid label ".concat(Uu(Ou(n)),": ").concat(a))}return ps(i)})).join(Xs)}function Wu(e){return new Error("disallowed character: ".concat(Du(e)))}function Gu(e,t){var n=Du(t),r=au.find((function(e){return e.P.has(t)}));return r&&(n="".concat(r.N," ").concat(n)),new Error("illegal mixture: ".concat(e.N," + ").concat(n))}function ju(e){return new Error("illegal placement: ".concat(e))}function Vu(e,t){var n=[],r=[];for(e=e.slice().reverse();e.length;){var i=Xu(e);if(i)r.length&&(n.push(t(r)),r=[]),n.push(i);else{var a=e.pop();if(Ru.has(a))r.push(a);else{var o,s=Zs.get(a);if(s)(o=r).push.apply(o,qe(s));else if(!Ks.has(a))throw Wu(a)}}}return r.length&&n.push(t(r)),n}function qu(e){return e.filter((function(e){return e!=qs}))}function Xu(e,t){var n,r,i=Lu,a=[],o=e.length;t&&(t.length=0);for(var s=function(){var s=e[--o];if(i=i.B.find((function(e){return e.Q.has(s)})),!i)return"break";if(i.S)r=s;else if(i.C&&s===r)return"break";a.push(s),i.F&&(a.push(qs),o>0&&e[o-1]==qs&&o--),i.V&&(n=Ju(a,i),t&&t.push.apply(t,qe(e.slice(o).reverse())),e.length=o)};o;){if("break"===s())break}return n}function Ju(e,t){var n=Nu.from(e);return 2==t.V&&n.splice(1,1),n}var Yu,Qu=new Uint8Array(32);function Zu(e){return Ct(0!==e.length,"invalid ENS name; empty component","comp",e),e}function Ku(e){var t=ti(function(e){try{return function(e){return Hu(Fu(e))}(e)}catch(t){Ct(!1,"invalid ENS name (".concat(t.message,")"),"name",e)}}(e)),n=[];if(0===e.length)return n;for(var r=0,i=0;i<t.length;i++){46===t[i]&&(n.push(Zu(t.slice(r,i))),r=i+1)}return Ct(r<t.length,"invalid ENS name; empty component","name",e),n.push(Zu(t.slice(r))),n}function $u(e){Ct("string"===typeof e,"invalid ENS name; not a string","name",e);for(var t=Qu,n=Ku(e);n.length;)t=wr(Xt([t,wr(n.pop())]));return qt(t)}Qu.fill(0);var el=BigInt(0),tl=BigInt(1),nl=BigInt(2),rl=BigInt(27),il=BigInt(28),al=BigInt(35),ol={};function sl(e){return Zt(fn(e),32)}var ul=new WeakMap,ll=new WeakMap,cl=new WeakMap,fl=new WeakMap;Yu=Symbol.for("nodejs.util.inspect.custom");var hl=function(){function e(t,n,r,i){nt(this,e),vt(this,ul,{writable:!0,value:void 0}),vt(this,ll,{writable:!0,value:void 0}),vt(this,cl,{writable:!0,value:void 0}),vt(this,fl,{writable:!0,value:void 0}),It(t,ol,"Signature"),gt(this,ul,n),gt(this,ll,r),gt(this,cl,i),gt(this,fl,null)}return at(e,[{key:"r",get:function(){return yt(this,ul)},set:function(e){Ct(32===Jt(e),"invalid r","value",e),gt(this,ul,qt(e))}},{key:"s",get:function(){return yt(this,ll)},set:function(e){Ct(32===Jt(e),"invalid s","value",e);var t=qt(e);Ct(parseInt(t.substring(0,3))<8,"non-canonical s","value",t),gt(this,ll,t)}},{key:"v",get:function(){return yt(this,cl)},set:function(e){var t=ln(e,"value");Ct(27===t||28===t,"invalid v","v",e),gt(this,cl,t)}},{key:"networkV",get:function(){return yt(this,fl)}},{key:"legacyChainId",get:function(){var t=this.networkV;return null==t?null:e.getChainId(t)}},{key:"yParity",get:function(){return 27===this.v?0:1}},{key:"yParityAndS",get:function(){var e=Wt(this.s);return this.yParity&&(e[0]|=128),qt(e)}},{key:"compactSerialized",get:function(){return Xt([this.r,this.yParityAndS])}},{key:"serialized",get:function(){return Xt([this.r,this.s,this.yParity?"0x1c":"0x1b"])}},{key:Yu,value:function(){return'Signature { r: "'.concat(this.r,'", s: "').concat(this.s,'", yParity: ').concat(this.yParity,", networkV: ").concat(this.networkV," }")}},{key:"clone",value:function(){var t=new e(ol,this.r,this.s,this.v);return this.networkV&&gt(t,fl,this.networkV),t}},{key:"toJSON",value:function(){var e=this.networkV;return{_type:"signature",networkV:null!=e?e.toString():null,r:this.r,s:this.s,v:this.v}}}],[{key:"getChainId",value:function(e){var t=an(e,"v");return t==rl||t==il?el:(Ct(t>=al,"invalid EIP-155 v","v",e),(t-al)/nl)}},{key:"getChainIdV",value:function(e,t){return an(e)*nl+BigInt(35+t-27)}},{key:"getNormalizedV",value:function(e){var t=an(e);return t===el||t===rl?27:t===tl||t===il?28:(Ct(t>=al,"invalid v","v",e),t&tl?27:28)}},{key:"from",value:function(t){function n(e,n){Ct(e,n,"signature",t)}if(null==t)return new e(ol,Oa,Oa,27);if("string"===typeof t){var r=Wt(t,"signature");if(64===r.length){var i=qt(r.slice(0,32)),a=r.slice(32,64),o=128&a[0]?28:27;return a[0]&=127,new e(ol,i,qt(a),o)}if(65===r.length){var s=qt(r.slice(0,32)),u=r.slice(32,64);n(0===(128&u[0]),"non-canonical s");var l=e.getNormalizedV(r[64]);return new e(ol,s,qt(u),l)}n(!1,"invalid raw signature length")}if(t instanceof e)return t.clone();var c=t.r;n(null!=c,"missing r");var f=sl(c),h=function(e,t){if(null!=e)return sl(e);if(null!=t){n(jt(t,32),"invalid yParityAndS");var r=Wt(t);return r[0]&=127,qt(r)}n(!1,"missing s")}(t.s,t.yParityAndS);n(0==(128&Wt(h)[0]),"non-canonical s");var d=function(t,r,i){if(null!=t){var a=an(t);return{networkV:a>=al?a:void 0,v:e.getNormalizedV(a)}}if(null!=r)return n(jt(r,32),"invalid yParityAndS"),{v:128&Wt(r)[0]?28:27};if(null!=i){switch(i){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")}(t.v,t.yParityAndS,t.yParity),p=d.networkV,v=d.v,m=new e(ol,f,h,v);return p&&gt(m,fl,p),n(!("yParity"in t&&t.yParity!==m.yParity),"yParity mismatch"),n(!("yParityAndS"in t&&t.yParityAndS!==m.yParityAndS),"yParityAndS mismatch"),m}}]),e}(),dl=n(5856),pl=n.t(dl,2),vl=BigInt(0),ml=BigInt(1),yl=BigInt(2),gl=BigInt(3),bl=BigInt(8),wl=Object.freeze({a:vl,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:ml,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),xl=function(e,t){return(e+t/yl)/t},_l=BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),kl=function(e){var t=wl.n,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-ml*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,o=BigInt("0x100000000000000000000000000000000"),s=xl(a*e,t),u=xl(-r*e,t),l=ec(e-s*n-u*i,t),c=ec(-s*r-u*a,t),f=l>o,h=c>o;if(f&&(l=t-l),h&&(c=t-c),l>o||c>o)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:f,k1:l,k2neg:h,k2:c}},Sl=32,Ml=32,Al=32,Tl=Sl+1,El=2*Sl+1;function Cl(e){var t=wl.a,n=wl.b,r=ec(e*e),i=ec(r*e);return ec(i+t*e+n)}var Pl=wl.a===vl,Rl=function(e){ct(n,e);var t=dt(n);function n(e){return nt(this,n),t.call(this,e)}return at(n)}(Ft(Error));function Il(e){if(!(e instanceof Ll))throw new TypeError("JacobianPoint expected")}var Ll=function(){function e(t,n,r){nt(this,e),this.x=t,this.y=n,this.z=r}return at(e,[{key:"equals",value:function(e){Il(e);var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=ec(r*r),u=ec(o*o),l=ec(t*u),c=ec(i*s),f=ec(ec(n*o)*u),h=ec(ec(a*r)*s);return l===c&&f===h}},{key:"negate",value:function(){return new e(this.x,ec(-this.y),this.z)}},{key:"double",value:function(){var t=this.x,n=this.y,r=this.z,i=ec(t*t),a=ec(n*n),o=ec(a*a),s=t+a,u=ec(yl*(ec(s*s)-i-o)),l=ec(gl*i),c=ec(l*l),f=ec(c-yl*u);return new e(f,ec(l*(u-f)-bl*o),ec(yl*n*r))}},{key:"add",value:function(t){Il(t);var n=this.x,r=this.y,i=this.z,a=t.x,o=t.y,s=t.z;if(a===vl||o===vl)return this;if(n===vl||r===vl)return t;var u=ec(i*i),l=ec(s*s),c=ec(n*l),f=ec(a*u),h=ec(ec(r*s)*l),d=ec(ec(o*i)*u),p=ec(f-c),v=ec(d-h);if(p===vl)return v===vl?this.double():e.ZERO;var m=ec(p*p),y=ec(p*m),g=ec(c*m),b=ec(v*v-y-yl*g);return new e(b,ec(v*(g-b)-h*y),ec(i*s*p))}},{key:"subtract",value:function(e){return this.add(e.negate())}},{key:"multiplyUnsafe",value:function(t){var n=e.ZERO;if("bigint"===typeof t&&t===vl)return n;var r=$l(t);if(r===ml)return this;if(!Pl){for(var i=n,a=this;r>vl;)r&ml&&(i=i.add(a)),a=a.double(),r>>=ml;return i}for(var o=kl(r),s=o.k1neg,u=o.k1,l=o.k2neg,c=o.k2,f=n,h=n,d=this;u>vl||c>vl;)u&ml&&(f=f.add(d)),c&ml&&(h=h.add(d)),d=d.double(),u>>=ml,c>>=ml;return s&&(f=f.negate()),l&&(h=h.negate()),h=new e(ec(h.x*_l),h.y,h.z),f.add(h)}},{key:"precomputeWindow",value:function(e){for(var t=Pl?128/e+1:256/e+1,n=[],r=this,i=r,a=0;a<t;a++){i=r,n.push(i);for(var o=1;o<Math.pow(2,e-1);o++)i=i.add(r),n.push(i);r=i.double()}return n}},{key:"wNAF",value:function(t,n){!n&&this.equals(e.BASE)&&(n=Dl.BASE);var r=n&&n._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");var i=n&&Ol.get(n);i||(i=this.precomputeWindow(r),n&&1!==r&&(i=e.normalizeZ(i),Ol.set(n,i)));for(var a=e.ZERO,o=e.BASE,s=1+(Pl?128/r:256/r),u=Math.pow(2,r-1),l=BigInt(Math.pow(2,r)-1),c=Math.pow(2,r),f=BigInt(r),h=0;h<s;h++){var d=h*u,p=Number(t&l);t>>=f,p>u&&(p-=c,t+=ml);var v=d,m=d+Math.abs(p)-1,y=h%2!==0,g=p<0;0===p?o=o.add(Nl(y,i[v])):a=a.add(Nl(g,i[m]))}return{p:a,f:o}}},{key:"multiply",value:function(t,n){var r,i,a=$l(t);if(Pl){var o=kl(a),s=o.k1neg,u=o.k1,l=o.k2neg,c=o.k2,f=this.wNAF(u,n),h=f.p,d=f.f,p=this.wNAF(c,n),v=p.p,m=p.f;h=Nl(s,h),v=new e(ec((v=Nl(l,v)).x*_l),v.y,v.z),r=h.add(v),i=d.add(m)}else{var y=this.wNAF(a,n);r=y.p,i=y.f}return e.normalizeZ([r,i])[0]}},{key:"toAffine",value:function(t){var n=this.x,r=this.y,i=this.z,a=this.equals(e.ZERO);null==t&&(t=a?bl:nc(i));var o=t,s=ec(o*o),u=ec(s*o),l=ec(n*s),c=ec(r*u),f=ec(i*o);if(a)return Dl.ZERO;if(f!==ml)throw new Error("invZ was invalid");return new Dl(l,c)}}],[{key:"fromAffine",value:function(t){if(!(t instanceof Dl))throw new TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(Dl.ZERO)?e.ZERO:new e(t.x,t.y,ml)}},{key:"toAffineBatch",value:function(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wl.P,n=new Array(e.length),r=e.reduce((function(e,r,i){return r===vl?e:(n[i]=e,ec(e*r,t))}),ml),i=nc(r,t);return e.reduceRight((function(e,r,i){return r===vl?e:(n[i]=ec(e*n[i],t),ec(e*r,t))}),i),n}(e.map((function(e){return e.z})));return e.map((function(e,n){return e.toAffine(t[n])}))}},{key:"normalizeZ",value:function(t){return e.toAffineBatch(t).map(e.fromAffine)}}]),e}();function Nl(e,t){var n=t.negate();return e?n:t}Ll.BASE=new Ll(wl.Gx,wl.Gy,ml),Ll.ZERO=new Ll(vl,ml,vl);var Ol=new WeakMap,Dl=function(){function e(t,n){nt(this,e),this.x=t,this.y=n}return at(e,[{key:"_setWindowSize",value:function(e){this._WINDOW_SIZE=e,Ol.delete(this)}},{key:"hasEvenY",value:function(){return this.y%yl===vl}},{key:"toRawBytes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Ql(this.toHex(e))}},{key:"toHex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=ql(this.x);if(e){var n=this.hasEvenY()?"02":"03";return"".concat(n).concat(t)}return"04".concat(t).concat(ql(this.y))}},{key:"toHexX",value:function(){return this.toHex(!0).slice(2)}},{key:"toRawX",value:function(){return this.toRawBytes(!0).slice(1)}},{key:"assertValidity",value:function(){var e="Point is not on elliptic curve",t=this.x,n=this.y;if(!oc(t)||!oc(n))throw new Error(e);var r=ec(n*n);if(ec(r-Cl(t))!==vl)throw new Error(e)}},{key:"equals",value:function(e){return this.x===e.x&&this.y===e.y}},{key:"negate",value:function(){return new e(this.x,ec(-this.y))}},{key:"double",value:function(){return Ll.fromAffine(this).double().toAffine()}},{key:"add",value:function(e){return Ll.fromAffine(this).add(Ll.fromAffine(e)).toAffine()}},{key:"subtract",value:function(e){return this.add(e.negate())}},{key:"multiply",value:function(e){return Ll.fromAffine(this).multiply(e,this).toAffine()}},{key:"multiplyAndAddUnsafe",value:function(t,n,r){var i=Ll.fromAffine(this),a=n===vl||n===ml||this!==e.BASE?i.multiplyUnsafe(n):i.multiply(n),o=Ll.fromAffine(t).multiplyUnsafe(r),s=a.add(o);return s.equals(Ll.ZERO)?void 0:s.toAffine()}}],[{key:"fromCompressedHex",value:function(t){var n=32===t.length,r=Zl(n?t:t.subarray(1));if(!oc(r))throw new Error("Point is not on curve");var i=function(e){var t=wl.P,n=BigInt(6),r=BigInt(11),i=BigInt(22),a=BigInt(23),o=BigInt(44),s=BigInt(88),u=e*e*e%t,l=u*u*e%t,c=tc(l,gl)*l%t,f=tc(c,gl)*l%t,h=tc(f,yl)*u%t,d=tc(h,r)*h%t,p=tc(d,i)*d%t,v=tc(p,o)*p%t,m=tc(v,s)*v%t,y=tc(m,o)*p%t,g=tc(y,gl)*l%t,b=tc(g,a)*d%t,w=tc(b,n)*u%t,x=tc(w,yl);if(x*x%t!==e)throw new Error("Cannot find square root");return x}(Cl(r)),a=(i&ml)===ml;n?a&&(i=ec(-i)):1===(1&t[0])!==a&&(i=ec(-i));var o=new e(r,i);return o.assertValidity(),o}},{key:"fromUncompressedHex",value:function(t){var n=new e(Zl(t.subarray(1,Sl+1)),Zl(t.subarray(Sl+1,2*Sl+1)));return n.assertValidity(),n}},{key:"fromHex",value:function(e){var t=Kl(e),n=t.length,r=t[0];if(n===Sl)return this.fromCompressedHex(t);if(n===Tl&&(2===r||3===r))return this.fromCompressedHex(t);if(n===El&&4===r)return this.fromUncompressedHex(t);throw new Error("Point.fromHex: received invalid point. Expected 32-".concat(Tl," compressed bytes or ").concat(El," uncompressed bytes, not ").concat(n))}},{key:"fromPrivateKey",value:function(t){return e.BASE.multiply(uc(t))}},{key:"fromSignature",value:function(t,n,r){var i=cc(n),a=i.r,o=i.s;if(![0,1,2,3].includes(r))throw new Error("Cannot recover: invalid recovery bit");var s=rc(Kl(t)),u=wl.n,l=2===r||3===r?a+u:a,c=nc(l,u),f=ec(-s*c,u),h=ec(o*c,u),d=1&r?"03":"02",p=e.fromHex(d+ql(l)),v=e.BASE.multiplyAndAddUnsafe(p,f,h);if(!v)throw new Error("Cannot recover signature: point at infinify");return v.assertValidity(),v}}]),e}();function Ul(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function zl(e){if(e.length<2||2!==e[0])throw new Error("Invalid signature integer tag: ".concat(Wl(e)));var t=e[1],n=e.subarray(2,t+2);if(!t||n.length!==t)throw new Error("Invalid signature integer: wrong length");if(0===n[0]&&n[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Zl(n),left:e.subarray(t+2)}}Dl.BASE=new Dl(wl.Gx,wl.Gy),Dl.ZERO=new Dl(vl,vl);var Bl=function(){function e(t,n){nt(this,e),this.r=t,this.s=n,this.assertValidity()}return at(e,[{key:"assertValidity",value:function(){var e=this.r,t=this.s;if(!ac(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!ac(t))throw new Error("Invalid Signature: s must be 0 < s < n")}},{key:"hasHighS",value:function(){var e=wl.n>>ml;return this.s>e}},{key:"normalizeS",value:function(){return this.hasHighS()?new e(this.r,ec(-this.s,wl.n)):this}},{key:"toDERRawBytes",value:function(){return Ql(this.toDERHex())}},{key:"toDERHex",value:function(){var e=Ul(Jl(this.s)),t=Ul(Jl(this.r)),n=e.length/2,r=t.length/2,i=Jl(n),a=Jl(r),o=Jl(r+n+4);return"30".concat(o,"02").concat(a).concat(t,"02").concat(i).concat(e)}},{key:"toRawBytes",value:function(){return this.toDERRawBytes()}},{key:"toHex",value:function(){return this.toDERHex()}},{key:"toCompactRawBytes",value:function(){return Ql(this.toCompactHex())}},{key:"toCompactHex",value:function(){return ql(this.r)+ql(this.s)}}],[{key:"fromCompact",value:function(t){var n=t instanceof Uint8Array,r="Signature.fromCompact";if("string"!==typeof t&&!n)throw new TypeError("".concat(r,": Expected string or Uint8Array"));var i=n?Wl(t):t;if(128!==i.length)throw new Error("".concat(r,": Expected 64-byte hex"));return new e(Yl(i.slice(0,64)),Yl(i.slice(64,128)))}},{key:"fromDER",value:function(t){var n=t instanceof Uint8Array;if("string"!==typeof t&&!n)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");var r=function(e){if(e.length<2||48!=e[0])throw new Error("Invalid signature tag: ".concat(Wl(e)));if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");var t=zl(e.subarray(2)),n=t.data,r=zl(t.left),i=r.data,a=r.left;if(a.length)throw new Error("Invalid signature: left bytes after parsing: ".concat(Wl(a)));return{r:n,s:i}}(n?t:Ql(t));return new e(r.r,r.s)}},{key:"fromHex",value:function(e){return this.fromDER(e)}}]),e}();function Fl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.every((function(e){return e instanceof Uint8Array})))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];for(var r=t.reduce((function(e,t){return e+t.length}),0),i=new Uint8Array(r),a=0,o=0;a<t.length;a++){var s=t[a];i.set(s,o),o+=s.length}return i}var Hl=Array.from({length:256},(function(e,t){return t.toString(16).padStart(2,"0")}));function Wl(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");for(var t="",n=0;n<e.length;n++)t+=Hl[e[n]];return t}var Gl,jl,Vl=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function ql(e){if("bigint"!==typeof e)throw new Error("Expected bigint");if(!(vl<=e&&e<Vl))throw new Error("Expected number 0 <= n < 2^256");return e.toString(16).padStart(64,"0")}function Xl(e){var t=Ql(ql(e));if(32!==t.length)throw new Error("Error: expected 32 bytes");return t}function Jl(e){var t=e.toString(16);return 1&t.length?"0".concat(t):t}function Yl(e){if("string"!==typeof e)throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt("0x".concat(e))}function Ql(e){if("string"!==typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);for(var t=new Uint8Array(e.length/2),n=0;n<t.length;n++){var r=2*n,i=e.slice(r,r+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");t[n]=a}return t}function Zl(e){return Yl(Wl(e))}function Kl(e){return e instanceof Uint8Array?Uint8Array.from(e):Ql(e)}function $l(e){if("number"===typeof e&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if("bigint"===typeof e&&ac(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function ec(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wl.P,n=e%t;return n>=vl?n:t+n}function tc(e,t){for(var n=wl.P,r=e;t-- >vl;)r*=r,r%=n;return r}function nc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wl.P;if(e===vl||t<=vl)throw new Error("invert: expected positive integers, got n=".concat(e," mod=").concat(t));for(var n=ec(e,t),r=t,i=vl,a=ml,o=ml,s=vl;n!==vl;){var u=r/n,l=r%n,c=i-o*u,f=a-s*u;r=n,n=l,i=o,a=s,o=c,s=f}if(r!==ml)throw new Error("invert: does not exist");return ec(i,t)}function rc(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(e){var t=8*e.length-8*Ml,n=Zl(e);return t>0?n>>BigInt(t):n}(e);if(t)return n;var r=wl.n;return n>=r?n-r:n}var ic=function(){function e(t,n){if(nt(this,e),this.hashLen=t,this.qByteLen=n,"number"!==typeof t||t<2)throw new Error("hashLen must be a number");if("number"!==typeof n||n<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(t).fill(1),this.k=new Uint8Array(t).fill(0),this.counter=0}return at(e,[{key:"hmac",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return bc.hmacSha256.apply(bc,[this.k].concat(t))}},{key:"hmacSync",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return jl.apply(void 0,[this.k].concat(t))}},{key:"checkSync",value:function(){if("function"!==typeof jl)throw new Rl("hmacSha256Sync needs to be set")}},{key:"incr",value:function(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}},{key:"reseed",value:function(){var e=d(f().mark((function e(){var t,n=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:new Uint8Array,e.next=3,this.hmac(this.v,Uint8Array.from([0]),t);case 3:return this.k=e.sent,e.next=6,this.hmac(this.v);case 6:if(this.v=e.sent,0!==t.length){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,this.hmac(this.v,Uint8Array.from([1]),t);case 11:return this.k=e.sent,e.next=14,this.hmac(this.v);case 14:this.v=e.sent;case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reseedSync",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array;this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),0!==e.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}},{key:"generate",value:function(){var e=d(f().mark((function e(){var t,n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.incr(),t=0,n=[];case 3:if(!(t<this.qByteLen)){e.next=12;break}return e.next=6,this.hmac(this.v);case 6:this.v=e.sent,r=this.v.slice(),n.push(r),t+=this.v.length,e.next=3;break;case 12:return e.abrupt("return",Fl.apply(void 0,n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"generateSync",value:function(){this.checkSync(),this.incr();for(var e=0,t=[];e<this.qByteLen;){this.v=this.hmacSync(this.v);var n=this.v.slice();t.push(n),e+=this.v.length}return Fl.apply(void 0,t)}}]),e}();function ac(e){return vl<e&&e<wl.n}function oc(e){return vl<e&&e<wl.P}function sc(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=wl.n,a=rc(e,!0);if(ac(a)){var o=nc(a,i),s=Dl.BASE.multiply(a),u=ec(s.x,i);if(u!==vl){var l=ec(o*ec(t+n*u,i),i);if(l!==vl){var c=new Bl(u,l),f=(s.x===c.r?0:2)|Number(s.y&ml);return r&&c.hasHighS()&&(c=c.normalizeS(),f^=1),{sig:c,recovery:f}}}}}function uc(e){var t;if("bigint"===typeof e)t=e;else if("number"===typeof e&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if("string"===typeof e){if(e.length!==2*Ml)throw new Error("Expected 32 bytes of private key");t=Yl(e)}else{if(!(e instanceof Uint8Array))throw new TypeError("Expected valid private key");if(e.length!==Ml)throw new Error("Expected 32 bytes of private key");t=Zl(e)}if(!ac(t))throw new Error("Expected private key: 0 < key < n");return t}function lc(e){return e instanceof Dl?(e.assertValidity(),e):Dl.fromHex(e)}function cc(e){if(e instanceof Bl)return e.assertValidity(),e;try{return Bl.fromDER(e)}catch(t){return Bl.fromCompact(e)}}function fc(e){var t=e instanceof Uint8Array,n="string"===typeof e,r=(t||n)&&e.length;return t?r===Tl||r===El:n?r===2*Tl||r===2*El:e instanceof Dl}function hc(e){return Zl(e.length>Sl?e.slice(0,Sl):e)}function dc(e){var t=hc(e),n=ec(t,wl.n);return pc(n<vl?t:n)}function pc(e){return Xl(e)}function vc(e,t,n){if(null==e)throw new Error('sign: expected valid message hash, not "'.concat(e,'"'));var r=Kl(e),i=uc(t),a=[pc(i),dc(r)];if(null!=n){!0===n&&(n=bc.randomBytes(Sl));var o=Kl(n);if(o.length!==Sl)throw new Error("sign: Expected ".concat(Sl," bytes of extra data"));a.push(o)}return{seed:Fl.apply(void 0,a),m:hc(r),d:i}}function mc(e,t){var n=e.sig,r=e.recovery,i=Object.assign({canonical:!0,der:!0},t),a=i.der,o=i.recovered,s=a?n.toDERRawBytes():n.toCompactRawBytes();return o?[s,r]:s}Dl.BASE._setWindowSize(8);var yc={node:pl,web:"object"===typeof self&&"crypto"in self?self.crypto:void 0},gc={},bc={bytesToHex:Wl,hexToBytes:Ql,concatBytes:Fl,mod:ec,invert:nc,isValidPrivateKey:function(e){try{return uc(e),!0}catch(t){return!1}},_bigintTo32Bytes:Xl,_normalizePrivateKey:uc,hashToPrivateKey:function(e){e=Kl(e);var t=Ml+8;if(e.length<t||e.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");return Xl(ec(Zl(e),wl.n-ml)+ml)},randomBytes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(yc.web)return yc.web.getRandomValues(new Uint8Array(e));if(yc.node){var t=yc.node.randomBytes;return Uint8Array.from(t(e))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:function(){return bc.hashToPrivateKey(bc.randomBytes(Ml+8))},precompute:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dl.BASE,n=t===Dl.BASE?t:new Dl(t.x,t.y);return n._setWindowSize(e),n.multiply(gl),n},sha256:function(){var e=d(f().mark((function e(){var t,n,r,i,a,o,s=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=s.length,n=new Array(t),r=0;r<t;r++)n[r]=s[r];if(!yc.web){e.next=8;break}return e.next=4,yc.web.subtle.digest("SHA-256",Fl.apply(void 0,n));case 4:return i=e.sent,e.abrupt("return",new Uint8Array(i));case 8:if(!yc.node){e.next=15;break}return a=yc.node.createHash,o=a("sha256"),n.forEach((function(e){return o.update(e)})),e.abrupt("return",Uint8Array.from(o.digest()));case 15:throw new Error("The environment doesn't have sha256 function");case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),hmacSha256:function(){var e=d(f().mark((function e(t){var n,r,i,a,o,s,u,l,c=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=c.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=c[i];if(!yc.web){e.next=12;break}return e.next=4,yc.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);case 4:return a=e.sent,o=Fl.apply(void 0,r),e.next=8,yc.web.subtle.sign("HMAC",a,o);case 8:return s=e.sent,e.abrupt("return",new Uint8Array(s));case 12:if(!yc.node){e.next=19;break}return u=yc.node.createHmac,l=u("sha256",t),r.forEach((function(e){return l.update(e)})),e.abrupt("return",Uint8Array.from(l.digest()));case 19:throw new Error("The environment doesn't have hmac-sha256 function");case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:function(){var e=d(f().mark((function e(t){var n,r,i,a,o,s=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(n=gc[t])){e.next=7;break}return e.next=4,bc.sha256(Uint8Array.from(t,(function(e){return e.charCodeAt(0)})));case 4:r=e.sent,n=Fl(r,r),gc[t]=n;case 7:for(i=s.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=s[o];return e.abrupt("return",bc.sha256.apply(bc,[n].concat(a)));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),taggedHashSync:function(e){if("function"!==typeof Gl)throw new Rl("sha256Sync is undefined, you need to set it");var t=gc[e];if(void 0===t){var n=Gl(Uint8Array.from(e,(function(e){return e.charCodeAt(0)})));t=Fl(n,n),gc[e]=t}for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return Gl.apply(void 0,[t].concat(i))},_JacobianPoint:Ll};Object.defineProperties(bc,{sha256Sync:{configurable:!1,get:function(){return Gl},set:function(e){Gl||(Gl=e)}},hmacSha256Sync:{configurable:!1,get:function(){return jl},set:function(e){jl||(jl=e)}}});var wc=function(e){ct(n,e);var t=dt(n);function n(e,r){var i;nt(this,n),(i=t.call(this)).finished=!1,i.destroyed=!1,On.hash(e);var a=Gn(r);if(i.iHash=e.create(),!(i.iHash instanceof jn))throw new TypeError("Expected instance of class which extends utils.Hash");var o=i.blockLen=i.iHash.blockLen;i.outputLen=i.iHash.outputLen;var s=new Uint8Array(o);s.set(a.length>i.iHash.blockLen?e.create().update(a).digest():a);for(var u=0;u<s.length;u++)s[u]^=54;i.iHash.update(s),i.oHash=e.create();for(var l=0;l<s.length;l++)s[l]^=106;return i.oHash.update(s),s.fill(0),i}return at(n,[{key:"update",value:function(e){return On.exists(this),this.iHash.update(e),this}},{key:"digestInto",value:function(e){On.exists(this),On.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}},{key:"digest",value:function(){var e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}},{key:"_cloneInto",value:function(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));var t=this.oHash,n=this.iHash,r=this.finished,i=this.destroyed,a=this.blockLen,o=this.outputLen;return e.finished=r,e.destroyed=i,e.blockLen=a,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}},{key:"destroy",value:function(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}]),n}(jn),xc=function(e,t,n){return new wc(e,t).update(n).digest()};xc.create=function(e,t){return new wc(e,t)};var _c=function(e){ct(n,e);var t=dt(n);function n(e,r,i,a){var o;return nt(this,n),(o=t.call(this)).blockLen=e,o.outputLen=r,o.padOffset=i,o.isLE=a,o.finished=!1,o.length=0,o.pos=0,o.destroyed=!1,o.buffer=new Uint8Array(e),o.view=Hn(o.buffer),o}return at(n,[{key:"update",value:function(e){On.exists(this);for(var t=this.view,n=this.buffer,r=this.blockLen,i=(e=Gn(e)).length,a=0;a<i;){var o=Math.min(r-this.pos,i-a);if(o!==r)n.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===r&&(this.process(t,0),this.pos=0);else for(var s=Hn(e);r<=i-a;a+=r)this.process(s,a)}return this.length+=e.length,this.roundClean(),this}},{key:"digestInto",value:function(e){On.exists(this),On.output(e,this),this.finished=!0;var t=this.buffer,n=this.view,r=this.blockLen,i=this.isLE,a=this.pos;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>r-a&&(this.process(n,0),a=0);for(var o=a;o<r;o++)t[o]=0;!function(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);var i=BigInt(32),a=BigInt(4294967295),o=Number(n>>i&a),s=Number(n&a),u=r?4:0,l=r?0:4;e.setUint32(t+u,o,r),e.setUint32(t+l,s,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);var s=Hn(e);this.get().forEach((function(e,t){return s.setUint32(4*t,e,i)}))}},{key:"digest",value:function(){var e=this.buffer,t=this.outputLen;this.digestInto(e);var n=e.slice(0,t);return this.destroy(),n}},{key:"_cloneInto",value:function(e){var t;e||(e=new this.constructor),(t=e).set.apply(t,qe(this.get()));var n=this.blockLen,r=this.buffer,i=this.length,a=this.finished,o=this.destroyed,s=this.pos;return e.length=i,e.pos=s,e.finished=a,e.destroyed=o,i%n&&e.buffer.set(r),e}}]),n}(jn),kc=function(e,t,n){return e&t^~e&n},Sc=function(e,t,n){return e&t^e&n^t&n},Mc=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ac=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Tc=new Uint32Array(64),Ec=function(e){ct(n,e);var t=dt(n);function n(){var e;return nt(this,n),(e=t.call(this,64,32,8,!1)).A=0|Ac[0],e.B=0|Ac[1],e.C=0|Ac[2],e.D=0|Ac[3],e.E=0|Ac[4],e.F=0|Ac[5],e.G=0|Ac[6],e.H=0|Ac[7],e}return at(n,[{key:"get",value:function(){return[this.A,this.B,this.C,this.D,this.E,this.F,this.G,this.H]}},{key:"set",value:function(e,t,n,r,i,a,o,s){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|a,this.G=0|o,this.H=0|s}},{key:"process",value:function(e,t){for(var n=0;n<16;n++,t+=4)Tc[n]=e.getUint32(t,!1);for(var r=16;r<64;r++){var i=Tc[r-15],a=Tc[r-2],o=Wn(i,7)^Wn(i,18)^i>>>3,s=Wn(a,17)^Wn(a,19)^a>>>10;Tc[r]=s+Tc[r-7]+o+Tc[r-16]|0}for(var u=this.A,l=this.B,c=this.C,f=this.D,h=this.E,d=this.F,p=this.G,v=this.H,m=0;m<64;m++){var y=v+(Wn(h,6)^Wn(h,11)^Wn(h,25))+kc(h,d,p)+Mc[m]+Tc[m]|0,g=(Wn(u,2)^Wn(u,13)^Wn(u,22))+Sc(u,l,c)|0;v=p,p=d,d=h,h=f+y|0,f=c,c=l,l=u,u=y+g|0}u=u+this.A|0,l=l+this.B|0,c=c+this.C|0,f=f+this.D|0,h=h+this.E|0,d=d+this.F|0,p=p+this.G|0,v=v+this.H|0,this.set(u,l,c,f,h,d,p,v)}},{key:"roundClean",value:function(){Tc.fill(0)}},{key:"destroy",value:function(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}]),n}(_c),Cc=Vn((function(){return new Ec})),Pc=Fn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((function(e){return BigInt(e)}))),Rc=l(Pc,2),Ic=Rc[0],Lc=Rc[1],Nc=new Uint32Array(80),Oc=new Uint32Array(80),Dc=function(e){ct(n,e);var t=dt(n);function n(){var e;return nt(this,n),(e=t.call(this,128,64,16,!1)).Ah=1779033703,e.Al=-205731576,e.Bh=-1150833019,e.Bl=-2067093701,e.Ch=1013904242,e.Cl=-23791573,e.Dh=-1521486534,e.Dl=1595750129,e.Eh=1359893119,e.El=-1377402159,e.Fh=-1694144372,e.Fl=725511199,e.Gh=528734635,e.Gl=-79577749,e.Hh=1541459225,e.Hl=327033209,e}return at(n,[{key:"get",value:function(){return[this.Ah,this.Al,this.Bh,this.Bl,this.Ch,this.Cl,this.Dh,this.Dl,this.Eh,this.El,this.Fh,this.Fl,this.Gh,this.Gl,this.Hh,this.Hl]}},{key:"set",value:function(e,t,n,r,i,a,o,s,u,l,c,f,h,d,p,v){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|a,this.Dh=0|o,this.Dl=0|s,this.Eh=0|u,this.El=0|l,this.Fh=0|c,this.Fl=0|f,this.Gh=0|h,this.Gl=0|d,this.Hh=0|p,this.Hl=0|v}},{key:"process",value:function(e,t){for(var n=0;n<16;n++,t+=4)Nc[n]=e.getUint32(t),Oc[n]=e.getUint32(t+=4);for(var r=16;r<80;r++){var i=0|Nc[r-15],a=0|Oc[r-15],o=Fn.rotrSH(i,a,1)^Fn.rotrSH(i,a,8)^Fn.shrSH(i,a,7),s=Fn.rotrSL(i,a,1)^Fn.rotrSL(i,a,8)^Fn.shrSL(i,a,7),u=0|Nc[r-2],l=0|Oc[r-2],c=Fn.rotrSH(u,l,19)^Fn.rotrBH(u,l,61)^Fn.shrSH(u,l,6),f=Fn.rotrSL(u,l,19)^Fn.rotrBL(u,l,61)^Fn.shrSL(u,l,6),h=Fn.add4L(s,f,Oc[r-7],Oc[r-16]),d=Fn.add4H(h,o,c,Nc[r-7],Nc[r-16]);Nc[r]=0|d,Oc[r]=0|h}for(var p=this.Ah,v=this.Al,m=this.Bh,y=this.Bl,g=this.Ch,b=this.Cl,w=this.Dh,x=this.Dl,_=this.Eh,k=this.El,S=this.Fh,M=this.Fl,A=this.Gh,T=this.Gl,E=this.Hh,C=this.Hl,P=0;P<80;P++){var R=Fn.rotrSH(_,k,14)^Fn.rotrSH(_,k,18)^Fn.rotrBH(_,k,41),I=Fn.rotrSL(_,k,14)^Fn.rotrSL(_,k,18)^Fn.rotrBL(_,k,41),L=_&S^~_&A,N=k&M^~k&T,O=Fn.add5L(C,I,N,Lc[P],Oc[P]),D=Fn.add5H(O,E,R,L,Ic[P],Nc[P]),U=0|O,z=Fn.rotrSH(p,v,28)^Fn.rotrBH(p,v,34)^Fn.rotrBH(p,v,39),B=Fn.rotrSL(p,v,28)^Fn.rotrBL(p,v,34)^Fn.rotrBL(p,v,39),F=p&m^p&g^m&g,H=v&y^v&b^y&b;E=0|A,C=0|T,A=0|S,T=0|M,S=0|_,M=0|k;var W=Fn.add(0|w,0|x,0|D,0|U);_=W.h,k=W.l,w=0|g,x=0|b,g=0|m,b=0|y,m=0|p,y=0|v;var G=Fn.add3L(U,B,H);p=Fn.add3H(G,D,z,F),v=0|G}var j=Fn.add(0|this.Ah,0|this.Al,0|p,0|v);p=j.h,v=j.l;var V=Fn.add(0|this.Bh,0|this.Bl,0|m,0|y);m=V.h,y=V.l;var q=Fn.add(0|this.Ch,0|this.Cl,0|g,0|b);g=q.h,b=q.l;var X=Fn.add(0|this.Dh,0|this.Dl,0|w,0|x);w=X.h,x=X.l;var J=Fn.add(0|this.Eh,0|this.El,0|_,0|k);_=J.h,k=J.l;var Y=Fn.add(0|this.Fh,0|this.Fl,0|S,0|M);S=Y.h,M=Y.l;var Q=Fn.add(0|this.Gh,0|this.Gl,0|A,0|T);A=Q.h,T=Q.l;var Z=Fn.add(0|this.Hh,0|this.Hl,0|E,0|C);E=Z.h,C=Z.l,this.set(p,v,m,y,g,b,w,x,_,k,S,M,A,T,E,C)}},{key:"roundClean",value:function(){Nc.fill(0),Oc.fill(0)}},{key:"destroy",value:function(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}]),n}(_c),Uc=function(e){ct(n,e);var t=dt(n);function n(){var e;return nt(this,n),(e=t.call(this)).Ah=573645204,e.Al=-64227540,e.Bh=-1621794909,e.Bl=-934517566,e.Ch=596883563,e.Cl=1867755857,e.Dh=-1774684391,e.Dl=1497426621,e.Eh=-1775747358,e.El=-1467023389,e.Fh=-1101128155,e.Fl=1401305490,e.Gh=721525244,e.Gl=746961066,e.Hh=246885852,e.Hl=-2117784414,e.outputLen=32,e}return at(n)}(Dc),zc=function(e){ct(n,e);var t=dt(n);function n(){var e;return nt(this,n),(e=t.call(this)).Ah=-876896931,e.Al=-1056596264,e.Bh=1654270250,e.Bl=914150663,e.Ch=-1856437926,e.Cl=812702999,e.Dh=355462360,e.Dl=-150054599,e.Eh=1731405415,e.El=-4191439,e.Fh=-1900787065,e.Fl=1750603025,e.Gh=-619958771,e.Gl=1694076839,e.Hh=1203062813,e.Hl=-1090891868,e.outputLen=48,e}return at(n)}(Dc),Bc=Vn((function(){return new Dc}));Vn((function(){return new Uc})),Vn((function(){return new zc}));var Fc=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global;throw new Error("unable to locate global object")}();Fc.crypto||Fc.msCrypto;var Hc=!1,Wc=function(e,t,n){return function(e,t){var n={sha256:Cc,sha512:Bc}[e];return Ct(null!=n,"invalid hmac algorithm","algorithm",e),xc.create(n,t)}(e,t).update(n).digest()},Gc=Wc;function jc(e,t,n){var r=Wt(t,"key"),i=Wt(n,"data");return qt(Gc(e,r,i))}jc._=Wc,jc.lock=function(){Hc=!0},jc.register=function(e){if(Hc)throw new Error("computeHmac is locked");Gc=e},Object.freeze(jc),bc.hmacSha256Sync=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Wt(jc("sha256",e,Xt(n)))};var Vc=new WeakMap,qc=function(){function e(t){nt(this,e),vt(this,Vc,{writable:!0,value:void 0}),Ct(32===Jt(t),"invalid private key","privateKey","[REDACTED]"),gt(this,Vc,qt(t))}return at(e,[{key:"privateKey",get:function(){return yt(this,Vc)}},{key:"publicKey",get:function(){return e.computePublicKey(yt(this,Vc))}},{key:"compressedPublicKey",get:function(){return e.computePublicKey(yt(this,Vc),!0)}},{key:"sign",value:function(e){Ct(32===Jt(e),"invalid digest length","digest",e);var t=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=vc(e,t,r.extraEntropy),a=i.seed,o=i.m,s=i.d,u=new ic(Al,Ml);for(u.reseedSync(a);!(n=sc(u.generateSync(),o,s,r.canonical));)u.reseedSync();return mc(n,r)}(Gt(e),Gt(yt(this,Vc)),{recovered:!0,canonical:!0}),n=l(t,2),r=n[0],i=n[1],a=Bl.fromHex(r);return hl.from({r:cn("0x"+a.r.toString(16),32),s:cn("0x"+a.s.toString(16),32),v:i?28:27})}},{key:"computeSharedSecret",value:function(t){var n=e.computePublicKey(t);return console.log(n),qt(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(fc(e))throw new TypeError("getSharedSecret: first arg must be private key");if(!fc(t))throw new TypeError("getSharedSecret: second arg must be public key");var r=lc(t);return r.assertValidity(),r.multiply(uc(e)).toRawBytes(n)}(Gt(yt(this,Vc)),Wt(n)))}}],[{key:"computePublicKey",value:function(e,t){var n=Wt(e,"key");if(32===n.length){var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Dl.fromPrivateKey(e).toRawBytes(t)}(n,!!t);return qt(r)}if(64===n.length){var i=new Uint8Array(65);i[0]=4,i.set(n,1),n=i}return qt(Dl.fromHex(n).toRawBytes(t))}},{key:"recoverPublicKey",value:function(e,t){Ct(32===Jt(e),"invalid digest length","digest",e);var n=hl.from(t),r=Bl.fromCompact(Gt(Xt([n.r,n.s]))).toDERRawBytes(),i=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Dl.fromSignature(e,t,n).toRawBytes(r)}(Gt(e),r,n.yParity);return Ct(null!=i,"invalid signautre for digest","signature",t),qt(i)}},{key:"addPoints",value:function(t,n,r){var i=Dl.fromHex(e.computePublicKey(t).substring(2)),a=Dl.fromHex(e.computePublicKey(n).substring(2));return"0x"+i.add(a).toHex(!!r)}}]),e}();function Xc(e){for(var t=e.toString(16);t.length<2;)t="0"+t;return"0x"+t}function Jc(e,t,n){for(var r=0,i=0;i<n;i++)r=256*r+e[t+i];return r}function Yc(e,t,n,r){for(var i=[];n<t+1+r;){var a=Qc(e,n);i.push(a.result),Et((n+=a.consumed)<=t+1+r,"child data too short","BUFFER_OVERRUN",{buffer:e,length:r,offset:t})}return{consumed:1+r,result:i}}function Qc(e,t){Et(0!==e.length,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});var n=function(t){Et(t<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:t})};if(e[t]>=248){var r=e[t]-247;n(t+1+r);var i=Jc(e,t+1,r);return n(t+1+r+i),Yc(e,t,t+1+r,r+i)}if(e[t]>=192){var a=e[t]-192;return n(t+1+a),Yc(e,t,t+1,a)}if(e[t]>=184){var o=e[t]-183;n(t+1+o);var s=Jc(e,t+1,o);return n(t+1+o+s),{consumed:1+o+s,result:qt(e.slice(t+1+o,t+1+o+s))}}if(e[t]>=128){var u=e[t]-128;return n(t+1+u),{consumed:1+u,result:qt(e.slice(t+1,t+1+u))}}return{consumed:1,result:Xc(e[t])}}function Zc(e){var t=Wt(e,"data"),n=Qc(t,0);return Ct(n.consumed===t.length,"unexpected junk after rlp payload","data",e),n.result}function Kc(e){for(var t=[];e;)t.unshift(255&e),e>>=8;return t}function $c(e){if(Array.isArray(e)){var t=[];if(e.forEach((function(e){t=t.concat($c(e))})),t.length<=55)return t.unshift(192+t.length),t;var n=Kc(t.length);return n.unshift(247+n.length),n.concat(t)}var r=Array.prototype.slice.call(Wt(e,"object"));if(1===r.length&&r[0]<=127)return r;if(r.length<=55)return r.unshift(128+r.length),r;var i=Kc(r.length);return i.unshift(183+i.length),i.concat(r)}var ef="0123456789abcdef";function tf(e){var t,n="0x",r=Lt($c(e));try{for(r.s();!(t=r.n()).done;){var i=t.value;n+=ef[i>>4],n+=ef[15&i]}}catch(AG){r.e(AG)}finally{r.f()}return n}function nf(e,t){return Pr(wr("0x"+("string"===typeof(n=qc.recoverPublicKey(e,t))?qc.computePublicKey(n,!1):n.publicKey).substring(4)).substring(26));var n}var rf=BigInt(0),af=BigInt(2),of=BigInt(27),sf=BigInt(28),uf=BigInt(35),lf=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function cf(e){return"0x"===e?null:Pr(e)}function ff(e,t){try{return Ia(e)}catch(n){Ct(!1,n.message,t,e)}}function hf(e,t){return"0x"===e?0:ln(e,t)}function df(e,t){if("0x"===e)return rf;var n=an(e,t);return Ct(n<=lf,"value exceeds uint size",t,n),n}function pf(e,t){var n=an(e,"value"),r=fn(n);return Ct(r.length<=32,"value too large","tx.".concat(t),n),r}function vf(e){return Ia(e).map((function(e){return[e.address,e.storageKeys]}))}function mf(e,t){var n=[pf(e.nonce||0,"nonce"),pf(e.gasPrice||0,"gasPrice"),pf(e.gasLimit||0,"gasLimit"),null!=e.to?Pr(e.to):"0x",pf(e.value||0,"value"),e.data||"0x"],r=rf;if(e.chainId!=rf)r=an(e.chainId,"tx.chainId"),Ct(!t||null==t.networkV||t.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",t);else if(e.signature){var i=e.signature.legacyChainId;null!=i&&(r=i)}if(!t)return r!==rf&&(n.push(fn(r)),n.push("0x"),n.push("0x")),tf(n);var a=BigInt(27+t.yParity);return r!==rf?a=hl.getChainIdV(r,t.v):BigInt(t.v)!==a&&Ct(!1,"tx.chainId/sig.v mismatch","sig",t),n.push(fn(a)),n.push(fn(t.r)),n.push(fn(t.s)),tf(n)}function yf(e,t,n){var r;try{if(0!==(r=hf(t[0],"yParity"))&&1!==r)throw new Error("bad yParity")}catch(s){Ct(!1,"invalid yParity","yParity",t[0])}var i=Zt(t[1],32),a=Zt(t[2],32),o=hl.from({r:i,s:a,yParity:r});e.signature=o}function gf(e,t){var n=[pf(e.chainId||0,"chainId"),pf(e.nonce||0,"nonce"),pf(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),pf(e.maxFeePerGas||0,"maxFeePerGas"),pf(e.gasLimit||0,"gasLimit"),null!=e.to?Pr(e.to):"0x",pf(e.value||0,"value"),e.data||"0x",vf(e.accessList||[])];return t&&(n.push(pf(t.yParity,"yParity")),n.push(fn(t.r)),n.push(fn(t.s))),Xt(["0x02",tf(n)])}function bf(e,t){var n=[pf(e.chainId||0,"chainId"),pf(e.nonce||0,"nonce"),pf(e.gasPrice||0,"gasPrice"),pf(e.gasLimit||0,"gasLimit"),null!=e.to?Pr(e.to):"0x",pf(e.value||0,"value"),e.data||"0x",vf(e.accessList||[])];return t&&(n.push(pf(t.yParity,"recoveryParam")),n.push(fn(t.r)),n.push(fn(t.s))),Xt(["0x01",tf(n)])}var wf,xf,_f=new WeakMap,kf=new WeakMap,Sf=new WeakMap,Mf=new WeakMap,Af=new WeakMap,Tf=new WeakMap,Ef=new WeakMap,Cf=new WeakMap,Pf=new WeakMap,Rf=new WeakMap,If=new WeakMap,Lf=new WeakMap,Nf=function(){function e(){nt(this,e),vt(this,_f,{writable:!0,value:void 0}),vt(this,kf,{writable:!0,value:void 0}),vt(this,Sf,{writable:!0,value:void 0}),vt(this,Mf,{writable:!0,value:void 0}),vt(this,Af,{writable:!0,value:void 0}),vt(this,Tf,{writable:!0,value:void 0}),vt(this,Ef,{writable:!0,value:void 0}),vt(this,Cf,{writable:!0,value:void 0}),vt(this,Pf,{writable:!0,value:void 0}),vt(this,Rf,{writable:!0,value:void 0}),vt(this,If,{writable:!0,value:void 0}),vt(this,Lf,{writable:!0,value:void 0}),gt(this,_f,null),gt(this,kf,null),gt(this,Mf,0),gt(this,Af,BigInt(0)),gt(this,Tf,null),gt(this,Ef,null),gt(this,Cf,null),gt(this,Sf,"0x"),gt(this,Pf,BigInt(0)),gt(this,Rf,BigInt(0)),gt(this,If,null),gt(this,Lf,null)}return at(e,[{key:"type",get:function(){return yt(this,_f)},set:function(e){switch(e){case null:gt(this,_f,null);break;case 0:case"legacy":gt(this,_f,0);break;case 1:case"berlin":case"eip-2930":gt(this,_f,1);break;case 2:case"london":case"eip-1559":gt(this,_f,2);break;default:Ct(!1,"unsupported transaction type","type",e)}}},{key:"typeName",get:function(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559"}return null}},{key:"to",get:function(){return yt(this,kf)},set:function(e){gt(this,kf,null==e?null:Pr(e))}},{key:"nonce",get:function(){return yt(this,Mf)},set:function(e){gt(this,Mf,ln(e,"value"))}},{key:"gasLimit",get:function(){return yt(this,Af)},set:function(e){gt(this,Af,an(e))}},{key:"gasPrice",get:function(){var e=yt(this,Tf);return null!=e||0!==this.type&&1!==this.type?e:rf},set:function(e){gt(this,Tf,null==e?null:an(e,"gasPrice"))}},{key:"maxPriorityFeePerGas",get:function(){var e=yt(this,Ef);return null==e?2===this.type?rf:null:e},set:function(e){gt(this,Ef,null==e?null:an(e,"maxPriorityFeePerGas"))}},{key:"maxFeePerGas",get:function(){var e=yt(this,Cf);return null==e?2===this.type?rf:null:e},set:function(e){gt(this,Cf,null==e?null:an(e,"maxFeePerGas"))}},{key:"data",get:function(){return yt(this,Sf)},set:function(e){gt(this,Sf,qt(e))}},{key:"value",get:function(){return yt(this,Pf)},set:function(e){gt(this,Pf,an(e,"value"))}},{key:"chainId",get:function(){return yt(this,Rf)},set:function(e){gt(this,Rf,an(e))}},{key:"signature",get:function(){return yt(this,If)||null},set:function(e){gt(this,If,null==e?null:hl.from(e))}},{key:"accessList",get:function(){var e=yt(this,Lf)||null;return null==e?1===this.type||2===this.type?[]:null:e},set:function(e){gt(this,Lf,null==e?null:Ia(e))}},{key:"hash",get:function(){return null==this.signature?null:wr(this.serialized)}},{key:"unsignedHash",get:function(){return wr(this.unsignedSerialized)}},{key:"from",get:function(){return null==this.signature?null:nf(this.unsignedHash,this.signature)}},{key:"fromPublicKey",get:function(){return null==this.signature?null:qc.recoverPublicKey(this.unsignedHash,this.signature)}},{key:"isSigned",value:function(){return null!=this.signature}},{key:"serialized",get:function(){switch(Et(null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),this.inferType()){case 0:return mf(this,this.signature);case 1:return bf(this,this.signature);case 2:return gf(this,this.signature)}Et(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}},{key:"unsignedSerialized",get:function(){switch(this.inferType()){case 0:return mf(this);case 1:return bf(this);case 2:return gf(this)}Et(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".unsignedSerialized"})}},{key:"inferType",value:function(){return this.inferTypes().pop()}},{key:"inferTypes",value:function(){var e=null!=this.gasPrice,t=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,n=null!=this.accessList;null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&Et(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),Et(!t||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),Et(0!==this.type||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});var r=[];return null!=this.type?r.push(this.type):t?r.push(2):e?(r.push(1),n||r.push(0)):n?(r.push(1),r.push(2)):(r.push(0),r.push(1),r.push(2)),r.sort(),r}},{key:"isLegacy",value:function(){return 0===this.type}},{key:"isBerlin",value:function(){return 1===this.type}},{key:"isLondon",value:function(){return 2===this.type}},{key:"clone",value:function(){return e.from(this)}},{key:"toJSON",value:function(){var e=function(e){return null==e?null:e.toString()};return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}}],[{key:"from",value:function(t){if(null==t)return new e;if("string"===typeof t){var n=Wt(t);if(n[0]>=127)return e.from(function(e){var t=Zc(e);Ct(Array.isArray(t)&&(9===t.length||6===t.length),"invalid field count for legacy transaction","data",e);var n={type:0,nonce:hf(t[0],"nonce"),gasPrice:df(t[1],"gasPrice"),gasLimit:df(t[2],"gasLimit"),to:cf(t[3]),value:df(t[4],"value"),data:qt(t[5]),chainId:rf};if(6===t.length)return n;var r=df(t[6],"v"),i=df(t[7],"r"),a=df(t[8],"s");if(i===rf&&a===rf)n.chainId=r;else{var o=(r-uf)/af;o<rf&&(o=rf),n.chainId=o,Ct(o!==rf||r===of||r===sf,"non-canonical legacy v","v",t[6]),n.signature=hl.from({r:Zt(t[7],32),s:Zt(t[8],32),v:r}),n.hash=wr(e)}return n}(n));switch(n[0]){case 1:return e.from(function(e){var t=Zc(Wt(e).slice(1));Ct(Array.isArray(t)&&(8===t.length||11===t.length),"invalid field count for transaction type: 1","data",qt(e));var n={type:1,chainId:df(t[0],"chainId"),nonce:hf(t[1],"nonce"),gasPrice:df(t[2],"gasPrice"),gasLimit:df(t[3],"gasLimit"),to:cf(t[4]),value:df(t[5],"value"),data:qt(t[6]),accessList:ff(t[7],"accessList")};return 8===t.length||(n.hash=wr(e),yf(n,t.slice(8))),n}(n));case 2:return e.from(function(e){var t=Zc(Wt(e).slice(1));Ct(Array.isArray(t)&&(9===t.length||12===t.length),"invalid field count for transaction type: 2","data",qt(e));var n=df(t[2],"maxPriorityFeePerGas"),r=df(t[3],"maxFeePerGas"),i={type:2,chainId:df(t[0],"chainId"),nonce:hf(t[1],"nonce"),maxPriorityFeePerGas:n,maxFeePerGas:r,gasPrice:null,gasLimit:df(t[4],"gasLimit"),to:cf(t[5]),value:df(t[6],"value"),data:qt(t[7]),accessList:ff(t[8],"accessList")};return 9===t.length||(i.hash=wr(e),yf(i,t.slice(9))),i}(n))}Et(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}var r=new e;return null!=t.type&&(r.type=t.type),null!=t.to&&(r.to=t.to),null!=t.nonce&&(r.nonce=t.nonce),null!=t.gasLimit&&(r.gasLimit=t.gasLimit),null!=t.gasPrice&&(r.gasPrice=t.gasPrice),null!=t.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=t.maxPriorityFeePerGas),null!=t.maxFeePerGas&&(r.maxFeePerGas=t.maxFeePerGas),null!=t.data&&(r.data=t.data),null!=t.value&&(r.value=t.value),null!=t.chainId&&(r.chainId=t.chainId),null!=t.signature&&(r.signature=hl.from(t.signature)),null!=t.accessList&&(r.accessList=t.accessList),null!=t.hash&&(Ct(r.isSigned(),"unsigned transaction cannot define hash","tx",t),Ct(r.hash===t.hash,"hash mismatch","tx",t)),null!=t.from&&(Ct(r.isSigned(),"unsigned transaction cannot define from","tx",t),Ct(r.from.toLowerCase()===(t.from||"").toLowerCase(),"from mismatch","tx",t)),r}}]),e}();function Of(e){e=atob(e);for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return Wt(t)}function Df(){return Df=d(f().mark((function e(t,n){var r,i,a,o,s,u,l,c;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Et("http"===(r=t.url.split(":")[0].toLowerCase())||"https"===r,"unsupported protocol ".concat(r),"UNSUPPORTED_OPERATION",{info:{protocol:r},operation:"request"}),Et("https"===r||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"}),i=void 0,n&&(a=new AbortController,i=a.signal,n.addListener((function(){a.abort()}))),o={method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:i},e.next=8,fetch(t.url,o);case 8:return s=e.sent,u={},s.headers.forEach((function(e,t){u[t.toLowerCase()]=e})),e.next=13,s.arrayBuffer();case 13:return l=e.sent,c=null==l?null:new Uint8Array(l),e.abrupt("return",{statusCode:s.status,statusMessage:s.statusText,headers:u,body:c});case 16:case"end":return e.stop()}}),e)}))),Df.apply(this,arguments)}var Uf=function(e,t){return Df.apply(this,arguments)},zf=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),Bf=new RegExp("^ipfs://(ipfs/)?(.*)$","i"),Ff=!1;function Hf(e,t){return Wf.apply(this,arguments)}function Wf(){return(Wf=d(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=t.match(zf)){e.next=4;break}throw new Error("invalid data");case 4:return e.abrupt("return",new wh(200,"OK",{"content-type":r[1]||"text/plain"},r[2]?Of(r[3]):ti(r[3].replace(/%([0-9a-f][0-9a-f])/gi,(function(e,t){return String.fromCharCode(parseInt(t,16))})))));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",new wh(599,"BAD REQUEST (invalid data: URI)",{},null,new fh(t)));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Gf(e){function t(){return t=d(f().mark((function t(n,r){var i;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i=n.match(Bf)){t.next=4;break}throw new Error("invalid link");case 4:return t.abrupt("return",new fh("".concat(e).concat(i[2])));case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",new wh(599,"BAD REQUEST (invalid IPFS URI)",{},null,new fh(n)));case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),t.apply(this,arguments)}return function(e,n){return t.apply(this,arguments)}}var jf={data:Hf,ipfs:Gf("https://gateway.ipfs.io/ipfs/")},Vf=new WeakMap,qf=new WeakMap,Xf=new WeakMap,Jf=function(){function e(t){var n=this;nt(this,e),vt(this,qf,{writable:!0,value:void 0}),vt(this,Xf,{writable:!0,value:void 0}),gt(this,qf,[]),gt(this,Xf,!1),Vf.set(t,(function(){if(!yt(n,Xf)){gt(n,Xf,!0);var e,t=Lt(yt(n,qf));try{var r=function(){var t=e.value;setTimeout((function(){t()}),0)};for(t.s();!(e=t.n()).done;)r()}catch(AG){t.e(AG)}finally{t.f()}gt(n,qf,[])}}))}return at(e,[{key:"addListener",value:function(e){Et(!yt(this,Xf),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),yt(this,qf).push(e)}},{key:"cancelled",get:function(){return yt(this,Xf)}},{key:"checkSignal",value:function(){Et(!this.cancelled,"cancelled","CANCELLED",{})}}]),e}();function Yf(e){if(null==e)throw new Error("missing signal; should not happen");return e.checkSignal(),e}var Qf=new WeakMap,Zf=new WeakMap,Kf=new WeakMap,$f=new WeakMap,eh=new WeakMap,th=new WeakMap,nh=new WeakMap,rh=new WeakMap,ih=new WeakMap,ah=new WeakMap,oh=new WeakMap,sh=new WeakMap,uh=new WeakMap,lh=new WeakMap,ch=new WeakSet;wf=Symbol.iterator;var fh=function(){function e(t){nt(this,e),Nt(this,ch),vt(this,Qf,{writable:!0,value:void 0}),vt(this,Zf,{writable:!0,value:void 0}),vt(this,Kf,{writable:!0,value:void 0}),vt(this,$f,{writable:!0,value:void 0}),vt(this,eh,{writable:!0,value:void 0}),vt(this,th,{writable:!0,value:void 0}),vt(this,nh,{writable:!0,value:void 0}),vt(this,rh,{writable:!0,value:void 0}),vt(this,ih,{writable:!0,value:void 0}),vt(this,ah,{writable:!0,value:void 0}),vt(this,oh,{writable:!0,value:void 0}),vt(this,sh,{writable:!0,value:void 0}),vt(this,uh,{writable:!0,value:void 0}),vt(this,lh,{writable:!0,value:void 0}),gt(this,th,String(t)),gt(this,Qf,!1),gt(this,Zf,!0),gt(this,Kf,{}),gt(this,$f,""),gt(this,eh,3e5),gt(this,lh,{slotInterval:250,maxAttempts:12})}return at(e,[{key:"url",get:function(){return yt(this,th)},set:function(e){gt(this,th,String(e))}},{key:"body",get:function(){return null==yt(this,nh)?null:new Uint8Array(yt(this,nh))},set:function(e){if(null==e)gt(this,nh,void 0),gt(this,rh,void 0);else if("string"===typeof e)gt(this,nh,ti(e)),gt(this,rh,"text/plain");else if(e instanceof Uint8Array)gt(this,nh,e),gt(this,rh,"application/octet-stream");else{if("object"!==typeof e)throw new Error("invalid body");gt(this,nh,ti(JSON.stringify(e))),gt(this,rh,"application/json")}}},{key:"hasBody",value:function(){return null!=yt(this,nh)}},{key:"method",get:function(){return yt(this,$f)?yt(this,$f):this.hasBody()?"POST":"GET"},set:function(e){null==e&&(e=""),gt(this,$f,String(e).toUpperCase())}},{key:"headers",get:function(){var e=Object.assign({},yt(this,Kf));return yt(this,ih)&&(e.authorization="Basic ".concat(function(e){for(var t=Wt(e),n="",r=0;r<t.length;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(ti(yt(this,ih))))),this.allowGzip&&(e["accept-encoding"]="gzip"),null==e["content-type"]&&yt(this,rh)&&(e["content-type"]=yt(this,rh)),this.body&&(e["content-length"]=String(this.body.length)),e}},{key:"getHeader",value:function(e){return this.headers[e.toLowerCase()]}},{key:"setHeader",value:function(e,t){yt(this,Kf)[String(e).toLowerCase()]=String(t)}},{key:"clearHeaders",value:function(){gt(this,Kf,{})}},{key:wf,value:function(){var e=this.headers,t=Object.keys(e),n=0;return{next:function(){if(n<t.length){var r=t[n++];return{value:[r,e[r]],done:!1}}return{value:void 0,done:!0}}}}},{key:"credentials",get:function(){return yt(this,ih)||null}},{key:"setCredentials",value:function(e,t){Ct(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),gt(this,ih,"".concat(e,":").concat(t))}},{key:"allowGzip",get:function(){return yt(this,Zf)}},{key:"allowGzip",set:function(e){gt(this,Zf,!!e)}},{key:"allowInsecureAuthentication",get:function(){return!!yt(this,Qf)}},{key:"allowInsecureAuthentication",set:function(e){gt(this,Qf,!!e)}},{key:"timeout",get:function(){return yt(this,eh)}},{key:"timeout",set:function(e){Ct(e>=0,"timeout must be non-zero","timeout",e),gt(this,eh,e)}},{key:"preflightFunc",get:function(){return yt(this,ah)||null}},{key:"preflightFunc",set:function(e){gt(this,ah,e)}},{key:"processFunc",get:function(){return yt(this,oh)||null}},{key:"processFunc",set:function(e){gt(this,oh,e)}},{key:"retryFunc",get:function(){return yt(this,sh)||null}},{key:"retryFunc",set:function(e){gt(this,sh,e)}},{key:"toString",value:function(){return"<FetchRequest method=".concat(JSON.stringify(this.method)," url=").concat(JSON.stringify(this.url)," headers=").concat(JSON.stringify(this.headers)," body=").concat(yt(this,nh)?qt(yt(this,nh)):"null",">")}},{key:"setThrottleParams",value:function(e){null!=e.slotInterval&&(yt(this,lh).slotInterval=e.slotInterval),null!=e.maxAttempts&&(yt(this,lh).maxAttempts=e.maxAttempts)}},{key:"send",value:function(){return Et(null==yt(this,uh),"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),gt(this,uh,new Jf(this)),Ot(this,ch,hh).call(this,0,xh()+this.timeout,0,this,new wh(0,"",{},null,this))}},{key:"cancel",value:function(){Et(null!=yt(this,uh),"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});var e=Vf.get(this);if(!e)throw new Error("missing signal; should not happen");e()}},{key:"redirect",value:function(t){var n=this.url.split(":")[0].toLowerCase(),r=t.split(":")[0].toLowerCase();Et("GET"===this.method&&("https"!==n||"http"!==r)&&t.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:"redirect(".concat(this.method," ").concat(JSON.stringify(this.url)," => ").concat(JSON.stringify(t),")")});var i=new e(t);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,gt(i,Kf,Object.assign({},yt(this,Kf))),yt(this,nh)&&gt(i,nh,new Uint8Array(yt(this,nh))),gt(i,rh,yt(this,rh)),i}},{key:"clone",value:function(){var t=new e(this.url);return gt(t,$f,yt(this,$f)),yt(this,nh)&&gt(t,nh,yt(this,nh)),gt(t,rh,yt(this,rh)),gt(t,Kf,Object.assign({},yt(this,Kf))),gt(t,ih,yt(this,ih)),this.allowGzip&&(t.allowGzip=!0),t.timeout=this.timeout,this.allowInsecureAuthentication&&(t.allowInsecureAuthentication=!0),gt(t,ah,yt(this,ah)),gt(t,oh,yt(this,oh)),gt(t,sh,yt(this,sh)),t}}],[{key:"lockConfig",value:function(){Ff=!0}},{key:"getGateway",value:function(e){return jf[e.toLowerCase()]||null}},{key:"registerGateway",value:function(e,t){if("http"===(e=e.toLowerCase())||"https"===e)throw new Error("cannot intercept ".concat(e,"; use registerGetUrl"));if(Ff)throw new Error("gateways locked");jf[e]=t}},{key:"registerGetUrl",value:function(e){if(Ff)throw new Error("gateways locked");Uf=e}},{key:"createDataGateway",value:function(){return Hf}},{key:"createIpfsGatewayFunc",value:function(e){return Gf(e)}}]),e}();function hh(e,t,n,r,i){return dh.apply(this,arguments)}function dh(){return dh=d(f().mark((function e(t,n,r,i,a){var o,s,u,l,c,h,d,p,v,m,y,g,b;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t>=yt(this,lh).maxAttempts)){e.next=2;break}return e.abrupt("return",a.makeServerError("exceeded maximum retry limit"));case 2:if(Et(xh()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),!(r>0)){e.next=6;break}return e.next=6,_h(r);case 6:if(o=this.clone(),!((s=(o.url.split(":")[0]||"").toLowerCase())in jf)){e.next=27;break}return e.next=11,jf[s](o.url,Yf(yt(i,uh)));case 11:if(!((u=e.sent)instanceof wh)){e.next=26;break}if(l=u,!this.processFunc){e.next=25;break}return Yf(yt(i,uh)),e.prev=16,e.next=19,this.processFunc(o,l);case 19:l=e.sent,e.next=25;break;case 22:e.prev=22,e.t0=e.catch(16),null!=e.t0.throttle&&"number"===typeof e.t0.stall||l.makeServerError("error in post-processing function",e.t0).assertOk();case 25:return e.abrupt("return",l);case 26:o=u;case 27:if(!this.preflightFunc){e.next=31;break}return e.next=30,this.preflightFunc(o);case 30:o=e.sent;case 31:return e.next=33,Uf(o,Yf(yt(i,uh)));case 33:if(c=e.sent,301!==(h=new wh(c.statusCode,c.statusMessage,c.headers,c.body,i)).statusCode&&302!==h.statusCode){e.next=46;break}return e.prev=36,p=h.headers.location||"",e.abrupt("return",Ot(d=o.redirect(p),ch,hh).call(d,t+1,n,0,i,h));case 41:e.prev=41,e.t1=e.catch(36);case 43:return e.abrupt("return",h);case 46:if(429!==h.statusCode){e.next=57;break}if(e.t2=null==this.retryFunc,e.t2){e.next=52;break}return e.next=51,this.retryFunc(o,h,t);case 51:e.t2=e.sent;case 52:if(!e.t2){e.next=57;break}return m=h.headers["retry-after"],y=yt(this,lh).slotInterval*Math.trunc(Math.random()*Math.pow(2,t)),"string"===typeof m&&m.match(/^[1-9][0-9]*$/)&&(y=parseInt(m)),e.abrupt("return",Ot(v=o.clone(),ch,hh).call(v,t+1,n,y,i,h));case 57:if(!this.processFunc){e.next=72;break}return Yf(yt(i,uh)),e.prev=59,e.next=62,this.processFunc(o,h);case 62:h=e.sent,e.next=72;break;case 65:return e.prev=65,e.t3=e.catch(59),null!=e.t3.throttle&&"number"===typeof e.t3.stall||h.makeServerError("error in post-processing function",e.t3).assertOk(),b=yt(this,lh).slotInterval*Math.trunc(Math.random()*Math.pow(2,t)),e.t3.stall>=0&&(b=e.t3.stall),e.abrupt("return",Ot(g=o.clone(),ch,hh).call(g,t+1,n,b,i,h));case 72:return e.abrupt("return",h);case 73:case"end":return e.stop()}}),e,this,[[16,22],[36,41],[59,65]])}))),dh.apply(this,arguments)}var ph=new WeakMap,vh=new WeakMap,mh=new WeakMap,yh=new WeakMap,gh=new WeakMap,bh=new WeakMap;xf=Symbol.iterator;var wh=function(){function e(t,n,r,i,a){nt(this,e),vt(this,ph,{writable:!0,value:void 0}),vt(this,vh,{writable:!0,value:void 0}),vt(this,mh,{writable:!0,value:void 0}),vt(this,yh,{writable:!0,value:void 0}),vt(this,gh,{writable:!0,value:void 0}),vt(this,bh,{writable:!0,value:void 0}),gt(this,ph,t),gt(this,vh,n),gt(this,mh,Object.keys(r).reduce((function(e,t){return e[t.toLowerCase()]=String(r[t]),e}),{})),gt(this,yh,null==i?null:new Uint8Array(i)),gt(this,gh,a||null),gt(this,bh,{message:""})}return at(e,[{key:"toString",value:function(){return"<FetchResponse status=".concat(this.statusCode," body=").concat(yt(this,yh)?qt(yt(this,yh)):"null",">")}},{key:"statusCode",get:function(){return yt(this,ph)}},{key:"statusMessage",get:function(){return yt(this,vh)}},{key:"headers",get:function(){return Object.assign({},yt(this,mh))}},{key:"body",get:function(){return null==yt(this,yh)?null:new Uint8Array(yt(this,yh))}},{key:"bodyText",get:function(){try{return null==yt(this,yh)?"":ni(yt(this,yh))}catch(e){Et(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}},{key:"bodyJson",get:function(){try{return JSON.parse(this.bodyText)}catch(e){Et(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}},{key:xf,value:function(){var e=this.headers,t=Object.keys(e),n=0;return{next:function(){if(n<t.length){var r=t[n++];return{value:[r,e[r]],done:!1}}return{value:void 0,done:!0}}}}},{key:"makeServerError",value:function(t,n){var r;t?r="CLIENT ESCALATED SERVER ERROR (".concat(this.statusCode," ").concat(this.statusMessage,"; ").concat(t,")"):(t="".concat(this.statusCode," ").concat(this.statusMessage),r="CLIENT ESCALATED SERVER ERROR (".concat(t,")"));var i=new e(599,r,this.headers,this.body,yt(this,gh)||void 0);return gt(i,bh,{message:t,error:n}),i}},{key:"throwThrottleError",value:function(e,t){null==t?t=-1:Ct(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);var n=new Error(e||"throttling requests");throw kt(n,{stall:t,throttle:!0}),n}},{key:"getHeader",value:function(e){return this.headers[e.toLowerCase()]}},{key:"hasBody",value:function(){return null!=yt(this,yh)}},{key:"request",get:function(){return yt(this,gh)}},{key:"ok",value:function(){return""===yt(this,bh).message&&this.statusCode>=200&&this.statusCode<300}},{key:"assertOk",value:function(){if(!this.ok()){var e=yt(this,bh),t=e.message,n=e.error;""===t&&(t="server response ".concat(this.statusCode," ").concat(this.statusMessage)),Et(!1,t,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n})}}}]),e}();function xh(){return(new Date).getTime()}function _h(e){return new Promise((function(t){return setTimeout(t,e)}))}function kh(e,t,n){return function(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}(e,t),n}var Sh="0x0000000000000000000000000000000000000000",Mh="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);var Ah=BigInt(58);function Th(e){for(var t=un(Wt(e)),n="";t;)n=Mh[Number(t%Ah)]+n,t/=Ah;return n}function Eh(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):Ct(!1,"unsupported IPFS format","link",e),"https://gateway.ipfs.io/ipfs/".concat(e)}var Ch=function(){function e(t){nt(this,e),Dt(this,"name",void 0),kt(this,{name:t})}return at(e,[{key:"connect",value:function(e){return this}},{key:"supportsCoinType",value:function(e){return!1}},{key:"encodeAddress",value:function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("unsupported coin");case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"decodeAddress",value:function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("unsupported coin");case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Ph=new RegExp("^(ipfs)://(.*)$","i"),Rh=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Ph,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")],Ih=new WeakMap,Lh=new WeakMap,Nh=new WeakSet,Oh=function(){function e(t,n,r){nt(this,e),Nt(this,Nh),Dt(this,"provider",void 0),Dt(this,"address",void 0),Dt(this,"name",void 0),vt(this,Ih,{writable:!0,value:void 0}),vt(this,Lh,{writable:!0,value:void 0}),kt(this,{provider:t,address:n,name:r}),gt(this,Ih,null),gt(this,Lh,new Zo(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (address)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],t))}return at(e,[{key:"supportsWildcard",value:function(){var e=d(f().mark((function e(){var t=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==yt(this,Ih)&&gt(this,Ih,d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yt(t,Lh).supportsInterface("0x9061b923");case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),!Mt(e.t0,"CALL_EXCEPTION")){e.next=10;break}return e.abrupt("return",!1);case 10:throw gt(t,Ih,null),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,6]])})))()),e.next=3,yt(this,Ih);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAddress",value:function(){var e=d(f().mark((function e(t){var n,r,i,a,o,s,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t&&(t=60),60!==t){e.next=16;break}return e.prev=2,e.next=5,Ot(this,Nh,Dh).call(this,"addr(bytes32)");case 5:if(null!=(n=e.sent)&&n!==Sh){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",n);case 11:if(e.prev=11,e.t0=e.catch(2),!Mt(e.t0,"CALL_EXCEPTION")){e.next=15;break}return e.abrupt("return",null);case 15:throw e.t0;case 16:r=null,i=Lt(this.provider.plugins),e.prev=18,i.s();case 20:if((a=i.n()).done){e.next=29;break}if((o=a.value)instanceof Ch){e.next=24;break}return e.abrupt("continue",27);case 24:if(!o.supportsCoinType(t)){e.next=27;break}return r=o,e.abrupt("break",29);case 27:e.next=20;break;case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(18),i.e(e.t1);case 34:return e.prev=34,i.f(),e.finish(34);case 37:if(null!=r){e.next=39;break}return e.abrupt("return",null);case 39:return e.next=41,Ot(this,Nh,Dh).call(this,"addr(bytes32,uint)",[t]);case 41:if(null!=(s=e.sent)&&"0x"!==s){e.next=44;break}return e.abrupt("return",null);case 44:return e.next=46,r.encodeAddress(t,s);case 46:if(null==(u=e.sent)){e.next=49;break}return e.abrupt("return",u);case 49:Et(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:"getAddress(".concat(t,")"),info:{coinType:t,data:s}});case 50:case"end":return e.stop()}}),e,this,[[2,11],[18,31,34,37]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getText",value:function(){var e=d(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ot(this,Nh,Dh).call(this,"text(bytes32,string)",[t]);case 2:if(null!=(n=e.sent)&&"0x"!==n){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getContentHash",value:function(){var e=d(f().mark((function e(){var t,n,r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ot(this,Nh,Dh).call(this,"contenthash(bytes32)");case 2:if(null!=(t=e.sent)&&"0x"!==t){e.next=5;break}return e.abrupt("return",null);case 5:if(!(n=t.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/))){e.next=11;break}if(r="e3010170"===n[1]?"ipfs":"ipns",i=parseInt(n[4],16),n[5].length!==2*i){e.next=11;break}return e.abrupt("return","".concat(r,"://").concat(Th("0x"+n[2])));case 11:if(!(a=t.match(/^0xe40101fa011b20([0-9a-f]*)$/))||64!==a[1].length){e.next=14;break}return e.abrupt("return","bzz://".concat(a[1]));case 14:Et(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:t}});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAvatar",value:function(){var e=d(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getAvatar();case 2:return t=e.sent,e.abrupt("return",t.url);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAvatar",value:function(){var e=d(f().mark((function e(){var t,n,r,i,a,o,s,u,l,c,h,d,p,v,m,y,g,b;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[{type:"name",value:this.name}],e.prev=1,e.next=4,this.getText("avatar");case 4:if(null!=(n=e.sent)){e.next=8;break}return t.push({type:"!avatar",value:""}),e.abrupt("return",{url:null,linkage:t});case 8:t.push({type:"avatar",value:n}),r=0;case 10:if(!(r<Rh.length)){e.next=109;break}if(null!=(i=n.match(Rh[r]))){e.next=14;break}return e.abrupt("continue",106);case 14:a=i[1].toLowerCase(),e.t0=a,e.next="https"===e.t0||"data"===e.t0?18:"ipfs"===e.t0?20:"erc721"===e.t0||"erc1155"===e.t0?24:106;break;case 18:return t.push({type:"url",value:n}),e.abrupt("return",{linkage:t,url:n});case 20:return o=Eh(n),t.push({type:"ipfs",value:n}),t.push({type:"url",value:o}),e.abrupt("return",{linkage:t,url:o});case 24:return s="erc721"===a?"tokenURI(uint256)":"uri(uint256)",t.push({type:a,value:n}),e.next=28,this.getAddress();case 28:if(null!=(u=e.sent)){e.next=32;break}return t.push({type:"!owner",value:""}),e.abrupt("return",{url:null,linkage:t});case 32:if(2===(l=(i[2]||"").split("/")).length){e.next=36;break}return t.push({type:"!".concat(a,"caip"),value:i[2]||""}),e.abrupt("return",{url:null,linkage:t});case 36:if(c=l[1],h=new Zo(l[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider),"erc721"!==a){e.next=48;break}return e.next=41,h.ownerOf(c);case 41:if(d=e.sent,u===d){e.next=45;break}return t.push({type:"!owner",value:d}),e.abrupt("return",{url:null,linkage:t});case 45:t.push({type:"owner",value:d}),e.next=56;break;case 48:if("erc1155"!==a){e.next=56;break}return e.next=51,h.balanceOf(u,c);case 51:if(p=e.sent){e.next=55;break}return t.push({type:"!balance",value:"0"}),e.abrupt("return",{url:null,linkage:t});case 55:t.push({type:"balance",value:p.toString()});case 56:return e.next=58,h[s](c);case 58:if(null!=(v=e.sent)&&"0x"!==v){e.next=62;break}return t.push({type:"!metadata-url",value:""}),e.abrupt("return",{url:null,linkage:t});case 62:return t.push({type:"metadata-url-base",value:v}),"erc1155"===a&&(v=v.replace("{id}",cn(c,32).substring(2)),t.push({type:"metadata-url-expanded",value:v})),v.match(/^ipfs:/i)&&(v=Eh(v)),t.push({type:"metadata-url",value:v}),m={},e.next=69,new fh(v).send();case 69:(y=e.sent).assertOk(),e.prev=71,m=y.bodyJson,e.next=87;break;case 75:e.prev=75,e.t1=e.catch(71),e.prev=77,t.push({type:"!metadata",value:y.bodyText}),e.next=86;break;case 81:return e.prev=81,e.t2=e.catch(77),(g=y.body)&&t.push({type:"!metadata",value:qt(g)}),e.abrupt("return",{url:null,linkage:t});case 86:return e.abrupt("return",{url:null,linkage:t});case 87:if(m){e.next=90;break}return t.push({type:"!metadata",value:""}),e.abrupt("return",{url:null,linkage:t});case 90:if(t.push({type:"metadata",value:JSON.stringify(m)}),"string"===typeof(b=m.image)){e.next=95;break}return t.push({type:"!imageUrl",value:""}),e.abrupt("return",{url:null,linkage:t});case 95:if(!b.match(/^(https:\/\/|data:)/i)){e.next=98;break}e.next=104;break;case 98:if(null!=b.match(Ph)){e.next=102;break}return t.push({type:"!imageUrl-ipfs",value:b}),e.abrupt("return",{url:null,linkage:t});case 102:t.push({type:"imageUrl-ipfs",value:b}),b=Eh(b);case 104:return t.push({type:"url",value:b}),e.abrupt("return",{linkage:t,url:b});case 106:r++,e.next=10;break;case 109:e.next=113;break;case 111:e.prev=111,e.t3=e.catch(1);case 113:return e.abrupt("return",{linkage:t,url:null});case 114:case"end":return e.stop()}}),e,this,[[1,111],[71,75],[77,81]])})));return function(){return e.apply(this,arguments)}}()}],[{key:"getEnsAddress",value:function(){var e=d(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getNetwork();case 2:return n=e.sent,Et(r=n.getPlugin("org.ethers.plugins.network.Ens"),"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),e.abrupt("return",r.address);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"fromName",value:function(){var t=d(f().mark((function t(n,r){var i,a,o;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=r;case 1:if(""!==i&&"."!==i){t.next=4;break}return t.abrupt("return",null);case 4:if("eth"===r||"eth"!==i){t.next=6;break}return t.abrupt("return",null);case 6:return t.next=8,kh(e,e,zh).call(e,n,i);case 8:if(null==(a=t.sent)){t.next=19;break}if(o=new e(n,a,r),t.t0=i!==r,!t.t0){t.next=16;break}return t.next=15,o.supportsWildcard();case 15:t.t0=!t.sent;case 16:if(!t.t0){t.next=18;break}return t.abrupt("return",null);case 18:return t.abrupt("return",o);case 19:i=i.split(".").slice(1).join("."),t.next=1;break;case 22:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Dh(e,t){return Uh.apply(this,arguments)}function Uh(){return Uh=d(f().mark((function e(t,n){var r,i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(n||[]).slice(),r=yt(this,Lh).interface,n.unshift($u(this.name)),i=null,e.next=6,this.supportsWildcard();case 6:if(!e.sent){e.next=11;break}Et(i=r.getFunction(t),"missing fragment","UNKNOWN_ERROR",{info:{funcName:t}}),n=[(s=this.name,qt(Xt(Ku(s).map((function(e){if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");var t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t}))))+"00"),r.encodeFunctionData(i,n)],t="resolve(bytes,bytes)";case 11:return n.push({ccipReadEnable:!0}),e.prev=12,e.next=15,(a=yt(this,Lh))[t].apply(a,qe(n));case 15:if(o=e.sent,!i){e.next=18;break}return e.abrupt("return",r.decodeFunctionResult(i,o)[0]);case 18:return e.abrupt("return",o);case 21:if(e.prev=21,e.t0=e.catch(12),Mt(e.t0,"CALL_EXCEPTION")){e.next=25;break}throw e.t0;case 25:return e.abrupt("return",null);case 26:case"end":return e.stop()}var s}),e,this,[[12,21]])}))),Uh.apply(this,arguments)}function zh(e,t){return Bh.apply(this,arguments)}function Bh(){return(Bh=d(f().mark((function e(t,n){var r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oh.getEnsAddress(t);case 2:return r=e.sent,e.prev=3,i=new Zo(r,["function resolver(bytes32) view returns (address)"],t),e.next=7,i.resolver($u(n),{enableCcipRead:!0});case 7:if((a=e.sent)!==Sh){e.next=10;break}return e.abrupt("return",null);case 10:return e.abrupt("return",a);case 13:throw e.prev=13,e.t0=e.catch(3),e.t0;case 16:return e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}var Fh=BigInt(0);function Hh(e,t){return function(n){return null==n?t:e(n)}}function Wh(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");return t.map((function(t){return e(t)}))}}function Gh(e,t){return function(n){var r={};for(var i in e){var a=i;if(t&&i in t&&!(a in n)){var o,s=Lt(t[i]);try{for(s.s();!(o=s.n()).done;){var u=o.value;if(u in n){a=u;break}}}catch(AG){s.e(AG)}finally{s.f()}}try{var l=e[i](n[a]);void 0!==l&&(r[i]=l)}catch(f){var c=f instanceof Error?f.message:"not-an-error";Et(!1,"invalid value for value.".concat(i," (").concat(c,")"),"BAD_DATA",{value:n})}}return r}}function jh(e){return Ct(jt(e,!0),"invalid data","value",e),e}function Vh(e){return Ct(jt(e,32),"invalid hash","value",e),e}var qh=Gh({address:Pr,blockHash:Vh,blockNumber:ln,data:jh,index:ln,removed:function(e){switch(e){case!0:case"true":return!0;case!1:case"false":return!1}Ct(!1,"invalid boolean; ".concat(JSON.stringify(e)),"value",e)},topics:Wh(Vh),transactionHash:Vh,transactionIndex:ln},{index:["logIndex"]});var Xh=Gh({hash:Hh(Vh),parentHash:Vh,number:ln,timestamp:ln,nonce:Hh(jh),difficulty:an,gasLimit:an,gasUsed:an,miner:Hh(Pr),extraData:jh,baseFeePerGas:Hh(an)});var Jh=Gh({transactionIndex:ln,blockNumber:ln,transactionHash:Vh,address:Pr,topics:Wh(Vh),data:jh,index:ln,blockHash:Vh},{index:["logIndex"]});var Yh=Gh({to:Hh(Pr,null),from:Hh(Pr,null),contractAddress:Hh(Pr,null),index:ln,root:Hh(qt),gasUsed:an,logsBloom:Hh(jh),blockHash:Vh,hash:Vh,logs:Wh((function(e){return Jh(e)})),blockNumber:ln,cumulativeGasUsed:an,effectiveGasPrice:Hh(an),status:Hh(ln),type:Hh(ln,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Qh(e){e.to&&an(e.to)===Fh&&(e.to="0x0000000000000000000000000000000000000000");var t=Gh({hash:Vh,type:function(e){return"0x"===e||null==e?0:ln(e)},accessList:Hh(Ia,null),blockHash:Hh(Vh,null),blockNumber:Hh(ln,null),transactionIndex:Hh(ln,null),from:Pr,gasPrice:Hh(an),maxPriorityFeePerGas:Hh(an),maxFeePerGas:Hh(an),gasLimit:an,to:Hh(Pr,null),value:an,nonce:ln,data:jh,creates:Hh(Pr,null),chainId:Hh(an,null)},{data:["input"],gasLimit:["gas"]})(e);if(null==t.to&&null==t.creates&&(t.creates=function(e){var t=Pr(e.from),n=an(e.nonce,"tx.nonce").toString(16);return Pr(Yt(wr(tf([t,n="0"===n?"0x":n.length%2?"0x0"+n:"0x"+n])),12))}(t)),1!==e.type&&2!==e.type||null!=e.accessList||(t.accessList=[]),e.signature?t.signature=hl.from(e.signature):t.signature=hl.from(e),null==t.chainId){var n=t.signature.legacyChainId;null!=n&&(t.chainId=n)}return t.blockHash&&an(t.blockHash)===Fh&&(t.blockHash=null),t}var Zh=function(){function e(t){nt(this,e),Dt(this,"name",void 0),kt(this,{name:t})}return at(e,[{key:"clone",value:function(){return new e(this.name)}}]),e}(),Kh=function(e){ct(n,e);var t=dt(n);function n(e,r){var i;nt(this,n),null==e&&(e=0),Dt(ot(i=t.call(this,"org.ethers.network.plugins.GasCost#".concat(e||0))),"effectiveBlock",void 0),Dt(ot(i),"txBase",void 0),Dt(ot(i),"txCreate",void 0),Dt(ot(i),"txDataZero",void 0),Dt(ot(i),"txDataNonzero",void 0),Dt(ot(i),"txAccessListStorageKey",void 0),Dt(ot(i),"txAccessListAddress",void 0);var a={effectiveBlock:e};function o(e,t){var n=(r||{})[e];null==n&&(n=t),Ct("number"===typeof n,"invalud value for ".concat(e),"costs",r),a[e]=n}return o("txBase",21e3),o("txCreate",32e3),o("txDataZero",4),o("txDataNonzero",16),o("txAccessListStorageKey",1900),o("txAccessListAddress",2400),kt(ot(i),a),i}return at(n,[{key:"clone",value:function(){return new n(this.effectiveBlock,this)}}]),n}(Zh),$h=function(e){ct(n,e);var t=dt(n);function n(e,r){var i;return nt(this,n),Dt(ot(i=t.call(this,"org.ethers.plugins.network.Ens")),"address",void 0),Dt(ot(i),"targetNetwork",void 0),kt(ot(i),{address:e||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:null==r?1:r}),i}return at(n,[{key:"clone",value:function(){return new n(this.address,this.targetNetwork)}}]),n}(Zh),ed=new Map,td=new WeakMap,nd=new WeakMap,rd=new WeakMap,id=function(){function e(t,n){nt(this,e),vt(this,td,{writable:!0,value:void 0}),vt(this,nd,{writable:!0,value:void 0}),vt(this,rd,{writable:!0,value:void 0}),gt(this,td,t),gt(this,nd,an(n)),gt(this,rd,new Map)}return at(e,[{key:"toJSON",value:function(){return{name:this.name,chainId:this.chainId}}},{key:"name",get:function(){return yt(this,td)},set:function(e){gt(this,td,e)}},{key:"chainId",get:function(){return yt(this,nd)},set:function(e){gt(this,nd,an(e,"chainId"))}},{key:"plugins",get:function(){return Array.from(yt(this,rd).values())}},{key:"attachPlugin",value:function(e){if(yt(this,rd).get(e.name))throw new Error("cannot replace existing plugin: ".concat(e.name," "));return yt(this,rd).set(e.name,e.clone()),this}},{key:"getPlugin",value:function(e){return yt(this,rd).get(e)||null}},{key:"getPlugins",value:function(e){return this.plugins.filter((function(t){return t.name.split("#")[0]===e}))}},{key:"clone",value:function(){var t=new e(this.name,this.chainId);return this.plugins.forEach((function(e){t.attachPlugin(e.clone())})),t}},{key:"computeIntrinsicGas",value:function(e){var t=this.getPlugin("org.ethers.plugins.network.GasCost")||new Kh,n=t.txBase;if(null==e.to&&(n+=t.txCreate),e.data)for(var r=2;r<e.data.length;r+=2)"00"===e.data.substring(r,r+2)?n+=t.txDataZero:n+=t.txDataNonzero;if(e.accessList){var i=Ia(e.accessList);for(var a in i)n+=t.txAccessListAddress+t.txAccessListStorageKey*i[a].storageKeys.length}return n}}],[{key:"from",value:function(t){if(od(),null==t)return e.from("mainnet");if("number"===typeof t&&(t=BigInt(t)),"string"===typeof t||"bigint"===typeof t){var n=ed.get(t);if(n)return n();if("bigint"===typeof t)return new e("unknown",t);Ct(!1,"unknown network","network",t)}if("function"===typeof t.clone)return t.clone();if("object"===typeof t){Ct("string"===typeof t.name&&"number"===typeof t.chainId,"invalid network object name or chainId","network",t);var r=new e(t.name,t.chainId);return(t.ensAddress||null!=t.ensNetwork)&&r.attachPlugin(new $h(t.ensAddress,t.ensNetwork)),r}Ct(!1,"invalid network","network",t)}},{key:"register",value:function(e,t){"number"===typeof e&&(e=BigInt(e));var n=ed.get(e);n&&Ct(!1,"conflicting network for ".concat(JSON.stringify(n.name)),"nameOrChainId",e),ed.set(e,t)}}]),e}(),ad=!1;function od(){function e(e,t,n){var r=function(){var r=new id(e,t);return null!=n.ensNetwork&&r.attachPlugin(new $h(null,n.ensNetwork)),n.priorityFee,r.attachPlugin(new Kh),r};id.register(e,r),id.register(t,r),n.altNames&&n.altNames.forEach((function(e){id.register(e,r)}))}ad||(ad=!0,e("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),e("ropsten",3,{ensNetwork:3}),e("rinkeby",4,{ensNetwork:4}),e("goerli",5,{ensNetwork:5}),e("kovan",42,{ensNetwork:42}),e("sepolia",11155111,{}),e("classic",61,{}),e("classicKotti",6,{}),e("xdai",100,{ensNetwork:1}),e("optimism",10,{ensNetwork:1,etherscan:{url:"https://api-optimistic.etherscan.io/"}}),e("optimism-goerli",420,{etherscan:{url:"https://api-goerli-optimistic.etherscan.io/"}}),e("arbitrum",42161,{ensNetwork:1,etherscan:{url:"https://api.arbiscan.io/"}}),e("arbitrum-goerli",421613,{etherscan:{url:"https://api-goerli.arbiscan.io/"}}),e("matic",137,{ensNetwork:1,etherscan:{url:"https://api.polygonscan.com/"}}),e("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],etherscan:{url:"https://api-testnet.polygonscan.com/"}}),e("bnb",56,{ensNetwork:1,etherscan:{url:"http://api.bscscan.com"}}),e("bnbt",97,{etherscan:{url:"http://api-testnet.bscscan.com"}}))}function sd(e){return JSON.parse(JSON.stringify(e))}var ud=new WeakMap,ld=new WeakMap,cd=new WeakMap,fd=new WeakMap,hd=new WeakSet,dd=function(){function e(t){nt(this,e),Nt(this,hd),vt(this,ud,{writable:!0,value:void 0}),vt(this,ld,{writable:!0,value:void 0}),vt(this,cd,{writable:!0,value:void 0}),vt(this,fd,{writable:!0,value:void 0}),gt(this,ud,t),gt(this,ld,null),gt(this,cd,4e3),gt(this,fd,-2)}return at(e,[{key:"pollingInterval",get:function(){return yt(this,cd)},set:function(e){gt(this,cd,e)}},{key:"start",value:function(){yt(this,ld)||(gt(this,ld,yt(this,ud)._setTimeout(Ot(this,hd,pd).bind(this),yt(this,cd))),Ot(this,hd,pd).call(this))}},{key:"stop",value:function(){yt(this,ld)&&(yt(this,ud)._clearTimeout(yt(this,ld)),gt(this,ld,null))}},{key:"pause",value:function(e){this.stop(),e&&gt(this,fd,-2)}},{key:"resume",value:function(){this.start()}}]),e}();function pd(){return vd.apply(this,arguments)}function vd(){return vd=d(f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yt(this,ud).getBlockNumber();case 3:if(t=e.sent,-2!==yt(this,fd)){e.next=7;break}return gt(this,fd,t),e.abrupt("return");case 7:if(t===yt(this,fd)){e.next=18;break}n=yt(this,fd)+1;case 9:if(!(n<=t)){e.next=17;break}if(null!=yt(this,ld)){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,yt(this,ud).emit("block",n);case 14:n++,e.next=9;break;case 17:gt(this,fd,t);case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(0);case 22:if(null!=yt(this,ld)){e.next=24;break}return e.abrupt("return");case 24:gt(this,ld,yt(this,ud)._setTimeout(Ot(this,hd,pd).bind(this),yt(this,cd)));case 25:case"end":return e.stop()}}),e,this,[[0,20]])}))),vd.apply(this,arguments)}var md=new WeakMap,yd=new WeakMap,gd=new WeakMap,bd=function(){function e(t){var n=this;nt(this,e),vt(this,md,{writable:!0,value:void 0}),vt(this,yd,{writable:!0,value:void 0}),vt(this,gd,{writable:!0,value:void 0}),gt(this,md,t),gt(this,gd,!1),gt(this,yd,(function(e){n._poll(e,yt(n,md))}))}return at(e,[{key:"_poll",value:function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("sub-classes must override this");case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"start",value:function(){yt(this,gd)||(gt(this,gd,!0),yt(this,yd).call(this,-2),yt(this,md).on("block",yt(this,yd)))}},{key:"stop",value:function(){yt(this,gd)&&(gt(this,gd,!1),yt(this,md).off("block",yt(this,yd)))}},{key:"pause",value:function(e){this.stop()}},{key:"resume",value:function(){this.start()}}]),e}(),wd=new WeakMap,xd=function(e){ct(n,e);var t=dt(n);function n(e,r){var i;return nt(this,n),vt(ot(i=t.call(this,e)),wd,{writable:!0,value:void 0}),gt(ot(i),wd,sd(r)),i}return at(n,[{key:"_poll",value:function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("@TODO");case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(bd),_d=new WeakMap,kd=function(e){ct(n,e);var t=dt(n);function n(e,r){var i;return nt(this,n),vt(ot(i=t.call(this,e)),_d,{writable:!0,value:void 0}),gt(ot(i),_d,r),i}return at(n,[{key:"_poll",value:function(){var e=d(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getTransactionReceipt(yt(this,_d));case 2:(r=e.sent)&&n.emit(yt(this,_d),r);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(bd),Sd=new WeakMap,Md=new WeakMap,Ad=new WeakMap,Td=new WeakMap,Ed=new WeakMap,Cd=new WeakSet,Pd=function(){function e(t,n){nt(this,e),Nt(this,Cd),vt(this,Sd,{writable:!0,value:void 0}),vt(this,Md,{writable:!0,value:void 0}),vt(this,Ad,{writable:!0,value:void 0}),vt(this,Td,{writable:!0,value:void 0}),vt(this,Ed,{writable:!0,value:void 0}),gt(this,Sd,t),gt(this,Md,sd(n)),gt(this,Ad,Ot(this,Cd,Rd).bind(this)),gt(this,Td,!1),gt(this,Ed,-2)}return at(e,[{key:"start",value:function(){var e=this;yt(this,Td)||(gt(this,Td,!0),-2===yt(this,Ed)&&yt(this,Sd).getBlockNumber().then((function(t){gt(e,Ed,t)})),yt(this,Sd).on("block",yt(this,Ad)))}},{key:"stop",value:function(){yt(this,Td)&&(gt(this,Td,!1),yt(this,Sd).off("block",yt(this,Ad)))}},{key:"pause",value:function(e){this.stop(),e&&gt(this,Ed,-2)}},{key:"resume",value:function(){this.start()}}]),e}();function Rd(e){return Id.apply(this,arguments)}function Id(){return Id=d(f().mark((function e(t){var n,r,i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-2!==yt(this,Ed)){e.next=2;break}return e.abrupt("return");case 2:return(n=sd(yt(this,Md))).fromBlock=yt(this,Ed)+1,n.toBlock=t,e.next=7,yt(this,Sd).getLogs(n);case 7:if(0!==(r=e.sent).length){e.next=11;break}return yt(this,Ed)<t-60&&gt(this,Ed,t-60),e.abrupt("return");case 11:gt(this,Ed,t),i=Lt(r);try{for(i.s();!(a=i.n()).done;)o=a.value,yt(this,Sd).emit(yt(this,Md),o)}catch(AG){i.e(AG)}finally{i.f()}case 14:case"end":return e.stop()}}),e,this)}))),Id.apply(this,arguments)}var Ld=BigInt(2),Nd=10;function Od(e){return e&&"function"===typeof e.then}function Dd(e,t){return e+":"+JSON.stringify(t,(function(e,t){if(null==t)return"null";if("bigint"===typeof t)return"bigint:".concat(t.toString());if("string"===typeof t)return t.toLowerCase();if("object"===typeof t&&!Array.isArray(t)){var n=Object.keys(t);return n.sort(),n.reduce((function(e,n){return e[n]=t[n],e}),{})}return t}))}var Ud=function(){function e(t){nt(this,e),Dt(this,"name",void 0),kt(this,{name:t})}return at(e,[{key:"start",value:function(){}},{key:"stop",value:function(){}},{key:"pause",value:function(e){}},{key:"resume",value:function(){}}]),e}();function zd(e){return(e=Array.from(new Set(e).values())).sort(),e}function Bd(e,t){return Fd.apply(this,arguments)}function Fd(){return Fd=d(f().mark((function e(t,n){var r,i,a,o,s,u,l;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}throw new Error("invalid event");case 2:if(Array.isArray(t)&&(t={topics:t}),"string"!==typeof t){e.next=8;break}e.t0=t,e.next="block"===e.t0||"pending"===e.t0||"debug"===e.t0||"network"===e.t0?7:8;break;case 7:return e.abrupt("return",{type:t,tag:t});case 8:if(!jt(t,32)){e.next=11;break}return r=t.toLowerCase(),e.abrupt("return",{type:"transaction",tag:Dd("tx",{hash:r}),hash:r});case 11:if(!t.orphan){e.next=14;break}return i=t,e.abrupt("return",{type:"orphan",tag:Dd("orphan",i),filter:(c=i,JSON.parse(JSON.stringify(c)))});case 14:if(!t.address&&!t.topics){e.next=27;break}if(o={topics:((a=t).topics||[]).map((function(e){return null==e?null:Array.isArray(e)?zd(e.map((function(e){return e.toLowerCase()}))):e.toLowerCase()}))},!a.address){e.next=26;break}if(s=[],u=[],l=function(e){jt(e)?s.push(e):u.push(d(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=s,t.next=3,fa(e,n);case 3:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 5:case"end":return t.stop()}}),t)})))())},Array.isArray(a.address)?a.address.forEach(l):l(a.address),!u.length){e.next=25;break}return e.next=25,Promise.all(u);case 25:o.address=zd(s.map((function(e){return e.toLowerCase()})));case 26:return e.abrupt("return",{filter:o,tag:Dd("event",o),type:"event"});case 27:Ct(!1,"unknown ProviderEvent","event",t);case 28:case"end":return e.stop()}var c}),e)}))),Fd.apply(this,arguments)}function Hd(){return(new Date).getTime()}var Wd=new WeakMap,Gd=new WeakMap,jd=new WeakMap,Vd=new WeakMap,qd=new WeakMap,Xd=new WeakMap,Jd=new WeakMap,Yd=new WeakMap,Qd=new WeakMap,Zd=new WeakMap,Kd=new WeakSet,$d=new WeakSet,ep=new WeakSet,tp=new WeakSet,np=new WeakSet,rp=new WeakSet,ip=new WeakSet,ap=function(){function e(t){var n=this;if(nt(this,e),Nt(this,ip),Nt(this,rp),Nt(this,np),Nt(this,tp),Nt(this,ep),Nt(this,$d),Nt(this,Kd),vt(this,Wd,{writable:!0,value:void 0}),vt(this,Gd,{writable:!0,value:void 0}),vt(this,jd,{writable:!0,value:void 0}),vt(this,Vd,{writable:!0,value:void 0}),vt(this,qd,{writable:!0,value:void 0}),vt(this,Xd,{writable:!0,value:void 0}),vt(this,Jd,{writable:!0,value:void 0}),vt(this,Yd,{writable:!0,value:void 0}),vt(this,Qd,{writable:!0,value:void 0}),vt(this,Zd,{writable:!0,value:void 0}),"any"===t)gt(this,qd,!0),gt(this,Vd,null);else if(t){var r=id.from(t);gt(this,qd,!1),gt(this,Vd,Promise.resolve(r)),setTimeout((function(){n.emit("network",r,null)}),0)}else gt(this,qd,!1),gt(this,Vd,null);gt(this,Jd,-1),gt(this,Xd,new Map),gt(this,Wd,new Map),gt(this,Gd,new Map),gt(this,jd,null),gt(this,Yd,1),gt(this,Qd,new Map),gt(this,Zd,!1)}return at(e,[{key:"provider",get:function(){return this}},{key:"plugins",get:function(){return Array.from(yt(this,Gd).values())}},{key:"attachPlugin",value:function(e){if(yt(this,Gd).get(e.name))throw new Error("cannot replace existing plugin: ".concat(e.name," "));return yt(this,Gd).set(e.name,e.connect(this)),this}},{key:"getPlugin",value:function(e){return yt(this,Gd).get(e)||null}},{key:"disableCcipRead",get:function(){return yt(this,Zd)},set:function(e){gt(this,Zd,!!e)}},{key:"ccipReadFetch",value:function(){var e=d(f().mark((function e(t,n,r){var i,a,o,s,u,l,c,h,d,p;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.disableCcipRead&&0!==r.length&&null!=t.to){e.next=2;break}return e.abrupt("return",null);case 2:i=t.to.toLowerCase(),a=n.toLowerCase(),o=[],s=0;case 6:if(!(s<r.length)){e.next=32;break}return u=r[s],l=u.replace("{sender}",i).replace("{data}",a),c=new fh(l),-1===u.indexOf("{data}")&&(c.body={data:a,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:c,index:s,urls:r}),h="unknown error",e.next=15,c.send();case 15:if(d=e.sent,e.prev=16,!(p=d.bodyJson).data){e.next=21;break}return this.emit("debug",{action:"receiveCcipReadFetchResult",request:c,result:p}),e.abrupt("return",p.data);case 21:p.message&&(h=p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:c,result:p}),e.next=27;break;case 25:e.prev=25,e.t0=e.catch(16);case 27:Et(d.statusCode<400||d.statusCode>=500,"response not found during CCIP fetch: ".concat(h),"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:t,info:{url:u,errorMessage:h}}),o.push(h);case 29:s++,e.next=6;break;case 32:Et(!1,"error encountered during CCIP fetch: ".concat(o.map((function(e){return JSON.stringify(e)})).join(", ")),"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:t,info:{urls:r,errorMessages:o}});case 33:case"end":return e.stop()}}),e,this,[[16,25]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_wrapBlock",value:function(e,t){return new ro(function(e){var t=Xh(e);return t.transactions=e.transactions.map((function(e){return"string"===typeof e?e:Qh(e)})),t}(e),this)}},{key:"_wrapLog",value:function(e,t){return new io(function(e){return qh(e)}(e),this)}},{key:"_wrapTransactionReceipt",value:function(e,t){return new oo(function(e){return Yh(e)}(e),this)}},{key:"_wrapTransactionResponse",value:function(e,t){return new uo(Qh(e),this)}},{key:"_detectNetwork",value:function(){Et(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}},{key:"_perform",value:function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Et(!1,"unsupported method: ".concat(t.method),"UNSUPPORTED_OPERATION",{operation:t.method,info:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getBlockNumber",value:function(){var e=d(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ln,e.next=3,Ot(this,Kd,op).call(this,{method:"getBlockNumber"});case 3:return e.t1=e.sent,t=(0,e.t0)(e.t1,"%response"),yt(this,Jd)>=0&&gt(this,Jd,t),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAddress",value:function(e){return fa(e,this)}},{key:"_getBlockTag",value:function(e){if(null==e)return"latest";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}return jt(e)?jt(e,32)?e:hn(e):("bigint"===typeof e&&(e=ln(e,"blockTag")),"number"===typeof e?e>=0?hn(e):yt(this,Jd)>=0?hn(yt(this,Jd)+e):this.getBlockNumber().then((function(t){return hn(t+e)})):void Ct(!1,"invalid blockTag","blockTag",e))}},{key:"_getFilter",value:function(e){var t=(e.topics||[]).map((function(e){return null==e?null:Array.isArray(e)?zd(e.map((function(e){return e.toLowerCase()}))):e.toLowerCase()})),n="blockHash"in e?e.blockHash:void 0,r=function(e,r,i){var a=void 0;switch(e.length){case 0:break;case 1:a=e[0];break;default:e.sort(),a=e}if(n&&(null!=r||null!=i))throw new Error("invalid filter");var o={};return a&&(o.address=a),t.length&&(o.topics=t),r&&(o.fromBlock=r),i&&(o.toBlock=i),n&&(o.blockHash=n),o},i=[];if(e.address)if(Array.isArray(e.address)){var a,o=Lt(e.address);try{for(o.s();!(a=o.n()).done;){var s=a.value;i.push(this._getAddress(s))}}catch(AG){o.e(AG)}finally{o.f()}}else i.push(this._getAddress(e.address));var u=void 0;"fromBlock"in e&&(u=this._getBlockTag(e.fromBlock));var l=void 0;return"toBlock"in e&&(l=this._getBlockTag(e.toBlock)),i.filter((function(e){return"string"!==typeof e})).length||null!=u&&"string"!==typeof u||null!=l&&"string"!==typeof l?Promise.all([Promise.all(i),u,l]).then((function(e){return r(e[0],e[1],e[2])})):r(i,u,l)}},{key:"_getTransactionRequest",value:function(e){var t=to(e),n=[];if(["to","from"].forEach((function(e){if(null!=t[e]){var r=fa(t[e]);Od(r)?n.push(d(f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r;case 2:t[e]=n.sent;case 3:case"end":return n.stop()}}),n)})))()):t[e]=r}})),null!=t.blockTag){var r=this._getBlockTag(t.blockTag);Od(r)?n.push(d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r;case 2:t.blockTag=e.sent;case 3:case"end":return e.stop()}}),e)})))()):t.blockTag=r}return n.length?d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(n);case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})))():t}},{key:"getNetwork",value:function(){var e=d(f().mark((function e(){var t,n,r,i,a,o,s=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=yt(this,Vd)){e.next=6;break}return t=this._detectNetwork().then((function(e){return s.emit("network",e,null),e}),(function(e){throw yt(s,Vd)===t&&gt(s,Vd,null),e})),gt(this,Vd,t),e.next=5,t;case 5:return e.abrupt("return",e.sent.clone());case 6:return n=yt(this,Vd),e.next=9,Promise.all([n,this._detectNetwork()]);case 9:return r=e.sent,i=l(r,2),a=i[0],o=i[1],a.chainId!==o.chainId&&(yt(this,qd)?(this.emit("network",o,a),yt(this,Vd)===n&&gt(this,Vd,Promise.resolve(o))):Et(!1,"network changed: ".concat(a.chainId," => ").concat(o.chainId," "),"NETWORK_ERROR",{event:"changed"})),e.abrupt("return",a.clone());case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getFeeData",value:function(){var e=d(f().mark((function e(){var t,n,r,i,a,o=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt({block:this.getBlock("latest"),gasPrice:d(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ot(o,Kd,op).call(o,{method:"getGasPrice"});case 3:return t=e.sent,e.abrupt("return",an(t,"%response"));case 7:e.prev=7,e.t0=e.catch(0);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()});case 2:return t=e.sent,n=t.block,r=t.gasPrice,i=null,a=null,n&&n.baseFeePerGas&&(a=BigInt("1000000000"),i=n.baseFeePerGas*Ld+a),e.abrupt("return",new eo(r,i,a));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"estimateGas",value:function(){var e=d(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Od(n=this._getTransactionRequest(t))){e.next=5;break}return e.next=4,n;case 4:n=e.sent;case 5:return e.t0=an,e.next=8,Ot(this,Kd,op).call(this,{method:"estimateGas",transaction:n});case 8:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1,"%response"));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"call",value:function(){var e=d(f().mark((function e(t){var n,r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt({tx:this._getTransactionRequest(t),blockTag:this._getBlockTag(t.blockTag)});case 2:return n=e.sent,r=n.tx,i=n.blockTag,e.next=7,Ot(this,ep,cp).call(this,Ot(this,$d,up).call(this,r,i,t.enableCcipRead?0:-1));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getBalance",value:function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=an,e.next=3,Ot(this,tp,hp).call(this,{method:"getBalance"},t,n);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1,"%response"));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getTransactionCount",value:function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ln,e.next=3,Ot(this,tp,hp).call(this,{method:"getTransactionCount"},t,n);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1,"%response"));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getCode",value:function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=qt,e.next=3,Ot(this,tp,hp).call(this,{method:"getCode"},t,n);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getStorage",value:function(){var e=d(f().mark((function e(t,n,r){var i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=an(n,"position"),e.t0=qt,e.next=4,Ot(this,tp,hp).call(this,{method:"getStorage",position:i},t,r);case 4:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"broadcastTransaction",value:function(){var e=d(f().mark((function e(t){var n,r,i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:t}),network:this.getNetwork()});case 2:if(n=e.sent,r=n.blockNumber,i=n.hash,a=n.network,(o=Nf.from(t)).hash===i){e.next=9;break}throw new Error("@TODO: the returned hash did not match");case 9:return e.abrupt("return",this._wrapTransactionResponse(o,a).replaceableTransaction(r));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getBlock",value:function(){var e=d(f().mark((function e(t,n){var r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt({network:this.getNetwork(),params:Ot(this,np,pp).call(this,t,!!n)});case 2:if(r=e.sent,i=r.network,null!=(a=r.params)){e.next=7;break}return e.abrupt("return",null);case 7:return e.abrupt("return",this._wrapBlock(a,i));case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getTransaction",value:function(){var e=d(f().mark((function e(t){var n,r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt({network:this.getNetwork(),params:Ot(this,Kd,op).call(this,{method:"getTransaction",hash:t})});case 2:if(n=e.sent,r=n.network,null!=(i=n.params)){e.next=7;break}return e.abrupt("return",null);case 7:return e.abrupt("return",this._wrapTransactionResponse(i,r));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTransactionReceipt",value:function(){var e=d(f().mark((function e(t){var n,r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt({network:this.getNetwork(),params:Ot(this,Kd,op).call(this,{method:"getTransactionReceipt",hash:t})});case 2:if(n=e.sent,r=n.network,null!=(i=n.params)){e.next=7;break}return e.abrupt("return",null);case 7:if(null!=i.gasPrice||null!=i.effectiveGasPrice){e.next=14;break}return e.next=10,Ot(this,Kd,op).call(this,{method:"getTransaction",hash:t});case 10:if(null!=(a=e.sent)){e.next=13;break}throw new Error("report this; could not find tx or effectiveGasPrice");case 13:i.effectiveGasPrice=a.gasPrice;case 14:return e.abrupt("return",this._wrapTransactionReceipt(i,r));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTransactionResult",value:function(){var e=d(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt({network:this.getNetwork(),result:Ot(this,Kd,op).call(this,{method:"getTransactionResult",hash:t})});case 2:if(n=e.sent,null!=(r=n.result)){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",qt(r));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLogs",value:function(){var e=d(f().mark((function e(t){var n,r,i,a,o=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Od(n=this._getFilter(t))){e.next=5;break}return e.next=4,n;case 4:n=e.sent;case 5:return e.next=7,xt({network:this.getNetwork(),params:Ot(this,Kd,op).call(this,{method:"getLogs",filter:n})});case 7:return r=e.sent,i=r.network,a=r.params,e.abrupt("return",a.map((function(e){return o._wrapLog(e,i)})));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getProvider",value:function(e){Et(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}},{key:"getResolver",value:function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oh.fromName(this,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAvatar",value:function(){var e=d(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getResolver(t);case 2:if(!(n=e.sent)){e.next=7;break}return e.next=6,n.getAvatar();case 6:return e.abrupt("return",e.sent);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resolveName",value:function(){var e=d(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getResolver(t);case 2:if(!(n=e.sent)){e.next=7;break}return e.next=6,n.getAddress();case 6:return e.abrupt("return",e.sent);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"lookupAddress",value:function(){var e=d(f().mark((function e(t){var n,r,i,a,o,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Pr(t),n=$u(t.substring(2).toLowerCase()+".addr.reverse"),e.prev=2,e.next=5,Oh.getEnsAddress(this);case 5:return r=e.sent,i=new Zo(r,["function resolver(bytes32) view returns (address)"],this),e.next=9,i.resolver(n);case 9:if(null!=(a=e.sent)&&a!==Oa){e.next=12;break}return e.abrupt("return",null);case 12:return o=new Zo(a,["function name(bytes32) view returns (string)"],this),e.next=15,o.name(n);case 15:return s=e.sent,e.next=18,this.resolveName(s);case 18:if(e.sent===t){e.next=21;break}return e.abrupt("return",null);case 21:return e.abrupt("return",s);case 24:if(e.prev=24,e.t0=e.catch(2),!Mt(e.t0,"BAD_DATA")||"0x"!==e.t0.value){e.next=28;break}return e.abrupt("return",null);case 28:if(!Mt(e.t0,"CALL_EXCEPTION")){e.next=30;break}return e.abrupt("return",null);case 30:throw e.t0;case 31:return e.abrupt("return",null);case 32:case"end":return e.stop()}}),e,this,[[2,24]])})));return function(t){return e.apply(this,arguments)}}()},{key:"waitForTransaction",value:function(){var e=d(f().mark((function e(t,n,r){var i,a=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(i=null!=n?n:1)){e.next=3;break}return e.abrupt("return",this.getTransactionReceipt(t));case 3:return e.abrupt("return",new Promise(function(){var e=d(f().mark((function e(n,o){var s,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=null,u=function(){var e=d(f().mark((function e(r){var o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.getTransactionReceipt(t);case 3:if(null==(o=e.sent)){e.next=9;break}if(!(r-o.blockNumber+1>=i)){e.next=9;break}return n(o),s&&(clearTimeout(s),s=null),e.abrupt("return");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("EEE",e.t0);case 14:a.once("block",u);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),null!=r&&(s=setTimeout((function(){null!=s&&(s=null,a.off("block",u),o(Tt("timeout","TIMEOUT",{reason:"timeout"})))}),r)),e.t0=u,e.next=6,a.getBlockNumber();case 6:e.t1=e.sent,(0,e.t0)(e.t1);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"waitForBlock",value:function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Et(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"_clearTimeout",value:function(e){var t=yt(this,Qd).get(e);t&&(t.timer&&clearTimeout(t.timer),yt(this,Qd).delete(e))}},{key:"_setTimeout",value:function(e,t){var n,r,i=this;null==t&&(t=0);var a=(gt(this,Yd,(n=yt(this,Yd),r=n++,n)),r),o=function(){yt(i,Qd).delete(a),e()};if(this.paused)yt(this,Qd).set(a,{timer:null,func:o,time:t});else{var s=setTimeout(o,t);yt(this,Qd).set(a,{timer:s,func:o,time:Hd()})}return a}},{key:"_forEachSubscriber",value:function(e){var t,n=Lt(yt(this,Wd).values());try{for(n.s();!(t=n.n()).done;){e(t.value.subscriber)}}catch(AG){n.e(AG)}finally{n.f()}}},{key:"_getSubscriber",value:function(e){switch(e.type){case"debug":case"network":return new Ud(e.type);case"block":return new dd(this);case"event":return new Pd(this,e.filter);case"transaction":return new kd(this,e.hash);case"orphan":return new xd(this,e.filter)}throw new Error("unsupported event: ".concat(e.type))}},{key:"_recoverSubscriber",value:function(e,t){var n,r=Lt(yt(this,Wd).values());try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.subscriber===e){i.started&&i.subscriber.stop(),i.subscriber=t,i.started&&t.start(),null!=yt(this,jd)&&t.pause(yt(this,jd));break}}}catch(AG){r.e(AG)}finally{r.f()}}},{key:"on",value:function(){var e=d(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ot(this,ip,gp).call(this,t);case 2:return(r=e.sent).listeners.push({listener:n,once:!1}),r.started||(r.subscriber.start(),r.started=!0,null!=yt(this,jd)&&r.subscriber.pause(yt(this,jd))),e.abrupt("return",this);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"once",value:function(){var e=d(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ot(this,ip,gp).call(this,t);case 2:return(r=e.sent).listeners.push({listener:n,once:!0}),r.started||(r.subscriber.start(),r.started=!0,null!=yt(this,jd)&&r.subscriber.pause(yt(this,jd))),e.abrupt("return",this);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"emit",value:function(){var e=d(f().mark((function e(t){var n,r,i,a,o,s=this,u=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=u.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=u[i];return e.next=3,Ot(this,rp,mp).call(this,t,r);case 3:if((a=e.sent)&&0!==a.listeners.length){e.next=6;break}return e.abrupt("return",!1);case 6:return o=a.listeners.length,a.listeners=a.listeners.filter((function(e){var n=e.listener,i=e.once,a=new ho(s,i?null:n,t);try{n.call.apply(n,[s].concat(r,[a]))}catch(o){}return!i})),0===a.listeners.length&&(a.started&&a.subscriber.stop(),yt(this,Wd).delete(a.tag)),e.abrupt("return",o>0);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"listenerCount",value:function(){var e=d(f().mark((function e(t){var n,r,i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return e.next=3,Ot(this,rp,mp).call(this,t);case 3:if(n=e.sent){e.next=6;break}return e.abrupt("return",0);case 6:return e.abrupt("return",n.listeners.length);case 7:r=0,i=Lt(yt(this,Wd).values());try{for(i.s();!(a=i.n()).done;)o=a.value.listeners,r+=o.length}catch(AG){i.e(AG)}finally{i.f()}return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"listeners",value:function(){var e=d(f().mark((function e(t){var n,r,i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return e.next=3,Ot(this,rp,mp).call(this,t);case 3:if(n=e.sent){e.next=6;break}return e.abrupt("return",[]);case 6:return e.abrupt("return",n.listeners.map((function(e){return e.listener})));case 7:r=[],i=Lt(yt(this,Wd).values());try{for(i.s();!(a=i.n()).done;)o=a.value.listeners,r=r.concat(o.map((function(e){return e.listener})))}catch(AG){i.e(AG)}finally{i.f()}return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"off",value:function(){var e=d(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ot(this,rp,mp).call(this,t);case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return",this);case 5:return n&&(i=r.listeners.map((function(e){return e.listener})).indexOf(n))>=0&&r.listeners.splice(i,1),n&&0!==r.listeners.length||(r.started&&r.subscriber.stop(),yt(this,Wd).delete(r.tag)),e.abrupt("return",this);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeAllListeners",value:function(){var e=d(f().mark((function e(t){var n,r,i,a,o,s,u,c,h,d,p;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=11;break}return e.next=3,Ot(this,ip,gp).call(this,t);case 3:n=e.sent,r=n.tag,i=n.started,a=n.subscriber,i&&a.stop(),yt(this,Wd).delete(r),e.next=13;break;case 11:o=Lt(yt(this,Wd));try{for(o.s();!(s=o.n()).done;)u=l(s.value,2),c=u[0],h=u[1],d=h.started,p=h.subscriber,d&&p.stop(),yt(this,Wd).delete(c)}catch(AG){o.e(AG)}finally{o.f()}case 13:return e.abrupt("return",this);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addListener",value:function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.on(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeListener",value:function(){var e=d(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.off(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){this.removeAllListeners();var e,t=Lt(yt(this,Qd).keys());try{for(t.s();!(e=t.n()).done;){var n=e.value;this._clearTimeout(n)}}catch(AG){t.e(AG)}finally{t.f()}}},{key:"paused",get:function(){return null!=yt(this,jd)},set:function(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}},{key:"pause",value:function(e){if(gt(this,Jd,-1),null!=yt(this,jd)){if(yt(this,jd)==!!e)return;Et(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber((function(t){return t.pause(e)})),gt(this,jd,!!e);var t,n=Lt(yt(this,Qd).values());try{for(n.s();!(t=n.n()).done;){var r=t.value;r.timer&&clearTimeout(r.timer),r.time=Hd()-r.time}}catch(AG){n.e(AG)}finally{n.f()}}},{key:"resume",value:function(){if(null!=yt(this,jd)){this._forEachSubscriber((function(e){return e.resume()})),gt(this,jd,null);var e,t=Lt(yt(this,Qd).values());try{for(t.s();!(e=t.n()).done;){var n=e.value,r=n.time;r<0&&(r=0),n.time=Hd(),setTimeout(n.func,r)}}catch(AG){t.e(AG)}finally{t.f()}}}}]),e}();function op(e){return sp.apply(this,arguments)}function sp(){return(sp=d(f().mark((function e(t){var n,r,i=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Dd(t.method,t),(r=yt(this,Xd).get(n))||(r=this._perform(t),yt(this,Xd).set(n,r),setTimeout((function(){yt(i,Xd).get(n)===r&&yt(i,Xd).delete(n)}),250)),e.next=5,r;case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function up(e,t,n){return lp.apply(this,arguments)}function lp(){return(lp=d(f().mark((function e(t,n,r){var i,a,o,s,u,l,c;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Et(r<Nd,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},t,{blockTag:n,enableCcipRead:!0})}),i=to(t),e.prev=2,e.t0=qt,e.next=6,this._perform({method:"call",transaction:i,blockTag:n});case 6:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 10:if(e.prev=10,e.t2=e.catch(2),!(!this.disableCcipRead&&At(e.t2)&&e.t2.data&&r>=0&&"latest"===n&&null!=i.to&&"0x556f1830"===Yt(e.t2.data,0,4))){e.next=37;break}return a=e.t2.data,e.next=16,fa(i.to,this);case 16:o=e.sent;try{s=Tp(Yt(e.t2.data,4))}catch(f){Et(!1,f.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:a}})}return Et(s.sender.toLowerCase()===o.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:a,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:s.errorArgs}}),e.next=21,this.ccipReadFetch(i,s.calldata,s.urls);case 21:return Et(null!=(u=e.sent),"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:e.t2.data,errorArgs:s.errorArgs}}),l={to:o,data:Xt([s.selector,Mp([u,s.extraData])])},this.emit("debug",{action:"sendCcipReadCall",transaction:l}),e.prev=25,e.next=28,Ot(this,$d,up).call(this,l,n,r+1);case 28:return c=e.sent,this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},l),result:c}),e.abrupt("return",c);case 33:throw e.prev=33,e.t3=e.catch(25),this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},l),error:e.t3}),e.t3;case 37:throw e.t2;case 38:case"end":return e.stop()}}),e,this,[[2,10],[25,33]])})))).apply(this,arguments)}function cp(e){return fp.apply(this,arguments)}function fp(){return(fp=d(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt({network:this.getNetwork(),value:t});case 2:return n=e.sent,r=n.value,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function hp(e,t,n){return dp.apply(this,arguments)}function dp(){return(dp=d(f().mark((function e(t,n,r){var i,a,o,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this._getAddress(n),a=this._getBlockTag(r),"string"===typeof i&&"string"===typeof a){e.next=9;break}return e.next=5,Promise.all([i,a]);case 5:o=e.sent,s=l(o,2),i=s[0],a=s[1];case 9:return e.next=11,Ot(this,ep,cp).call(this,Ot(this,Kd,op).call(this,Object.assign(t,{address:i,blockTag:a})));case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function pp(e,t){return vp.apply(this,arguments)}function vp(){return(vp=d(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!jt(t,32)){e.next=4;break}return e.next=3,Ot(this,Kd,op).call(this,{method:"getBlock",blockHash:t,includeTransactions:n});case 3:return e.abrupt("return",e.sent);case 4:if("string"===typeof(r=this._getBlockTag(t))){e.next=9;break}return e.next=8,r;case 8:r=e.sent;case 9:return e.next=11,Ot(this,Kd,op).call(this,{method:"getBlock",blockTag:r,includeTransactions:n});case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function mp(e,t){return yp.apply(this,arguments)}function yp(){return(yp=d(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bd(t,this);case 2:if(!("event"===(r=e.sent).type&&n&&n.length>0&&!0===n[0].removed)){e.next=7;break}return e.next=6,Bd({orphan:"drop-log",log:n[0]},this);case 6:r=e.sent;case 7:return e.abrupt("return",yt(this,Wd).get(r.tag)||null);case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function gp(e){return bp.apply(this,arguments)}function bp(){return bp=d(f().mark((function e(t){var n,r,i,a,o,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bd(t,this);case 2:return n=e.sent,r=n.tag,(i=yt(this,Wd).get(r))||(a=this._getSubscriber(n),o=new WeakMap,s=new Map,i={subscriber:a,tag:r,addressableMap:o,nameMap:s,started:!1,listeners:[]},yt(this,Wd).set(r,i)),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e,this)}))),bp.apply(this,arguments)}function wp(e,t){try{var n=xp(e,t);if(n)return ni(n)}catch(r){}return null}function xp(e,t){if("0x"===e)return null;try{var n=ln(Yt(e,t,t+32)),r=ln(Yt(e,n,n+32));return Yt(e,n+32,n+32+r)}catch(i){}return null}function _p(e){var t=fn(e);if(t.length>32)throw new Error("internal; should not happen");var n=new Uint8Array(32);return n.set(t,32-t.length),n}function kp(e){if(e.length%32===0)return e;var t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}var Sp=new Uint8Array([]);function Mp(e){for(var t=[],n=0,r=0;r<e.length;r++)t.push(Sp),n+=32;for(var i=0;i<e.length;i++){var a=Wt(e[i]);t[i]=_p(n),t.push(_p(a.length)),t.push(kp(a)),n+=32+32*Math.ceil(a.length/32)}return Xt(t)}var Ap="0x0000000000000000000000000000000000000000000000000000000000000000";function Tp(e){var t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};Et(Jt(e)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});var n=Yt(e,0,32);Et(Yt(n,0,12)===Yt(Ap,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=Yt(n,12);try{for(var r=[],i=ln(Yt(e,32,64)),a=ln(Yt(e,i,i+32)),o=Yt(e,i+32),s=0;s<a;s++){var u=wp(o,32*s);if(null==u)throw new Error("abort");r.push(u)}t.urls=r}catch(f){Et(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{var l=xp(e,64);if(null==l)throw new Error("abort");t.calldata=l}catch(f){Et(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}Et(Yt(e,100,128)===Yt(Ap,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=Yt(e,96,100);try{var c=xp(e,128);if(null==c)throw new Error("abort");t.extraData=c}catch(f){Et(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map((function(e){return t[e]})),t}function Ep(e,t){if(e.provider)return e.provider;Et(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}function Cp(e,t){return Pp.apply(this,arguments)}function Pp(){return Pp=d(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!=(r=to(n)).to&&(r.to=fa(r.to,t)),null!=r.from?(i=r.from,r.from=Promise.all([t.getAddress(),fa(i,t)]).then((function(e){var t=l(e,2),n=t[0],r=t[1];return Ct(n.toLowerCase()===r.toLowerCase(),"transaction from mismatch","tx.from",r),n}))):r.from=t.getAddress(),e.next=5,xt(r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),Pp.apply(this,arguments)}var Rp=function(){function e(t){nt(this,e),Dt(this,"provider",void 0),kt(this,{provider:t||null})}return at(e,[{key:"getNonce",value:function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ep(this,"getTransactionCount"),e.next=3,this.getAddress();case 3:return e.t1=e.sent,e.t2=t,e.abrupt("return",e.t0.getTransactionCount.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"populateCall",value:function(){var e=d(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cp(this,t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"populateTransaction",value:function(){var e=d(f().mark((function e(t){var n,r,i,a,o,s,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ep(this,"populateTransaction"),e.next=3,Cp(this,t);case 3:if(null!=(r=e.sent).nonce){e.next=8;break}return e.next=7,this.getNonce("pending");case 7:r.nonce=e.sent;case 8:if(null!=r.gasLimit){e.next=12;break}return e.next=11,this.estimateGas(r);case 11:r.gasLimit=e.sent;case 12:return e.next=14,this.provider.getNetwork();case 14:if(i=e.sent,null!=r.chainId?Ct(an(r.chainId)===i.chainId,"transaction chainId mismatch","tx.chainId",t.chainId):r.chainId=i.chainId,a=null!=r.maxFeePerGas||null!=r.maxPriorityFeePerGas,null==r.gasPrice||2!==r.type&&!a?0!==r.type&&1!==r.type||!a||Ct(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",t):Ct(!1,"eip-1559 transaction do not support gasPrice","tx",t),2!==r.type&&null!=r.type||null==r.maxFeePerGas||null==r.maxPriorityFeePerGas){e.next=22;break}r.type=2,e.next=34;break;case 22:if(0!==r.type&&1!==r.type){e.next=30;break}return e.next=25,n.getFeeData();case 25:Et(null!=(o=e.sent).gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==r.gasPrice&&(r.gasPrice=o.gasPrice),e.next=34;break;case 30:return e.next=32,n.getFeeData();case 32:s=e.sent,null==r.type?null!=s.maxFeePerGas&&null!=s.maxPriorityFeePerGas?(r.type=2,null!=r.gasPrice?(u=r.gasPrice,delete r.gasPrice,r.maxFeePerGas=u,r.maxPriorityFeePerGas=u):(null==r.maxFeePerGas&&(r.maxFeePerGas=s.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=s.maxPriorityFeePerGas))):null!=s.gasPrice?(Et(!a,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==r.gasPrice&&(r.gasPrice=s.gasPrice),r.type=0):Et(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"}):2===r.type&&(null==r.maxFeePerGas&&(r.maxFeePerGas=s.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=s.maxPriorityFeePerGas));case 34:return e.next=36,xt(r);case 36:return e.abrupt("return",e.sent);case 37:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"estimateGas",value:function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ep(this,"estimateGas"),e.next=3,this.populateCall(t);case 3:return e.t1=e.sent,e.abrupt("return",e.t0.estimateGas.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"call",value:function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ep(this,"call"),e.next=3,this.populateCall(t);case 3:return e.t1=e.sent,e.abrupt("return",e.t0.call.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resolveName",value:function(){var e=d(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ep(this,"resolveName"),e.next=3,n.resolveName(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendTransaction",value:function(){var e=d(f().mark((function e(t){var n,r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ep(this,"sendTransaction"),e.next=3,this.populateTransaction(t);case 3:return delete(r=e.sent).from,i=Nf.from(r),e.t0=n,e.next=9,this.signTransaction(i);case 9:return e.t1=e.sent,e.next=12,e.t0.broadcastTransaction.call(e.t0,e.t1);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();var Ip=new WeakMap,Lp=new WeakMap,Np=new WeakMap,Op=new WeakMap,Dp=new WeakMap,Up=new WeakMap,zp=new WeakSet,Bp=new WeakSet,Fp=function(){function e(t){nt(this,e),Nt(this,Bp),Nt(this,zp),vt(this,Ip,{writable:!0,value:void 0}),vt(this,Lp,{writable:!0,value:void 0}),vt(this,Np,{writable:!0,value:void 0}),vt(this,Op,{writable:!0,value:void 0}),vt(this,Dp,{writable:!0,value:void 0}),vt(this,Up,{writable:!0,value:void 0}),gt(this,Ip,t),gt(this,Lp,null),gt(this,Np,Ot(this,zp,Hp).bind(this)),gt(this,Op,!1),gt(this,Dp,null),gt(this,Up,!1)}return at(e,[{key:"_subscribe",value:function(e){throw new Error("subclasses must override this")}},{key:"_emitResults",value:function(e,t){throw new Error("subclasses must override this")}},{key:"_recover",value:function(e){throw new Error("subclasses must override this")}},{key:"start",value:function(){yt(this,Op)||(gt(this,Op,!0),Ot(this,zp,Hp).call(this,-2))}},{key:"stop",value:function(){yt(this,Op)&&(gt(this,Op,!1),gt(this,Up,!0),Ot(this,Bp,Gp).call(this),yt(this,Ip).off("block",yt(this,Np)))}},{key:"pause",value:function(e){e&&Ot(this,Bp,Gp).call(this),yt(this,Ip).off("block",yt(this,Np))}},{key:"resume",value:function(){this.start()}}]),e}();function Hp(e){return Wp.apply(this,arguments)}function Wp(){return(Wp=d(f().mark((function e(t){var n,r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,null==yt(this,Lp)&&gt(this,Lp,this._subscribe(yt(this,Ip))),n=null,e.prev=3,e.next=6,yt(this,Lp);case 6:n=e.sent,e.next=13;break;case 9:if(e.prev=9,e.t0=e.catch(3),Mt(e.t0,"UNSUPPORTED_OPERATION")&&"eth_newFilter"===e.t0.operation){e.next=13;break}throw e.t0;case 13:if(null!=n){e.next=17;break}return gt(this,Lp,null),yt(this,Ip)._recoverSubscriber(this,this._recover(yt(this,Ip))),e.abrupt("return");case 17:return e.next=19,yt(this,Ip).getNetwork();case 19:if(r=e.sent,yt(this,Dp)||gt(this,Dp,r),yt(this,Dp).chainId===r.chainId){e.next=23;break}throw new Error("chaid changed");case 23:if(!yt(this,Up)){e.next=25;break}return e.abrupt("return");case 25:return e.next=27,yt(this,Ip).send("eth_getFilterChanges",[n]);case 27:return i=e.sent,e.next=30,this._emitResults(yt(this,Ip),i);case 30:e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),console.log("@TODO",e.t1);case 35:yt(this,Ip).once("block",yt(this,Np));case 36:case"end":return e.stop()}}),e,this,[[0,32],[3,9]])})))).apply(this,arguments)}function Gp(){var e=this,t=yt(this,Lp);t&&(gt(this,Lp,null),t.then((function(t){yt(e,Ip).send("eth_uninstallFilter",[t])})))}var jp=new WeakMap,Vp=function(e){ct(n,e);var t=dt(n);function n(e,r){var i,a;return nt(this,n),vt(ot(i=t.call(this,e)),jp,{writable:!0,value:void 0}),gt(ot(i),jp,(a=r,JSON.parse(JSON.stringify(a)))),i}return at(n,[{key:"_recover",value:function(e){return new Pd(e,yt(this,jp))}},{key:"_subscribe",value:function(){var e=d(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.send("eth_newFilter",[yt(this,jp)]);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_emitResults",value:function(){var e=d(f().mark((function e(t,n){var r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Lt(n);try{for(r.s();!(i=r.n()).done;)a=i.value,t.emit(yt(this,jp),t._wrapLog(a,t._network))}catch(AG){r.e(AG)}finally{r.f()}case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(Fp),qp=function(e){ct(n,e);var t=dt(n);function n(){return nt(this,n),t.apply(this,arguments)}return at(n,[{key:"_subscribe",value:function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.send("eth_newPendingTransactionFilter",[]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"_emitResults",value:function(){var e=d(f().mark((function e(t,n){var r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Lt(n);try{for(r.s();!(i=r.n()).done;)a=i.value,t.emit("pending",a)}catch(AG){r.e(AG)}finally{r.f()}case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(Fp),Xp="bigint,boolean,function,number,string,symbol".split(/,/g);function Jp(e){if(null==e||Xp.indexOf(typeof e)>=0)return e;if("function"===typeof e.getAddress)return e;if(Array.isArray(e))return e.map(Jp);if("object"===typeof e)return Object.keys(e).reduce((function(t,n){return t[n]=e[n],t}),{});throw new Error("should not happen: ".concat(e," (").concat(typeof e,")"))}function Yp(e){return new Promise((function(t){setTimeout(t,e)}))}function Qp(e){return e?e.toLowerCase():e}function Zp(e){return e&&"number"===typeof e.pollingInterval}var Kp={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100},$p=function(e){ct(n,e);var t=dt(n);function n(e,r){var i;return nt(this,n),Dt(ot(i=t.call(this,e)),"address",void 0),r=Pr(r),kt(ot(i),{address:r}),i}return at(n,[{key:"connect",value:function(e){Et(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}},{key:"getAddress",value:function(){var e=d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.address);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"populateTransaction",value:function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.populateCall(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendUncheckedTransaction",value:function(){var e=d(f().mark((function e(t){var n,r,i,a,o,s=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Jp(t),r=[],n.from?(i=n.from,r.push(d(f().mark((function e(){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fa(i,s.provider);case 2:Ct(null!=(r=e.sent)&&r.toLowerCase()===s.address.toLowerCase(),"from address mismatch","transaction",t),n.from=r;case 5:case"end":return e.stop()}}),e)})))())):n.from=this.address,null==n.gasLimit&&r.push(d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.provider.estimateGas(zt(zt({},n),{},{from:s.address}));case 2:n.gasLimit=e.sent;case 3:case"end":return e.stop()}}),e)})))()),null!=n.to&&(a=n.to,r.push(d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fa(a,s.provider);case 2:n.to=e.sent;case 3:case"end":return e.stop()}}),e)})))())),!r.length){e.next=8;break}return e.next=8,Promise.all(r);case 8:return o=this.provider.getRpcTransaction(n),e.abrupt("return",this.provider.send("eth_sendTransaction",[o]));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendTransaction",value:function(){var e=d(f().mark((function e(t){var n,r,i=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.getBlockNumber();case 2:return n=e.sent,e.next=5,this.sendUncheckedTransaction(t);case 5:return r=e.sent,e.next=8,new Promise((function(e,t){var a=[1e3,100],o=function(){var t=d(f().mark((function t(){var s;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.provider.getTransaction(r);case 2:if(null==(s=t.sent)){t.next=6;break}return e(s.replaceableTransaction(n)),t.abrupt("return");case 6:i.provider._setTimeout((function(){o()}),a.pop()||4e3);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();o()}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signTransaction",value:function(){var e=d(f().mark((function e(t){var n,r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=Jp(t)).from){e.next=9;break}return e.next=4,fa(n.from,this.provider);case 4:Ct(null!=(r=e.sent)&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),n.from=r,e.next=10;break;case 9:n.from=this.address;case 10:return i=this.provider.getRpcTransaction(n),e.next=13,this.provider.send("eth_signTransaction",[i]);case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signMessage",value:function(){var e=d(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?ti(t):t,e.next=3,this.provider.send("personal_sign",[qt(n),this.address.toLowerCase()]);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signTypedData",value:function(){var e=d(f().mark((function e(t,n,r){var i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jp(r),e.next=3,Ca.resolveNames(t,n,i,function(){var e=d(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fa(t);case 2:return Ct(null!=(n=e.sent),"TypedData does not support null address","value",t),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return a=e.sent,e.next=6,this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Ca.getPayload(a.domain,n,a.value))]);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"unlock",value:function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),t,null]));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_legacySignMessage",value:function(){var e=d(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?ti(t):t,e.next=3,this.provider.send("eth_sign",[this.address.toLowerCase(),qt(n)]);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Rp),ev=new WeakMap,tv=new WeakMap,nv=new WeakMap,rv=new WeakMap,iv=new WeakMap,av=new WeakMap,ov=new WeakSet,sv=function(e){ct(n,e);var t=dt(n);function n(e,r){var i;nt(this,n),Nt(ot(i=t.call(this,e)),ov),vt(ot(i),ev,{writable:!0,value:void 0}),vt(ot(i),tv,{writable:!0,value:void 0}),vt(ot(i),nv,{writable:!0,value:void 0}),vt(ot(i),rv,{writable:!0,value:void 0}),vt(ot(i),iv,{writable:!0,value:void 0}),vt(ot(i),av,{writable:!0,value:void 0}),gt(ot(i),tv,1),gt(ot(i),ev,Object.assign({},Kp,r||{})),gt(ot(i),nv,[]),gt(ot(i),rv,null),gt(ot(i),av,null);var a=null,o=new Promise((function(e){a=e}));gt(ot(i),iv,{promise:o,resolve:a});var s=i._getOption("staticNetwork");return s&&(Ct(s===e,"staticNetwork MUST match network object","options",r),gt(ot(i),av,s)),i}return at(n,[{key:"_getOption",value:function(e){return yt(this,ev)[e]}},{key:"_network",get:function(){return Et(yt(this,av),"network is not available yet","NETWORK_ERROR"),yt(this,av)}},{key:"_perform",value:function(){var e=d(f().mark((function e(t){var r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("call"!==t.method&&"estimateGas"!==t.method){e.next=8;break}if(!(r=t.transaction)||null==r.type||!an(r.type)){e.next=8;break}if(null!=r.maxFeePerGas||null!=r.maxPriorityFeePerGas){e.next=8;break}return e.next=6,this.getFeeData();case 6:null==(i=e.sent).maxFeePerGas&&null==i.maxPriorityFeePerGas&&(t=Object.assign({},t,{transaction:Object.assign({},r,{type:void 0})}));case 8:if(null==(a=this.getRpcRequest(t))){e.next=13;break}return e.next=12,this.send(a.method,a.args);case 12:return e.abrupt("return",e.sent);case 13:return e.abrupt("return",ut(st(n.prototype),"_perform",this).call(this,t));case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_detectNetwork",value:function(){var e=d(f().mark((function e(){var t,n,r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=this._getOption("staticNetwork"))){e.next=3;break}return e.abrupt("return",r);case 3:if(!this.ready){e.next=11;break}return e.t0=id,e.t1=an,e.next=8,this.send("eth_chainId",[]);case 8:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.abrupt("return",e.t0.from.call(e.t0,e.t3));case 11:return i={id:(gt(this,tv,(t=yt(this,tv),n=t++,t)),n),method:"eth_chainId",params:[],jsonrpc:"2.0"},this.emit("debug",{action:"sendRpcPayload",payload:i}),e.prev=13,e.next=16,this._send(i);case 16:a=e.sent[0],e.next=23;break;case 19:throw e.prev=19,e.t4=e.catch(13),this.emit("debug",{action:"receiveRpcError",error:e.t4}),e.t4;case 23:if(this.emit("debug",{action:"receiveRpcResult",result:a}),!("result"in a)){e.next=26;break}return e.abrupt("return",id.from(an(a.result)));case 26:throw this.getRpcError(i,a);case 27:case"end":return e.stop()}}),e,this,[[13,19]])})));return function(){return e.apply(this,arguments)}}()},{key:"_start",value:function(){var e=this;null!=yt(this,iv)&&null!=yt(this,iv).resolve&&(yt(this,iv).resolve(),gt(this,iv,null),d(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=yt(e,av)){t.next=18;break}return t.prev=1,t.t0=gt,t.t1=e,t.t2=av,t.next=7,e._detectNetwork();case 7:t.t3=t.sent,(0,t.t0)(t.t1,t.t2,t.t3),t.next=16;break;case 11:return t.prev=11,t.t4=t.catch(1),console.log("JsonRpcProvider failed to startup; retry in 1s"),t.next=16,Yp(1e3);case 16:t.next=0;break;case 18:Ot(e,ov,uv).call(e);case 19:case"end":return t.stop()}}),t,null,[[1,11]])})))())}},{key:"_waitUntilReady",value:function(){var e=d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=yt(this,iv)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,yt(this,iv).promise;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getSubscriber",value:function(e){return"pending"===e.type?new qp(this):"event"===e.type?this._getOption("polling")?new Pd(this,e.filter):new Vp(this,e.filter):"orphan"===e.type&&"drop-log"===e.filter.orphan?new Ud("orphan"):ut(st(n.prototype),"_getSubscriber",this).call(this,e)}},{key:"ready",get:function(){return null==yt(this,iv)}},{key:"getRpcTransaction",value:function(e){var t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((function(n){if(null!=e[n]){var r=n;"gasLimit"===n&&(r="gas"),t[r]=hn(an(e[n],"tx.".concat(n)))}})),["from","to","data"].forEach((function(n){null!=e[n]&&(t[n]=qt(e[n]))})),e.accessList&&(t.accessList=Ia(e.accessList)),t}},{key:"getRpcRequest",value:function(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Qp(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Qp(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[Qp(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Qp(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&null!=e.filter.address&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(Qp):e.filter.address=Qp(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}},{key:"getRpcError",value:function(e,t){var n=e.method,r=t.error;if("eth_estimateGas"===n&&r.message){var i=r.message;if(!i.match(/revert/i)&&i.match(/insufficient funds/i))return Tt("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:r}})}if("eth_call"===n||"eth_estimateGas"===n){var a=fv(r),o=sa.getBuiltinCallException("eth_call"===n?"call":"estimateGas",e.params[0],a?a.data:null);return o.info={error:r,payload:e},o}var s=JSON.stringify(function(e){var t=[];return hv(e,t),t}(r));if("string"===typeof r.message&&r.message.match(/user denied|ethers-user-denied/i)){return Tt("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[n]||"unknown",reason:"rejected",info:{payload:e,error:r}})}if("eth_sendRawTransaction"===n||"eth_sendTransaction"===n){var u=e.params[0];if(s.match(/insufficient funds|base fee exceeds gas limit/i))return Tt("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:u,info:{error:r}});if(s.match(/nonce/i)&&s.match(/too low/i))return Tt("nonce has already been used","NONCE_EXPIRED",{transaction:u,info:{error:r}});if(s.match(/replacement transaction/i)&&s.match(/underpriced/i))return Tt("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:u,info:{error:r}});if(s.match(/only replay-protected/i))return Tt("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:n,info:{transaction:u,info:{error:r}}})}return s.match(/the method .* does not exist/i)?Tt("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:r}}):Tt("could not coalesce error","UNKNOWN_ERROR",{error:r})}},{key:"send",value:function(e,t){var n,r,i=this,a=(gt(this,tv,(n=yt(this,tv),r=n++,n)),r),o=new Promise((function(n,r){yt(i,nv).push({resolve:n,reject:r,payload:{method:e,params:t,id:a,jsonrpc:"2.0"}})}));return Ot(this,ov,uv).call(this),o}},{key:"getSigner",value:function(){var e=d(f().mark((function e(t){var n,r,i,a,o,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t&&(t=0),n=this.send("eth_accounts",[]),"number"!==typeof t){e.next=9;break}return e.next=5,n;case 5:if(r=e.sent,!(t>=r.length)){e.next=8;break}throw new Error("no such account");case 8:return e.abrupt("return",new $p(this,r[t]));case 9:return e.next=11,xt({network:this.getNetwork(),accounts:n});case 11:i=e.sent,a=i.accounts,t=Pr(t),o=Lt(a),e.prev=15,o.s();case 17:if((s=o.n()).done){e.next=23;break}if(Pr(s.value)!==t){e.next=21;break}return e.abrupt("return",new $p(this,t));case 21:e.next=17;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(15),o.e(e.t0);case 28:return e.prev=28,o.f(),e.finish(28);case 31:throw new Error("invalid account");case 32:case"end":return e.stop()}}),e,this,[[15,25,28,31]])})));return function(t){return e.apply(this,arguments)}}()},{key:"listAccounts",value:function(){var e=d(f().mark((function e(){var t,n=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("eth_accounts",[]);case 2:return t=e.sent,e.abrupt("return",t.map((function(e){return new $p(n,e)})));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ap);function uv(){var e=this;if(!yt(this,rv)){var t=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");gt(this,rv,setTimeout((function(){gt(e,rv,null);var t=yt(e,nv);gt(e,nv,[]);for(var n=function(){for(var n=[t.shift()];t.length&&n.length!==yt(e,ev).batchMaxCount;){if(n.push(t.shift()),JSON.stringify(n.map((function(e){return e.payload}))).length>yt(e,ev).batchMaxSize){t.unshift(n.pop());break}}d(f().mark((function t(){var r,i,a,o,s,u,l,c;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=1===n.length?n[0].payload:n.map((function(e){return e.payload})),e.emit("debug",{action:"sendRpcPayload",payload:r}),t.prev=2,t.next=5,e._send(r);case 5:i=t.sent,e.emit("debug",{action:"receiveRpcResult",result:i}),a=f().mark((function t(){var n,r,a,u,l;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=s[o],r=n.resolve,a=n.reject,u=n.payload,l=i.filter((function(e){return e.id===u.id}))[0],null!=l){t.next=4;break}return t.abrupt("return",{v:a(Tt("no response from server","BAD_DATA",{value:i,info:{payload:u}}))});case 4:if(!("error"in l)){t.next=6;break}return t.abrupt("return",{v:a(e.getRpcError(u,l))});case 6:r(l.result);case 7:case"end":return t.stop()}}),t)})),o=0,s=n;case 9:if(!(o<s.length)){t.next=17;break}return t.delegateYield(a(),"t0",11);case 11:if("object"!==typeof(u=t.t0)){t.next=14;break}return t.abrupt("return",u.v);case 14:o++,t.next=9;break;case 17:t.next=23;break;case 19:for(t.prev=19,t.t1=t.catch(2),e.emit("debug",{action:"receiveRpcError",error:t.t1}),l=0,c=n;l<c.length;l++)(0,c[l].reject)(t.t1);case 23:case"end":return t.stop()}}),t,null,[[2,19]])})))()};t.length;)n()}),t))}}var lv=new WeakMap,cv=function(e){ct(n,e);var t=dt(n);function n(e,r){var i;return nt(this,n),vt(ot(i=t.call(this,e,r)),lv,{writable:!0,value:void 0}),gt(ot(i),lv,4e3),i}return at(n,[{key:"_getSubscriber",value:function(e){var t=ut(st(n.prototype),"_getSubscriber",this).call(this,e);return Zp(t)&&(t.pollingInterval=yt(this,lv)),t}},{key:"pollingInterval",get:function(){return yt(this,lv)},set:function(e){var t=this;if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");gt(this,lv,e),this._forEachSubscriber((function(e){Zp(e)&&(e.pollingInterval=yt(t,lv))}))}}]),n}(sv);function fv(e){if(null==e)return null;if("string"===typeof e.message&&e.message.match("reverted")&&jt(e.data))return{message:e.message,data:e.data};if("object"===typeof e){for(var t in e){var n=fv(e[t]);if(n)return n}return null}if("string"===typeof e)try{return fv(JSON.parse(e))}catch(r){}return null}function hv(e,t){if(null!=e){if("string"===typeof e.message&&t.push(e.message),"object"===typeof e)for(var n in e)hv(e[n],t);if("string"===typeof e)try{return hv(JSON.parse(e),t)}catch(r){}}}var dv=new WeakMap,pv=function(e){ct(n,e);var t=dt(n);function n(e,r){var i;return nt(this,n),vt(ot(i=t.call(this,r,{batchMaxCount:1})),dv,{writable:!0,value:void 0}),gt(ot(i),dv,function(){var t=d(f().mark((function t(n,r){var a,o,s;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={method:n,params:r},i.emit("debug",{action:"sendEip1193Request",payload:a}),t.prev=2,t.next=5,e.request(a);case 5:return o=t.sent,i.emit("debug",{action:"receiveEip1193Result",result:o}),t.abrupt("return",o);case 10:throw t.prev=10,t.t0=t.catch(2),(s=new Error(t.t0.message)).code=t.t0.code,s.data=t.t0.data,s.payload=a,i.emit("debug",{action:"receiveEip1193Error",error:s}),s;case 18:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,n){return t.apply(this,arguments)}}()),i}return at(n,[{key:"send",value:function(){var e=d(f().mark((function e(t,r){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._start();case 2:return e.next=4,ut(st(n.prototype),"send",this).call(this,t,r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_send",value:function(){var e=d(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ct(!Array.isArray(t),"EIP-1193 does not support batch request","payload",t),e.prev=1,e.next=4,yt(this,dv).call(this,t.method,t.params||[]);case 4:return n=e.sent,e.abrupt("return",[{id:t.id,result:n}]);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",[{id:t.id,error:{code:e.t0.code,data:e.t0.data,message:e.t0.message}}]);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getRpcError",value:function(e,t){switch((t=JSON.parse(JSON.stringify(t))).error.code||-1){case 4001:t.error.message="ethers-user-denied: ".concat(t.error.message);break;case 4200:t.error.message="ethers-unsupported: ".concat(t.error.message)}return ut(st(n.prototype),"getRpcError",this).call(this,e,t)}},{key:"hasSigner",value:function(){var e=d(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==t&&(t=0),e.next=3,this.send("eth_accounts",[]);case 3:if(n=e.sent,"number"!==typeof t){e.next=6;break}return e.abrupt("return",n.length>t);case 6:return t=t.toLowerCase(),e.abrupt("return",0!==n.filter((function(e){return e.toLowerCase()===t})).length);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSigner",value:function(){var e=d(f().mark((function e(t){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==t&&(t=0),e.next=3,this.hasSigner(t);case 3:if(e.sent){e.next=13;break}return e.prev=4,e.next=7,yt(this,dv).call(this,"eth_requestAccounts",[]);case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(4),r=e.t0.payload,this.getRpcError(r,{id:r.id,error:e.t0});case 13:return e.next=15,ut(st(n.prototype),"getSigner",this).call(this,t);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e,this,[[4,9]])})));return function(t){return e.apply(this,arguments)}}()}]),n}(cv);function vv(e,n){var r=l((0,t.useState)(!1),2),i=r[0],a=r[1],o=(0,t.useMemo)((function(){return e?new Audio(e):void 0}),[e]);return o&&(o.loop=n,o.addEventListener("play",(function(){a(!0)})),o.addEventListener("pause",(function(){a(!1)}))),{playing:i,play:null===o||void 0===o?void 0:o.play.bind(o),pause:null===o||void 0===o?void 0:o.pause.bind(o),stop:function(){var e=d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===o||void 0===o?void 0:o.pause.bind(o)();case 2:null!==o&&void 0!==o&&o.currentTime&&(o.currentTime=0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}var mv={wrap:{name:"1wujiw2",styles:'background-color:#5dd4ae;color:#000;font-family:"Courier New",monospace;font-weight:bold;font-size:1.25rem;padding:12px 24px;border:none;outline:none;border-radius:5px;box-shadow:inset 0 0 0 1px rgba(255, 255, 255, 0.3),inset 0 0 0 2px rgba(0, 0, 0, 0.8),0 0 0 1px rgba(0, 0, 0, 0.4),0 4px 6px rgba(0, 0, 0, 0.2);cursor:none;text-shadow:0 1px 0 rgba(255, 255, 255, 0.3);transition:0.3s;&:active{background-color:#009900;box-shadow:inset 0 0 0 1px rgba(255, 255, 255, 0.3),inset 0 0 0 2px rgba(0, 0, 0, 0.8),0 0 0 1px rgba(0, 0, 0, 0.4),0 2px 4px rgba(0, 0, 0, 0.2);transform:translateY(1px);}'}};function yv(e){var t=e.children,n=e.style,r=e.onClick;return He("button",{style:n,onClick:r,"data-cursor":!0,css:mv.wrap},t)}var gv=JSON.parse('[{"inputs":[{"internalType":"uint256","name":"startGuaranteed","type":"uint256"},{"internalType":"uint256","name":"startWl","type":"uint256"},{"internalType":"uint256","name":"startPub","type":"uint256"},{"internalType":"address","name":"_wallet","type":"address"},{"internalType":"bytes32","name":"_seedHash","type":"bytes32"},{"internalType":"bytes32","name":"_root","type":"bytes32"},{"internalType":"address","name":"_heroes","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"ApprovalCallerNotOwnerNorApproved","type":"error"},{"inputs":[],"name":"ApprovalQueryForNonexistentToken","type":"error"},{"inputs":[],"name":"BalanceQueryForZeroAddress","type":"error"},{"inputs":[{"internalType":"string","name":"","type":"string"}],"name":"ErrorMessage","type":"error"},{"inputs":[],"name":"MintERC2309QuantityExceedsLimit","type":"error"},{"inputs":[],"name":"MintToZeroAddress","type":"error"},{"inputs":[],"name":"MintZeroQuantity","type":"error"},{"inputs":[],"name":"OwnerQueryForNonexistentToken","type":"error"},{"inputs":[],"name":"OwnershipNotInitializedForExtraData","type":"error"},{"inputs":[],"name":"TransferCallerNotOwnerNorApproved","type":"error"},{"inputs":[],"name":"TransferFromIncorrectOwner","type":"error"},{"inputs":[],"name":"TransferToNonERC721ReceiverImplementer","type":"error"},{"inputs":[],"name":"TransferToZeroAddress","type":"error"},{"inputs":[],"name":"URIQueryForNonexistentToken","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_fromTokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_toTokenId","type":"uint256"}],"name":"BatchMetadataUpdate","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"fromTokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"toTokenId","type":"uint256"},{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"}],"name":"ConsecutiveTransfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address[]","name":"collections","type":"address[]"}],"name":"addWlCollections","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"cdnBase","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getSeed","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"gmMints","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes32[]","name":"proof","type":"bytes32[]"}],"name":"guaranteedMint","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"guaranteedMintMerkleRoot","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"heroPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxMintPerTx","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"mintPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"address","name":"wlAddress","type":"address"}],"name":"mintWithAddress","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"randomness","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renderer","outputs":[{"internalType":"contract SynthiaRenderer","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_seed","type":"uint256"},{"internalType":"bytes32","name":"_nonce","type":"bytes32"}],"name":"revealSeed","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"seed","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"seedHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_renderer","type":"address"}],"name":"setRenderer","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"_root","type":"bytes32"}],"name":"setRoot","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"base","type":"string"}],"name":"updateCdnBase","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_startWl","type":"uint256"},{"internalType":"uint256","name":"_startGuaranteed","type":"uint256"},{"internalType":"uint256","name":"_startPub","type":"uint256"}],"name":"updateDates","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"val","type":"bool"}],"name":"updateUseCdn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_wallet","type":"address"}],"name":"updateWallet","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"useCdn","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"wallet","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"wlCollections","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"}]'),bv=JSON.parse('[{"inputs":[{"internalType":"string","name":"baseUri","type":"string"},{"internalType":"string","name":"name","type":"string"},{"internalType":"address","name":"traits","type":"address"},{"internalType":"address","name":"traits2","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"CDN_ENABLED","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"CDN_PREFIX","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"tokenIdToSeed","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenOfOwnerByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sendTo","type":"address"}],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getSeed","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"genTraits","outputs":[{"components":[{"internalType":"uint256","name":"race","type":"uint256"},{"internalType":"uint256","name":"pants","type":"uint256"},{"internalType":"uint256","name":"weapon","type":"uint256"},{"internalType":"uint256","name":"shield","type":"uint256"},{"internalType":"uint256","name":"clothes","type":"uint256"},{"internalType":"uint256","name":"head","type":"uint256"},{"internalType":"uint256","name":"shoes","type":"uint256"},{"internalType":"uint256","name":"hair","type":"uint256"},{"internalType":"uint256","name":"bg","type":"uint256"},{"internalType":"uint256","name":"magic","type":"uint256"},{"internalType":"uint256","name":"strength","type":"uint256"},{"internalType":"uint256","name":"intelligence","type":"uint256"},{"internalType":"uint256","name":"stamina","type":"uint256"},{"internalType":"uint256","name":"dexterity","type":"uint256"},{"internalType":"uint256","name":"creativity","type":"uint256"}],"internalType":"struct Heroes.Traits","name":"","type":"tuple"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"genSvg","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"num","type":"uint256"}],"name":"getSeedPart","outputs":[{"internalType":"uint16","name":"","type":"uint16"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"string","name":"baseUri","type":"string"}],"name":"setBaseUri","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"d","type":"string"}],"name":"updateDescription","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"signer","type":"address"}],"name":"updateSigner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"value","type":"bool"},{"internalType":"string","name":"prefix","type":"string"}],"name":"enableCdn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getJsonString","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"payable","type":"function","payable":true},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"merlinMint","outputs":[],"stateMutability":"payable","type":"function","payable":true},{"inputs":[{"internalType":"string","name":"tokenUriHash","type":"string"},{"internalType":"address","name":"to","type":"address"}],"name":"mintCustom","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),wv={synthia:"0xABf0b84f870ff3B45988e49Fd62B881d7C46C6E6"};Object.values(wv).some((function(e){return!e}))&&console.error("MISSING ENV VARS"),console.log(wv);var xv=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,_v=Math.ceil,kv=Math.floor,Sv="[BigNumber Error] ",Mv=Sv+"Number primitive has more than 15 significant digits: ",Av=1e14,Tv=14,Ev=9007199254740991,Cv=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Pv=1e7,Rv=1e9;function Iv(e){var t=0|e;return e>0||e===t?t:t-1}function Lv(e){for(var t,n,r=1,i=e.length,a=e[0]+"";r<i;){for(t=e[r++]+"",n=Tv-t.length;n--;t="0"+t);a+=t}for(i=a.length;48===a.charCodeAt(--i););return a.slice(0,i+1||1)}function Nv(e,t){var n,r,i=e.c,a=t.c,o=e.s,s=t.s,u=e.e,l=t.e;if(!o||!s)return null;if(n=i&&!i[0],r=a&&!a[0],n||r)return n?r?0:-s:o;if(o!=s)return o;if(n=o<0,r=u==l,!i||!a)return r?0:!i^n?1:-1;if(!r)return u>l^n?1:-1;for(s=(u=i.length)<(l=a.length)?u:l,o=0;o<s;o++)if(i[o]!=a[o])return i[o]>a[o]^n?1:-1;return u==l?0:u>l^n?1:-1}function Ov(e,t,n,r){if(e<t||e>n||e!==kv(e))throw Error(Sv+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function Dv(e){var t=e.c.length-1;return Iv(e.e/Tv)==t&&e.c[t]%2!=0}function Uv(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function zv(e,t,n){var r,i;if(t<0){for(i=n+".";++t;i+=n);e=i+e}else if(++t>(r=e.length)){for(i=n,t-=r;--t;i+=n);e+=i}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}var Bv=function e(t){var n,r,i,a=b.prototype={constructor:b,toString:null,valueOf:null},o=new b(1),s=20,u=4,l=-7,c=21,f=-1e7,h=1e7,d=!1,p=1,v=0,m={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},y="0123456789abcdefghijklmnopqrstuvwxyz",g=!0;function b(e,t){var n,a,o,l,c,d,p,v,m=this;if(!(m instanceof b))return new b(e,t);if(null==t){if(e&&!0===e._isBigNumber)return m.s=e.s,void(!e.c||e.e>h?m.c=m.e=null:e.e<f?m.c=[m.e=0]:(m.e=e.e,m.c=e.c.slice()));if((d="number"==typeof e)&&0*e==0){if(m.s=1/e<0?(e=-e,-1):1,e===~~e){for(l=0,c=e;c>=10;c/=10,l++);return void(l>h?m.c=m.e=null:(m.e=l,m.c=[e]))}v=String(e)}else{if(!xv.test(v=String(e)))return i(m,v,d);m.s=45==v.charCodeAt(0)?(v=v.slice(1),-1):1}(l=v.indexOf("."))>-1&&(v=v.replace(".","")),(c=v.search(/e/i))>0?(l<0&&(l=c),l+=+v.slice(c+1),v=v.substring(0,c)):l<0&&(l=v.length)}else{if(Ov(t,2,y.length,"Base"),10==t&&g)return k(m=new b(e),s+m.e+1,u);if(v=String(e),d="number"==typeof e){if(0*e!=0)return i(m,v,d,t);if(m.s=1/e<0?(v=v.slice(1),-1):1,b.DEBUG&&v.replace(/^0\.0*|\./,"").length>15)throw Error(Mv+e)}else m.s=45===v.charCodeAt(0)?(v=v.slice(1),-1):1;for(n=y.slice(0,t),l=c=0,p=v.length;c<p;c++)if(n.indexOf(a=v.charAt(c))<0){if("."==a){if(c>l){l=p;continue}}else if(!o&&(v==v.toUpperCase()&&(v=v.toLowerCase())||v==v.toLowerCase()&&(v=v.toUpperCase()))){o=!0,c=-1,l=0;continue}return i(m,String(e),d,t)}d=!1,(l=(v=r(v,t,10,m.s)).indexOf("."))>-1?v=v.replace(".",""):l=v.length}for(c=0;48===v.charCodeAt(c);c++);for(p=v.length;48===v.charCodeAt(--p););if(v=v.slice(c,++p)){if(p-=c,d&&b.DEBUG&&p>15&&(e>Ev||e!==kv(e)))throw Error(Mv+m.s*e);if((l=l-c-1)>h)m.c=m.e=null;else if(l<f)m.c=[m.e=0];else{if(m.e=l,m.c=[],c=(l+1)%Tv,l<0&&(c+=Tv),c<p){for(c&&m.c.push(+v.slice(0,c)),p-=Tv;c<p;)m.c.push(+v.slice(c,c+=Tv));c=Tv-(v=v.slice(c)).length}else c-=p;for(;c--;v+="0");m.c.push(+v)}}else m.c=[m.e=0]}function w(e,t,n,r){var i,a,o,s,f;if(null==n?n=u:Ov(n,0,8),!e.c)return e.toString();if(i=e.c[0],o=e.e,null==t)f=Lv(e.c),f=1==r||2==r&&(o<=l||o>=c)?Uv(f,o):zv(f,o,"0");else if(a=(e=k(new b(e),t,n)).e,s=(f=Lv(e.c)).length,1==r||2==r&&(t<=a||a<=l)){for(;s<t;f+="0",s++);f=Uv(f,a)}else if(t-=o,f=zv(f,a,"0"),a+1>s){if(--t>0)for(f+=".";t--;f+="0");}else if((t+=a-s)>0)for(a+1==s&&(f+=".");t--;f+="0");return e.s<0&&i?"-"+f:f}function x(e,t){for(var n,r=1,i=new b(e[0]);r<e.length;r++){if(!(n=new b(e[r])).s){i=n;break}t.call(i,n)&&(i=n)}return i}function _(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,r++);return(n=r+n*Tv-1)>h?e.c=e.e=null:n<f?e.c=[e.e=0]:(e.e=n,e.c=t),e}function k(e,t,n,r){var i,a,o,s,u,l,c,d=e.c,p=Cv;if(d){e:{for(i=1,s=d[0];s>=10;s/=10,i++);if((a=t-i)<0)a+=Tv,o=t,c=(u=d[l=0])/p[i-o-1]%10|0;else if((l=_v((a+1)/Tv))>=d.length){if(!r)break e;for(;d.length<=l;d.push(0));u=c=0,i=1,o=(a%=Tv)-Tv+1}else{for(u=s=d[l],i=1;s>=10;s/=10,i++);c=(o=(a%=Tv)-Tv+i)<0?0:u/p[i-o-1]%10|0}if(r=r||t<0||null!=d[l+1]||(o<0?u:u%p[i-o-1]),r=n<4?(c||r)&&(0==n||n==(e.s<0?3:2)):c>5||5==c&&(4==n||r||6==n&&(a>0?o>0?u/p[i-o]:0:d[l-1])%10&1||n==(e.s<0?8:7)),t<1||!d[0])return d.length=0,r?(t-=e.e+1,d[0]=p[(Tv-t%Tv)%Tv],e.e=-t||0):d[0]=e.e=0,e;if(0==a?(d.length=l,s=1,l--):(d.length=l+1,s=p[Tv-a],d[l]=o>0?kv(u/p[i-o]%p[o])*s:0),r)for(;;){if(0==l){for(a=1,o=d[0];o>=10;o/=10,a++);for(o=d[0]+=s,s=1;o>=10;o/=10,s++);a!=s&&(e.e++,d[0]==Av&&(d[0]=1));break}if(d[l]+=s,d[l]!=Av)break;d[l--]=0,s=1}for(a=d.length;0===d[--a];d.pop());}e.e>h?e.c=e.e=null:e.e<f&&(e.c=[e.e=0])}return e}function S(e){var t,n=e.e;return null===n?e.toString():(t=Lv(e.c),t=n<=l||n>=c?Uv(t,n):zv(t,n,"0"),e.s<0?"-"+t:t)}return b.clone=e,b.ROUND_UP=0,b.ROUND_DOWN=1,b.ROUND_CEIL=2,b.ROUND_FLOOR=3,b.ROUND_HALF_UP=4,b.ROUND_HALF_DOWN=5,b.ROUND_HALF_EVEN=6,b.ROUND_HALF_CEIL=7,b.ROUND_HALF_FLOOR=8,b.EUCLID=9,b.config=b.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(Sv+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(Ov(n=e[t],0,Rv,t),s=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(Ov(n=e[t],0,8,t),u=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(Ov(n[0],-Rv,0,t),Ov(n[1],0,Rv,t),l=n[0],c=n[1]):(Ov(n,-Rv,Rv,t),l=-(c=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)Ov(n[0],-Rv,-1,t),Ov(n[1],1,Rv,t),f=n[0],h=n[1];else{if(Ov(n,-Rv,Rv,t),!n)throw Error(Sv+t+" cannot be zero: "+n);f=-(h=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(Sv+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw d=!n,Error(Sv+"crypto unavailable");d=n}else d=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(Ov(n=e[t],0,9,t),p=n),e.hasOwnProperty(t="POW_PRECISION")&&(Ov(n=e[t],0,Rv,t),v=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(Sv+t+" not an object: "+n);m=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(Sv+t+" invalid: "+n);g="0123456789"==n.slice(0,10),y=n}}return{DECIMAL_PLACES:s,ROUNDING_MODE:u,EXPONENTIAL_AT:[l,c],RANGE:[f,h],CRYPTO:d,MODULO_MODE:p,POW_PRECISION:v,FORMAT:m,ALPHABET:y}},b.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!b.DEBUG)return!0;var t,n,r=e.c,i=e.e,a=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===a||-1===a)&&i>=-Rv&&i<=Rv&&i===kv(i)){if(0===r[0]){if(0===i&&1===r.length)return!0;break e}if((t=(i+1)%Tv)<1&&(t+=Tv),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=Av||n!==kv(n))break e;if(0!==n)return!0}}}else if(null===r&&null===i&&(null===a||1===a||-1===a))return!0;throw Error(Sv+"Invalid BigNumber: "+e)},b.maximum=b.max=function(){return x(arguments,a.lt)},b.minimum=b.min=function(){return x(arguments,a.gt)},b.random=function(){var e=9007199254740992,t=Math.random()*e&2097151?function(){return kv(Math.random()*e)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)};return function(e){var n,r,i,a,u,l=0,c=[],f=new b(o);if(null==e?e=s:Ov(e,0,Rv),a=_v(e/Tv),d)if(crypto.getRandomValues){for(n=crypto.getRandomValues(new Uint32Array(a*=2));l<a;)(u=131072*n[l]+(n[l+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),n[l]=r[0],n[l+1]=r[1]):(c.push(u%1e14),l+=2);l=a/2}else{if(!crypto.randomBytes)throw d=!1,Error(Sv+"crypto unavailable");for(n=crypto.randomBytes(a*=7);l<a;)(u=281474976710656*(31&n[l])+1099511627776*n[l+1]+4294967296*n[l+2]+16777216*n[l+3]+(n[l+4]<<16)+(n[l+5]<<8)+n[l+6])>=9e15?crypto.randomBytes(7).copy(n,l):(c.push(u%1e14),l+=7);l=a/7}if(!d)for(;l<a;)(u=t())<9e15&&(c[l++]=u%1e14);for(a=c[--l],e%=Tv,a&&e&&(u=Cv[Tv-e],c[l]=kv(a/u)*u);0===c[l];c.pop(),l--);if(l<0)c=[i=0];else{for(i=-1;0===c[0];c.splice(0,1),i-=Tv);for(l=1,u=c[0];u>=10;u/=10,l++);l<Tv&&(i-=Tv-l)}return f.e=i,f.c=c,f}}(),b.sum=function(){for(var e=1,t=arguments,n=new b(t[0]);e<t.length;)n=n.plus(t[e++]);return n},r=function(){var e="0123456789";function t(e,t,n,r){for(var i,a,o=[0],s=0,u=e.length;s<u;){for(a=o.length;a--;o[a]*=t);for(o[0]+=r.indexOf(e.charAt(s++)),i=0;i<o.length;i++)o[i]>n-1&&(null==o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/n|0,o[i]%=n)}return o.reverse()}return function(r,i,a,o,l){var c,f,h,d,p,m,g,w,x=r.indexOf("."),_=s,k=u;for(x>=0&&(d=v,v=0,r=r.replace(".",""),m=(w=new b(i)).pow(r.length-x),v=d,w.c=t(zv(Lv(m.c),m.e,"0"),10,a,e),w.e=w.c.length),h=d=(g=t(r,i,a,l?(c=y,e):(c=e,y))).length;0==g[--d];g.pop());if(!g[0])return c.charAt(0);if(x<0?--h:(m.c=g,m.e=h,m.s=o,g=(m=n(m,w,_,k,a)).c,p=m.r,h=m.e),x=g[f=h+_+1],d=a/2,p=p||f<0||null!=g[f+1],p=k<4?(null!=x||p)&&(0==k||k==(m.s<0?3:2)):x>d||x==d&&(4==k||p||6==k&&1&g[f-1]||k==(m.s<0?8:7)),f<1||!g[0])r=p?zv(c.charAt(1),-_,c.charAt(0)):c.charAt(0);else{if(g.length=f,p)for(--a;++g[--f]>a;)g[f]=0,f||(++h,g=[1].concat(g));for(d=g.length;!g[--d];);for(x=0,r="";x<=d;r+=c.charAt(g[x++]));r=zv(r,h,c.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,i,a,o,s=0,u=e.length,l=t%Pv,c=t/Pv|0;for(e=e.slice();u--;)s=((i=l*(a=e[u]%Pv)+(r=c*a+(o=e[u]/Pv|0)*l)%Pv*Pv+s)/n|0)+(r/Pv|0)+c*o,e[u]=i%n;return s&&(e=[s].concat(e)),e}function t(e,t,n,r){var i,a;if(n!=r)a=n>r?1:-1;else for(i=a=0;i<n;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,i,a,o,s){var u,l,c,f,h,d,p,v,m,y,g,w,x,_,S,M,A,T=r.s==i.s?1:-1,E=r.c,C=i.c;if(!E||!E[0]||!C||!C[0])return new b(r.s&&i.s&&(E?!C||E[0]!=C[0]:C)?E&&0==E[0]||!C?0*T:T/0:NaN);for(m=(v=new b(T)).c=[],T=a+(l=r.e-i.e)+1,s||(s=Av,l=Iv(r.e/Tv)-Iv(i.e/Tv),T=T/Tv|0),c=0;C[c]==(E[c]||0);c++);if(C[c]>(E[c]||0)&&l--,T<0)m.push(1),f=!0;else{for(_=E.length,M=C.length,c=0,T+=2,(h=kv(s/(C[0]+1)))>1&&(C=e(C,h,s),E=e(E,h,s),M=C.length,_=E.length),x=M,g=(y=E.slice(0,M)).length;g<M;y[g++]=0);A=C.slice(),A=[0].concat(A),S=C[0],C[1]>=s/2&&S++;do{if(h=0,(u=t(C,y,M,g))<0){if(w=y[0],M!=g&&(w=w*s+(y[1]||0)),(h=kv(w/S))>1)for(h>=s&&(h=s-1),p=(d=e(C,h,s)).length,g=y.length;1==t(d,y,p,g);)h--,n(d,M<p?A:C,p,s),p=d.length,u=1;else 0==h&&(u=h=1),p=(d=C.slice()).length;if(p<g&&(d=[0].concat(d)),n(y,d,g,s),g=y.length,-1==u)for(;t(C,y,M,g)<1;)h++,n(y,M<g?A:C,g,s),g=y.length}else 0===u&&(h++,y=[0]);m[c++]=h,y[0]?y[g++]=E[x]||0:(y=[E[x]],g=1)}while((x++<_||null!=y[0])&&T--);f=null!=y[0],m[0]||m.splice(0,1)}if(s==Av){for(c=1,T=m[0];T>=10;T/=10,c++);k(v,a+(v.e=c+l*Tv-1)+1,o,f)}else v.e=l,v.r=+f;return v}}(),i=function(){var e=/^(-?)0([xbo])(?=\w[\w.]*$)/i,t=/^([^.]+)\.$/,n=/^\.([^.]+)$/,r=/^-?(Infinity|NaN)$/,i=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(a,o,s,u){var l,c=s?o:o.replace(i,"");if(r.test(c))a.s=isNaN(c)?null:c<0?-1:1;else{if(!s&&(c=c.replace(e,(function(e,t,n){return l="x"==(n=n.toLowerCase())?16:"b"==n?2:8,u&&u!=l?e:t})),u&&(l=u,c=c.replace(t,"$1").replace(n,"0.$1")),o!=c))return new b(c,l);if(b.DEBUG)throw Error(Sv+"Not a"+(u?" base "+u:"")+" number: "+o);a.s=null}a.c=a.e=null}}(),a.absoluteValue=a.abs=function(){var e=new b(this);return e.s<0&&(e.s=1),e},a.comparedTo=function(e,t){return Nv(this,new b(e,t))},a.decimalPlaces=a.dp=function(e,t){var n,r,i,a=this;if(null!=e)return Ov(e,0,Rv),null==t?t=u:Ov(t,0,8),k(new b(a),e+a.e+1,t);if(!(n=a.c))return null;if(r=((i=n.length-1)-Iv(this.e/Tv))*Tv,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},a.dividedBy=a.div=function(e,t){return n(this,new b(e,t),s,u)},a.dividedToIntegerBy=a.idiv=function(e,t){return n(this,new b(e,t),0,1)},a.exponentiatedBy=a.pow=function(e,t){var n,r,i,a,s,l,c,f,h=this;if((e=new b(e)).c&&!e.isInteger())throw Error(Sv+"Exponent not an integer: "+S(e));if(null!=t&&(t=new b(t)),s=e.e>14,!h.c||!h.c[0]||1==h.c[0]&&!h.e&&1==h.c.length||!e.c||!e.c[0])return f=new b(Math.pow(+S(h),s?e.s*(2-Dv(e)):+S(e))),t?f.mod(t):f;if(l=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new b(NaN);(r=!l&&h.isInteger()&&t.isInteger())&&(h=h.mod(t))}else{if(e.e>9&&(h.e>0||h.e<-1||(0==h.e?h.c[0]>1||s&&h.c[1]>=24e7:h.c[0]<8e13||s&&h.c[0]<=9999975e7)))return a=h.s<0&&Dv(e)?-0:0,h.e>-1&&(a=1/a),new b(l?1/a:a);v&&(a=_v(v/Tv+2))}for(s?(n=new b(.5),l&&(e.s=1),c=Dv(e)):c=(i=Math.abs(+S(e)))%2,f=new b(o);;){if(c){if(!(f=f.times(h)).c)break;a?f.c.length>a&&(f.c.length=a):r&&(f=f.mod(t))}if(i){if(0===(i=kv(i/2)))break;c=i%2}else if(k(e=e.times(n),e.e+1,1),e.e>14)c=Dv(e);else{if(0===(i=+S(e)))break;c=i%2}h=h.times(h),a?h.c&&h.c.length>a&&(h.c.length=a):r&&(h=h.mod(t))}return r?f:(l&&(f=o.div(f)),t?f.mod(t):a?k(f,v,u,undefined):f)},a.integerValue=function(e){var t=new b(this);return null==e?e=u:Ov(e,0,8),k(t,t.e+1,e)},a.isEqualTo=a.eq=function(e,t){return 0===Nv(this,new b(e,t))},a.isFinite=function(){return!!this.c},a.isGreaterThan=a.gt=function(e,t){return Nv(this,new b(e,t))>0},a.isGreaterThanOrEqualTo=a.gte=function(e,t){return 1===(t=Nv(this,new b(e,t)))||0===t},a.isInteger=function(){return!!this.c&&Iv(this.e/Tv)>this.c.length-2},a.isLessThan=a.lt=function(e,t){return Nv(this,new b(e,t))<0},a.isLessThanOrEqualTo=a.lte=function(e,t){return-1===(t=Nv(this,new b(e,t)))||0===t},a.isNaN=function(){return!this.s},a.isNegative=function(){return this.s<0},a.isPositive=function(){return this.s>0},a.isZero=function(){return!!this.c&&0==this.c[0]},a.minus=function(e,t){var n,r,i,a,o=this,s=o.s;if(t=(e=new b(e,t)).s,!s||!t)return new b(NaN);if(s!=t)return e.s=-t,o.plus(e);var l=o.e/Tv,c=e.e/Tv,f=o.c,h=e.c;if(!l||!c){if(!f||!h)return f?(e.s=-t,e):new b(h?o:NaN);if(!f[0]||!h[0])return h[0]?(e.s=-t,e):new b(f[0]?o:3==u?-0:0)}if(l=Iv(l),c=Iv(c),f=f.slice(),s=l-c){for((a=s<0)?(s=-s,i=f):(c=l,i=h),i.reverse(),t=s;t--;i.push(0));i.reverse()}else for(r=(a=(s=f.length)<(t=h.length))?s:t,s=t=0;t<r;t++)if(f[t]!=h[t]){a=f[t]<h[t];break}if(a&&(i=f,f=h,h=i,e.s=-e.s),(t=(r=h.length)-(n=f.length))>0)for(;t--;f[n++]=0);for(t=Av-1;r>s;){if(f[--r]<h[r]){for(n=r;n&&!f[--n];f[n]=t);--f[n],f[r]+=Av}f[r]-=h[r]}for(;0==f[0];f.splice(0,1),--c);return f[0]?_(e,f,c):(e.s=3==u?-1:1,e.c=[e.e=0],e)},a.modulo=a.mod=function(e,t){var r,i,a=this;return e=new b(e,t),!a.c||!e.s||e.c&&!e.c[0]?new b(NaN):!e.c||a.c&&!a.c[0]?new b(a):(9==p?(i=e.s,e.s=1,r=n(a,e,0,3),e.s=i,r.s*=i):r=n(a,e,0,p),(e=a.minus(r.times(e))).c[0]||1!=p||(e.s=a.s),e)},a.multipliedBy=a.times=function(e,t){var n,r,i,a,o,s,u,l,c,f,h,d,p,v,m,y=this,g=y.c,w=(e=new b(e,t)).c;if(!g||!w||!g[0]||!w[0])return!y.s||!e.s||g&&!g[0]&&!w||w&&!w[0]&&!g?e.c=e.e=e.s=null:(e.s*=y.s,g&&w?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=Iv(y.e/Tv)+Iv(e.e/Tv),e.s*=y.s,(u=g.length)<(f=w.length)&&(p=g,g=w,w=p,i=u,u=f,f=i),i=u+f,p=[];i--;p.push(0));for(v=Av,m=Pv,i=f;--i>=0;){for(n=0,h=w[i]%m,d=w[i]/m|0,a=i+(o=u);a>i;)n=((l=h*(l=g[--o]%m)+(s=d*l+(c=g[o]/m|0)*h)%m*m+p[a]+n)/v|0)+(s/m|0)+d*c,p[a--]=l%v;p[a]=n}return n?++r:p.splice(0,1),_(e,p,r)},a.negated=function(){var e=new b(this);return e.s=-e.s||null,e},a.plus=function(e,t){var n,r=this,i=r.s;if(t=(e=new b(e,t)).s,!i||!t)return new b(NaN);if(i!=t)return e.s=-t,r.minus(e);var a=r.e/Tv,o=e.e/Tv,s=r.c,u=e.c;if(!a||!o){if(!s||!u)return new b(i/0);if(!s[0]||!u[0])return u[0]?e:new b(s[0]?r:0*i)}if(a=Iv(a),o=Iv(o),s=s.slice(),i=a-o){for(i>0?(o=a,n=u):(i=-i,n=s),n.reverse();i--;n.push(0));n.reverse()}for((i=s.length)-(t=u.length)<0&&(n=u,u=s,s=n,t=i),i=0;t;)i=(s[--t]=s[t]+u[t]+i)/Av|0,s[t]=Av===s[t]?0:s[t]%Av;return i&&(s=[i].concat(s),++o),_(e,s,o)},a.precision=a.sd=function(e,t){var n,r,i,a=this;if(null!=e&&e!==!!e)return Ov(e,1,Rv),null==t?t=u:Ov(t,0,8),k(new b(a),e,t);if(!(n=a.c))return null;if(r=(i=n.length-1)*Tv+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return e&&a.e+1>r&&(r=a.e+1),r},a.shiftedBy=function(e){return Ov(e,-9007199254740991,Ev),this.times("1e"+e)},a.squareRoot=a.sqrt=function(){var e,t,r,i,a,o=this,l=o.c,c=o.s,f=o.e,h=s+4,d=new b("0.5");if(1!==c||!l||!l[0])return new b(!c||c<0&&(!l||l[0])?NaN:l?o:1/0);if(0==(c=Math.sqrt(+S(o)))||c==1/0?(((t=Lv(l)).length+f)%2==0&&(t+="0"),c=Math.sqrt(+t),f=Iv((f+1)/2)-(f<0||f%2),r=new b(t=c==1/0?"5e"+f:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+f)):r=new b(c+""),r.c[0])for((c=(f=r.e)+h)<3&&(c=0);;)if(a=r,r=d.times(a.plus(n(o,a,h,1))),Lv(a.c).slice(0,c)===(t=Lv(r.c)).slice(0,c)){if(r.e<f&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(k(r,r.e+s+2,1),e=!r.times(r).eq(o));break}if(!i&&(k(a,a.e+s+2,0),a.times(a).eq(o))){r=a;break}h+=4,c+=4,i=1}return k(r,r.e+s+1,u,e)},a.toExponential=function(e,t){return null!=e&&(Ov(e,0,Rv),e++),w(this,e,t,1)},a.toFixed=function(e,t){return null!=e&&(Ov(e,0,Rv),e=e+this.e+1),w(this,e,t)},a.toFormat=function(e,t,n){var r,i=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=m;else if("object"!=typeof n)throw Error(Sv+"Argument not an object: "+n);if(r=i.toFixed(e,t),i.c){var a,o=r.split("."),s=+n.groupSize,u=+n.secondaryGroupSize,l=n.groupSeparator||"",c=o[0],f=o[1],h=i.s<0,d=h?c.slice(1):c,p=d.length;if(u&&(a=s,s=u,u=a,p-=a),s>0&&p>0){for(a=p%s||s,c=d.substr(0,a);a<p;a+=s)c+=l+d.substr(a,s);u>0&&(c+=l+d.slice(a)),h&&(c="-"+c)}r=f?c+(n.decimalSeparator||"")+((u=+n.fractionGroupSize)?f.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):f):c}return(n.prefix||"")+r+(n.suffix||"")},a.toFraction=function(e){var t,r,i,a,s,l,c,f,d,p,v,m,y=this,g=y.c;if(null!=e&&(!(c=new b(e)).isInteger()&&(c.c||1!==c.s)||c.lt(o)))throw Error(Sv+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+S(c));if(!g)return new b(y);for(t=new b(o),d=r=new b(o),i=f=new b(o),m=Lv(g),s=t.e=m.length-y.e-1,t.c[0]=Cv[(l=s%Tv)<0?Tv+l:l],e=!e||c.comparedTo(t)>0?s>0?t:d:c,l=h,h=1/0,c=new b(m),f.c[0]=0;p=n(c,t,0,1),1!=(a=r.plus(p.times(i))).comparedTo(e);)r=i,i=a,d=f.plus(p.times(a=d)),f=a,t=c.minus(p.times(a=t)),c=a;return a=n(e.minus(r),i,0,1),f=f.plus(a.times(d)),r=r.plus(a.times(i)),f.s=d.s=y.s,v=n(d,i,s*=2,u).minus(y).abs().comparedTo(n(f,r,s,u).minus(y).abs())<1?[d,i]:[f,r],h=l,v},a.toNumber=function(){return+S(this)},a.toPrecision=function(e,t){return null!=e&&Ov(e,1,Rv),w(this,e,t,2)},a.toString=function(e){var t,n=this,i=n.s,a=n.e;return null===a?i?(t="Infinity",i<0&&(t="-"+t)):t="NaN":(null==e?t=a<=l||a>=c?Uv(Lv(n.c),a):zv(Lv(n.c),a,"0"):10===e&&g?t=zv(Lv((n=k(new b(n),s+a+1,u)).c),n.e,"0"):(Ov(e,2,y.length,"Base"),t=r(zv(Lv(n.c),a,"0"),10,e,i,!0)),i<0&&n.c[0]&&(t="-"+t)),t},a.valueOf=a.toJSON=function(){return S(this)},a._isBigNumber=!0,a[Symbol.toStringTag]="BigNumber",a[Symbol.for("nodejs.util.inspect.custom")]=a.valueOf,null!=t&&b.set(t),b}(),Fv=Bv,Hv=(0,t.createContext)({});var Wv="0x34bb16fcd733f8ee46d48206f7154f7cd585f97a",Gv=[Wv,"0x527a4206ac04c2017295cf32f1fc2f9e034a7c40","0xff9c1b15b16263c61d017ee9f65c50e4ae0113d7","0x8d04a8c79ceb0889bdd12acdf3fa9d207ed3ff63","0x448f3219cf2a23b0527a7a0158e7264b87f635db","0xef2b840add7736a71ec13e0477ec1844bbc82550","0x0427743df720801825a5c82e0582b1e915e0f750","0xa8386f29cd53533c4670abdf64dcf66d7d5b2925","0xe5a5520b798c5f67ca1b0657b932656df02595ad","0x36f4d96fe0d4eb33cdc2dc6c0bca15b9cdd0d648","0xf38d6bf300d52ba7880b43cddb3f94ee3c6c4ea6","0xfb3765e0e7ac73e736566af913fa58c3cfd686b7","0x38930aae699c4cd99d1d794df9db41111b13092b","0x9251dec8df720c2adf3b6f46d968107cbbadf4d4","0xCe9CA012fA55A8b1E540dF35f6c77203812df523","0x441698f426365bbb1c16a46c1b722461567925aa"].map(Pr);console.log(Gv);var jv="https://lpmetadata.s3.us-west-1.amazonaws.com/merkle.1.0.0.json",Vv=1683135e3,qv=1683221400,Xv=1683307800;for(var Jv=BigInt(-1),Yv=BigInt(0),Qv=BigInt(1),Zv=BigInt(5),Kv={},$v="0000";$v.length<80;)$v+=$v;function em(e){for(var t=$v;t.length<e;)t+=t;return BigInt("1"+t.substring(0,e))}function tm(e,t,n){var r=BigInt(t.width);if(t.signed){var i=Qv<<r-Qv;Et(null==n||e>=-i&&e<i,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:e}),e=e>Yv?tn(rn(e,r),r):-tn(rn(-e,r),r)}else{var a=Qv<<r;Et(null==n||e>=0&&e<a,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:e}),e=(e%a+a)%a&a-Qv}return e}function nm(e){"number"===typeof e&&(e="fixed128x".concat(e));var t=!0,n=128,r=18;if("string"===typeof e)if("fixed"===e);else if("ufixed"===e)t=!1;else{var i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);Ct(i,"invalid fixed format","format",e),t="u"!==i[1],n=parseInt(i[2]),r=parseInt(i[3])}else if(e){var a=e,o=function(e,t,n){return null==a[e]?n:(Ct(typeof a[e]===t,"invalid fixed format ("+e+" not "+t+")","format."+e,a[e]),a[e])};t=o("signed","boolean",t),n=o("width","number",n),r=o("decimals","number",r)}return Ct(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),Ct(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r),{signed:t,width:n,decimals:r,name:(t?"":"u")+"fixed"+String(n)+"x"+String(r)}}var rm=new WeakMap,im=new WeakMap,am=new WeakMap,om=new WeakSet,sm=new WeakSet,um=new WeakSet,lm=new WeakSet,cm=new WeakSet,fm=new WeakSet,hm=function(){function e(t,n,r){nt(this,e),Nt(this,fm),Nt(this,cm),Nt(this,lm),Nt(this,um),Nt(this,sm),Nt(this,om),Dt(this,"format",void 0),vt(this,rm,{writable:!0,value:void 0}),vt(this,im,{writable:!0,value:void 0}),vt(this,am,{writable:!0,value:void 0}),Dt(this,"_value",void 0),It(t,Kv,"FixedNumber"),gt(this,im,n),gt(this,rm,r);var i=function(e,t){var n="";e<Yv&&(n="-",e*=Jv);var r=e.toString();if(0===t)return n+r;for(;r.length<=t;)r=$v+r;var i=r.length-t;for(r=r.substring(0,i)+"."+r.substring(i);"0"===r[0]&&"."!==r[1];)r=r.substring(1);for(;"0"===r[r.length-1]&&"."!==r[r.length-2];)r=r.substring(0,r.length-1);return n+r}(n,r.decimals);kt(this,{format:r.name,_value:i}),gt(this,am,em(r.decimals))}return at(e,[{key:"signed",get:function(){return yt(this,rm).signed}},{key:"width",get:function(){return yt(this,rm).width}},{key:"decimals",get:function(){return yt(this,rm).decimals}},{key:"value",get:function(){return yt(this,im)}},{key:"addUnsafe",value:function(e){return Ot(this,um,vm).call(this,e)}},{key:"add",value:function(e){return Ot(this,um,vm).call(this,e,"add")}},{key:"subUnsafe",value:function(e){return Ot(this,lm,mm).call(this,e)}},{key:"sub",value:function(e){return Ot(this,lm,mm).call(this,e,"sub")}},{key:"mulUnsafe",value:function(e){return Ot(this,cm,ym).call(this,e)}},{key:"mul",value:function(e){return Ot(this,cm,ym).call(this,e,"mul")}},{key:"mulSignal",value:function(e){Ot(this,om,dm).call(this,e);var t=yt(this,im)*yt(e,im);return Et(t%yt(this,am)===Yv,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),Ot(this,sm,pm).call(this,t/yt(this,am),"mulSignal")}},{key:"divUnsafe",value:function(e){return Ot(this,fm,gm).call(this,e)}},{key:"div",value:function(e){return Ot(this,fm,gm).call(this,e,"div")}},{key:"divSignal",value:function(e){Et(yt(e,im)!==Yv,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Ot(this,om,dm).call(this,e);var t=yt(this,im)*yt(this,am);return Et(t%yt(e,im)===Yv,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),Ot(this,sm,pm).call(this,t/yt(e,im),"divSignal")}},{key:"cmp",value:function(e){var t=this.value,n=e.value,r=this.decimals-e.decimals;return r>0?n*=em(r):r<0&&(t*=em(-r)),t<n||t>n?-1:0}},{key:"eq",value:function(e){return 0===this.cmp(e)}},{key:"lt",value:function(e){return this.cmp(e)<0}},{key:"lte",value:function(e){return this.cmp(e)<=0}},{key:"gt",value:function(e){return this.cmp(e)>0}},{key:"gte",value:function(e){return this.cmp(e)>=0}},{key:"floor",value:function(){var e=yt(this,im);return yt(this,im)<Yv&&(e-=yt(this,am)-Qv),e=yt(this,im)/yt(this,am)*yt(this,am),Ot(this,sm,pm).call(this,e,"floor")}},{key:"ceiling",value:function(){var e=yt(this,im);return yt(this,im)>Yv&&(e+=yt(this,am)-Qv),e=yt(this,im)/yt(this,am)*yt(this,am),Ot(this,sm,pm).call(this,e,"ceiling")}},{key:"round",value:function(t){if(null==t&&(t=0),t>=this.decimals)return this;var n=this.decimals-t,r=Zv*em(n-1),i=this.value+r,a=em(n);return tm(i=i/a*a,yt(this,rm),"round"),new e(Kv,i,yt(this,rm))}},{key:"isZero",value:function(){return yt(this,im)===Yv}},{key:"isNegative",value:function(){return yt(this,im)<Yv}},{key:"toString",value:function(){return this._value}},{key:"toUnsafeFloat",value:function(){return parseFloat(this.toString())}},{key:"toFormat",value:function(t){return e.fromString(this.toString(),t)}}],[{key:"fromValue",value:function(t,n,r){null==n&&(n=0);var i=nm(r),a=an(t,"value"),o=n-i.decimals;if(o>0){var s=em(o);Et(a%s===Yv,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:t}),a/=s}else o<0&&(a*=em(-o));return tm(a,i,"fromValue"),new e(Kv,a,i)}},{key:"fromString",value:function(t,n){var r=t.match(/^(-?)([0-9]*)\.?([0-9]*)$/);Ct(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",t);for(var i=nm(n),a=r[2]||"0",o=r[3]||"";o.length<i.decimals;)o+=$v;Et(o.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:t}),o=o.substring(0,i.decimals);var s=BigInt(r[1]+a+o);return tm(s,i,"fromString"),new e(Kv,s,i)}},{key:"fromBytes",value:function(t,n){var r=un(Wt(t,"value")),i=nm(n);return i.signed&&(r=tn(r,i.width)),tm(r,i,"fromBytes"),new e(Kv,r,i)}}]),e}();function dm(e){Ct(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}function pm(e,t){return e=tm(e,yt(this,rm),t),new hm(Kv,e,yt(this,rm))}function vm(e,t){return Ot(this,om,dm).call(this,e),Ot(this,sm,pm).call(this,yt(this,im)+yt(e,im),t)}function mm(e,t){return Ot(this,om,dm).call(this,e),Ot(this,sm,pm).call(this,yt(this,im)-yt(e,im),t)}function ym(e,t){return Ot(this,om,dm).call(this,e),Ot(this,sm,pm).call(this,yt(this,im)*yt(e,im)/yt(this,am),t)}function gm(e,t){return Et(yt(e,im)!==Yv,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Ot(this,om,dm).call(this,e),Ot(this,sm,pm).call(this,yt(this,im)*yt(this,am)/yt(e,im),t)}var bm=["wei","kwei","mwei","gwei","szabo","finney","ether"];function wm(e,t){var n=18;if("string"===typeof t){var r=bm.indexOf(t);Ct(r>=0,"invalid unit","unit",t),n=3*r}else null!=t&&(n=ln(t,"unit"));return hm.fromValue(e,n,{decimals:n}).toString()}function xm(e,t){Ct("string"===typeof e,"value must be a string","value",e);var n=18;if("string"===typeof t){var r=bm.indexOf(t);Ct(r>=0,"invalid unit","unit",t),n=3*r}else null!=t&&(n=ln(t,"unit"));return hm.fromString(e,{decimals:n}).value}var _m=n(9327),km=n.n(_m),Sm=!0,Mm="Invariant failed";function Am(e,t){if(!e){if(Sm)throw new Error(Mm);var n="function"===typeof t?t():t,r=n?"".concat(Mm,": ").concat(n):Mm;throw new Error(r)}}var Tm=n(4234),Em=n.n(Tm),Cm=n(5395),Pm=n.n(Cm),Rm=n(6383),Im=n.n(Rm),Lm=!1,Nm=!1,Om={debug:1,default:2,info:2,warning:3,error:4,off:5},Dm=Om.default,Um=null;var zm,Bm,Fm=function(){try{var e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((function(t){try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(n){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(zm||(zm={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"}(Bm||(Bm={}));var Hm="0123456789abcdef",Wm=function(){function e(t){nt(this,e),Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}return at(e,[{key:"_log",value:function(e,t){var n=e.toLowerCase();null==Om[n]&&this.throwArgumentError("invalid log level name","logLevel",e),Dm>Om[n]||console.log.apply(console,t)}},{key:"debug",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._log(e.levels.DEBUG,n)}},{key:"info",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._log(e.levels.INFO,n)}},{key:"warn",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._log(e.levels.WARNING,n)}},{key:"makeError",value:function(t,n,r){if(Nm)return this.makeError("censored error",n,{});n||(n=e.errors.UNKNOWN_ERROR),r||(r={});var i=[];Object.keys(r).forEach((function(e){var t=r[e];try{if(t instanceof Uint8Array){for(var n="",a=0;a<t.length;a++)n+=Hm[t[a]>>4],n+=Hm[15&t[a]];i.push(e+"=Uint8Array(0x"+n+")")}else i.push(e+"="+JSON.stringify(t))}catch(u){i.push(e+"="+JSON.stringify(r[e].toString()))}})),i.push("code=".concat(n)),i.push("version=".concat(this.version));var a=t,o="";switch(n){case Bm.NUMERIC_FAULT:o="NUMERIC_FAULT";var s=t;switch(s){case"overflow":case"underflow":case"division-by-zero":o+="-"+s;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break;case Bm.CALL_EXCEPTION:case Bm.INSUFFICIENT_FUNDS:case Bm.MISSING_NEW:case Bm.NONCE_EXPIRED:case Bm.REPLACEMENT_UNDERPRICED:case Bm.TRANSACTION_REPLACED:case Bm.UNPREDICTABLE_GAS_LIMIT:o=n}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(t+=" ("+i.join(", ")+")");var u=new Error(t);return u.reason=a,u.code=n,Object.keys(r).forEach((function(e){u[e]=r[e]})),u}},{key:"throwError",value:function(e,t,n){throw this.makeError(e,t,n)}},{key:"throwArgumentError",value:function(t,n,r){return this.throwError(t,e.errors.INVALID_ARGUMENT,{argument:n,value:r})}},{key:"assert",value:function(e,t,n,r){e||this.throwError(t,n,r)}},{key:"assertArgument",value:function(e,t,n,r){e||this.throwArgumentError(t,n,r)}},{key:"checkNormalize",value:function(t){null==t&&(t="platform missing String.prototype.normalize"),Fm&&this.throwError("platform missing String.prototype.normalize",e.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Fm})}},{key:"checkSafeUint53",value:function(t,n){"number"===typeof t&&(null==n&&(n="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(n,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(n,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}},{key:"checkArgumentCount",value:function(t,n,r){r=r?": "+r:"",t<n&&this.throwError("missing argument"+r,e.errors.MISSING_ARGUMENT,{count:t,expectedCount:n}),t>n&&this.throwError("too many arguments"+r,e.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:n})}},{key:"checkNew",value:function(t,n){t!==Object&&null!=t||this.throwError("missing new",e.errors.MISSING_NEW,{name:n.name})}},{key:"checkAbstract",value:function(t,n){t===n?this.throwError("cannot instantiate abstract class "+JSON.stringify(n.name)+" directly; use a sub-class",e.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",e.errors.MISSING_NEW,{name:n.name})}}],[{key:"globalLogger",value:function(){return Um||(Um=new e("logger/5.7.0")),Um}},{key:"setCensorship",value:function(t,n){if(!t&&n&&this.globalLogger().throwError("cannot permanently disable censorship",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Lm){if(!t)return;this.globalLogger().throwError("error censorship permanent",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Nm=!!t,Lm=!!n}},{key:"setLogLevel",value:function(t){var n=Om[t.toLowerCase()];null!=n?Dm=n:e.globalLogger().warn("invalid log level - "+t)}},{key:"from",value:function(t){return new e(t)}}]),e}();Wm.errors=Bm,Wm.levels=zm;var Gm=new Wm("bytes/5.7.0");function jm(e){return!!e.toHexString}function Vm(e){return e.slice||(e.slice=function(){var t=Array.prototype.slice.call(arguments);return Vm(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function qm(e){return"number"===typeof e&&e==e&&e%1===0}function Xm(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!qm(e.length)||e.length<0)return!1;for(var t=0;t<e.length;t++){var n=e[t];if(!qm(n)||n<0||n>=256)return!1}return!0}function Jm(e,t){if(t||(t={}),"number"===typeof e){Gm.checkSafeUint53(e,"invalid arrayify value");for(var n=[];e;)n.unshift(255&e),e=parseInt(String(e/256));return 0===n.length&&n.push(0),Vm(new Uint8Array(n))}if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),jm(e)&&(e=e.toHexString()),Zm(e)){var r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0"+r:"right"===t.hexPad?r+="0":Gm.throwArgumentError("hex data is odd-length","value",e));for(var i=[],a=0;a<r.length;a+=2)i.push(parseInt(r.substring(a,a+2),16));return Vm(new Uint8Array(i))}return Xm(e)?Vm(new Uint8Array(e)):Gm.throwArgumentError("invalid arrayify value","value",e)}function Ym(e){var t=e.map((function(e){return Jm(e)})),n=t.reduce((function(e,t){return e+t.length}),0),r=new Uint8Array(n);return t.reduce((function(e,t){return r.set(t,e),e+t.length}),0),Vm(r)}function Qm(e,t){(e=Jm(e)).length>t&&Gm.throwArgumentError("value out of range","value",arguments[0]);var n=new Uint8Array(t);return n.set(e,t-e.length),Vm(n)}function Zm(e,t){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}var Km="0123456789abcdef";function $m(e,t){if(t||(t={}),"number"===typeof e){Gm.checkSafeUint53(e,"invalid hexlify value");for(var n="";e;)n=Km[15&e]+n,e=Math.floor(e/16);return n.length?(n.length%2&&(n="0"+n),"0x"+n):"0x00"}if("bigint"===typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),jm(e))return e.toHexString();if(Zm(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":Gm.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(Xm(e)){for(var r="0x",i=0;i<e.length;i++){var a=e[i];r+=Km[(240&a)>>4]+Km[15&a]}return r}return Gm.throwArgumentError("invalid hexlify value","value",e)}function ey(e){if("string"!==typeof e)e=$m(e);else if(!Zm(e)||e.length%2)return null;return(e.length-2)/2}function ty(e,t,n){return"string"!==typeof e?e=$m(e):(!Zm(e)||e.length%2)&&Gm.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=n?"0x"+e.substring(t,2+2*n):"0x"+e.substring(t)}function ny(e,t){for("string"!==typeof e?e=$m(e):Zm(e)||Gm.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&Gm.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}var ry=n(518),iy=n.n(ry)().BN,ay=new Wm("bignumber/5.7.0"),oy={},sy=9007199254740991;var uy=!1,ly=function(){function e(t,n){nt(this,e),t!==oy&&ay.throwError("cannot call constructor directly; use BigNumber.from",Wm.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=n,this._isBigNumber=!0,Object.freeze(this)}return at(e,[{key:"fromTwos",value:function(e){return fy(hy(this).fromTwos(e))}},{key:"toTwos",value:function(e){return fy(hy(this).toTwos(e))}},{key:"abs",value:function(){return"-"===this._hex[0]?e.from(this._hex.substring(1)):this}},{key:"add",value:function(e){return fy(hy(this).add(hy(e)))}},{key:"sub",value:function(e){return fy(hy(this).sub(hy(e)))}},{key:"div",value:function(t){return e.from(t).isZero()&&dy("division-by-zero","div"),fy(hy(this).div(hy(t)))}},{key:"mul",value:function(e){return fy(hy(this).mul(hy(e)))}},{key:"mod",value:function(e){var t=hy(e);return t.isNeg()&&dy("division-by-zero","mod"),fy(hy(this).umod(t))}},{key:"pow",value:function(e){var t=hy(e);return t.isNeg()&&dy("negative-power","pow"),fy(hy(this).pow(t))}},{key:"and",value:function(e){var t=hy(e);return(this.isNegative()||t.isNeg())&&dy("unbound-bitwise-result","and"),fy(hy(this).and(t))}},{key:"or",value:function(e){var t=hy(e);return(this.isNegative()||t.isNeg())&&dy("unbound-bitwise-result","or"),fy(hy(this).or(t))}},{key:"xor",value:function(e){var t=hy(e);return(this.isNegative()||t.isNeg())&&dy("unbound-bitwise-result","xor"),fy(hy(this).xor(t))}},{key:"mask",value:function(e){return(this.isNegative()||e<0)&&dy("negative-width","mask"),fy(hy(this).maskn(e))}},{key:"shl",value:function(e){return(this.isNegative()||e<0)&&dy("negative-width","shl"),fy(hy(this).shln(e))}},{key:"shr",value:function(e){return(this.isNegative()||e<0)&&dy("negative-width","shr"),fy(hy(this).shrn(e))}},{key:"eq",value:function(e){return hy(this).eq(hy(e))}},{key:"lt",value:function(e){return hy(this).lt(hy(e))}},{key:"lte",value:function(e){return hy(this).lte(hy(e))}},{key:"gt",value:function(e){return hy(this).gt(hy(e))}},{key:"gte",value:function(e){return hy(this).gte(hy(e))}},{key:"isNegative",value:function(){return"-"===this._hex[0]}},{key:"isZero",value:function(){return hy(this).isZero()}},{key:"toNumber",value:function(){try{return hy(this).toNumber()}catch(e){dy("overflow","toNumber",this.toString())}return null}},{key:"toBigInt",value:function(){try{return BigInt(this.toString())}catch(e){}return ay.throwError("this platform does not support BigInt",Wm.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}},{key:"toString",value:function(){return arguments.length>0&&(10===arguments[0]?uy||(uy=!0,ay.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?ay.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Wm.errors.UNEXPECTED_ARGUMENT,{}):ay.throwError("BigNumber.toString does not accept parameters",Wm.errors.UNEXPECTED_ARGUMENT,{})),hy(this).toString(10)}},{key:"toHexString",value:function(){return this._hex}},{key:"toJSON",value:function(e){return{type:"BigNumber",hex:this.toHexString()}}}],[{key:"from",value:function(t){if(t instanceof e)return t;if("string"===typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new e(oy,cy(t)):t.match(/^-?[0-9]+$/)?new e(oy,cy(new iy(t))):ay.throwArgumentError("invalid BigNumber string","value",t);if("number"===typeof t)return t%1&&dy("underflow","BigNumber.from",t),(t>=sy||t<=-sy)&&dy("overflow","BigNumber.from",t),e.from(String(t));var n=t;if("bigint"===typeof n)return e.from(n.toString());if(Xm(n))return e.from($m(n));if(n)if(n.toHexString){var r=n.toHexString();if("string"===typeof r)return e.from(r)}else{var i=n._hex;if(null==i&&"BigNumber"===n.type&&(i=n.hex),"string"===typeof i&&(Zm(i)||"-"===i[0]&&Zm(i.substring(1))))return e.from(i)}return ay.throwArgumentError("invalid BigNumber value","value",t)}},{key:"isBigNumber",value:function(e){return!(!e||!e._isBigNumber)}}]),e}();function cy(e){if("string"!==typeof e)return cy(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&ay.throwArgumentError("invalid hex","value",e),"0x00"===(e=cy(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function fy(e){return ly.from(cy(e))}function hy(e){var t=ly.from(e).toHexString();return"-"===t[0]?new iy("-"+t.substring(3),16):new iy(t.substring(2),16)}function dy(e,t,n){var r={fault:e,operation:t};return null!=n&&(r.value=n),ay.throwError(e,Wm.errors.NUMERIC_FAULT,r)}var py=n(7898),vy=n.n(py);function my(e){return"0x"+vy().keccak_256(Jm(e))}var yy=new Wm("address/5.7.0");function gy(e){Zm(e,20)||yy.throwArgumentError("invalid address","address",e);for(var t=(e=e.toLowerCase()).substring(2).split(""),n=new Uint8Array(40),r=0;r<40;r++)n[r]=t[r].charCodeAt(0);for(var i=Jm(my(n)),a=0;a<40;a+=2)i[a>>1]>>4>=8&&(t[a]=t[a].toUpperCase()),(15&i[a>>1])>=8&&(t[a+1]=t[a+1].toUpperCase());return"0x"+t.join("")}for(var by={},wy=0;wy<10;wy++)by[String(wy)]=String(wy);for(var xy=0;xy<26;xy++)by[String.fromCharCode(65+xy)]=String(10+xy);var _y,ky,Sy,My=Math.floor(function(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10}(9007199254740991));function Ay(e){for(var t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((function(e){return by[e]})).join("");t.length>=My;){var n=t.substring(0,My);t=parseInt(n,10)%97+t.substring(n.length)}for(var r=String(98-parseInt(t,10)%97);r.length<2;)r="0"+r;return r}function Ty(e){var t,n=null;if("string"!==typeof e&&yy.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),n=gy(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&n!==e&&yy.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==Ay(e)&&yy.throwArgumentError("bad icap checksum","address",e),t=e.substring(4),n=new iy(t,36).toString(16);n.length<40;)n="0"+n;n=gy("0x"+n)}else yy.throwArgumentError("invalid address","address",e);return n}!function(e){e[e.MAINNET=1]="MAINNET",e[e.GOERLI=5]="GOERLI",e[e.ARBITRUM_ONE=42161]="ARBITRUM_ONE",e[e.ARBITRUM_GOERLI=421613]="ARBITRUM_GOERLI",e[e.OPTIMISM=10]="OPTIMISM",e[e.OPTIMISM_GOERLI=420]="OPTIMISM_GOERLI",e[e.POLYGON=137]="POLYGON",e[e.POLYGON_MUMBAI=80001]="POLYGON_MUMBAI",e[e.CELO=42220]="CELO",e[e.CELO_ALFAJORES=44787]="CELO_ALFAJORES",e[e.BNB=56]="BNB"}(_y||(_y={})),function(e){e[e.EXACT_INPUT=0]="EXACT_INPUT",e[e.EXACT_OUTPUT=1]="EXACT_OUTPUT"}(ky||(ky={})),function(e){e[e.ROUND_DOWN=0]="ROUND_DOWN",e[e.ROUND_HALF_UP=1]="ROUND_HALF_UP",e[e.ROUND_UP=2]="ROUND_UP"}(Sy||(Sy={}));var Ey,Cy,Py=km().BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Ry(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Iy(e,t,n){return t&&Ry(e.prototype,t),n&&Ry(e,n),e}function Ly(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Ny=Im()(Em()),Oy=Im()(Pm()),Dy=((Ey={})[Sy.ROUND_DOWN]=Ny.ROUND_DOWN,Ey[Sy.ROUND_HALF_UP]=Ny.ROUND_HALF_UP,Ey[Sy.ROUND_UP]=Ny.ROUND_UP,Ey),Uy=((Cy={})[Sy.ROUND_DOWN]=0,Cy[Sy.ROUND_HALF_UP]=1,Cy[Sy.ROUND_UP]=3,Cy),zy=function(){function e(e,t){void 0===t&&(t=km().BigInt(1)),this.numerator=km().BigInt(e),this.denominator=km().BigInt(t)}e.tryParseFraction=function(t){if(t instanceof km()||"number"===typeof t||"string"===typeof t)return new e(t);if("numerator"in t&&"denominator"in t)return t;throw new Error("Could not parse fraction")};var t=e.prototype;return t.invert=function(){return new e(this.denominator,this.numerator)},t.add=function(t){var n=e.tryParseFraction(t);return km().equal(this.denominator,n.denominator)?new e(km().add(this.numerator,n.numerator),this.denominator):new e(km().add(km().multiply(this.numerator,n.denominator),km().multiply(n.numerator,this.denominator)),km().multiply(this.denominator,n.denominator))},t.subtract=function(t){var n=e.tryParseFraction(t);return km().equal(this.denominator,n.denominator)?new e(km().subtract(this.numerator,n.numerator),this.denominator):new e(km().subtract(km().multiply(this.numerator,n.denominator),km().multiply(n.numerator,this.denominator)),km().multiply(this.denominator,n.denominator))},t.lessThan=function(t){var n=e.tryParseFraction(t);return km().lessThan(km().multiply(this.numerator,n.denominator),km().multiply(n.numerator,this.denominator))},t.equalTo=function(t){var n=e.tryParseFraction(t);return km().equal(km().multiply(this.numerator,n.denominator),km().multiply(n.numerator,this.denominator))},t.greaterThan=function(t){var n=e.tryParseFraction(t);return km().greaterThan(km().multiply(this.numerator,n.denominator),km().multiply(n.numerator,this.denominator))},t.multiply=function(t){var n=e.tryParseFraction(t);return new e(km().multiply(this.numerator,n.numerator),km().multiply(this.denominator,n.denominator))},t.divide=function(t){var n=e.tryParseFraction(t);return new e(km().multiply(this.numerator,n.denominator),km().multiply(this.denominator,n.numerator))},t.toSignificant=function(e,t,n){void 0===t&&(t={groupSeparator:""}),void 0===n&&(n=Sy.ROUND_HALF_UP),Number.isInteger(e)||Am(!1),e>0||Am(!1),Ny.set({precision:e+1,rounding:Dy[n]});var r=new Ny(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return r.toFormat(r.decimalPlaces(),t)},t.toFixed=function(e,t,n){return void 0===t&&(t={groupSeparator:""}),void 0===n&&(n=Sy.ROUND_HALF_UP),Number.isInteger(e)||Am(!1),e>=0||Am(!1),Oy.DP=e,Oy.RM=Uy[n],new Oy(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)},Iy(e,[{key:"quotient",get:function(){return km().divide(this.numerator,this.denominator)}},{key:"remainder",get:function(){return new e(km().remainder(this.numerator,this.denominator),this.denominator)}},{key:"asFraction",get:function(){return new e(this.numerator,this.denominator)}}]),e}(),By=Im()(Pm()),Fy=function(e){function t(t,n,r){var i;return i=e.call(this,n,r)||this,km().lessThanOrEqual(i.quotient,Py)||Am(!1),i.currency=t,i.decimalScale=km().exponentiate(km().BigInt(10),km().BigInt(t.decimals)),i}Ly(t,e),t.fromRawAmount=function(e,n){return new t(e,n)},t.fromFractionalAmount=function(e,n,r){return new t(e,n,r)};var n=t.prototype;return n.add=function(n){this.currency.equals(n.currency)||Am(!1);var r=e.prototype.add.call(this,n);return t.fromFractionalAmount(this.currency,r.numerator,r.denominator)},n.subtract=function(n){this.currency.equals(n.currency)||Am(!1);var r=e.prototype.subtract.call(this,n);return t.fromFractionalAmount(this.currency,r.numerator,r.denominator)},n.multiply=function(n){var r=e.prototype.multiply.call(this,n);return t.fromFractionalAmount(this.currency,r.numerator,r.denominator)},n.divide=function(n){var r=e.prototype.divide.call(this,n);return t.fromFractionalAmount(this.currency,r.numerator,r.denominator)},n.toSignificant=function(t,n,r){return void 0===t&&(t=6),void 0===r&&(r=Sy.ROUND_DOWN),e.prototype.divide.call(this,this.decimalScale).toSignificant(t,n,r)},n.toFixed=function(t,n,r){return void 0===t&&(t=this.currency.decimals),void 0===r&&(r=Sy.ROUND_DOWN),t<=this.currency.decimals||Am(!1),e.prototype.divide.call(this,this.decimalScale).toFixed(t,n,r)},n.toExact=function(e){return void 0===e&&(e={groupSeparator:""}),By.DP=this.currency.decimals,new By(this.quotient.toString()).div(this.decimalScale.toString()).toFormat(e)},Iy(t,[{key:"wrapped",get:function(){return this.currency.isToken?this:t.fromFractionalAmount(this.currency.wrapped,this.numerator,this.denominator)}}]),t}(zy),Hy=new zy(km().BigInt(100));function Wy(e){return new Gy(e.numerator,e.denominator)}var Gy=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).isPercent=!0,t}Ly(t,e);var n=t.prototype;return n.add=function(t){return Wy(e.prototype.add.call(this,t))},n.subtract=function(t){return Wy(e.prototype.subtract.call(this,t))},n.multiply=function(t){return Wy(e.prototype.multiply.call(this,t))},n.divide=function(t){return Wy(e.prototype.divide.call(this,t))},n.toSignificant=function(t,n,r){return void 0===t&&(t=5),e.prototype.multiply.call(this,Hy).toSignificant(t,n,r)},n.toFixed=function(t,n,r){return void 0===t&&(t=2),e.prototype.multiply.call(this,Hy).toFixed(t,n,r)},t}(zy),jy=function(e){function t(){for(var t,n,r,i,a,o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];if(4===s.length)n=s[0],r=s[1],i=s[2],a=s[3];else{var l=s[0].quoteAmount.divide(s[0].baseAmount),c=[s[0].baseAmount.currency,s[0].quoteAmount.currency,l.denominator,l.numerator];n=c[0],r=c[1],i=c[2],a=c[3]}return(t=e.call(this,a,i)||this).baseCurrency=n,t.quoteCurrency=r,t.scalar=new zy(km().exponentiate(km().BigInt(10),km().BigInt(n.decimals)),km().exponentiate(km().BigInt(10),km().BigInt(r.decimals))),t}Ly(t,e);var n=t.prototype;return n.invert=function(){return new t(this.quoteCurrency,this.baseCurrency,this.numerator,this.denominator)},n.multiply=function(n){this.quoteCurrency.equals(n.baseCurrency)||Am(!1);var r=e.prototype.multiply.call(this,n);return new t(this.baseCurrency,n.quoteCurrency,r.denominator,r.numerator)},n.quote=function(t){t.currency.equals(this.baseCurrency)||Am(!1);var n=e.prototype.multiply.call(this,t);return Fy.fromFractionalAmount(this.quoteCurrency,n.numerator,n.denominator)},n.toSignificant=function(e,t,n){return void 0===e&&(e=6),this.adjustedForDecimals.toSignificant(e,t,n)},n.toFixed=function(e,t,n){return void 0===e&&(e=4),this.adjustedForDecimals.toFixed(e,t,n)},Iy(t,[{key:"adjustedForDecimals",get:function(){return e.prototype.multiply.call(this,this.scalar)}}]),t}(zy),Vy=function(e,t,n,r){Number.isSafeInteger(e)||Am(!1),t>=0&&t<255&&Number.isInteger(t)||Am(!1),this.chainId=e,this.decimals=t,this.symbol=n,this.name=r},qy=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).isNative=!0,t.isToken=!1,t}return Ly(t,e),t}(Vy);function Xy(e){try{return Ty(e)}catch(t){throw new Error(e+" is not a valid address.")}}var Jy=/^0x[0-9a-fA-F]{40}$/;var Yy,Qy=function(e){function t(t,n,r,i,a,o){var s;return(s=e.call(this,t,r,i,a)||this).isNative=!1,s.isToken=!0,s.address=o?function(e){if(Jy.test(e))return e;throw new Error(e+" is not a valid address.")}(n):Xy(n),s}Ly(t,e);var n=t.prototype;return n.equals=function(e){return e.isToken&&this.chainId===e.chainId&&this.address.toLowerCase()===e.address.toLowerCase()},n.sortsBefore=function(e){return this.chainId!==e.chainId&&Am(!1),this.address.toLowerCase()===e.address.toLowerCase()&&Am(!1),this.address.toLowerCase()<e.address.toLowerCase()},Iy(t,[{key:"wrapped",get:function(){return this}}]),t}(Vy),Zy=((Yy={})[1]=new Qy(1,"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",18,"WETH","Wrapped Ether"),Yy[3]=new Qy(3,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped Ether"),Yy[4]=new Qy(4,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped Ether"),Yy[5]=new Qy(5,"0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6",18,"WETH","Wrapped Ether"),Yy[42]=new Qy(42,"0xd0A1E359811322d97991E03f863a0C30C2cF029C",18,"WETH","Wrapped Ether"),Yy[10]=new Qy(10,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),Yy[69]=new Qy(69,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),Yy[42161]=new Qy(42161,"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",18,"WETH","Wrapped Ether"),Yy[421611]=new Qy(421611,"0xB47e6A5f8b33b3F17603C83a0535A9dcD7E32681",18,"WETH","Wrapped Ether"),Yy);(function(e){function t(t){return e.call(this,t,18,"ETH","Ether")||this}return Ly(t,e),t.onChain=function(e){var n;return null!=(n=this._etherCache[e])?n:this._etherCache[e]=new t(e)},t.prototype.equals=function(e){return e.isNative&&e.chainId===this.chainId},Iy(t,[{key:"wrapped",get:function(){var e=Zy[this.chainId];return e||Am(!1),e}}]),t}(qy))._etherCache={};var Ky=km().BigInt(Number.MAX_SAFE_INTEGER),$y=km().BigInt(0),eg=km().BigInt(1),tg=km().BigInt(2);var ng=new Wm("properties/5.7.0");function rg(e,t,n){Object.defineProperty(e,t,{enumerable:!0,value:n,writable:!1})}function ig(e,t){for(var n=0;n<32;n++){if(e[t])return e[t];if(!e.prototype||"object"!==typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null}var ag={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function og(e){if(void 0===e||null===e||ag[typeof e])return!0;if(Array.isArray(e)||"object"===typeof e){if(!Object.isFrozen(e))return!1;for(var t=Object.keys(e),n=0;n<t.length;n++){var r=null;try{r=e[t[n]]}catch(i){continue}if(!og(r))return!1}return!0}return ng.throwArgumentError("Cannot deepCopy ".concat(typeof e),"object",e)}function sg(e){if(og(e))return e;if(Array.isArray(e))return Object.freeze(e.map((function(e){return ug(e)})));if("object"===typeof e){var t={};for(var n in e){var r=e[n];void 0!==r&&rg(t,n,ug(r))}return t}return ng.throwArgumentError("Cannot deepCopy ".concat(typeof e),"object",e)}function ug(e){return sg(e)}var lg=at((function e(t){for(var n in nt(this,e),t)this[n]=ug(t[n])})),cg="abi/5.7.0",fg=new Wm(cg);var hg=function(){function e(t,n,r,i){nt(this,e),this.name=t,this.type=n,this.localName=r,this.dynamic=i}return at(e,[{key:"_throwError",value:function(e,t){fg.throwArgumentError(e,this.localName,t)}}]),e}(),dg=function(){function e(t){nt(this,e),rg(this,"wordSize",t||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(t)}return at(e,[{key:"data",get:function(){return function(e){var t="0x";return e.forEach((function(e){t+=$m(e).substring(2)})),t}(this._data)}},{key:"length",get:function(){return this._dataLength}},{key:"_writeData",value:function(e){return this._data.push(e),this._dataLength+=e.length,e.length}},{key:"appendWriter",value:function(e){return this._writeData(Ym(e._data))}},{key:"writeBytes",value:function(e){var t=Jm(e),n=t.length%this.wordSize;return n&&(t=Ym([t,this._padding.slice(n)])),this._writeData(t)}},{key:"_getValue",value:function(e){var t=Jm(ly.from(e));return t.length>this.wordSize&&fg.throwError("value out-of-bounds",Wm.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=Ym([this._padding.slice(t.length%this.wordSize),t])),t}},{key:"writeValue",value:function(e){return this._writeData(this._getValue(e))}},{key:"writeUpdatableValue",value:function(){var e=this,t=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,function(n){e._data[t]=e._getValue(n)}}}]),e}(),pg=function(){function e(t,n,r,i){nt(this,e),rg(this,"_data",Jm(t)),rg(this,"wordSize",n||32),rg(this,"_coerceFunc",r),rg(this,"allowLoose",i),this._offset=0}return at(e,[{key:"data",get:function(){return $m(this._data)}},{key:"consumed",get:function(){return this._offset}},{key:"coerce",value:function(t,n){return this._coerceFunc?this._coerceFunc(t,n):e.coerce(t,n)}},{key:"_peekBytes",value:function(e,t,n){var r=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+r>this._data.length&&(this.allowLoose&&n&&this._offset+t<=this._data.length?r=t:fg.throwError("data out-of-bounds",Wm.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+r})),this._data.slice(this._offset,this._offset+r)}},{key:"subReader",value:function(t){return new e(this._data.slice(this._offset+t),this.wordSize,this._coerceFunc,this.allowLoose)}},{key:"readBytes",value:function(e,t){var n=this._peekBytes(0,e,!!t);return this._offset+=n.length,n.slice(0,e)}},{key:"readValue",value:function(){return ly.from(this.readBytes(this.wordSize))}}],[{key:"coerce",value:function(e,t){var n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(t=t.toNumber()),t}}]),e}(),vg=function(e){ct(n,e);var t=dt(n);function n(e){return nt(this,n),t.call(this,"address","address",e,!1)}return at(n,[{key:"defaultValue",value:function(){return"0x0000000000000000000000000000000000000000"}},{key:"encode",value:function(e,t){try{t=Ty(t)}catch(n){this._throwError(n.message,t)}return e.writeValue(t)}},{key:"decode",value:function(e){return Ty(ny(e.readValue().toHexString(),20))}}]),n}(hg),mg=function(e){ct(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this,e.name,e.type,void 0,e.dynamic)).coder=e,r}return at(n,[{key:"defaultValue",value:function(){return this.coder.defaultValue()}},{key:"encode",value:function(e,t){return this.coder.encode(e,t)}},{key:"decode",value:function(e){return this.coder.decode(e)}}]),n}(hg),yg=new Wm(cg);function gg(e,t,n){var r=null;if(Array.isArray(n))r=n;else if(n&&"object"===typeof n){var i={};r=t.map((function(e){var t=e.localName;return t||yg.throwError("cannot encode object for signature with missing names",Wm.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:n}),i[t]&&yg.throwError("cannot encode object for signature with duplicate names",Wm.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:n}),i[t]=!0,n[t]}))}else yg.throwArgumentError("invalid tuple value","tuple",n);t.length!==r.length&&yg.throwArgumentError("types/value length mismatch","tuple",n);var a=new dg(e.wordSize),o=new dg(e.wordSize),s=[];t.forEach((function(e,t){var n=r[t];if(e.dynamic){var i=o.length;e.encode(o,n);var u=a.writeUpdatableValue();s.push((function(e){u(e+i)}))}else e.encode(a,n)})),s.forEach((function(e){e(a.length)}));var u=e.appendWriter(a);return u+=e.appendWriter(o)}function bg(e,t){var n=[],r=e.subReader(0);t.forEach((function(t){var i=null;if(t.dynamic){var a=e.readValue(),o=r.subReader(a.toNumber());try{i=t.decode(o)}catch(s){if(s.code===Wm.errors.BUFFER_OVERRUN)throw s;(i=s).baseType=t.name,i.name=t.localName,i.type=t.type}}else try{i=t.decode(e)}catch(s){if(s.code===Wm.errors.BUFFER_OVERRUN)throw s;(i=s).baseType=t.name,i.name=t.localName,i.type=t.type}void 0!=i&&n.push(i)}));var i=t.reduce((function(e,t){var n=t.localName;return n&&(e[n]||(e[n]=0),e[n]++),e}),{});t.forEach((function(e,t){var r=e.localName;if(r&&1===i[r]&&("length"===r&&(r="_length"),null==n[r])){var a=n[t];a instanceof Error?Object.defineProperty(n,r,{enumerable:!0,get:function(){throw a}}):n[r]=a}}));for(var a=function(){var e=n[o];e instanceof Error&&Object.defineProperty(n,o,{enumerable:!0,get:function(){throw e}})},o=0;o<n.length;o++)a();return Object.freeze(n)}var wg,xg,_g=function(e){ct(n,e);var t=dt(n);function n(e,r,i){var a;nt(this,n);var o=e.type+"["+(r>=0?r:"")+"]",s=-1===r||e.dynamic;return(a=t.call(this,"array",o,i,s)).coder=e,a.length=r,a}return at(n,[{key:"defaultValue",value:function(){for(var e=this.coder.defaultValue(),t=[],n=0;n<this.length;n++)t.push(e);return t}},{key:"encode",value:function(e,t){Array.isArray(t)||this._throwError("expected array value",t);var n=this.length;-1===n&&(n=t.length,e.writeValue(t.length)),yg.checkArgumentCount(t.length,n,"coder array"+(this.localName?" "+this.localName:""));for(var r=[],i=0;i<t.length;i++)r.push(this.coder);return gg(e,r,t)}},{key:"decode",value:function(e){var t=this.length;-1===t&&32*(t=e.readValue().toNumber())>e._data.length&&yg.throwError("insufficient data length",Wm.errors.BUFFER_OVERRUN,{length:e._data.length,count:t});for(var n=[],r=0;r<t;r++)n.push(new mg(this.coder));return e.coerce(this.name,bg(e,n))}}]),n}(hg),kg=function(e){ct(n,e);var t=dt(n);function n(e){return nt(this,n),t.call(this,"bool","bool",e,!1)}return at(n,[{key:"defaultValue",value:function(){return!1}},{key:"encode",value:function(e,t){return e.writeValue(t?1:0)}},{key:"decode",value:function(e){return e.coerce(this.type,!e.readValue().isZero())}}]),n}(hg),Sg=function(e){ct(n,e);var t=dt(n);function n(e,r){return nt(this,n),t.call(this,e,e,r,!0)}return at(n,[{key:"defaultValue",value:function(){return"0x"}},{key:"encode",value:function(e,t){t=Jm(t);var n=e.writeValue(t.length);return n+=e.writeBytes(t)}},{key:"decode",value:function(e){return e.readBytes(e.readValue().toNumber(),!0)}}]),n}(hg),Mg=function(e){ct(n,e);var t=dt(n);function n(e){return nt(this,n),t.call(this,"bytes",e)}return at(n,[{key:"decode",value:function(e){return e.coerce(this.name,$m(ut(st(n.prototype),"decode",this).call(this,e)))}}]),n}(Sg),Ag=function(e){ct(n,e);var t=dt(n);function n(e,r){var i;nt(this,n);var a="bytes"+String(e);return(i=t.call(this,a,a,r,!1)).size=e,i}return at(n,[{key:"defaultValue",value:function(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}},{key:"encode",value:function(e,t){var n=Jm(t);return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}},{key:"decode",value:function(e){return e.coerce(this.name,$m(e.readBytes(this.size)))}}]),n}(hg),Tg=function(e){ct(n,e);var t=dt(n);function n(e){return nt(this,n),t.call(this,"null","",e,!1)}return at(n,[{key:"defaultValue",value:function(){return null}},{key:"encode",value:function(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])}},{key:"decode",value:function(e){return e.readBytes(0),e.coerce(this.name,null)}}]),n}(hg),Eg=ly.from(-1),Cg=ly.from(0),Pg=ly.from(1),Rg=ly.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Ig=function(e){ct(n,e);var t=dt(n);function n(e,r,i){var a;nt(this,n);var o=(r?"int":"uint")+8*e;return(a=t.call(this,o,o,i,!1)).size=e,a.signed=r,a}return at(n,[{key:"defaultValue",value:function(){return 0}},{key:"encode",value:function(e,t){var n=ly.from(t),r=Rg.mask(8*e.wordSize);if(this.signed){var i=r.mask(8*this.size-1);(n.gt(i)||n.lt(i.add(Pg).mul(Eg)))&&this._throwError("value out-of-bounds",t)}else(n.lt(Cg)||n.gt(r.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return n=n.toTwos(8*this.size).mask(8*this.size),this.signed&&(n=n.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(n)}},{key:"decode",value:function(e){var t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)}}]),n}(hg),Lg=new Wm("strings/5.7.0");function Ng(e,t,n,r,i){if(e===xg.BAD_PREFIX||e===xg.UNEXPECTED_CONTINUE){for(var a=0,o=t+1;o<n.length&&n[o]>>6===2;o++)a++;return a}return e===xg.OVERRUN?n.length-t-1:0}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(wg||(wg={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}(xg||(xg={}));var Og=Object.freeze({error:function(e,t,n,r,i){return Lg.throwArgumentError("invalid codepoint at offset ".concat(t,"; ").concat(e),"bytes",n)},ignore:Ng,replace:function(e,t,n,r,i){return e===xg.OVERLONG?(r.push(i),0):(r.push(65533),Ng(e,t,n))}});function Dg(e,t){null==t&&(t=Og.error),e=Jm(e);for(var n=[],r=0;r<e.length;){var i=e[r++];if(i>>7!==0){var a=null,o=null;if(192===(224&i))a=1,o=127;else if(224===(240&i))a=2,o=2047;else{if(240!==(248&i)){r+=t(128===(192&i)?xg.UNEXPECTED_CONTINUE:xg.BAD_PREFIX,r-1,e,n);continue}a=3,o=65535}if(r-1+a>=e.length)r+=t(xg.OVERRUN,r-1,e,n);else{for(var s=i&(1<<8-a-1)-1,u=0;u<a;u++){var l=e[r];if(128!=(192&l)){r+=t(xg.MISSING_CONTINUE,r,e,n),s=null;break}s=s<<6|63&l,r++}null!==s&&(s>1114111?r+=t(xg.OUT_OF_RANGE,r-1-a,e,n,s):s>=55296&&s<=57343?r+=t(xg.UTF16_SURROGATE,r-1-a,e,n,s):s<=o?r+=t(xg.OVERLONG,r-1-a,e,n,s):n.push(s))}}else n.push(i)}return n}function Ug(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wg.current;t!=wg.current&&(Lg.checkNormalize(),e=e.normalize(t));for(var n=[],r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(63&i|128);else if(55296==(64512&i)){r++;var a=e.charCodeAt(r);if(r>=e.length||56320!==(64512&a))throw new Error("invalid utf-8 string");var o=65536+((1023&i)<<10)+(1023&a);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(63&o|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(63&i|128)}return Jm(n)}function zg(e,t){return Dg(e,t).map((function(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e)))})).join("")}var Bg=function(e){ct(n,e);var t=dt(n);function n(e){return nt(this,n),t.call(this,"string",e)}return at(n,[{key:"defaultValue",value:function(){return""}},{key:"encode",value:function(e,t){return ut(st(n.prototype),"encode",this).call(this,e,Ug(t))}},{key:"decode",value:function(e){return zg(ut(st(n.prototype),"decode",this).call(this,e))}}]),n}(Sg),Fg=function(e){ct(n,e);var t=dt(n);function n(e,r){var i;nt(this,n);var a=!1,o=[];e.forEach((function(e){e.dynamic&&(a=!0),o.push(e.type)}));var s="tuple("+o.join(",")+")";return(i=t.call(this,"tuple",s,r,a)).coders=e,i}return at(n,[{key:"defaultValue",value:function(){var e=[];this.coders.forEach((function(t){e.push(t.defaultValue())}));var t=this.coders.reduce((function(e,t){var n=t.localName;return n&&(e[n]||(e[n]=0),e[n]++),e}),{});return this.coders.forEach((function(n,r){var i=n.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[r]))})),Object.freeze(e)}},{key:"encode",value:function(e,t){return gg(e,this.coders,t)}},{key:"decode",value:function(e){return e.coerce(this.name,bg(e,this.coders))}}]),n}(hg),Hg=new Wm(cg),Wg={},Gg={calldata:!0,memory:!0,storage:!0},jg={calldata:!0,memory:!0};function Vg(e,t){if("bytes"===e||"string"===e){if(Gg[t])return!0}else if("address"===e){if("payable"===t)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&jg[t])return!0;return(Gg[t]||"payable"===t)&&Hg.throwArgumentError("invalid modifier","name",t),!1}function qg(e,t){for(var n in t)rg(e,n,t[n])}var Xg=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),Jg=new RegExp(/^(.*)\[([0-9]*)\]$/),Yg=function(){function e(t,n){nt(this,e),t!==Wg&&Hg.throwError("use fromString",Wm.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),qg(this,n);var r=this.type.match(Jg);qg(this,r?{arrayLength:parseInt(r[2]||"-1"),arrayChildren:e.fromObject({type:r[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}return at(e,[{key:"format",value:function(e){if(e||(e=Xg.sighash),Xg[e]||Hg.throwArgumentError("invalid format type","format",e),e===Xg.json){var t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"===typeof this.indexed&&(t.indexed=this.indexed),this.components&&(t.components=this.components.map((function(t){return JSON.parse(t.format(e))}))),JSON.stringify(t)}var n="";return"array"===this.baseType?(n+=this.arrayChildren.format(e),n+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(e!==Xg.sighash&&(n+=this.type),n+="("+this.components.map((function(t){return t.format(e)})).join(e===Xg.full?", ":",")+")"):n+=this.type,e!==Xg.sighash&&(!0===this.indexed&&(n+=" indexed"),e===Xg.full&&this.name&&(n+=" "+this.name)),n}}],[{key:"from",value:function(t,n){return"string"===typeof t?e.fromString(t,n):e.fromObject(t)}},{key:"fromObject",value:function(t){return e.isParamType(t)?t:new e(Wg,{name:t.name||null,type:ob(t.type),indexed:null==t.indexed?null:!!t.indexed,components:t.components?t.components.map(e.fromObject):null})}},{key:"fromString",value:function(t,n){return function(t){return e.fromObject({name:t.name,type:t.type,indexed:t.indexed,components:t.components})}(function(e,t){var n=e;function r(t){Hg.throwArgumentError("unexpected character at position ".concat(t),"param",e)}function i(e){var n={type:"",name:"",parent:e,state:{allowType:!0}};return t&&(n.indexed=!1),n}e=e.replace(/\s/g," ");for(var a={type:"",name:"",state:{allowType:!0}},o=a,s=0;s<e.length;s++){var u=e[s];switch(u){case"(":o.state.allowType&&""===o.type?o.type="tuple":o.state.allowParams||r(s),o.state.allowType=!1,o.type=ob(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,"indexed"===o.name&&(t||r(s),o.indexed=!0,o.name=""),Vg(o.type,o.name)&&(o.name=""),o.type=ob(o.type);var l=o;(o=o.parent)||r(s),delete l.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,"indexed"===o.name&&(t||r(s),o.indexed=!0,o.name=""),Vg(o.type,o.name)&&(o.name=""),o.type=ob(o.type);var c=i(o.parent);o.parent.components.push(c),delete o.parent,o=c;break;case" ":o.state.allowType&&""!==o.type&&(o.type=ob(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&""!==o.name&&("indexed"===o.name?(t||r(s),o.indexed&&r(s),o.indexed=!0,o.name=""):Vg(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||r(s),o.type+=u,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||r(s),o.type+=u,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=u,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=u,delete o.state.allowArray):o.state.readArray?o.type+=u:r(s)}}return o.parent&&Hg.throwArgumentError("unexpected eof","param",e),delete a.state,"indexed"===o.name?(t||r(n.length-7),o.indexed&&r(n.length-7),o.indexed=!0,o.name=""):Vg(o.type,o.name)&&(o.name=""),a.type=ob(a.type),a}(t,!!n))}},{key:"isParamType",value:function(e){return!(null==e||!e._isParamType)}}]),e}();function Qg(e,t){return function(e){e=e.trim();for(var t=[],n="",r=0,i=0;i<e.length;i++){var a=e[i];","===a&&0===r?(t.push(n),n=""):(n+=a,"("===a?r++:")"===a&&-1===--r&&Hg.throwArgumentError("unbalanced parenthesis","value",e))}n&&t.push(n);return t}(e).map((function(e){return Yg.fromString(e,t)}))}var Zg=function(){function e(t,n){nt(this,e),t!==Wg&&Hg.throwError("use a static from method",Wm.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),qg(this,n),this._isFragment=!0,Object.freeze(this)}return at(e,null,[{key:"from",value:function(t){return e.isFragment(t)?t:"string"===typeof t?e.fromString(t):e.fromObject(t)}},{key:"fromObject",value:function(t){if(e.isFragment(t))return t;switch(t.type){case"function":return rb.fromObject(t);case"event":return Kg.fromObject(t);case"constructor":return nb.fromObject(t);case"error":return ab.fromObject(t);case"fallback":case"receive":return null}return Hg.throwArgumentError("invalid fragment object","value",t)}},{key:"fromString",value:function(e){return"event"===(e=(e=(e=e.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?Kg.fromString(e.substring(5).trim()):"function"===e.split(" ")[0]?rb.fromString(e.substring(8).trim()):"constructor"===e.split("(")[0].trim()?nb.fromString(e.trim()):"error"===e.split(" ")[0]?ab.fromString(e.substring(5).trim()):Hg.throwArgumentError("unsupported fragment","value",e)}},{key:"isFragment",value:function(e){return!(!e||!e._isFragment)}}]),e}(),Kg=function(e){ct(n,e);var t=dt(n);function n(){return nt(this,n),t.apply(this,arguments)}return at(n,[{key:"format",value:function(e){if(e||(e=Xg.sighash),Xg[e]||Hg.throwArgumentError("invalid format type","format",e),e===Xg.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((function(t){return JSON.parse(t.format(e))}))});var t="";return e!==Xg.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map((function(t){return t.format(e)})).join(e===Xg.full?", ":",")+") ",e!==Xg.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}}],[{key:"from",value:function(e){return"string"===typeof e?n.fromString(e):n.fromObject(e)}},{key:"fromObject",value:function(e){if(n.isEventFragment(e))return e;"event"!==e.type&&Hg.throwArgumentError("invalid event object","value",e);var t={name:ub(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Yg.fromObject):[],type:"event"};return new n(Wg,t)}},{key:"fromString",value:function(e){var t=e.match(lb);t||Hg.throwArgumentError("invalid event string","value",e);var r=!1;return t[3].split(" ").forEach((function(e){switch(e.trim()){case"anonymous":r=!0;break;case"":break;default:Hg.warn("unknown modifier: "+e)}})),n.fromObject({name:t[1].trim(),anonymous:r,inputs:Qg(t[2],!0),type:"event"})}},{key:"isEventFragment",value:function(e){return e&&e._isFragment&&"event"===e.type}}]),n}(Zg);function $g(e,t){t.gas=null;var n=e.split("@");return 1!==n.length?(n.length>2&&Hg.throwArgumentError("invalid human-readable ABI signature","value",e),n[1].match(/^[0-9]+$/)||Hg.throwArgumentError("invalid human-readable ABI signature gas","value",e),t.gas=ly.from(n[1]),n[0]):e}function eb(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach((function(e){switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}}))}function tb(e){var t={constant:!1,payable:!0,stateMutability:"payable"};return null!=e.stateMutability?(t.stateMutability=e.stateMutability,t.constant="view"===t.stateMutability||"pure"===t.stateMutability,null!=e.constant&&!!e.constant!==t.constant&&Hg.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable="payable"===t.stateMutability,null!=e.payable&&!!e.payable!==t.payable&&Hg.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):null!=e.payable?(t.payable=!!e.payable,null!=e.constant||t.payable||"constructor"===e.type||Hg.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&Hg.throwArgumentError("cannot have constant payable function","value",e)):null!=e.constant?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):"constructor"!==e.type&&Hg.throwArgumentError("unable to determine stateMutability","value",e),t}var nb=function(e){ct(n,e);var t=dt(n);function n(){return nt(this,n),t.apply(this,arguments)}return at(n,[{key:"format",value:function(e){if(e||(e=Xg.sighash),Xg[e]||Hg.throwArgumentError("invalid format type","format",e),e===Xg.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((function(t){return JSON.parse(t.format(e))}))});e===Xg.sighash&&Hg.throwError("cannot format a constructor for sighash",Wm.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});var t="constructor("+this.inputs.map((function(t){return t.format(e)})).join(e===Xg.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "),t.trim()}}],[{key:"from",value:function(e){return"string"===typeof e?n.fromString(e):n.fromObject(e)}},{key:"fromObject",value:function(e){if(n.isConstructorFragment(e))return e;"constructor"!==e.type&&Hg.throwArgumentError("invalid constructor object","value",e);var t=tb(e);t.constant&&Hg.throwArgumentError("constructor cannot be constant","value",e);var r={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Yg.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?ly.from(e.gas):null};return new n(Wg,r)}},{key:"fromString",value:function(e){var t={type:"constructor"},r=(e=$g(e,t)).match(lb);return r&&"constructor"===r[1].trim()||Hg.throwArgumentError("invalid constructor string","value",e),t.inputs=Qg(r[2].trim(),!1),eb(r[3].trim(),t),n.fromObject(t)}},{key:"isConstructorFragment",value:function(e){return e&&e._isFragment&&"constructor"===e.type}}]),n}(Zg),rb=function(e){ct(n,e);var t=dt(n);function n(){return nt(this,n),t.apply(this,arguments)}return at(n,[{key:"format",value:function(e){if(e||(e=Xg.sighash),Xg[e]||Hg.throwArgumentError("invalid format type","format",e),e===Xg.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((function(t){return JSON.parse(t.format(e))})),outputs:this.outputs.map((function(t){return JSON.parse(t.format(e))}))});var t="";return e!==Xg.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map((function(t){return t.format(e)})).join(e===Xg.full?", ":",")+") ",e!==Xg.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map((function(t){return t.format(e)})).join(", ")+") "),null!=this.gas&&(t+="@"+this.gas.toString()+" ")),t.trim()}}],[{key:"from",value:function(e){return"string"===typeof e?n.fromString(e):n.fromObject(e)}},{key:"fromObject",value:function(e){if(n.isFunctionFragment(e))return e;"function"!==e.type&&Hg.throwArgumentError("invalid function object","value",e);var t=tb(e),r={type:e.type,name:ub(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(Yg.fromObject):[],outputs:e.outputs?e.outputs.map(Yg.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?ly.from(e.gas):null};return new n(Wg,r)}},{key:"fromString",value:function(e){var t={type:"function"},r=(e=$g(e,t)).split(" returns ");r.length>2&&Hg.throwArgumentError("invalid function string","value",e);var i=r[0].match(lb);if(i||Hg.throwArgumentError("invalid function signature","value",e),t.name=i[1].trim(),t.name&&ub(t.name),t.inputs=Qg(i[2],!1),eb(i[3].trim(),t),r.length>1){var a=r[1].match(lb);""==a[1].trim()&&""==a[3].trim()||Hg.throwArgumentError("unexpected tokens","value",e),t.outputs=Qg(a[2],!1)}else t.outputs=[];return n.fromObject(t)}},{key:"isFunctionFragment",value:function(e){return e&&e._isFragment&&"function"===e.type}}]),n}(nb);function ib(e){var t=e.format();return"Error(string)"!==t&&"Panic(uint256)"!==t||Hg.throwArgumentError("cannot specify user defined ".concat(t," error"),"fragment",e),e}var ab=function(e){ct(n,e);var t=dt(n);function n(){return nt(this,n),t.apply(this,arguments)}return at(n,[{key:"format",value:function(e){if(e||(e=Xg.sighash),Xg[e]||Hg.throwArgumentError("invalid format type","format",e),e===Xg.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((function(t){return JSON.parse(t.format(e))}))});var t="";return e!==Xg.sighash&&(t+="error "),(t+=this.name+"("+this.inputs.map((function(t){return t.format(e)})).join(e===Xg.full?", ":",")+") ").trim()}}],[{key:"from",value:function(e){return"string"===typeof e?n.fromString(e):n.fromObject(e)}},{key:"fromObject",value:function(e){if(n.isErrorFragment(e))return e;"error"!==e.type&&Hg.throwArgumentError("invalid error object","value",e);var t={type:e.type,name:ub(e.name),inputs:e.inputs?e.inputs.map(Yg.fromObject):[]};return ib(new n(Wg,t))}},{key:"fromString",value:function(e){var t={type:"error"},r=e.match(lb);return r||Hg.throwArgumentError("invalid error signature","value",e),t.name=r[1].trim(),t.name&&ub(t.name),t.inputs=Qg(r[2],!1),ib(n.fromObject(t))}},{key:"isErrorFragment",value:function(e){return e&&e._isFragment&&"error"===e.type}}]),n}(Zg);function ob(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}var sb=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function ub(e){return e&&e.match(sb)||Hg.throwArgumentError('invalid identifier "'.concat(e,'"'),"value",e),e}var lb=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");var cb=new Wm(cg),fb=new RegExp(/^bytes([0-9]*)$/),hb=new RegExp(/^(u?int)([0-9]*)$/),db=function(){function e(t){nt(this,e),rg(this,"coerceFunc",t||null)}return at(e,[{key:"_getCoder",value:function(e){var t=this;switch(e.baseType){case"address":return new vg(e.name);case"bool":return new kg(e.name);case"string":return new Bg(e.name);case"bytes":return new Mg(e.name);case"array":return new _g(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Fg((e.components||[]).map((function(e){return t._getCoder(e)})),e.name);case"":return new Tg(e.name)}var n=e.type.match(hb);if(n){var r=parseInt(n[2]||"256");return(0===r||r>256||r%8!==0)&&cb.throwArgumentError("invalid "+n[1]+" bit length","param",e),new Ig(r/8,"int"===n[1],e.name)}if(n=e.type.match(fb)){var i=parseInt(n[1]);return(0===i||i>32)&&cb.throwArgumentError("invalid bytes length","param",e),new Ag(i,e.name)}return cb.throwArgumentError("invalid type","type",e.type)}},{key:"_getWordSize",value:function(){return 32}},{key:"_getReader",value:function(e,t){return new pg(e,this._getWordSize(),this.coerceFunc,t)}},{key:"_getWriter",value:function(){return new dg(this._getWordSize())}},{key:"getDefaultValue",value:function(e){var t=this,n=e.map((function(e){return t._getCoder(Yg.from(e))}));return new Fg(n,"_").defaultValue()}},{key:"encode",value:function(e,t){var n=this;e.length!==t.length&&cb.throwError("types/values length mismatch",Wm.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});var r=e.map((function(e){return n._getCoder(Yg.from(e))})),i=new Fg(r,"_"),a=this._getWriter();return i.encode(a,t),a.data}},{key:"decode",value:function(e,t,n){var r=this,i=e.map((function(e){return r._getCoder(Yg.from(e))}));return new Fg(i,"_").decode(this._getReader(Jm(t),n))}}]),e}(),pb=new db;function vb(e){return my(Ug(e))}var mb=new Wm(cg),yb=function(e){ct(n,e);var t=dt(n);function n(){return nt(this,n),t.apply(this,arguments)}return at(n)}(lg),gb=function(e){ct(n,e);var t=dt(n);function n(){return nt(this,n),t.apply(this,arguments)}return at(n)}(lg),bb=function(e){ct(n,e);var t=dt(n);function n(){return nt(this,n),t.apply(this,arguments)}return at(n)}(lg),wb=function(e){ct(n,e);var t=dt(n);function n(){return nt(this,n),t.apply(this,arguments)}return at(n,null,[{key:"isIndexed",value:function(e){return!(!e||!e._isIndexed)}}]),n}(lg),xb={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function _b(e,t){var n=new Error("deferred error during ABI decoding triggered accessing ".concat(e));return n.error=t,n}var kb=function(){function e(t){var n=this;nt(this,e);rg(this,"fragments",("string"===typeof t?JSON.parse(t):t).map((function(e){return Zg.from(e)})).filter((function(e){return null!=e}))),rg(this,"_abiCoder",ig(this instanceof e?this.constructor:void 0,"getAbiCoder")()),rg(this,"functions",{}),rg(this,"errors",{}),rg(this,"events",{}),rg(this,"structs",{}),this.fragments.forEach((function(e){var t=null;switch(e.type){case"constructor":return n.deploy?void mb.warn("duplicate definition - constructor"):void rg(n,"deploy",e);case"function":t=n.functions;break;case"event":t=n.events;break;case"error":t=n.errors;break;default:return}var r=e.format();t[r]?mb.warn("duplicate definition - "+r):t[r]=e})),this.deploy||rg(this,"deploy",nb.from({payable:!1,type:"constructor"})),rg(this,"_isInterface",!0)}return at(e,[{key:"format",value:function(e){e||(e=Xg.full),e===Xg.sighash&&mb.throwArgumentError("interface does not support formatting sighash","format",e);var t=this.fragments.map((function(t){return t.format(e)}));return e===Xg.json?JSON.stringify(t.map((function(e){return JSON.parse(e)}))):t}},{key:"getFunction",value:function(e){if(Zm(e)){for(var t in this.functions)if(e===this.getSighash(t))return this.functions[t];mb.throwArgumentError("no matching function","sighash",e)}if(-1===e.indexOf("(")){var n=e.trim(),r=Object.keys(this.functions).filter((function(e){return e.split("(")[0]===n}));return 0===r.length?mb.throwArgumentError("no matching function","name",n):r.length>1&&mb.throwArgumentError("multiple matching functions","name",n),this.functions[r[0]]}var i=this.functions[rb.fromString(e).format()];return i||mb.throwArgumentError("no matching function","signature",e),i}},{key:"getEvent",value:function(e){if(Zm(e)){var t=e.toLowerCase();for(var n in this.events)if(t===this.getEventTopic(n))return this.events[n];mb.throwArgumentError("no matching event","topichash",t)}if(-1===e.indexOf("(")){var r=e.trim(),i=Object.keys(this.events).filter((function(e){return e.split("(")[0]===r}));return 0===i.length?mb.throwArgumentError("no matching event","name",r):i.length>1&&mb.throwArgumentError("multiple matching events","name",r),this.events[i[0]]}var a=this.events[Kg.fromString(e).format()];return a||mb.throwArgumentError("no matching event","signature",e),a}},{key:"getError",value:function(e){if(Zm(e)){var t=ig(this.constructor,"getSighash");for(var n in this.errors){if(e===t(this.errors[n]))return this.errors[n]}mb.throwArgumentError("no matching error","sighash",e)}if(-1===e.indexOf("(")){var r=e.trim(),i=Object.keys(this.errors).filter((function(e){return e.split("(")[0]===r}));return 0===i.length?mb.throwArgumentError("no matching error","name",r):i.length>1&&mb.throwArgumentError("multiple matching errors","name",r),this.errors[i[0]]}var a=this.errors[rb.fromString(e).format()];return a||mb.throwArgumentError("no matching error","signature",e),a}},{key:"getSighash",value:function(e){if("string"===typeof e)try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch(n){throw t}}return ig(this.constructor,"getSighash")(e)}},{key:"getEventTopic",value:function(e){return"string"===typeof e&&(e=this.getEvent(e)),ig(this.constructor,"getEventTopic")(e)}},{key:"_decodeParams",value:function(e,t){return this._abiCoder.decode(e,t)}},{key:"_encodeParams",value:function(e,t){return this._abiCoder.encode(e,t)}},{key:"encodeDeploy",value:function(e){return this._encodeParams(this.deploy.inputs,e||[])}},{key:"decodeErrorResult",value:function(e,t){"string"===typeof e&&(e=this.getError(e));var n=Jm(t);return $m(n.slice(0,4))!==this.getSighash(e)&&mb.throwArgumentError("data signature does not match error ".concat(e.name,"."),"data",$m(n)),this._decodeParams(e.inputs,n.slice(4))}},{key:"encodeErrorResult",value:function(e,t){return"string"===typeof e&&(e=this.getError(e)),$m(Ym([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}},{key:"decodeFunctionData",value:function(e,t){"string"===typeof e&&(e=this.getFunction(e));var n=Jm(t);return $m(n.slice(0,4))!==this.getSighash(e)&&mb.throwArgumentError("data signature does not match function ".concat(e.name,"."),"data",$m(n)),this._decodeParams(e.inputs,n.slice(4))}},{key:"encodeFunctionData",value:function(e,t){return"string"===typeof e&&(e=this.getFunction(e)),$m(Ym([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}},{key:"decodeFunctionResult",value:function(e,t){"string"===typeof e&&(e=this.getFunction(e));var n=Jm(t),r=null,i="",a=null,o=null,s=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch(c){}break;case 4:var u=$m(n.slice(0,4)),l=xb[u];if(l)a=this._abiCoder.decode(l.inputs,n.slice(4)),o=l.name,s=l.signature,l.reason&&(r=a[0]),"Error"===o?i="; VM Exception while processing transaction: reverted with reason string ".concat(JSON.stringify(a[0])):"Panic"===o&&(i="; VM Exception while processing transaction: reverted with panic code ".concat(a[0]));else try{var c=this.getError(u);a=this._abiCoder.decode(c.inputs,n.slice(4)),o=c.name,s=c.format()}catch(c){}}return mb.throwError("call revert exception"+i,Wm.errors.CALL_EXCEPTION,{method:e.format(),data:$m(t),errorArgs:a,errorName:o,errorSignature:s,reason:r})}},{key:"encodeFunctionResult",value:function(e,t){return"string"===typeof e&&(e=this.getFunction(e)),$m(this._abiCoder.encode(e.outputs,t||[]))}},{key:"encodeFilterTopics",value:function(e,t){var n=this;"string"===typeof e&&(e=this.getEvent(e)),t.length>e.inputs.length&&mb.throwError("too many arguments for "+e.format(),Wm.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});var r=[];e.anonymous||r.push(this.getEventTopic(e));var i=function(e,t){return"string"===e.type?vb(t):"bytes"===e.type?my($m(t)):("bool"===e.type&&"boolean"===typeof t&&(t=t?"0x01":"0x00"),e.type.match(/^u?int/)&&(t=ly.from(t).toHexString()),"address"===e.type&&n._abiCoder.encode(["address"],[t]),ny($m(t),32))};for(t.forEach((function(t,n){var a=e.inputs[n];a.indexed?null==t?r.push(null):"array"===a.baseType||"tuple"===a.baseType?mb.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,t):Array.isArray(t)?r.push(t.map((function(e){return i(a,e)}))):r.push(i(a,t)):null!=t&&mb.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,t)}));r.length&&null===r[r.length-1];)r.pop();return r}},{key:"encodeEventLog",value:function(e,t){var n=this;"string"===typeof e&&(e=this.getEvent(e));var r=[],i=[],a=[];return e.anonymous||r.push(this.getEventTopic(e)),t.length!==e.inputs.length&&mb.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((function(e,o){var s=t[o];if(e.indexed)if("string"===e.type)r.push(vb(s));else if("bytes"===e.type)r.push(my(s));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");r.push(n._abiCoder.encode([e.type],[s]))}else i.push(e),a.push(s)})),{data:this._abiCoder.encode(i,a),topics:r}}},{key:"decodeEventLog",value:function(e,t,n){if("string"===typeof e&&(e=this.getEvent(e)),null!=n&&!e.anonymous){var r=this.getEventTopic(e);Zm(n[0],32)&&n[0].toLowerCase()===r||mb.throwError("fragment/topic mismatch",Wm.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:r,value:n[0]}),n=n.slice(1)}var i=[],a=[],o=[];e.inputs.forEach((function(e,t){e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(i.push(Yg.fromObject({type:"bytes32",name:e.name})),o.push(!0)):(i.push(e),o.push(!1)):(a.push(e),o.push(!1))}));var s=null!=n?this._abiCoder.decode(i,Ym(n)):null,u=this._abiCoder.decode(a,t,!0),l=[],c=0,f=0;e.inputs.forEach((function(e,t){if(e.indexed)if(null==s)l[t]=new wb({_isIndexed:!0,hash:null});else if(o[t])l[t]=new wb({_isIndexed:!0,hash:s[f++]});else try{l[t]=s[f++]}catch(r){l[t]=r}else try{l[t]=u[c++]}catch(r){l[t]=r}if(e.name&&null==l[e.name]){var n=l[t];n instanceof Error?Object.defineProperty(l,e.name,{enumerable:!0,get:function(){throw _b("property ".concat(JSON.stringify(e.name)),n)}}):l[e.name]=n}}));for(var h=function(e){var t=l[e];t instanceof Error&&Object.defineProperty(l,e,{enumerable:!0,get:function(){throw _b("index ".concat(e),t)}})},d=0;d<l.length;d++)h(d);return Object.freeze(l)}},{key:"parseTransaction",value:function(e){var t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new gb({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:ly.from(e.value||"0")}):null}},{key:"parseLog",value:function(e){var t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new yb({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}},{key:"parseError",value:function(e){var t=$m(e),n=this.getError(t.substring(0,10).toLowerCase());return n?new bb({args:this._abiCoder.decode(n.inputs,"0x"+t.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}}],[{key:"getAbiCoder",value:function(){return pb}},{key:"getAddress",value:function(e){return Ty(e)}},{key:"getSighash",value:function(e){return ty(vb(e.format()),0,4)}},{key:"getEventTopic",value:function(e){return vb(e.format())}},{key:"isInterface",value:function(e){return!(!e||!e._isInterface)}}]),e}(),Sb=new RegExp("^bytes([0-9]+)$"),Mb=new RegExp("^(u?int)([0-9]*)$"),Ab=new RegExp("^(.*)\\[([0-9]*)\\]$"),Tb="0000000000000000000000000000000000000000000000000000000000000000",Eb=new Wm("solidity/5.7.0");function Cb(e,t,n){switch(e){case"address":return n?Qm(t,32):Jm(t);case"string":return Ug(t);case"bytes":return Jm(t);case"bool":return t=t?"0x01":"0x00",n?Qm(t,32):Jm(t)}var r=e.match(Mb);if(r){var i=parseInt(r[2]||"256");return(r[2]&&String(i)!==r[2]||i%8!==0||0===i||i>256)&&Eb.throwArgumentError("invalid number type","type",e),n&&(i=256),Qm(t=ly.from(t).toTwos(i),i/8)}if(r=e.match(Sb)){var a=parseInt(r[1]);return(String(a)!==r[1]||0===a||a>32)&&Eb.throwArgumentError("invalid bytes type","type",e),Jm(t).byteLength!==a&&Eb.throwArgumentError("invalid value for ".concat(e),"value",t),n?Jm((t+Tb).substring(0,66)):t}if((r=e.match(Ab))&&Array.isArray(t)){var o=r[1];parseInt(r[2]||String(t.length))!=t.length&&Eb.throwArgumentError("invalid array length for ".concat(e),"value",t);var s=[];return t.forEach((function(e){s.push(Cb(o,e,!0))})),Ym(s)}return Eb.throwArgumentError("invalid type","type",e)}function Pb(e,t){e.length!=t.length&&Eb.throwArgumentError("wrong number of values; expected ${ types.length }","values",t);var n=[];return e.forEach((function(e,r){n.push(Cb(e,t[r]))})),$m(Ym(n))}var Rb=JSON.parse('{"Mt":[{"inputs":[{"internalType":"bytes[]","name":"data","type":"bytes[]"}],"name":"multicall","outputs":[{"internalType":"bytes[]","name":"results","type":"bytes[]"}],"stateMutability":"payable","type":"function"}]}'),Ib=JSON.parse('{"Mt":[{"inputs":[{"internalType":"address","name":"_factory","type":"address"},{"internalType":"address","name":"_WETH9","type":"address"},{"internalType":"address","name":"_tokenDescriptor_","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"address","name":"recipient","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount0","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount1","type":"uint256"}],"name":"Collect","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"uint128","name":"liquidity","type":"uint128"},{"indexed":false,"internalType":"uint256","name":"amount0","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount1","type":"uint256"}],"name":"DecreaseLiquidity","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"uint128","name":"liquidity","type":"uint128"},{"indexed":false,"internalType":"uint256","name":"amount0","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount1","type":"uint256"}],"name":"IncreaseLiquidity","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"DOMAIN_SEPARATOR","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"PERMIT_TYPEHASH","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"WETH9","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"baseURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"components":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint128","name":"amount0Max","type":"uint128"},{"internalType":"uint128","name":"amount1Max","type":"uint128"}],"internalType":"struct INonfungiblePositionManager.CollectParams","name":"params","type":"tuple"}],"name":"collect","outputs":[{"internalType":"uint256","name":"amount0","type":"uint256"},{"internalType":"uint256","name":"amount1","type":"uint256"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"token0","type":"address"},{"internalType":"address","name":"token1","type":"address"},{"internalType":"uint24","name":"fee","type":"uint24"},{"internalType":"uint160","name":"sqrtPriceX96","type":"uint160"}],"name":"createAndInitializePoolIfNecessary","outputs":[{"internalType":"address","name":"pool","type":"address"}],"stateMutability":"payable","type":"function"},{"inputs":[{"components":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint128","name":"liquidity","type":"uint128"},{"internalType":"uint256","name":"amount0Min","type":"uint256"},{"internalType":"uint256","name":"amount1Min","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"internalType":"struct INonfungiblePositionManager.DecreaseLiquidityParams","name":"params","type":"tuple"}],"name":"decreaseLiquidity","outputs":[{"internalType":"uint256","name":"amount0","type":"uint256"},{"internalType":"uint256","name":"amount1","type":"uint256"}],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"factory","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"amount0Desired","type":"uint256"},{"internalType":"uint256","name":"amount1Desired","type":"uint256"},{"internalType":"uint256","name":"amount0Min","type":"uint256"},{"internalType":"uint256","name":"amount1Min","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"internalType":"struct INonfungiblePositionManager.IncreaseLiquidityParams","name":"params","type":"tuple"}],"name":"increaseLiquidity","outputs":[{"internalType":"uint128","name":"liquidity","type":"uint128"},{"internalType":"uint256","name":"amount0","type":"uint256"},{"internalType":"uint256","name":"amount1","type":"uint256"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"address","name":"token0","type":"address"},{"internalType":"address","name":"token1","type":"address"},{"internalType":"uint24","name":"fee","type":"uint24"},{"internalType":"int24","name":"tickLower","type":"int24"},{"internalType":"int24","name":"tickUpper","type":"int24"},{"internalType":"uint256","name":"amount0Desired","type":"uint256"},{"internalType":"uint256","name":"amount1Desired","type":"uint256"},{"internalType":"uint256","name":"amount0Min","type":"uint256"},{"internalType":"uint256","name":"amount1Min","type":"uint256"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"internalType":"struct INonfungiblePositionManager.MintParams","name":"params","type":"tuple"}],"name":"mint","outputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint128","name":"liquidity","type":"uint128"},{"internalType":"uint256","name":"amount0","type":"uint256"},{"internalType":"uint256","name":"amount1","type":"uint256"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"bytes[]","name":"data","type":"bytes[]"}],"name":"multicall","outputs":[{"internalType":"bytes[]","name":"results","type":"bytes[]"}],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"permit","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"positions","outputs":[{"internalType":"uint96","name":"nonce","type":"uint96"},{"internalType":"address","name":"operator","type":"address"},{"internalType":"address","name":"token0","type":"address"},{"internalType":"address","name":"token1","type":"address"},{"internalType":"uint24","name":"fee","type":"uint24"},{"internalType":"int24","name":"tickLower","type":"int24"},{"internalType":"int24","name":"tickUpper","type":"int24"},{"internalType":"uint128","name":"liquidity","type":"uint128"},{"internalType":"uint256","name":"feeGrowthInside0LastX128","type":"uint256"},{"internalType":"uint256","name":"feeGrowthInside1LastX128","type":"uint256"},{"internalType":"uint128","name":"tokensOwed0","type":"uint128"},{"internalType":"uint128","name":"tokensOwed1","type":"uint128"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"refundETH","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"selfPermit","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"selfPermitAllowed","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"selfPermitAllowedIfNecessary","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"selfPermitIfNecessary","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amountMinimum","type":"uint256"},{"internalType":"address","name":"recipient","type":"address"}],"name":"sweepToken","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenOfOwnerByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount0Owed","type":"uint256"},{"internalType":"uint256","name":"amount1Owed","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"uniswapV3MintCallback","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountMinimum","type":"uint256"},{"internalType":"address","name":"recipient","type":"address"}],"name":"unwrapWETH9","outputs":[],"stateMutability":"payable","type":"function"},{"stateMutability":"payable","type":"receive"}]}'),Lb=JSON.parse('{"Mt":[{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"selfPermit","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"selfPermitAllowed","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"selfPermitAllowedIfNecessary","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"selfPermitIfNecessary","outputs":[],"stateMutability":"payable","type":"function"}]}'),Nb=JSON.parse('{"Mt":[{"inputs":[],"name":"refundETH","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amountMinimum","type":"uint256"},{"internalType":"address","name":"recipient","type":"address"}],"name":"sweepToken","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amountMinimum","type":"uint256"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"feeBips","type":"uint256"},{"internalType":"address","name":"feeRecipient","type":"address"}],"name":"sweepTokenWithFee","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountMinimum","type":"uint256"},{"internalType":"address","name":"recipient","type":"address"}],"name":"unwrapWETH9","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountMinimum","type":"uint256"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"feeBips","type":"uint256"},{"internalType":"address","name":"feeRecipient","type":"address"}],"name":"unwrapWETH9WithFee","outputs":[],"stateMutability":"payable","type":"function"}]}'),Ob=JSON.parse('{"Mt":[{"inputs":[{"internalType":"address","name":"_factory","type":"address"},{"internalType":"address","name":"_WETH9","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"WETH9","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"factory","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes","name":"path","type":"bytes"},{"internalType":"uint256","name":"amountIn","type":"uint256"}],"name":"quoteExactInput","outputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"uint24","name":"fee","type":"uint24"},{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint160","name":"sqrtPriceLimitX96","type":"uint160"}],"name":"quoteExactInputSingle","outputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes","name":"path","type":"bytes"},{"internalType":"uint256","name":"amountOut","type":"uint256"}],"name":"quoteExactOutput","outputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"uint24","name":"fee","type":"uint24"},{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"uint160","name":"sqrtPriceLimitX96","type":"uint160"}],"name":"quoteExactOutputSingle","outputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"int256","name":"amount0Delta","type":"int256"},{"internalType":"int256","name":"amount1Delta","type":"int256"},{"internalType":"bytes","name":"path","type":"bytes"}],"name":"uniswapV3SwapCallback","outputs":[],"stateMutability":"view","type":"function"}]}'),Db=JSON.parse('{"Mt":[{"inputs":[{"internalType":"address","name":"_factory","type":"address"},{"internalType":"address","name":"_WETH9","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"WETH9","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"factory","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes","name":"path","type":"bytes"},{"internalType":"uint256","name":"amountIn","type":"uint256"}],"name":"quoteExactInput","outputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"uint160[]","name":"sqrtPriceX96AfterList","type":"uint160[]"},{"internalType":"uint32[]","name":"initializedTicksCrossedList","type":"uint32[]"},{"internalType":"uint256","name":"gasEstimate","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint24","name":"fee","type":"uint24"},{"internalType":"uint160","name":"sqrtPriceLimitX96","type":"uint160"}],"internalType":"struct IQuoterV2.QuoteExactInputSingleParams","name":"params","type":"tuple"}],"name":"quoteExactInputSingle","outputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"uint160","name":"sqrtPriceX96After","type":"uint160"},{"internalType":"uint32","name":"initializedTicksCrossed","type":"uint32"},{"internalType":"uint256","name":"gasEstimate","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes","name":"path","type":"bytes"},{"internalType":"uint256","name":"amountOut","type":"uint256"}],"name":"quoteExactOutput","outputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint160[]","name":"sqrtPriceX96AfterList","type":"uint160[]"},{"internalType":"uint32[]","name":"initializedTicksCrossedList","type":"uint32[]"},{"internalType":"uint256","name":"gasEstimate","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint24","name":"fee","type":"uint24"},{"internalType":"uint160","name":"sqrtPriceLimitX96","type":"uint160"}],"internalType":"struct IQuoterV2.QuoteExactOutputSingleParams","name":"params","type":"tuple"}],"name":"quoteExactOutputSingle","outputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint160","name":"sqrtPriceX96After","type":"uint160"},{"internalType":"uint32","name":"initializedTicksCrossed","type":"uint32"},{"internalType":"uint256","name":"gasEstimate","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"int256","name":"amount0Delta","type":"int256"},{"internalType":"int256","name":"amount1Delta","type":"int256"},{"internalType":"bytes","name":"path","type":"bytes"}],"name":"uniswapV3SwapCallback","outputs":[],"stateMutability":"view","type":"function"}]}'),Ub=JSON.parse('{"Mt":[{"inputs":[{"internalType":"contract IUniswapV3Factory","name":"_factory","type":"address"},{"internalType":"contract INonfungiblePositionManager","name":"_nonfungiblePositionManager","type":"address"},{"internalType":"uint256","name":"_maxIncentiveStartLeadTime","type":"uint256"},{"internalType":"uint256","name":"_maxIncentiveDuration","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":true,"internalType":"address","name":"oldOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"DepositTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"contract IERC20Minimal","name":"rewardToken","type":"address"},{"indexed":true,"internalType":"contract IUniswapV3Pool","name":"pool","type":"address"},{"indexed":false,"internalType":"uint256","name":"startTime","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"endTime","type":"uint256"},{"indexed":false,"internalType":"address","name":"refundee","type":"address"},{"indexed":false,"internalType":"uint256","name":"reward","type":"uint256"}],"name":"IncentiveCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"incentiveId","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"refund","type":"uint256"}],"name":"IncentiveEnded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"reward","type":"uint256"}],"name":"RewardClaimed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":true,"internalType":"bytes32","name":"incentiveId","type":"bytes32"},{"indexed":false,"internalType":"uint128","name":"liquidity","type":"uint128"}],"name":"TokenStaked","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":true,"internalType":"bytes32","name":"incentiveId","type":"bytes32"}],"name":"TokenUnstaked","type":"event"},{"inputs":[{"internalType":"contract IERC20Minimal","name":"rewardToken","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amountRequested","type":"uint256"}],"name":"claimReward","outputs":[{"internalType":"uint256","name":"reward","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"contract IERC20Minimal","name":"rewardToken","type":"address"},{"internalType":"contract IUniswapV3Pool","name":"pool","type":"address"},{"internalType":"uint256","name":"startTime","type":"uint256"},{"internalType":"uint256","name":"endTime","type":"uint256"},{"internalType":"address","name":"refundee","type":"address"}],"internalType":"struct IUniswapV3Staker.IncentiveKey","name":"key","type":"tuple"},{"internalType":"uint256","name":"reward","type":"uint256"}],"name":"createIncentive","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"deposits","outputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint48","name":"numberOfStakes","type":"uint48"},{"internalType":"int24","name":"tickLower","type":"int24"},{"internalType":"int24","name":"tickUpper","type":"int24"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"contract IERC20Minimal","name":"rewardToken","type":"address"},{"internalType":"contract IUniswapV3Pool","name":"pool","type":"address"},{"internalType":"uint256","name":"startTime","type":"uint256"},{"internalType":"uint256","name":"endTime","type":"uint256"},{"internalType":"address","name":"refundee","type":"address"}],"internalType":"struct IUniswapV3Staker.IncentiveKey","name":"key","type":"tuple"}],"name":"endIncentive","outputs":[{"internalType":"uint256","name":"refund","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"factory","outputs":[{"internalType":"contract IUniswapV3Factory","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"contract IERC20Minimal","name":"rewardToken","type":"address"},{"internalType":"contract IUniswapV3Pool","name":"pool","type":"address"},{"internalType":"uint256","name":"startTime","type":"uint256"},{"internalType":"uint256","name":"endTime","type":"uint256"},{"internalType":"address","name":"refundee","type":"address"}],"internalType":"struct IUniswapV3Staker.IncentiveKey","name":"key","type":"tuple"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getRewardInfo","outputs":[{"internalType":"uint256","name":"reward","type":"uint256"},{"internalType":"uint160","name":"secondsInsideX128","type":"uint160"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"incentives","outputs":[{"internalType":"uint256","name":"totalRewardUnclaimed","type":"uint256"},{"internalType":"uint160","name":"totalSecondsClaimedX128","type":"uint160"},{"internalType":"uint96","name":"numberOfStakes","type":"uint96"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxIncentiveDuration","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxIncentiveStartLeadTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes[]","name":"data","type":"bytes[]"}],"name":"multicall","outputs":[{"internalType":"bytes[]","name":"results","type":"bytes[]"}],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"nonfungiblePositionManager","outputs":[{"internalType":"contract INonfungiblePositionManager","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"from","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"onERC721Received","outputs":[{"internalType":"bytes4","name":"","type":"bytes4"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract IERC20Minimal","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"name":"rewards","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"contract IERC20Minimal","name":"rewardToken","type":"address"},{"internalType":"contract IUniswapV3Pool","name":"pool","type":"address"},{"internalType":"uint256","name":"startTime","type":"uint256"},{"internalType":"uint256","name":"endTime","type":"uint256"},{"internalType":"address","name":"refundee","type":"address"}],"internalType":"struct IUniswapV3Staker.IncentiveKey","name":"key","type":"tuple"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"stakeToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes32","name":"incentiveId","type":"bytes32"}],"name":"stakes","outputs":[{"internalType":"uint160","name":"secondsPerLiquidityInsideInitialX128","type":"uint160"},{"internalType":"uint128","name":"liquidity","type":"uint128"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address","name":"to","type":"address"}],"name":"transferDeposit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"contract IERC20Minimal","name":"rewardToken","type":"address"},{"internalType":"contract IUniswapV3Pool","name":"pool","type":"address"},{"internalType":"uint256","name":"startTime","type":"uint256"},{"internalType":"uint256","name":"endTime","type":"uint256"},{"internalType":"address","name":"refundee","type":"address"}],"internalType":"struct IUniswapV3Staker.IncentiveKey","name":"key","type":"tuple"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"unstakeToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"withdrawToken","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),zb=JSON.parse('{"Mt":[{"inputs":[{"internalType":"address","name":"_factory","type":"address"},{"internalType":"address","name":"_WETH9","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"WETH9","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"bytes","name":"path","type":"bytes"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"amountOutMinimum","type":"uint256"}],"internalType":"struct ISwapRouter.ExactInputParams","name":"params","type":"tuple"}],"name":"exactInput","outputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"}],"stateMutability":"payable","type":"function"},{"inputs":[{"components":[{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"uint24","name":"fee","type":"uint24"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"amountOutMinimum","type":"uint256"},{"internalType":"uint160","name":"sqrtPriceLimitX96","type":"uint160"}],"internalType":"struct ISwapRouter.ExactInputSingleParams","name":"params","type":"tuple"}],"name":"exactInputSingle","outputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"}],"stateMutability":"payable","type":"function"},{"inputs":[{"components":[{"internalType":"bytes","name":"path","type":"bytes"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"uint256","name":"amountInMaximum","type":"uint256"}],"internalType":"struct ISwapRouter.ExactOutputParams","name":"params","type":"tuple"}],"name":"exactOutput","outputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"}],"stateMutability":"payable","type":"function"},{"inputs":[{"components":[{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"uint24","name":"fee","type":"uint24"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"uint256","name":"amountInMaximum","type":"uint256"},{"internalType":"uint160","name":"sqrtPriceLimitX96","type":"uint160"}],"internalType":"struct ISwapRouter.ExactOutputSingleParams","name":"params","type":"tuple"}],"name":"exactOutputSingle","outputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"}],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"factory","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes[]","name":"data","type":"bytes[]"}],"name":"multicall","outputs":[{"internalType":"bytes[]","name":"results","type":"bytes[]"}],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"refundETH","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"selfPermit","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"selfPermitAllowed","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"selfPermitAllowedIfNecessary","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"selfPermitIfNecessary","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amountMinimum","type":"uint256"},{"internalType":"address","name":"recipient","type":"address"}],"name":"sweepToken","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amountMinimum","type":"uint256"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"feeBips","type":"uint256"},{"internalType":"address","name":"feeRecipient","type":"address"}],"name":"sweepTokenWithFee","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"int256","name":"amount0Delta","type":"int256"},{"internalType":"int256","name":"amount1Delta","type":"int256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"uniswapV3SwapCallback","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountMinimum","type":"uint256"},{"internalType":"address","name":"recipient","type":"address"}],"name":"unwrapWETH9","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountMinimum","type":"uint256"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"feeBips","type":"uint256"},{"internalType":"address","name":"feeRecipient","type":"address"}],"name":"unwrapWETH9WithFee","outputs":[],"stateMutability":"payable","type":"function"},{"stateMutability":"payable","type":"receive"}]}');function Bb(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function Fb(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Bb(a,r,i,o,s,"next",e)}function s(e){Bb(a,r,i,o,s,"throw",e)}o(void 0)}))}}function Hb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wb(e,t,n){return t&&Hb(e.prototype,t),n&&Hb(e,n),e}function Gb(){return Gb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gb.apply(this,arguments)}function jb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vb(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return jb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jb(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}var qb,Xb,Jb,Yb,Qb=(qb=function(e){var t=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(AG){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new E(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return P()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=M(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(AG){return{type:"throw",arg:AG}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var b={};b[a]=function(){return this};var w=Object.getPrototypeOf,x=w&&w(w(C([])));x&&x!==n&&r.call(x,a)&&(b=x);var _=g.prototype=m.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,s){var u=c(e[i],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function M(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,M(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function C(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:P}}function P(){return{value:t,done:!0}}return y.prototype=_.constructor=g,g.constructor=y,y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},k(S.prototype),S.prototype[o]=function(){return this},e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(_),u(_,s,"Generator"),_[a]=function(){return this},_.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(u&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){Function("r","regeneratorRuntime = r")(t)}},qb(Xb={exports:{}},Xb.exports),Xb.exports),Zb="0x0000000000000000000000000000000000000000",Kb="0xe34f199b19b2b4f47f68442619d555527d244f78a3297ea89325f843f87b8b54";!function(e){e[e.LOWEST=100]="LOWEST",e[e.LOW=500]="LOW",e[e.MEDIUM=3e3]="MEDIUM",e[e.HIGH=1e4]="HIGH"}(Yb||(Yb={}));var $b=((Jb={})[Yb.LOWEST]=1,Jb[Yb.LOW]=10,Jb[Yb.MEDIUM]=60,Jb[Yb.HIGH]=200,Jb),ew=km().BigInt(-1),tw=km().BigInt(0),nw=km().BigInt(1),rw=km().exponentiate(km().BigInt(2),km().BigInt(96)),iw=km().exponentiate(rw,km().BigInt(2));function aw(e){var t,n,r=e.factoryAddress,i=e.tokenA,a=e.tokenB,o=e.fee,s=e.initCodeHashManualOverride,u=i.sortsBefore(a)?[i,a]:[a,i],l=u[0],c=u[1];return function(e,t,n){return 32!==ey(t)&&yy.throwArgumentError("salt must be 32 bytes","salt",t),32!==ey(n)&&yy.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",n),Ty(ty(my(Ym(["0xff",Ty(e),t,n])),12))}(r,(t=["bytes"],n=[pb.encode(["address","address","uint24"],[l.address,c.address,o])],my(Pb(t,n))),null!=s?s:Kb)}var ow=function(){function e(){}return e.addDelta=function(e,t){return km().lessThan(t,tw)?km().subtract(e,km().multiply(t,ew)):km().add(e,t)},e}(),sw=function(){function e(){}return e.mulDivRoundingUp=function(e,t,n){var r=km().multiply(e,t),i=km().divide(r,n);return km().notEqual(km().remainder(r,n),tw)&&(i=km().add(i,nw)),i},e}(),uw=km().subtract(km().exponentiate(km().BigInt(2),km().BigInt(160)),nw);function lw(e,t){var n=km().multiply(e,t);return km().bitwiseAnd(n,Py)}var cw=function(){function e(){}return e.getAmount0Delta=function(e,t,n,r){if(km().greaterThan(e,t)){var i=[t,e];e=i[0],t=i[1]}var a=km().leftShift(n,km().BigInt(96)),o=km().subtract(t,e);return r?sw.mulDivRoundingUp(sw.mulDivRoundingUp(a,o,t),nw,e):km().divide(km().divide(km().multiply(a,o),t),e)},e.getAmount1Delta=function(e,t,n,r){if(km().greaterThan(e,t)){var i=[t,e];e=i[0],t=i[1]}return r?sw.mulDivRoundingUp(n,km().subtract(t,e),rw):km().divide(km().multiply(n,km().subtract(t,e)),rw)},e.getNextSqrtPriceFromInput=function(e,t,n,r){return km().greaterThan(e,tw)||Am(!1),km().greaterThan(t,tw)||Am(!1),r?this.getNextSqrtPriceFromAmount0RoundingUp(e,t,n,!0):this.getNextSqrtPriceFromAmount1RoundingDown(e,t,n,!0)},e.getNextSqrtPriceFromOutput=function(e,t,n,r){return km().greaterThan(e,tw)||Am(!1),km().greaterThan(t,tw)||Am(!1),r?this.getNextSqrtPriceFromAmount1RoundingDown(e,t,n,!1):this.getNextSqrtPriceFromAmount0RoundingUp(e,t,n,!1)},e.getNextSqrtPriceFromAmount0RoundingUp=function(e,t,n,r){if(km().equal(n,tw))return e;var i=km().leftShift(t,km().BigInt(96));if(r){var a=lw(n,e);if(km().equal(km().divide(a,n),e)){var o=function(e,t){var n=km().add(e,t);return km().bitwiseAnd(n,Py)}(i,a);if(km().greaterThanOrEqual(o,i))return sw.mulDivRoundingUp(i,e,o)}return sw.mulDivRoundingUp(i,nw,km().add(km().divide(i,e),n))}var s=lw(n,e);km().equal(km().divide(s,n),e)||Am(!1),km().greaterThan(i,s)||Am(!1);var u=km().subtract(i,s);return sw.mulDivRoundingUp(i,e,u)},e.getNextSqrtPriceFromAmount1RoundingDown=function(e,t,n,r){if(r){var i=km().lessThanOrEqual(n,uw)?km().divide(km().leftShift(n,km().BigInt(96)),t):km().divide(km().multiply(n,rw),t);return km().add(e,i)}var a=sw.mulDivRoundingUp(n,rw,t);return km().greaterThan(e,a)||Am(!1),km().subtract(e,a)},e}(),fw=km().exponentiate(km().BigInt(10),km().BigInt(6)),hw=function(){function e(){}return e.computeSwapStep=function(e,t,n,r,i){var a={},o=km().greaterThanOrEqual(e,t),s=km().greaterThanOrEqual(r,tw);if(s){var u=km().divide(km().multiply(r,km().subtract(fw,km().BigInt(i))),fw);a.amountIn=o?cw.getAmount0Delta(t,e,n,!0):cw.getAmount1Delta(e,t,n,!0),km().greaterThanOrEqual(u,a.amountIn)?a.sqrtRatioNextX96=t:a.sqrtRatioNextX96=cw.getNextSqrtPriceFromInput(e,n,u,o)}else a.amountOut=o?cw.getAmount1Delta(t,e,n,!1):cw.getAmount0Delta(e,t,n,!1),km().greaterThanOrEqual(km().multiply(r,ew),a.amountOut)?a.sqrtRatioNextX96=t:a.sqrtRatioNextX96=cw.getNextSqrtPriceFromOutput(e,n,km().multiply(r,ew),o);var l=km().equal(t,a.sqrtRatioNextX96);return o?(a.amountIn=l&&s?a.amountIn:cw.getAmount0Delta(a.sqrtRatioNextX96,e,n,!0),a.amountOut=l&&!s?a.amountOut:cw.getAmount1Delta(a.sqrtRatioNextX96,e,n,!1)):(a.amountIn=l&&s?a.amountIn:cw.getAmount1Delta(e,a.sqrtRatioNextX96,n,!0),a.amountOut=l&&!s?a.amountOut:cw.getAmount0Delta(e,a.sqrtRatioNextX96,n,!1)),!s&&km().greaterThan(a.amountOut,km().multiply(r,ew))&&(a.amountOut=km().multiply(r,ew)),s&&km().notEqual(a.sqrtRatioNextX96,t)?a.feeAmount=km().subtract(r,a.amountIn):a.feeAmount=sw.mulDivRoundingUp(a.amountIn,km().BigInt(i),km().subtract(fw,km().BigInt(i))),[a.sqrtRatioNextX96,a.amountIn,a.amountOut,a.feeAmount]},e}(),dw=km().BigInt(2),pw=[128,64,32,16,8,4,2,1].map((function(e){return[e,km().exponentiate(dw,km().BigInt(e))]}));function vw(e,t){return km().signedRightShift(km().multiply(e,km().BigInt(t)),km().BigInt(128))}var mw=km().exponentiate(km().BigInt(2),km().BigInt(32)),yw=function(){function e(){}return e.getSqrtRatioAtTick=function(t){t>=e.MIN_TICK&&t<=e.MAX_TICK&&Number.isInteger(t)||Am(!1);var n=t<0?-1*t:t,r=0!=(1&n)?km().BigInt("0xfffcb933bd6fad37aa2d162d1a594001"):km().BigInt("0x100000000000000000000000000000000");return 0!=(2&n)&&(r=vw(r,"0xfff97272373d413259a46990580e213a")),0!=(4&n)&&(r=vw(r,"0xfff2e50f5f656932ef12357cf3c7fdcc")),0!=(8&n)&&(r=vw(r,"0xffe5caca7e10e4e61c3624eaa0941cd0")),0!=(16&n)&&(r=vw(r,"0xffcb9843d60f6159c9db58835c926644")),0!=(32&n)&&(r=vw(r,"0xff973b41fa98c081472e6896dfb254c0")),0!=(64&n)&&(r=vw(r,"0xff2ea16466c96a3843ec78b326b52861")),0!=(128&n)&&(r=vw(r,"0xfe5dee046a99a2a811c461f1969c3053")),0!=(256&n)&&(r=vw(r,"0xfcbe86c7900a88aedcffc83b479aa3a4")),0!=(512&n)&&(r=vw(r,"0xf987a7253ac413176f2b074cf7815e54")),0!=(1024&n)&&(r=vw(r,"0xf3392b0822b70005940c7a398e4b70f3")),0!=(2048&n)&&(r=vw(r,"0xe7159475a2c29b7443b29c7fa6e889d9")),0!=(4096&n)&&(r=vw(r,"0xd097f3bdfd2022b8845ad8f792aa5825")),0!=(8192&n)&&(r=vw(r,"0xa9f746462d870fdf8a65dc1f90e061e5")),0!=(16384&n)&&(r=vw(r,"0x70d869a156d2a1b890bb3df62baf32f7")),0!=(32768&n)&&(r=vw(r,"0x31be135f97d08fd981231505542fcfa6")),0!=(65536&n)&&(r=vw(r,"0x9aa508b5b7a84e1c677de54f3e99bc9")),0!=(131072&n)&&(r=vw(r,"0x5d6af8dedb81196699c329225ee604")),0!=(262144&n)&&(r=vw(r,"0x2216e584f5fa1ea926041bedfe98")),0!=(524288&n)&&(r=vw(r,"0x48a170391f7dc42444e8fa2")),t>0&&(r=km().divide(Py,r)),km().greaterThan(km().remainder(r,mw),tw)?km().add(km().divide(r,mw),nw):km().divide(r,mw)},e.getTickAtSqrtRatio=function(t){km().greaterThanOrEqual(t,e.MIN_SQRT_RATIO)&&km().lessThan(t,e.MAX_SQRT_RATIO)||Am(!1);var n,r=km().leftShift(t,km().BigInt(32)),i=function(e){km().greaterThan(e,tw)||Am(!1),km().lessThanOrEqual(e,Py)||Am(!1);for(var t,n=0,r=Vb(pw);!(t=r()).done;){var i=t.value,a=i[0],o=i[1];km().greaterThanOrEqual(e,o)&&(e=km().signedRightShift(e,km().BigInt(a)),n+=a)}return n}(r);n=km().greaterThanOrEqual(km().BigInt(i),km().BigInt(128))?km().signedRightShift(r,km().BigInt(i-127)):km().leftShift(r,km().BigInt(127-i));for(var a=km().leftShift(km().subtract(km().BigInt(i),km().BigInt(128)),km().BigInt(64)),o=0;o<14;o++){n=km().signedRightShift(km().multiply(n,n),km().BigInt(127));var s=km().signedRightShift(n,km().BigInt(128));a=km().bitwiseOr(a,km().leftShift(s,km().BigInt(63-o))),n=km().signedRightShift(n,s)}var u=km().multiply(a,km().BigInt("255738958999603826347141")),l=km().toNumber(km().signedRightShift(km().subtract(u,km().BigInt("3402992956809132418596140100660247210")),km().BigInt(128))),c=km().toNumber(km().signedRightShift(km().add(u,km().BigInt("291339464771989622907027621153398088495")),km().BigInt(128)));return l===c?l:km().lessThanOrEqual(e.getSqrtRatioAtTick(c),t)?c:l},e}();yw.MIN_TICK=-887272,yw.MAX_TICK=-yw.MIN_TICK,yw.MIN_SQRT_RATIO=km().BigInt("4295128739"),yw.MAX_SQRT_RATIO=km().BigInt("1461446703485210103287273052203988822378723970342");var gw=function(){function e(){}var t=e.prototype;return t.getTick=function(){var t=Fb(Qb.mark((function t(n){return Qb.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw new Error(e.ERROR_MESSAGE);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.nextInitializedTickWithinOneWord=function(){var t=Fb(Qb.mark((function t(n,r,i){return Qb.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw new Error(e.ERROR_MESSAGE);case 1:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),e}();function bw(e,t){return e.index-t.index}gw.ERROR_MESSAGE="No tick data provider was given";var ww=function(){function e(){}return e.validateList=function(e,t){t>0||Am(!1),e.every((function(e){return e.index%t===0}))||Am(!1),km().equal(e.reduce((function(e,t){var n=t.liquidityNet;return km().add(e,n)}),tw),tw)||Am(!1),!function(e,t){for(var n=0;n<e.length-1;n++)if(t(e[n],e[n+1])>0)return!1;return!0}(e,bw)&&Am(!1)},e.isBelowSmallest=function(e,t){return e.length>0||Am(!1),t<e[0].index},e.isAtOrAboveLargest=function(e,t){return e.length>0||Am(!1),t>=e[e.length-1].index},e.getTick=function(e,t){var n=e[this.binarySearch(e,t)];return n.index!==t&&Am(!1),n},e.binarySearch=function(e,t){this.isBelowSmallest(e,t)&&Am(!1);for(var n,r=0,i=e.length-1;;){if(e[n=Math.floor((r+i)/2)].index<=t&&(n===e.length-1||e[n+1].index>t))return n;e[n].index<t?r=n+1:i=n-1}},e.nextInitializedTick=function(t,n,r){return r?(e.isBelowSmallest(t,n)&&Am(!1),e.isAtOrAboveLargest(t,n)?t[t.length-1]:t[this.binarySearch(t,n)]):(this.isAtOrAboveLargest(t,n)&&Am(!1),this.isBelowSmallest(t,n)?t[0]:t[this.binarySearch(t,n)+1])},e.nextInitializedTickWithinOneWord=function(t,n,r,i){var a=Math.floor(n/i);if(r){var o=(a>>8<<8)*i;if(e.isBelowSmallest(t,n))return[o,!1];var s=e.nextInitializedTick(t,n,r).index,u=Math.max(o,s);return[u,u===s]}var l=(((a+1>>8)+1<<8)-1)*i;if(this.isAtOrAboveLargest(t,n))return[l,!1];var c=this.nextInitializedTick(t,n,r).index,f=Math.min(l,c);return[f,f===c]},e}();function xw(e){var t=km().BigInt(e).toString(16);return t.length%2!==0&&(t="0"+t),"0x"+t}function _w(e,t){var n=e.input.wrapped,r=e.pools.reduce((function(e,t,n){var r=e.inputToken,i=e.path,a=e.types,o=t.token0.equals(r)?t.token1:t.token0;return 0===n?{inputToken:o,types:["address","uint24","address"],path:[r.address,t.fee,o.address]}:{inputToken:o,types:[].concat(a,["uint24","address"]),path:[].concat(i,[t.fee,o.address])}}),{inputToken:n,path:[],types:[]}),i=r.path,a=r.types;return t?Pb(a.reverse(),i.reverse()):Pb(a,i)}function kw(e,t){var n=km().leftShift(km().BigInt(e),km().BigInt(192)),r=km().BigInt(t);return function(e){if(km().greaterThanOrEqual(e,$y)||Am(!1),km().lessThan(e,Ky))return km().BigInt(Math.floor(Math.sqrt(km().toNumber(e))));var t,n;for(t=e,n=km().add(km().divide(e,tg),eg);km().lessThan(n,t);)t=n,n=km().divide(km().add(km().divide(e,n),n),tg);return t}(km().divide(n,r))}function Sw(e,t,n){if(km().greaterThan(e,t)){var r=[t,e];e=r[0],t=r[1]}var i=km().divide(km().multiply(e,t),rw);return km().divide(km().multiply(km().BigInt(n),i),km().subtract(t,e))}function Mw(e,t,n){if(km().greaterThan(e,t)){var r=[t,e];e=r[0],t=r[1]}var i=km().multiply(km().multiply(km().BigInt(n),e),t),a=km().multiply(rw,km().subtract(t,e));return km().divide(i,a)}function Aw(e,t,n){if(km().greaterThan(e,t)){var r=[t,e];e=r[0],t=r[1]}return km().divide(km().multiply(km().BigInt(n),rw),km().subtract(t,e))}function Tw(e,t,n,r,i,a){if(km().greaterThan(t,n)){var o=[n,t];t=o[0],n=o[1]}var s=a?Mw:Sw;if(km().lessThanOrEqual(e,t))return s(t,n,r);if(km().lessThan(e,n)){var u=s(e,n,r),l=Aw(t,e,i);return km().lessThan(u,l)?u:l}return Aw(t,n,i)}function Ew(e,t,n){var r=yw.getSqrtRatioAtTick(n),i=km().multiply(r,r);return e.sortsBefore(t)?new jy(e,t,iw,i):new jy(e,t,i,iw)}var Cw=function(e){var t=e.index,n=e.liquidityGross,r=e.liquidityNet;t>=yw.MIN_TICK&&t<=yw.MAX_TICK||Am(!1),this.index=t,this.liquidityGross=km().BigInt(n),this.liquidityNet=km().BigInt(r)},Pw=function(){function e(e,t){var n=e.map((function(e){return e instanceof Cw?e:new Cw(e)}));ww.validateList(n,t),this.ticks=n}var t=e.prototype;return t.getTick=function(){var e=Fb(Qb.mark((function e(t){return Qb.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ww.getTick(this.ticks,t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.nextInitializedTickWithinOneWord=function(){var e=Fb(Qb.mark((function e(t,n,r){return Qb.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ww.nextInitializedTickWithinOneWord(this.ticks,t,n,r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),e}(),Rw=new gw,Iw=function(){function e(e,t,n,r,i,a,o){void 0===o&&(o=Rw),Number.isInteger(n)&&n<1e6||Am(!1);var s=yw.getSqrtRatioAtTick(a),u=yw.getSqrtRatioAtTick(a+1);km().greaterThanOrEqual(km().BigInt(r),s)&&km().lessThanOrEqual(km().BigInt(r),u)||Am(!1);var l=e.sortsBefore(t)?[e,t]:[t,e];this.token0=l[0],this.token1=l[1],this.fee=n,this.sqrtRatioX96=km().BigInt(r),this.liquidity=km().BigInt(i),this.tickCurrent=a,this.tickDataProvider=Array.isArray(o)?new Pw(o,$b[n]):o}e.getAddress=function(e,t,n,r,i){return aw({factoryAddress:null!=i?i:"0x1F98431c8aD98523631AE4a59f267346ea31F984",fee:n,tokenA:e,tokenB:t,initCodeHashManualOverride:r})};var t=e.prototype;return t.involvesToken=function(e){return e.equals(this.token0)||e.equals(this.token1)},t.priceOf=function(e){return this.involvesToken(e)||Am(!1),e.equals(this.token0)?this.token0Price:this.token1Price},t.getOutputAmount=function(){var t=Fb(Qb.mark((function t(n,r){var i,a,o,s,u,l,c;return Qb.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.involvesToken(n.currency)||Am(!1),i=n.currency.equals(this.token0),t.next=4,this.swap(i,n.quotient,r);case 4:return a=t.sent,o=a.amountCalculated,s=a.sqrtRatioX96,u=a.liquidity,l=a.tickCurrent,c=i?this.token1:this.token0,t.abrupt("return",[Fy.fromRawAmount(c,km().multiply(o,ew)),new e(this.token0,this.token1,this.fee,s,u,l,this.tickDataProvider)]);case 11:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),t.getInputAmount=function(){var t=Fb(Qb.mark((function t(n,r){var i,a,o,s,u,l,c;return Qb.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.currency.isToken&&this.involvesToken(n.currency)||Am(!1),i=n.currency.equals(this.token1),t.next=4,this.swap(i,km().multiply(n.quotient,ew),r);case 4:return a=t.sent,o=a.amountCalculated,s=a.sqrtRatioX96,u=a.liquidity,l=a.tickCurrent,c=i?this.token0:this.token1,t.abrupt("return",[Fy.fromRawAmount(c,o),new e(this.token0,this.token1,this.fee,s,u,l,this.tickDataProvider)]);case 11:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),t.swap=function(){var e=Fb(Qb.mark((function e(t,n,r){var i,a,o,s,u,l;return Qb.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r||(r=t?km().add(yw.MIN_SQRT_RATIO,nw):km().subtract(yw.MAX_SQRT_RATIO,nw)),t?(km().greaterThan(r,yw.MIN_SQRT_RATIO)||Am(!1),km().lessThan(r,this.sqrtRatioX96)||Am(!1)):(km().lessThan(r,yw.MAX_SQRT_RATIO)||Am(!1),km().greaterThan(r,this.sqrtRatioX96)||Am(!1)),i=km().greaterThanOrEqual(n,tw),a={amountSpecifiedRemaining:n,amountCalculated:tw,sqrtPriceX96:this.sqrtRatioX96,tick:this.tickCurrent,liquidity:this.liquidity};case 4:if(!km().notEqual(a.amountSpecifiedRemaining,tw)||a.sqrtPriceX96==r){e.next=35;break}return(o={}).sqrtPriceStartX96=a.sqrtPriceX96,e.next=9,this.tickDataProvider.nextInitializedTickWithinOneWord(a.tick,t,this.tickSpacing);case 9:if(s=e.sent,o.tickNext=s[0],o.initialized=s[1],o.tickNext<yw.MIN_TICK?o.tickNext=yw.MIN_TICK:o.tickNext>yw.MAX_TICK&&(o.tickNext=yw.MAX_TICK),o.sqrtPriceNextX96=yw.getSqrtRatioAtTick(o.tickNext),u=hw.computeSwapStep(a.sqrtPriceX96,(t?km().lessThan(o.sqrtPriceNextX96,r):km().greaterThan(o.sqrtPriceNextX96,r))?r:o.sqrtPriceNextX96,a.liquidity,a.amountSpecifiedRemaining,this.fee),a.sqrtPriceX96=u[0],o.amountIn=u[1],o.amountOut=u[2],o.feeAmount=u[3],i?(a.amountSpecifiedRemaining=km().subtract(a.amountSpecifiedRemaining,km().add(o.amountIn,o.feeAmount)),a.amountCalculated=km().subtract(a.amountCalculated,o.amountOut)):(a.amountSpecifiedRemaining=km().add(a.amountSpecifiedRemaining,o.amountOut),a.amountCalculated=km().add(a.amountCalculated,km().add(o.amountIn,o.feeAmount))),!km().equal(a.sqrtPriceX96,o.sqrtPriceNextX96)){e.next=32;break}if(!o.initialized){e.next=29;break}return e.t0=km(),e.next=25,this.tickDataProvider.getTick(o.tickNext);case 25:e.t1=e.sent.liquidityNet,l=e.t0.BigInt.call(e.t0,e.t1),t&&(l=km().multiply(l,ew)),a.liquidity=ow.addDelta(a.liquidity,l);case 29:a.tick=t?o.tickNext-1:o.tickNext,e.next=33;break;case 32:a.sqrtPriceX96!=o.sqrtPriceStartX96&&(a.tick=yw.getTickAtSqrtRatio(a.sqrtPriceX96));case 33:e.next=4;break;case 35:return e.abrupt("return",{amountCalculated:a.amountCalculated,sqrtRatioX96:a.sqrtPriceX96,liquidity:a.liquidity,tickCurrent:a.tick});case 36:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),Wb(e,[{key:"token0Price",get:function(){var e;return null!=(e=this._token0Price)?e:this._token0Price=new jy(this.token0,this.token1,iw,km().multiply(this.sqrtRatioX96,this.sqrtRatioX96))}},{key:"token1Price",get:function(){var e;return null!=(e=this._token1Price)?e:this._token1Price=new jy(this.token1,this.token0,km().multiply(this.sqrtRatioX96,this.sqrtRatioX96),iw)}},{key:"chainId",get:function(){return this.token0.chainId}},{key:"tickSpacing",get:function(){return $b[this.fee]}}]),e}(),Lw=function(){function e(e){var t=e.pool,n=e.liquidity,r=e.tickLower,i=e.tickUpper;this._token0Amount=null,this._token1Amount=null,this._mintAmounts=null,r<i||Am(!1),r>=yw.MIN_TICK&&r%t.tickSpacing===0||Am(!1),i<=yw.MAX_TICK&&i%t.tickSpacing===0||Am(!1),this.pool=t,this.tickLower=r,this.tickUpper=i,this.liquidity=km().BigInt(n)}var t=e.prototype;return t.ratiosAfterSlippage=function(e){var t=this.pool.token0Price.asFraction.multiply(new Gy(1).subtract(e)),n=this.pool.token0Price.asFraction.multiply(e.add(1)),r=kw(t.numerator,t.denominator);km().lessThanOrEqual(r,yw.MIN_SQRT_RATIO)&&(r=km().add(yw.MIN_SQRT_RATIO,km().BigInt(1)));var i=kw(n.numerator,n.denominator);return km().greaterThanOrEqual(i,yw.MAX_SQRT_RATIO)&&(i=km().subtract(yw.MAX_SQRT_RATIO,km().BigInt(1))),{sqrtRatioX96Lower:r,sqrtRatioX96Upper:i}},t.mintAmountsWithSlippage=function(t){var n=this.ratiosAfterSlippage(t),r=n.sqrtRatioX96Upper,i=n.sqrtRatioX96Lower,a=new Iw(this.pool.token0,this.pool.token1,this.pool.fee,i,0,yw.getTickAtSqrtRatio(i)),o=new Iw(this.pool.token0,this.pool.token1,this.pool.fee,r,0,yw.getTickAtSqrtRatio(r)),s=e.fromAmounts(Gb({pool:this.pool,tickLower:this.tickLower,tickUpper:this.tickUpper},this.mintAmounts,{useFullPrecision:!1}));return{amount0:new e({pool:o,liquidity:s.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts.amount0,amount1:new e({pool:a,liquidity:s.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts.amount1}},t.burnAmountsWithSlippage=function(t){var n=this.ratiosAfterSlippage(t),r=n.sqrtRatioX96Upper,i=n.sqrtRatioX96Lower,a=new Iw(this.pool.token0,this.pool.token1,this.pool.fee,i,0,yw.getTickAtSqrtRatio(i)),o=new e({pool:new Iw(this.pool.token0,this.pool.token1,this.pool.fee,r,0,yw.getTickAtSqrtRatio(r)),liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).amount0,s=new e({pool:a,liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).amount1;return{amount0:o.quotient,amount1:s.quotient}},e.fromAmounts=function(t){var n=t.pool,r=t.tickLower,i=t.tickUpper,a=t.amount0,o=t.amount1,s=t.useFullPrecision,u=yw.getSqrtRatioAtTick(r),l=yw.getSqrtRatioAtTick(i);return new e({pool:n,tickLower:r,tickUpper:i,liquidity:Tw(n.sqrtRatioX96,u,l,a,o,s)})},e.fromAmount0=function(t){var n=t.pool,r=t.tickLower,i=t.tickUpper,a=t.amount0,o=t.useFullPrecision;return e.fromAmounts({pool:n,tickLower:r,tickUpper:i,amount0:a,amount1:Py,useFullPrecision:o})},e.fromAmount1=function(t){var n=t.pool,r=t.tickLower,i=t.tickUpper,a=t.amount1;return e.fromAmounts({pool:n,tickLower:r,tickUpper:i,amount0:Py,amount1:a,useFullPrecision:!0})},Wb(e,[{key:"token0PriceLower",get:function(){return Ew(this.pool.token0,this.pool.token1,this.tickLower)}},{key:"token0PriceUpper",get:function(){return Ew(this.pool.token0,this.pool.token1,this.tickUpper)}},{key:"amount0",get:function(){return null===this._token0Amount&&(this.pool.tickCurrent<this.tickLower?this._token0Amount=Fy.fromRawAmount(this.pool.token0,cw.getAmount0Delta(yw.getSqrtRatioAtTick(this.tickLower),yw.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1)):this.pool.tickCurrent<this.tickUpper?this._token0Amount=Fy.fromRawAmount(this.pool.token0,cw.getAmount0Delta(this.pool.sqrtRatioX96,yw.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1)):this._token0Amount=Fy.fromRawAmount(this.pool.token0,tw)),this._token0Amount}},{key:"amount1",get:function(){return null===this._token1Amount&&(this.pool.tickCurrent<this.tickLower?this._token1Amount=Fy.fromRawAmount(this.pool.token1,tw):this.pool.tickCurrent<this.tickUpper?this._token1Amount=Fy.fromRawAmount(this.pool.token1,cw.getAmount1Delta(yw.getSqrtRatioAtTick(this.tickLower),this.pool.sqrtRatioX96,this.liquidity,!1)):this._token1Amount=Fy.fromRawAmount(this.pool.token1,cw.getAmount1Delta(yw.getSqrtRatioAtTick(this.tickLower),yw.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1))),this._token1Amount}},{key:"mintAmounts",get:function(){return null===this._mintAmounts?this.pool.tickCurrent<this.tickLower?{amount0:cw.getAmount0Delta(yw.getSqrtRatioAtTick(this.tickLower),yw.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:tw}:this.pool.tickCurrent<this.tickUpper?{amount0:cw.getAmount0Delta(this.pool.sqrtRatioX96,yw.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:cw.getAmount1Delta(yw.getSqrtRatioAtTick(this.tickLower),this.pool.sqrtRatioX96,this.liquidity,!0)}:{amount0:tw,amount1:cw.getAmount1Delta(yw.getSqrtRatioAtTick(this.tickLower),yw.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0)}:this._mintAmounts}}]),e}();var Nw=function(){function e(){}return e.encodeMulticall=function(t){return Array.isArray(t)||(t=[t]),1===t.length?t[0]:e.INTERFACE.encodeFunctionData("multicall",[t])},e}();Nw.INTERFACE=new kb(Rb.Mt);var Ow=function(){function e(){}return e.encodePermit=function(t,n){return"nonce"in n?e.INTERFACE.encodeFunctionData("selfPermitAllowed",[t.address,xw(n.nonce),xw(n.expiry),n.v,n.r,n.s]):e.INTERFACE.encodeFunctionData("selfPermit",[t.address,xw(n.amount),xw(n.deadline),n.v,n.r,n.s])},e}();Ow.INTERFACE=new kb(Lb.Mt);var Dw=function(){function e(){}return e.encodeFeeBips=function(e){return xw(e.multiply(1e4).quotient)},e.encodeUnwrapWETH9=function(t,n,r){if(n=Xy(n),r){var i=this.encodeFeeBips(r.fee),a=Xy(r.recipient);return e.INTERFACE.encodeFunctionData("unwrapWETH9WithFee",[xw(t),n,i,a])}return e.INTERFACE.encodeFunctionData("unwrapWETH9",[xw(t),n])},e.encodeSweepToken=function(t,n,r,i){if(r=Xy(r),i){var a=this.encodeFeeBips(i.fee),o=Xy(i.recipient);return e.INTERFACE.encodeFunctionData("sweepTokenWithFee",[t.address,xw(n),r,a,o])}return e.INTERFACE.encodeFunctionData("sweepToken",[t.address,xw(n),r])},e.encodeRefundETH=function(){return e.INTERFACE.encodeFunctionData("refundETH")},e}();Dw.INTERFACE=new kb(Nb.Mt);var Uw=xw(km().subtract(km().exponentiate(km().BigInt(2),km().BigInt(128)),km().BigInt(1)));function zw(e){return Object.keys(e).some((function(e){return"recipient"===e}))}var Bw=function(){function e(){}return e.encodeCreate=function(t){return e.INTERFACE.encodeFunctionData("createAndInitializePoolIfNecessary",[t.token0.address,t.token1.address,t.fee,xw(t.sqrtRatioX96)])},e.createCallParameters=function(e){return{calldata:this.encodeCreate(e),value:xw(0)}},e.addCallParameters=function(t,n){km().greaterThan(t.liquidity,tw)||Am(!1);var r=[],i=t.mintAmounts,a=i.amount0,o=i.amount1,s=t.mintAmountsWithSlippage(n.slippageTolerance),u=xw(s.amount0),l=xw(s.amount1),c=xw(n.deadline);if(zw(n)&&n.createPool&&r.push(this.encodeCreate(t.pool)),n.token0Permit&&r.push(Ow.encodePermit(t.pool.token0,n.token0Permit)),n.token1Permit&&r.push(Ow.encodePermit(t.pool.token1,n.token1Permit)),zw(n)){var f=Xy(n.recipient);r.push(e.INTERFACE.encodeFunctionData("mint",[{token0:t.pool.token0.address,token1:t.pool.token1.address,fee:t.pool.fee,tickLower:t.tickLower,tickUpper:t.tickUpper,amount0Desired:xw(a),amount1Desired:xw(o),amount0Min:u,amount1Min:l,recipient:f,deadline:c}]))}else r.push(e.INTERFACE.encodeFunctionData("increaseLiquidity",[{tokenId:xw(n.tokenId),amount0Desired:xw(a),amount1Desired:xw(o),amount0Min:u,amount1Min:l,deadline:c}]));var h=xw(0);if(n.useNative){var d=n.useNative.wrapped;t.pool.token0.equals(d)||t.pool.token1.equals(d)||Am(!1);var p=t.pool.token0.equals(d)?a:o;km().greaterThan(p,tw)&&r.push(Dw.encodeRefundETH()),h=xw(p)}return{calldata:Nw.encodeMulticall(r),value:h}},e.encodeCollect=function(t){var n=[],r=xw(t.tokenId),i=t.expectedCurrencyOwed0.currency.isNative||t.expectedCurrencyOwed1.currency.isNative,a=Xy(t.recipient);if(n.push(e.INTERFACE.encodeFunctionData("collect",[{tokenId:r,recipient:i?Zb:a,amount0Max:Uw,amount1Max:Uw}])),i){var o=t.expectedCurrencyOwed0.currency.isNative?t.expectedCurrencyOwed0.quotient:t.expectedCurrencyOwed1.quotient,s=t.expectedCurrencyOwed0.currency.isNative?t.expectedCurrencyOwed1.currency:t.expectedCurrencyOwed0.currency,u=t.expectedCurrencyOwed0.currency.isNative?t.expectedCurrencyOwed1.quotient:t.expectedCurrencyOwed0.quotient;n.push(Dw.encodeUnwrapWETH9(o,a)),n.push(Dw.encodeSweepToken(s,u,a))}return n},e.collectCallParameters=function(t){var n=e.encodeCollect(t);return{calldata:Nw.encodeMulticall(n),value:xw(0)}},e.removeCallParameters=function(t,n){var r=[],i=xw(n.deadline),a=xw(n.tokenId),o=new Lw({pool:t.pool,liquidity:n.liquidityPercentage.multiply(t.liquidity).quotient,tickLower:t.tickLower,tickUpper:t.tickUpper});km().greaterThan(o.liquidity,tw)||Am(!1);var s=o.burnAmountsWithSlippage(n.slippageTolerance),u=s.amount0,l=s.amount1;n.permit&&r.push(e.INTERFACE.encodeFunctionData("permit",[Xy(n.permit.spender),a,xw(n.permit.deadline),n.permit.v,n.permit.r,n.permit.s])),r.push(e.INTERFACE.encodeFunctionData("decreaseLiquidity",[{tokenId:a,liquidity:xw(o.liquidity),amount0Min:xw(u),amount1Min:xw(l),deadline:i}]));var c=n.collectOptions,f=c.expectedCurrencyOwed0,h=c.expectedCurrencyOwed1,d=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(c,["expectedCurrencyOwed0","expectedCurrencyOwed1"]);return r.push.apply(r,e.encodeCollect(Gb({tokenId:xw(n.tokenId),expectedCurrencyOwed0:f.add(Fy.fromRawAmount(f.currency,u)),expectedCurrencyOwed1:h.add(Fy.fromRawAmount(h.currency,l))},d))),n.liquidityPercentage.equalTo(nw)?n.burnToken&&r.push(e.INTERFACE.encodeFunctionData("burn",[a])):!0===n.burnToken&&Am(!1),{calldata:Nw.encodeMulticall(r),value:xw(0)}},e.safeTransferFromParameters=function(t){var n=Xy(t.recipient),r=Xy(t.sender);return{calldata:t.data?e.INTERFACE.encodeFunctionData("safeTransferFrom(address,address,uint256,bytes)",[r,n,xw(t.tokenId),t.data]):e.INTERFACE.encodeFunctionData("safeTransferFrom(address,address,uint256)",[r,n,xw(t.tokenId)]),value:xw(0)}},e}();Bw.INTERFACE=new kb(Ib.Mt);var Fw=function(){function e(){}return e.quoteCallParameters=function(e,t,n,r){void 0===r&&(r={});var i,a=1===e.pools.length,o=xw(t.quotient),s=r.useQuoterV2?this.V2INTERFACE:this.V1INTERFACE;if(a){var u,l,c={tokenIn:e.tokenPath[0].address,tokenOut:e.tokenPath[1].address,fee:e.pools[0].fee,sqrtPriceLimitX96:xw(null!=(u=null==(l=r)?void 0:l.sqrtPriceLimitX96)?u:0)},f=Gb({},c,n==ky.EXACT_INPUT?{amountIn:o}:{amount:o}),h=[c.tokenIn,c.tokenOut,c.fee,o,c.sqrtPriceLimitX96],d=n===ky.EXACT_INPUT?"quoteExactInputSingle":"quoteExactOutputSingle";i=s.encodeFunctionData(d,r.useQuoterV2?[f]:h)}else{var p;void 0!==(null==(p=r)?void 0:p.sqrtPriceLimitX96)&&Am(!1);var v=_w(e,n===ky.EXACT_OUTPUT),m=n===ky.EXACT_INPUT?"quoteExactInput":"quoteExactOutput";i=s.encodeFunctionData(m,[v,o])}return{calldata:i,value:xw(0)}},e}();Fw.V1INTERFACE=new kb(Ob.Mt),Fw.V2INTERFACE=new kb(Db.Mt);var Hw=function(){function e(){}return e.encodeClaim=function(t,n){var r,i=[];i.push(e.INTERFACE.encodeFunctionData("unstakeToken",[this._encodeIncentiveKey(t),xw(n.tokenId)]));var a=Xy(n.recipient),o=null!=(r=n.amount)?r:0;return i.push(e.INTERFACE.encodeFunctionData("claimReward",[t.rewardToken.address,a,xw(o)])),i},e.collectRewards=function(t,n){t=Array.isArray(t)?t:[t];for(var r=[],i=0;i<t.length;i++){var a=t[i];(r=r.concat(this.encodeClaim(a,n))).push(e.INTERFACE.encodeFunctionData("stakeToken",[this._encodeIncentiveKey(a),xw(n.tokenId)]))}return{calldata:Nw.encodeMulticall(r),value:xw(0)}},e.withdrawToken=function(t,n){var r=[];t=Array.isArray(t)?t:[t];for(var i={tokenId:n.tokenId,recipient:n.recipient,amount:n.amount},a=0;a<t.length;a++){var o=t[a];r=r.concat(this.encodeClaim(o,i))}var s=Xy(n.owner);return r.push(e.INTERFACE.encodeFunctionData("withdrawToken",[xw(n.tokenId),s,n.data?n.data:xw(0)])),{calldata:Nw.encodeMulticall(r),value:xw(0)}},e.encodeDeposit=function(t){var n;if((t=Array.isArray(t)?t:[t]).length>1){for(var r=[],i=0;i<t.length;i++){var a=t[i];r.push(this._encodeIncentiveKey(a))}n=pb.encode([e.INCENTIVE_KEY_ABI+"[]"],[r])}else n=pb.encode([e.INCENTIVE_KEY_ABI],[this._encodeIncentiveKey(t[0])]);return n},e._encodeIncentiveKey=function(e){var t=e.pool,n=t.token0,r=t.token1,i=t.fee,a=Xy(e.refundee);return{rewardToken:e.rewardToken.address,pool:Iw.getAddress(n,r,i),startTime:xw(e.startTime),endTime:xw(e.endTime),refundee:a}},e}();Hw.INTERFACE=new kb(Ub.Mt),Hw.INCENTIVE_KEY_ABI="tuple(address rewardToken, address pool, uint256 startTime, uint256 endTime, address refundee)";var Ww=function(){function e(){}return e.swapCallParameters=function(t,n){Array.isArray(t)||(t=[t]);var r=t[0],i=r.inputAmount.currency.wrapped,a=r.outputAmount.currency.wrapped;t.every((function(e){return e.inputAmount.currency.wrapped.equals(i)}))||Am(!1),t.every((function(e){return e.outputAmount.currency.wrapped.equals(a)}))||Am(!1);var o=[],s=Fy.fromRawAmount(t[0].inputAmount.currency,0),u=Fy.fromRawAmount(t[0].outputAmount.currency,0),l=t.reduce((function(e,t){return e.add(t.minimumAmountOut(n.slippageTolerance))}),u),c=r.inputAmount.currency.isNative&&r.tradeType===ky.EXACT_OUTPUT,f=r.inputAmount.currency.isNative,h=r.outputAmount.currency.isNative,d=h||!!n.fee,p=f?t.reduce((function(e,t){return e.add(t.maximumAmountIn(n.slippageTolerance))}),s):s;n.inputTokenPermit&&(r.inputAmount.currency.isToken||Am(!1),o.push(Ow.encodePermit(r.inputAmount.currency,n.inputTokenPermit)));for(var v,m=Xy(n.recipient),y=xw(n.deadline),g=Vb(t);!(v=g()).done;)for(var b,w=v.value,x=Vb(w.swaps);!(b=x()).done;){var _=b.value,k=_.route,S=_.inputAmount,M=_.outputAmount,A=xw(w.maximumAmountIn(n.slippageTolerance,S).quotient),T=xw(w.minimumAmountOut(n.slippageTolerance,M).quotient);if(1===k.pools.length)if(w.tradeType===ky.EXACT_INPUT){var E,C={tokenIn:k.tokenPath[0].address,tokenOut:k.tokenPath[1].address,fee:k.pools[0].fee,recipient:d?Zb:m,deadline:y,amountIn:A,amountOutMinimum:T,sqrtPriceLimitX96:xw(null!=(E=n.sqrtPriceLimitX96)?E:0)};o.push(e.INTERFACE.encodeFunctionData("exactInputSingle",[C]))}else{var P,R={tokenIn:k.tokenPath[0].address,tokenOut:k.tokenPath[1].address,fee:k.pools[0].fee,recipient:d?Zb:m,deadline:y,amountOut:T,amountInMaximum:A,sqrtPriceLimitX96:xw(null!=(P=n.sqrtPriceLimitX96)?P:0)};o.push(e.INTERFACE.encodeFunctionData("exactOutputSingle",[R]))}else{void 0!==n.sqrtPriceLimitX96&&Am(!1);var I=_w(k,w.tradeType===ky.EXACT_OUTPUT);if(w.tradeType===ky.EXACT_INPUT){var L={path:I,recipient:d?Zb:m,deadline:y,amountIn:A,amountOutMinimum:T};o.push(e.INTERFACE.encodeFunctionData("exactInput",[L]))}else{var N={path:I,recipient:d?Zb:m,deadline:y,amountOut:T,amountInMaximum:A};o.push(e.INTERFACE.encodeFunctionData("exactOutput",[N]))}}}return d&&(n.fee?h?o.push(Dw.encodeUnwrapWETH9(l.quotient,m,n.fee)):o.push(Dw.encodeSweepToken(r.outputAmount.currency.wrapped,l.quotient,m,n.fee)):o.push(Dw.encodeUnwrapWETH9(l.quotient,m))),c&&o.push(Dw.encodeRefundETH()),{calldata:Nw.encodeMulticall(o),value:xw(p.quotient)}},e}();Ww.INTERFACE=new kb(zb.Mt);var Gw=JSON.parse('{"Mt":[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"int24","name":"tickLower","type":"int24"},{"indexed":true,"internalType":"int24","name":"tickUpper","type":"int24"},{"indexed":false,"internalType":"uint128","name":"amount","type":"uint128"},{"indexed":false,"internalType":"uint256","name":"amount0","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount1","type":"uint256"}],"name":"Burn","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"address","name":"recipient","type":"address"},{"indexed":true,"internalType":"int24","name":"tickLower","type":"int24"},{"indexed":true,"internalType":"int24","name":"tickUpper","type":"int24"},{"indexed":false,"internalType":"uint128","name":"amount0","type":"uint128"},{"indexed":false,"internalType":"uint128","name":"amount1","type":"uint128"}],"name":"Collect","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":true,"internalType":"address","name":"recipient","type":"address"},{"indexed":false,"internalType":"uint128","name":"amount0","type":"uint128"},{"indexed":false,"internalType":"uint128","name":"amount1","type":"uint128"}],"name":"CollectProtocol","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":true,"internalType":"address","name":"recipient","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount0","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount1","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"paid0","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"paid1","type":"uint256"}],"name":"Flash","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint16","name":"observationCardinalityNextOld","type":"uint16"},{"indexed":false,"internalType":"uint16","name":"observationCardinalityNextNew","type":"uint16"}],"name":"IncreaseObservationCardinalityNext","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint160","name":"sqrtPriceX96","type":"uint160"},{"indexed":false,"internalType":"int24","name":"tick","type":"int24"}],"name":"Initialize","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"sender","type":"address"},{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"int24","name":"tickLower","type":"int24"},{"indexed":true,"internalType":"int24","name":"tickUpper","type":"int24"},{"indexed":false,"internalType":"uint128","name":"amount","type":"uint128"},{"indexed":false,"internalType":"uint256","name":"amount0","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount1","type":"uint256"}],"name":"Mint","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint8","name":"feeProtocol0Old","type":"uint8"},{"indexed":false,"internalType":"uint8","name":"feeProtocol1Old","type":"uint8"},{"indexed":false,"internalType":"uint8","name":"feeProtocol0New","type":"uint8"},{"indexed":false,"internalType":"uint8","name":"feeProtocol1New","type":"uint8"}],"name":"SetFeeProtocol","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":true,"internalType":"address","name":"recipient","type":"address"},{"indexed":false,"internalType":"int256","name":"amount0","type":"int256"},{"indexed":false,"internalType":"int256","name":"amount1","type":"int256"},{"indexed":false,"internalType":"uint160","name":"sqrtPriceX96","type":"uint160"},{"indexed":false,"internalType":"uint128","name":"liquidity","type":"uint128"},{"indexed":false,"internalType":"int24","name":"tick","type":"int24"}],"name":"Swap","type":"event"},{"inputs":[{"internalType":"int24","name":"tickLower","type":"int24"},{"internalType":"int24","name":"tickUpper","type":"int24"},{"internalType":"uint128","name":"amount","type":"uint128"}],"name":"burn","outputs":[{"internalType":"uint256","name":"amount0","type":"uint256"},{"internalType":"uint256","name":"amount1","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"int24","name":"tickLower","type":"int24"},{"internalType":"int24","name":"tickUpper","type":"int24"},{"internalType":"uint128","name":"amount0Requested","type":"uint128"},{"internalType":"uint128","name":"amount1Requested","type":"uint128"}],"name":"collect","outputs":[{"internalType":"uint128","name":"amount0","type":"uint128"},{"internalType":"uint128","name":"amount1","type":"uint128"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint128","name":"amount0Requested","type":"uint128"},{"internalType":"uint128","name":"amount1Requested","type":"uint128"}],"name":"collectProtocol","outputs":[{"internalType":"uint128","name":"amount0","type":"uint128"},{"internalType":"uint128","name":"amount1","type":"uint128"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"factory","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"fee","outputs":[{"internalType":"uint24","name":"","type":"uint24"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"feeGrowthGlobal0X128","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"feeGrowthGlobal1X128","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount0","type":"uint256"},{"internalType":"uint256","name":"amount1","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"flash","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint16","name":"observationCardinalityNext","type":"uint16"}],"name":"increaseObservationCardinalityNext","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint160","name":"sqrtPriceX96","type":"uint160"}],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"liquidity","outputs":[{"internalType":"uint128","name":"","type":"uint128"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxLiquidityPerTick","outputs":[{"internalType":"uint128","name":"","type":"uint128"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"int24","name":"tickLower","type":"int24"},{"internalType":"int24","name":"tickUpper","type":"int24"},{"internalType":"uint128","name":"amount","type":"uint128"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"mint","outputs":[{"internalType":"uint256","name":"amount0","type":"uint256"},{"internalType":"uint256","name":"amount1","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"observations","outputs":[{"internalType":"uint32","name":"blockTimestamp","type":"uint32"},{"internalType":"int56","name":"tickCumulative","type":"int56"},{"internalType":"uint160","name":"secondsPerLiquidityCumulativeX128","type":"uint160"},{"internalType":"bool","name":"initialized","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint32[]","name":"secondsAgos","type":"uint32[]"}],"name":"observe","outputs":[{"internalType":"int56[]","name":"tickCumulatives","type":"int56[]"},{"internalType":"uint160[]","name":"secondsPerLiquidityCumulativeX128s","type":"uint160[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"key","type":"bytes32"}],"name":"positions","outputs":[{"internalType":"uint128","name":"_liquidity","type":"uint128"},{"internalType":"uint256","name":"feeGrowthInside0LastX128","type":"uint256"},{"internalType":"uint256","name":"feeGrowthInside1LastX128","type":"uint256"},{"internalType":"uint128","name":"tokensOwed0","type":"uint128"},{"internalType":"uint128","name":"tokensOwed1","type":"uint128"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"protocolFees","outputs":[{"internalType":"uint128","name":"token0","type":"uint128"},{"internalType":"uint128","name":"token1","type":"uint128"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint8","name":"feeProtocol0","type":"uint8"},{"internalType":"uint8","name":"feeProtocol1","type":"uint8"}],"name":"setFeeProtocol","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"slot0","outputs":[{"internalType":"uint160","name":"sqrtPriceX96","type":"uint160"},{"internalType":"int24","name":"tick","type":"int24"},{"internalType":"uint16","name":"observationIndex","type":"uint16"},{"internalType":"uint16","name":"observationCardinality","type":"uint16"},{"internalType":"uint16","name":"observationCardinalityNext","type":"uint16"},{"internalType":"uint8","name":"feeProtocol","type":"uint8"},{"internalType":"bool","name":"unlocked","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"int24","name":"tickLower","type":"int24"},{"internalType":"int24","name":"tickUpper","type":"int24"}],"name":"snapshotCumulativesInside","outputs":[{"internalType":"int56","name":"tickCumulativeInside","type":"int56"},{"internalType":"uint160","name":"secondsPerLiquidityInsideX128","type":"uint160"},{"internalType":"uint32","name":"secondsInside","type":"uint32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"bool","name":"zeroForOne","type":"bool"},{"internalType":"int256","name":"amountSpecified","type":"int256"},{"internalType":"uint160","name":"sqrtPriceLimitX96","type":"uint160"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"swap","outputs":[{"internalType":"int256","name":"amount0","type":"int256"},{"internalType":"int256","name":"amount1","type":"int256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"int16","name":"wordPosition","type":"int16"}],"name":"tickBitmap","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"tickSpacing","outputs":[{"internalType":"int24","name":"","type":"int24"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"int24","name":"tick","type":"int24"}],"name":"ticks","outputs":[{"internalType":"uint128","name":"liquidityGross","type":"uint128"},{"internalType":"int128","name":"liquidityNet","type":"int128"},{"internalType":"uint256","name":"feeGrowthOutside0X128","type":"uint256"},{"internalType":"uint256","name":"feeGrowthOutside1X128","type":"uint256"},{"internalType":"int56","name":"tickCumulativeOutside","type":"int56"},{"internalType":"uint160","name":"secondsPerLiquidityOutsideX128","type":"uint160"},{"internalType":"uint32","name":"secondsOutside","type":"uint32"},{"internalType":"bool","name":"initialized","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"token0","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"token1","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"}]}'),jw=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]'),Vw=JSON.parse('[{"inputs":[{"internalType":"address","name":"_uniswapV3Router","type":"address"},{"internalType":"address","name":"_nftContract","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"","type":"address"},{"indexed":false,"internalType":"uint256","name":"","type":"uint256"}],"name":"Received","type":"event"},{"inputs":[],"name":"nftContract","outputs":[{"internalType":"contract Synthia","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"uint256","name":"tokenAmountIn","type":"uint256"},{"internalType":"uint256","name":"ethAmountOutMin","type":"uint256"},{"internalType":"uint160","name":"sqrtPriceLimitX96","type":"uint160"},{"internalType":"uint256","name":"nftAmount","type":"uint256"}],"name":"swapAndMint","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"uniswapV3Router","outputs":[{"internalType":"contract ISwapRouter","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"price","type":"uint256"}],"name":"updatePricePerItem","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"withdrawETH","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"withdrawTokens","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}]'),qw="0xBFC77c8830338914AE522885c7333509cf4eA700",Xw="0x6982508145454ce325ddbe47a25d4ec3d2311933",Jw=new Qy(_y.MAINNET,"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",18,"WETH","Wrapped Ether"),Yw={tokens:{in:new Qy(_y.MAINNET,Xw,18,"PEPE","Pepe"),out:Jw,amountOut:.029,poolFee:Yb.MEDIUM}},Qw="0x1F98431c8aD98523631AE4a59f267346ea31F984",Zw="0xb27308f9F90D607463bb33eA1BeBb41C27CE5AB6";function Kw(e,t){return xm(e.toString(),t)}function $w(e,t){return wm(e,t)}var ex=function(){return new pv(window.ethereum)};function tx(e){return nx.apply(this,arguments)}function nx(){return(nx=d(f().mark((function e(t){var n,r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Zo(Zw,Ob.Mt,ex()),e.next=3,rx();case 3:return r=e.sent,i=Kw(Yw.tokens.amountOut*t,Yw.tokens.out.decimals).toString(),e.next=7,n.quoteExactOutputSingle.staticCall(r.token0,r.token1,r.fee,i,0);case 7:return a=e.sent,e.abrupt("return",{priceInPepe:$w(a,Yw.tokens.out.decimals),priceInWeth:i});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rx(){return ix.apply(this,arguments)}function ix(){return(ix=d(f().mark((function e(){var t,n,r,i,a,o,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=aw({factoryAddress:Qw,tokenA:Yw.tokens.in,tokenB:Yw.tokens.out,fee:Yw.tokens.poolFee}),n=new Zo(t,Gw.Mt,ex()),e.next=4,Promise.all([n.token0(),n.token1(),n.fee()]);case 4:return r=e.sent,i=l(r,3),a=i[0],o=i[1],s=i[2],e.abrupt("return",{token0:a,token1:o,fee:s});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.q=tx;var ax=function(e){var t,n=new Set,r=function(e,r){var i="function"===typeof e?e(t):e;if(!Object.is(i,t)){var a=t;t=(null!=r?r:"object"!==typeof i)?i:Object.assign({},t,i),n.forEach((function(e){return e(t,a)}))}},i=function(){return t},a={setState:r,getState:i,subscribe:function(e){return n.add(e),function(){return n.delete(e)}},destroy:function(){console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return t=e(r,i,a),a},ox=function(e){return e?ax(e):ax},sx=n(327).useSyncExternalStoreWithSelector;var ux=function(e){"function"!==typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");var n="function"===typeof e?ox(e):e,r=function(e,r){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.getState,r=arguments.length>2?arguments[2]:void 0,i=sx(e.subscribe,e.getState,e.getServerState||e.getState,n,r);return(0,t.useDebugValue)(i),i}(n,e,r)};return Object.assign(r,n),r},lx=function(e){return e?ux(e):ux};function cx(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var fx=["enabled","anonymousActionType","store"],hx=["connection"],dx=new Map,px=function(e){var t=dx.get(e);return t?Object.fromEntries(Object.entries(t.stores).map((function(e){var t=l(e,2);return[t[0],t[1].getState()]}))):{}},vx=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,r,i){var a,o=t.enabled,s=t.anonymousActionType,u=t.store,c=cx(t,fx);try{a=(null==o||o)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(b){}if(!a)return o&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(n,r,i);var f=function(e,t,n){if(void 0===e)return{type:"untracked",connection:t.connect(n)};var r=dx.get(n.name);if(r)return zt({type:"tracked",store:e},r);var i={connection:t.connect(n),stores:{}};return dx.set(n.name,i),zt({type:"tracked",store:e},i)}(u,a,c),h=f.connection,d=cx(f,hx),p=!0;i.setState=function(e,t,a){var o=n(e,t);if(!p)return o;var l=void 0===a?{type:s||"anonymous"}:"string"===typeof a?{type:a}:a;return void 0===u?(null==h||h.send(l,r()),o):(null==h||h.send(zt(zt({},l),{},{type:"".concat(u,"/").concat(l.type)}),zt(zt({},px(c.name)),{},Dt({},u,i.getState()))),o)};var v=function(){var e=p;p=!1,n.apply(void 0,arguments),p=e},m=e(i.setState,r,i);if("untracked"===d.type?null==h||h.init(m):(d.stores[d.store]=i,null==h||h.init(Object.fromEntries(Object.entries(d.stores).map((function(e){var t=l(e,2),n=t[0],r=t[1];return[n,n===d.store?m:r.getState()]}))))),i.dispatchFromDevtools&&"function"===typeof i.dispatch){var y=!1,g=i.dispatch;i.dispatch=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"__setState"!==t[0].type||y||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),y=!0),g.apply(void 0,t)}}return h.subscribe((function(e){var t;switch(e.type){case"ACTION":return"string"!==typeof e.payload?void console.error("[zustand devtools middleware] Unsupported action format"):mx(e.payload,(function(e){if("__setState"!==e.type)i.dispatchFromDevtools&&"function"===typeof i.dispatch&&i.dispatch(e);else{if(void 0===u)return void v(e.state);1!==Object.keys(e.state).length&&console.error('\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using \'store\' option in devtools(), the \'state\' should have only one key, which is a value of \'store\' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }\n                    ');var t=e.state[u];if(void 0===t||null===t)return;JSON.stringify(i.getState())!==JSON.stringify(t)&&v(t)}}));case"DISPATCH":switch(e.payload.type){case"RESET":return v(m),void 0===u?null==h?void 0:h.init(i.getState()):null==h?void 0:h.init(px(c.name));case"COMMIT":return void 0===u?void(null==h||h.init(i.getState())):null==h?void 0:h.init(px(c.name));case"ROLLBACK":return mx(e.state,(function(e){if(void 0===u)return v(e),void(null==h||h.init(i.getState()));v(e[u]),null==h||h.init(px(c.name))}));case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return mx(e.state,(function(e){void 0!==u?JSON.stringify(i.getState())!==JSON.stringify(e[u])&&v(e[u]):v(e)}));case"IMPORT_STATE":var n=e.payload.nextLiftedState,r=null==(t=n.computedStates.slice(-1)[0])?void 0:t.state;if(!r)return;return v(void 0===u?r:r[u]),void(null==h||h.send(null,n));case"PAUSE_RECORDING":return p=!p}return}})),m}},mx=function(e,t){var n;try{n=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}void 0!==n&&t(n)};function yx(e,t){var n;try{n=e()}catch(i){return}var r={getItem:function(e){var r,i=function(e){return null===e?null:JSON.parse(e,null==t?void 0:t.reviver)},a=null!=(r=n.getItem(e))?r:null;return a instanceof Promise?a.then(i):i(a)},setItem:function(e,r){return n.setItem(e,JSON.stringify(r,null==t?void 0:t.replacer))},removeItem:function(e){return n.removeItem(e)}};return r}var gx,bx=function e(t){return function(n){try{var r=t(n);return r instanceof Promise?r:{then:function(t){return e(t)(r)},catch:function(e){return this}}}catch(i){return{then:function(e){return this},catch:function(t){return e(t)(i)}}}}},wx=function(e,t){return"getStorage"in t||"serialize"in t||"deserialize"in t?(console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),function(e,t){return function(n,r,i){var a,o=zt({getStorage:function(){return localStorage},serialize:JSON.stringify,deserialize:JSON.parse,partialize:function(e){return e},version:0,merge:function(e,t){return zt(zt({},t),e)}},t),s=!1,u=new Set,l=new Set;try{a=o.getStorage()}catch(m){}if(!a)return e((function(){console.warn("[zustand persist middleware] Unable to update item '".concat(o.name,"', the given storage is currently unavailable.")),n.apply(void 0,arguments)}),r,i);var c=bx(o.serialize),f=function(){var e,t=o.partialize(zt({},r())),n=c({state:t,version:o.version}).then((function(e){return a.setItem(o.name,e)})).catch((function(t){e=t}));if(e)throw e;return n},h=i.setState;i.setState=function(e,t){h(e,t),f()};var d,p=e((function(){n.apply(void 0,arguments),f()}),r,i),v=function(){var e;if(a){s=!1,u.forEach((function(e){return e(r())}));var t=(null==(e=o.onRehydrateStorage)?void 0:e.call(o,r()))||void 0;return bx(a.getItem.bind(a))(o.name).then((function(e){if(e)return o.deserialize(e)})).then((function(e){if(e){if("number"!==typeof e.version||e.version===o.version)return e.state;if(o.migrate)return o.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((function(e){var t;return d=o.merge(e,null!=(t=r())?t:p),n(d,!0),f()})).then((function(){null==t||t(d,void 0),s=!0,l.forEach((function(e){return e(d)}))})).catch((function(e){null==t||t(void 0,e)}))}};return i.persist={setOptions:function(e){o=zt(zt({},o),e),e.getStorage&&(a=e.getStorage())},clearStorage:function(){null==a||a.removeItem(o.name)},getOptions:function(){return o},rehydrate:function(){return v()},hasHydrated:function(){return s},onHydrate:function(e){return u.add(e),function(){u.delete(e)}},onFinishHydration:function(e){return l.add(e),function(){l.delete(e)}}},v(),d||p}}(e,t)):function(e,t){return function(n,r,i){var a=zt({storage:yx((function(){return localStorage})),partialize:function(e){return e},version:0,merge:function(e,t){return zt(zt({},t),e)}},t),o=!1,s=new Set,u=new Set,l=a.storage;if(!l)return e((function(){console.warn("[zustand persist middleware] Unable to update item '".concat(a.name,"', the given storage is currently unavailable.")),n.apply(void 0,arguments)}),r,i);var c=function(){var e=a.partialize(zt({},r()));return l.setItem(a.name,{state:e,version:a.version})},f=i.setState;i.setState=function(e,t){f(e,t),c()};var h,d=e((function(){n.apply(void 0,arguments),c()}),r,i),p=function(){var e,t;if(l){o=!1,s.forEach((function(e){var t;return e(null!=(t=r())?t:d)}));var i=(null==(t=a.onRehydrateStorage)?void 0:t.call(a,null!=(e=r())?e:d))||void 0;return bx(l.getItem.bind(l))(a.name).then((function(e){if(e){if("number"!==typeof e.version||e.version===a.version)return e.state;if(a.migrate)return a.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((function(e){var t;return h=a.merge(e,null!=(t=r())?t:d),n(h,!0),c()})).then((function(){null==i||i(h,void 0),h=r(),o=!0,u.forEach((function(e){return e(h)}))})).catch((function(e){null==i||i(void 0,e)}))}};return i.persist={setOptions:function(e){a=zt(zt({},a),e),e.storage&&(l=e.storage)},clearStorage:function(){null==l||l.removeItem(a.name)},getOptions:function(){return a},rehydrate:function(){return p()},hasHydrated:function(){return o},onHydrate:function(e){return s.add(e),function(){s.delete(e)}},onFinishHydration:function(e){return u.add(e),function(){u.delete(e)}}},a.skipHydration||p(),h||d}}(e,t)},xx=lx()(vx(wx((function(e,t){return{terminalOpen:!1,updateAuth:function(t){e({auth:t})},updateTerminalOpen:function(t){e({terminalOpen:t})},updateWallet:function(t){e({nfts:[],wallet:t})},connectWallet:function(t,n){e({loadingWallet:!0,walletError:""}),"undefined"!==typeof window.ethereum?window.ethereum.request({method:"eth_requestAccounts"}).then((function(n){null===t||void 0===t||t(n[0]),e({wallet:n[0]})})).catch((function(e){null===n||void 0===n||n(),4001===(null===e||void 0===e?void 0:e.code)?console.log("Please connect to MetaMask."):console.error(e)})):(null===n||void 0===n||n(),e({loadingWallet:!1,walletError:"needs wallet"}))},fetchSynthiaNfts:function(){var n=d(f().mark((function n(r,i){var a,o,s,u;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e({loadingNfts:!0}),n.next=3,fetch("https://api.opensea.io/api/v1/assets?order_direction=desc&limit=20".concat(i?"&cursor=".concat(i):"","&owner=").concat(r,"&asset_contract_address=0xabf0b84f870ff3b45988e49fd62b881d7c46c6e6"),{headers:{accept:"application/json","X-API-KEY":"da371fbfd4c847a394042898ee080192"}});case 3:if(!(a=n.sent).ok){n.next=14;break}return n.next=7,a.json();case 7:o=n.sent,console.log(o),s=o.assets.map((function(e){var t=[],n=[];return e.traits.forEach((function(e){"number"===typeof e.value?t.push(e):n.push(e)})),{tokenId:e.token_id,image:e.image_url,traits:n,stats:t}})),u=t().nfts||[],e({nfts:[].concat(qe(u),qe(s)),next:o.next}),n.next=20;break;case 14:if(429!==a.status){n.next=20;break}return n.next=17,_x(500);case 17:return n.next=19,t().fetchSynthiaNfts(r,i);case 19:console.log("Something went wrong");case 20:e({loadingNfts:!1});case 21:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}}),{name:"__SYN-STORE__",partialize:function(e){return{auth:e.auth,wallet:e.wallet}}}))),_x=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function kx(){return kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kx.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(gx||(gx={}));var Sx,Mx="popstate";function Ax(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function Tx(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function Ex(e,t){return{usr:e.state,key:e.key,idx:t}}function Cx(e,t,n,r){return void 0===n&&(n=null),kx({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?Rx(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function Px(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function Rx(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Ix(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,s=i.v5Compat,u=void 0!==s&&s,l=o.history,c=gx.Pop,f=null,h=d();function d(){return(l.state||{idx:null}).idx}function p(){c=gx.Pop;var e=d(),t=null==e?null:e-h;h=e,f&&f({action:c,location:m.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:Px(e);return Ax(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,l.replaceState(kx({},l.state,{idx:h}),""));var m={get action(){return c},get location(){return e(o,l)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(Mx,p),f=e,function(){o.removeEventListener(Mx,p),f=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){c=gx.Push;var r=Cx(m.location,e,t);n&&n(r,e);var i=Ex(r,h=d()+1),a=m.createHref(r);try{l.pushState(i,"",a)}catch(s){if(s instanceof DOMException&&"DataCloneError"===s.name)throw s;o.location.assign(a)}u&&f&&f({action:c,location:m.location,delta:1})},replace:function(e,t){c=gx.Replace;var r=Cx(m.location,e,t);n&&n(r,e);var i=Ex(r,h=d()),a=m.createHref(r);l.replaceState(i,"",a),u&&f&&f({action:c,location:m.location,delta:0})},go:function(e){return l.go(e)}};return m}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(Sx||(Sx={}));var Lx=new Set(["lazy","caseSensitive","path","id","index","children"]);function Nx(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r={}),e.map((function(e,i){var a=[].concat(qe(n),[i]),o="string"===typeof e.id?e.id:a.join("-");if(Ax(!0!==e.index||!e.children,"Cannot specify children on an index route"),Ax(!r[o],'Found a route id collision on id "'+o+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){var s=kx({},e,t(e),{id:o});return r[o]=s,s}var u=kx({},e,t(e),{id:o,children:void 0});return r[o]=u,e.children&&(u.children=Nx(e.children,t,a,r)),u}))}function Ox(e,t,n){void 0===n&&(n="/");var r=Yx(("string"===typeof t?Rx(t):t).pathname||"/",n);if(null==r)return null;var i=Dx(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=qx(i[o],Jx(r));return a}function Dx(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(Ax(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=$x([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(Ax(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),Dx(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:Vx(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=Lt(Ux(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(AG){a.e(AG)}finally{a.f()}}else i(e,t)})),t}function Ux(e){var t=e.split("/");if(0===t.length)return[];var n=Ko(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=Ux(i.join("/")),u=[];return u.push.apply(u,qe(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&u.push.apply(u,qe(s)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var zx=/^:\w+$/,Bx=3,Fx=2,Hx=1,Wx=10,Gx=-2,jx=function(e){return"*"===e};function Vx(e,t){var n=e.split("/"),r=n.length;return n.some(jx)&&(r+=Gx),t&&(r+=Fx),n.filter((function(e){return!jx(e)})).reduce((function(e,t){return e+(zx.test(t)?Bx:""===t?Hx:Wx)}),r)}function qx(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=Xx({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);var f=s.route;a.push({params:r,pathname:$x([i,c.pathname]),pathnameBase:e_($x([i,c.pathnameBase])),route:f}),"/"!==c.pathnameBase&&(i=$x([i,c.pathnameBase]))}return a}function Xx(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);Tx("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return Tx(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function Jx(e){try{return decodeURI(e)}catch(t){return Tx(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Yx(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Qx(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Zx(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function Kx(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=Rx(e):(Ax(!(i=kx({},e)).pathname||!i.pathname.includes("?"),Qx("?","pathname","search",i)),Ax(!i.pathname||!i.pathname.includes("#"),Qx("#","pathname","hash",i)),Ax(!i.search||!i.search.includes("#"),Qx("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var l=s.split("/");".."===l[0];)l.shift(),u-=1;i.pathname=l.join("/")}a=u>=0?t[u]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?Rx(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:t_(a),hash:n_(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return c.pathname.endsWith("/")||!f&&!h||(c.pathname+="/"),c}var $x=function(e){return e.join("/").replace(/\/\/+/g,"/")},e_=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},t_=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},n_=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},r_=function(e){ct(n,e);var t=dt(n);function n(){return nt(this,n),t.apply(this,arguments)}return at(n)}(Ft(Error));var i_=at((function e(t,n,r,i){nt(this,e),void 0===i&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}));function a_(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var o_=["post","put","patch","delete"],s_=new Set(o_),u_=["get"].concat(o_),l_=new Set(u_),c_=new Set([301,302,303,307,308]),f_=new Set([307,308]),h_={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},d_={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},p_={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},v_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,m_=function(e){return{hasErrorBoundary:Boolean(e.hasErrorBoundary)}};function y_(e){var t,n=e.window?e.window:"undefined"!==typeof window?window:void 0,r="undefined"!==typeof n&&"undefined"!==typeof n.document&&"undefined"!==typeof n.document.createElement,i=!r;if(Ax(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)t=e.mapRouteProperties;else if(e.detectErrorBoundary){var a=e.detectErrorBoundary;t=function(e){return{hasErrorBoundary:a(e)}}}else t=m_;var o,s={},u=Nx(e.routes,t,void 0,s),c=e.basename||"/",h=kx({v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),p=null,v=new Set,m=null,y=null,g=null,b=null!=e.hydrationData,w=Ox(u,e.history.location,c),x=null;if(null==w){var _=O_(404,{pathname:e.history.location.pathname}),k=N_(u);w=k.matches,x=Dt({},k.route.id,_)}var S,M,A=!w.some((function(e){return e.route.lazy}))&&(!w.some((function(e){return e.route.loader}))||null!=e.hydrationData),T={historyAction:e.history.action,location:e.history.location,matches:w,initialized:A,navigation:h_,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||x,fetchers:new Map,blockers:new Map},E=gx.Pop,C=!1,P=!1,R=!1,I=[],L=[],N=new Map,O=0,D=-1,U=new Map,z=new Set,B=new Map,F=new Map,H=new Map,W=!1;function G(e){T=kx({},T,e),v.forEach((function(e){return e(T)}))}function j(t,n){var r,i,a,s=null!=T.actionData&&null!=T.navigation.formMethod&&V_(T.navigation.formMethod)&&"loading"===T.navigation.state&&!0!==(null==(r=t.state)?void 0:r._isRedirect);a=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:s?T.actionData:null;var c,f=n.loaderData?I_(T.loaderData,n.loaderData,n.matches||[],n.errors):T.loaderData,h=Lt(H);try{for(h.s();!(c=h.n()).done;){de(l(c.value,1)[0])}}catch(AG){h.e(AG)}finally{h.f()}var d=!0===C||null!=T.navigation.formMethod&&V_(T.navigation.formMethod)&&!0!==(null==(i=t.state)?void 0:i._isRedirect);o&&(u=o,o=void 0),G(kx({},n,{actionData:a,loaderData:f,historyAction:E,location:t,initialized:!0,navigation:h_,revalidation:"idle",restoreScrollPosition:ge(t,n.matches||T.matches),preventScrollReset:d,blockers:new Map(T.blockers)})),P||E===gx.Pop||(E===gx.Push?e.history.push(t,t.state):E===gx.Replace&&e.history.replace(t,t.state)),E=gx.Pop,C=!1,P=!1,R=!1,I=[],L=[]}function V(e,t){return q.apply(this,arguments)}function q(){return q=d(f().mark((function t(n,r){var i,a,o,s,u,l,d,p,v,m,y;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("number"!==typeof n){t.next=3;break}return e.history.go(n),t.abrupt("return");case 3:if(i=g_(T.location,T.matches,c,h.v7_prependBasename,n,null==r?void 0:r.fromRouteId,null==r?void 0:r.relative),a=b_(h.v7_normalizeFormMethod,!1,i,r),o=a.path,s=a.submission,u=a.error,l=T.location,d=kx({},d=Cx(T.location,o,r&&r.state),e.history.encodeLocation(d)),p=r&&null!=r.replace?r.replace:void 0,v=gx.Push,!0===p?v=gx.Replace:!1===p||null!=s&&V_(s.formMethod)&&s.formAction===T.location.pathname+T.location.search&&(v=gx.Replace),m=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,!(y=ve({currentLocation:l,nextLocation:d,historyAction:v}))){t.next=16;break}return pe(y,{state:"blocked",location:d,proceed:function(){pe(y,{state:"proceeding",proceed:void 0,reset:void 0,location:d}),V(n,r)},reset:function(){de(y),G({blockers:new Map(T.blockers)})}}),t.abrupt("return");case 16:return t.next=18,X(v,d,{submission:s,pendingError:u,preventScrollReset:m,replace:r&&r.replace});case 18:return t.abrupt("return",t.sent);case 19:case"end":return t.stop()}}),t)}))),q.apply(this,arguments)}function X(e,t,n){return J.apply(this,arguments)}function J(){return J=d(f().mark((function t(n,r,i){var a,s,l,h,d,p,v,m,y,g,b,w,x,_,k,S;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(M&&M.abort(),M=null,E=n,P=!0===(i&&i.startUninterruptedRevalidation),ye(T.location,T.matches),C=!0===(i&&i.preventScrollReset),a=o||u,s=i&&i.overrideNavigation,l=Ox(a,r,c)){t.next=15;break}return h=O_(404,{pathname:r.pathname}),d=N_(a),p=d.matches,v=d.route,me(),j(r,{matches:p,loaderData:{},errors:Dt({},v.id,h)}),t.abrupt("return");case 15:if(!T.initialized||R||!z_(T.location,r)||i&&i.submission&&V_(i.submission.formMethod)){t.next=18;break}return j(r,{matches:l}),t.abrupt("return");case 18:if(M=new AbortController,m=E_(e.history,r,M.signal,i&&i.submission),!i||!i.pendingError){t.next=24;break}g=Dt({},L_(l).route.id,i.pendingError),t.next=35;break;case 24:if(!(i&&i.submission&&V_(i.submission.formMethod))){t.next=35;break}return t.next=27,Y(m,r,i.submission,l,{replace:i.replace});case 27:if(!(b=t.sent).shortCircuited){t.next=30;break}return t.abrupt("return");case 30:y=b.pendingActionData,g=b.pendingActionError,w=kx({state:"loading",location:r},i.submission),s=w,m=new Request(m.url,{signal:m.signal});case 35:return t.next=37,Z(m,r,l,s,i&&i.submission,i&&i.fetcherSubmission,i&&i.replace,y,g);case 37:if(x=t.sent,_=x.shortCircuited,k=x.loaderData,S=x.errors,!_){t.next=43;break}return t.abrupt("return");case 43:M=null,j(r,kx({matches:l},y?{actionData:y}:{},{loaderData:k,errors:S}));case 45:case"end":return t.stop()}}),t)}))),J.apply(this,arguments)}function Y(e,t,n,r,i){return Q.apply(this,arguments)}function Q(){return Q=d(f().mark((function e(n,r,i,a,o){var u,l,h,d;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(oe(),G({navigation:kx({state:"submitting",location:r},i)}),(l=K_(a,r)).route.action||l.route.lazy){e.next=8;break}u={type:Sx.error,error:O_(405,{method:n.method,pathname:r.pathname,routeId:l.route.id})},e.next=13;break;case 8:return e.next=10,A_("action",n,l,a,s,t,c);case 10:if(u=e.sent,!n.signal.aborted){e.next=13;break}return e.abrupt("return",{shortCircuited:!0});case 13:if(!H_(u)){e.next=18;break}return h=o&&null!=o.replace?o.replace:u.location===T.location.pathname+T.location.search,e.next=17,ne(T,u,{submission:i,replace:h});case 17:return e.abrupt("return",{shortCircuited:!0});case 18:if(!F_(u)){e.next=22;break}return d=L_(a,l.route.id),!0!==(o&&o.replace)&&(E=gx.Push),e.abrupt("return",{pendingActionData:{},pendingActionError:Dt({},d.route.id,u.error)});case 22:if(!B_(u)){e.next=24;break}throw O_(400,{type:"defer-action"});case 24:return e.abrupt("return",{pendingActionData:Dt({},l.route.id,u.data)});case 25:case"end":return e.stop()}}),e)}))),Q.apply(this,arguments)}function Z(e,t,n,r,i,a,o,s,u){return K.apply(this,arguments)}function K(){return K=d(f().mark((function t(n,r,i,a,s,h,d,p,v){var m,y,g,b,w,x,_,k,S,A,E,C,U,z,H,W,V,q,X,J,Y,Q;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((m=a)||(y=kx({state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},s),m=y),g=s||h?s||h:m.formMethod&&m.formAction&&m.formData&&m.formEncType?{formMethod:m.formMethod,formAction:m.formAction,formData:m.formData,formEncType:m.formEncType}:void 0,b=o||u,w=x_(e.history,T,i,g,r,R,I,L,B,b,c,p,v),x=l(w,2),_=x[0],k=x[1],me((function(e){return!(i&&i.some((function(t){return t.route.id===e})))||_&&_.some((function(t){return t.route.id===e}))})),0!==_.length||0!==k.length){t.next=10;break}return S=fe(),j(r,kx({matches:i,loaderData:{},errors:v||null},p?{actionData:p}:{},S?{fetchers:new Map(T.fetchers)}:{})),t.abrupt("return",{shortCircuited:!0});case 10:return P||(k.forEach((function(e){var t=T.fetchers.get(e.key),n={state:"loading",data:t&&t.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};T.fetchers.set(e.key,n)})),A=p||T.actionData,G(kx({navigation:m},A?0===Object.keys(A).length?{actionData:null}:{actionData:A}:{},k.length>0?{fetchers:new Map(T.fetchers)}:{}))),D=++O,k.forEach((function(e){e.controller&&N.set(e.key,e.controller)})),E=function(){return k.forEach((function(e){return le(e.key)}))},M&&M.signal.addEventListener("abort",E),t.next=17,ie(T.matches,i,_,k,n);case 17:if(C=t.sent,U=C.results,z=C.loaderResults,H=C.fetcherResults,!n.signal.aborted){t.next=23;break}return t.abrupt("return",{shortCircuited:!0});case 23:if(M&&M.signal.removeEventListener("abort",E),k.forEach((function(e){return N.delete(e.key)})),!(W=D_(U))){t.next=30;break}return t.next=29,ne(T,W,{replace:d});case 29:return t.abrupt("return",{shortCircuited:!0});case 30:return V=R_(T,i,_,z,v,k,H,F),q=V.loaderData,X=V.errors,F.forEach((function(e,t){e.subscribe((function(n){(n||e.done)&&F.delete(t)}))})),J=fe(),Y=he(D),Q=J||Y||k.length>0,t.abrupt("return",kx({loaderData:q,errors:X},Q?{fetchers:new Map(T.fetchers)}:{}));case 36:case"end":return t.stop()}}),t)}))),K.apply(this,arguments)}function $(e){return T.fetchers.get(e)||d_}function ee(){return ee=d(f().mark((function n(r,i,a,h,d,p){var v,m,y,g,b,w,x,_,k,S,A,C,P,H,W,V,q,X,J,Y,Q,Z,K,$,ee,te,re,ae;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(oe(),B.delete(r),h.route.action||h.route.lazy){n.next=6;break}return v=O_(405,{method:p.formMethod,pathname:a,routeId:i}),se(r,i,v),n.abrupt("return");case 6:return m=T.fetchers.get(r),y=kx({state:"submitting"},p,{data:m&&m.data," _hasFetcherDoneAnything ":!0}),T.fetchers.set(r,y),G({fetchers:new Map(T.fetchers)}),g=new AbortController,b=E_(e.history,a,g.signal,p),N.set(r,g),n.next=15,A_("action",b,h,d,s,t,c);case 15:if(w=n.sent,!b.signal.aborted){n.next=19;break}return N.get(r)===g&&N.delete(r),n.abrupt("return");case 19:if(!H_(w)){n.next=26;break}return N.delete(r),z.add(r),x=kx({state:"loading"},p,{data:void 0," _hasFetcherDoneAnything ":!0}),T.fetchers.set(r,x),G({fetchers:new Map(T.fetchers)}),n.abrupt("return",ne(T,w,{submission:p,isFetchActionRedirect:!0}));case 26:if(!F_(w)){n.next=29;break}return se(r,i,w.error),n.abrupt("return");case 29:if(!B_(w)){n.next=31;break}throw O_(400,{type:"defer-action"});case 31:return _=T.navigation.location||T.location,k=E_(e.history,_,g.signal),S=o||u,Ax(A="idle"!==T.navigation.state?Ox(S,T.navigation.location,c):T.matches,"Didn't find any matches after fetcher action"),C=++O,U.set(r,C),P=kx({state:"loading",data:w.data},p,{" _hasFetcherDoneAnything ":!0}),T.fetchers.set(r,P),H=x_(e.history,T,A,p,_,R,I,L,B,S,c,Dt({},h.route.id,w.data),void 0),W=l(H,2),V=W[0],(q=W[1]).filter((function(e){return e.key!==r})).forEach((function(e){var t=e.key,n=T.fetchers.get(t),r={state:"loading",data:n&&n.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};T.fetchers.set(t,r),e.controller&&N.set(t,e.controller)})),G({fetchers:new Map(T.fetchers)}),X=function(){return q.forEach((function(e){return le(e.key)}))},g.signal.addEventListener("abort",X),n.next=47,ie(T.matches,A,V,q,k);case 47:if(J=n.sent,Y=J.results,Q=J.loaderResults,Z=J.fetcherResults,!g.signal.aborted){n.next=53;break}return n.abrupt("return");case 53:if(g.signal.removeEventListener("abort",X),U.delete(r),N.delete(r),q.forEach((function(e){return N.delete(e.key)})),!(K=D_(Y))){n.next=60;break}return n.abrupt("return",ne(T,K));case 60:$=R_(T,T.matches,V,Q,void 0,q,Z,F),ee=$.loaderData,te=$.errors,T.fetchers.has(r)&&(re={state:"idle",data:w.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0},T.fetchers.set(r,re)),ae=he(C),"loading"===T.navigation.state&&C>D?(Ax(E,"Expected pending action"),M&&M.abort(),j(T.navigation.location,{matches:A,loaderData:ee,errors:te,fetchers:new Map(T.fetchers)})):(G(kx({errors:te,loaderData:I_(T.loaderData,ee,A,te)},ae||q.length>0?{fetchers:new Map(T.fetchers)}:{})),R=!1);case 64:case"end":return n.stop()}}),n)}))),ee.apply(this,arguments)}function te(){return te=d(f().mark((function n(r,i,a,o,u,l){var h,d,p,v,m,y,g;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return h=T.fetchers.get(r),d=kx({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},l,{data:h&&h.data," _hasFetcherDoneAnything ":!0}),T.fetchers.set(r,d),G({fetchers:new Map(T.fetchers)}),p=new AbortController,v=E_(e.history,a,p.signal),N.set(r,p),n.next=9,A_("loader",v,o,u,s,t,c);case 9:if(!B_(m=n.sent)){n.next=17;break}return n.next=13,J_(m,v.signal,!0);case 13:if(n.t0=n.sent,n.t0){n.next=16;break}n.t0=m;case 16:m=n.t0;case 17:if(N.get(r)===p&&N.delete(r),!v.signal.aborted){n.next=20;break}return n.abrupt("return");case 20:if(!H_(m)){n.next=25;break}return z.add(r),n.next=24,ne(T,m);case 24:return n.abrupt("return");case 25:if(!F_(m)){n.next=30;break}return y=L_(T.matches,i),T.fetchers.delete(r),G({fetchers:new Map(T.fetchers),errors:Dt({},y.route.id,m.error)}),n.abrupt("return");case 30:Ax(!B_(m),"Unhandled fetcher deferred data"),g={state:"idle",data:m.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0},T.fetchers.set(r,g),G({fetchers:new Map(T.fetchers)});case 34:case"end":return n.stop()}}),n)}))),te.apply(this,arguments)}function ne(e,t,n){return re.apply(this,arguments)}function re(){return re=d(f().mark((function t(i,a,o){var s,u,l,h,d,p,v,m,y,g,b,w,x;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=(s=void 0===o?{}:o).submission,l=s.replace,h=s.isFetchActionRedirect,a.revalidate&&(R=!0),Ax(d=Cx(i.location,a.location,kx({_isRedirect:!0},h?{_isFetchActionRedirect:!0}:{})),"Expected a location on the redirect navigation"),!v_.test(a.location)||!r){t.next=10;break}if(p=e.history.createURL(a.location),v=null==Yx(p.pathname,c),n.location.origin===p.origin&&!v){t.next=10;break}return l?n.location.replace(a.location):n.location.assign(a.location),t.abrupt("return");case 10:if(M=null,m=!0===l?gx.Replace:gx.Push,y=i.navigation,g=y.formMethod,b=y.formAction,w=y.formEncType,x=y.formData,!u&&g&&b&&x&&w&&(u={formMethod:g,formAction:b,formEncType:w,formData:x}),!(f_.has(a.status)&&u&&V_(u.formMethod))){t.next=19;break}return t.next=17,X(m,d,{submission:kx({},u,{formAction:a.location}),preventScrollReset:C});case 17:case 22:t.next=26;break;case 19:if(!h){t.next=24;break}return t.next=22,X(m,d,{overrideNavigation:{state:"loading",location:d,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fetcherSubmission:u,preventScrollReset:C});case 24:return t.next=26,X(m,d,{overrideNavigation:{state:"loading",location:d,formMethod:u?u.formMethod:void 0,formAction:u?u.formAction:void 0,formEncType:u?u.formEncType:void 0,formData:u?u.formData:void 0},preventScrollReset:C});case 26:case"end":return t.stop()}}),t)}))),re.apply(this,arguments)}function ie(e,t,n,r,i){return ae.apply(this,arguments)}function ae(){return ae=d(f().mark((function n(r,i,a,o,u){var l,h,d;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([].concat(qe(a.map((function(e){return A_("loader",u,e,i,s,t,c)}))),qe(o.map((function(n){return n.matches&&n.match&&n.controller?A_("loader",E_(e.history,n.path,n.controller.signal),n.match,n.matches,s,t,c):{type:Sx.error,error:O_(404,{pathname:n.path})}})))));case 2:return l=n.sent,h=l.slice(0,a.length),d=l.slice(a.length),n.next=7,Promise.all([q_(r,a,h,h.map((function(){return u.signal})),!1,T.loaderData),q_(r,o.map((function(e){return e.match})),d,o.map((function(e){return e.controller?e.controller.signal:null})),!0)]);case 7:return n.abrupt("return",{results:l,loaderResults:h,fetcherResults:d});case 8:case"end":return n.stop()}}),n)}))),ae.apply(this,arguments)}function oe(){var e;R=!0,(e=I).push.apply(e,qe(me())),B.forEach((function(e,t){N.has(t)&&(L.push(t),le(t))}))}function se(e,t,n){var r=L_(T.matches,t);ue(e),G({errors:Dt({},r.route.id,n),fetchers:new Map(T.fetchers)})}function ue(e){var t=T.fetchers.get(e);!N.has(e)||t&&"loading"===t.state&&U.has(e)||le(e),B.delete(e),U.delete(e),z.delete(e),T.fetchers.delete(e)}function le(e){var t=N.get(e);Ax(t,"Expected fetch controller: "+e),t.abort(),N.delete(e)}function ce(e){var t,n=Lt(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i={state:"idle",data:$(r).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};T.fetchers.set(r,i)}}catch(AG){n.e(AG)}finally{n.f()}}function fe(){var e,t=[],n=!1,r=Lt(z);try{for(r.s();!(e=r.n()).done;){var i=e.value,a=T.fetchers.get(i);Ax(a,"Expected fetcher: "+i),"loading"===a.state&&(z.delete(i),t.push(i),n=!0)}}catch(AG){r.e(AG)}finally{r.f()}return ce(t),n}function he(e){var t,n=[],r=Lt(U);try{for(r.s();!(t=r.n()).done;){var i=l(t.value,2),a=i[0];if(i[1]<e){var o=T.fetchers.get(a);Ax(o,"Expected fetcher: "+a),"loading"===o.state&&(le(a),U.delete(a),n.push(a))}}}catch(AG){r.e(AG)}finally{r.f()}return ce(n),n.length>0}function de(e){T.blockers.delete(e),H.delete(e)}function pe(e,t){var n=T.blockers.get(e)||p_;Ax("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state),T.blockers.set(e,t),G({blockers:new Map(T.blockers)})}function ve(e){var t=e.currentLocation,n=e.nextLocation,r=e.historyAction;if(0!==H.size){H.size>1&&Tx(!1,"A router only supports one blocker at a time");var i=Array.from(H.entries()),a=l(i[i.length-1],2),o=a[0],s=a[1],u=T.blockers.get(o);if(!u||"proceeding"!==u.state)return s({currentLocation:t,nextLocation:n,historyAction:r})?o:void 0}}function me(e){var t=[];return F.forEach((function(n,r){e&&!e(r)||(n.cancel(),t.push(r),F.delete(r))})),t}function ye(e,t){if(m&&y&&g){var n=t.map((function(e){return Z_(e,T.loaderData)})),r=y(e,n)||e.key;m[r]=g()}}function ge(e,t){if(m&&y&&g){var n=t.map((function(e){return Z_(e,T.loaderData)})),r=y(e,n)||e.key,i=m[r];if("number"===typeof i)return i}return null}return S={get basename(){return c},get state(){return T},get routes(){return u},initialize:function(){return p=e.history.listen((function(t){var n=t.action,r=t.location,i=t.delta;if(!W){Tx(0===H.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");var a=ve({currentLocation:T.location,nextLocation:r,historyAction:n});return a&&null!=i?(W=!0,e.history.go(-1*i),void pe(a,{state:"blocked",location:r,proceed:function(){pe(a,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(i)},reset:function(){de(a),G({blockers:new Map(S.state.blockers)})}})):X(n,r)}W=!1})),T.initialized||X(gx.Pop,T.location),S},subscribe:function(e){return v.add(e),function(){return v.delete(e)}},enableScrollRestoration:function(e,t,n){if(m=e,g=t,y=n||function(e){return e.key},!b&&T.navigation===h_){b=!0;var r=ge(T.location,T.matches);null!=r&&G({restoreScrollPosition:r})}return function(){m=null,g=null,y=null}},navigate:V,fetch:function(e,t,n,r){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");N.has(e)&&le(e);var a=o||u,s=g_(T.location,T.matches,c,h.v7_prependBasename,n,t,null==r?void 0:r.relative),l=Ox(a,s,c);if(l){var f=b_(h.v7_normalizeFormMethod,!0,s,r),d=f.path,p=f.submission,v=K_(l,d);C=!0===(r&&r.preventScrollReset),p&&V_(p.formMethod)?function(e,t,n,r,i,a){ee.apply(this,arguments)}(e,t,d,v,l,p):(B.set(e,{routeId:t,path:d}),function(e,t,n,r,i,a){te.apply(this,arguments)}(e,t,d,v,l,p))}else se(e,t,O_(404,{pathname:s}))},revalidate:function(){oe(),G({revalidation:"loading"}),"submitting"!==T.navigation.state&&("idle"!==T.navigation.state?X(E||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation}):X(T.historyAction,T.location,{startUninterruptedRevalidation:!0}))},createHref:function(t){return e.history.createHref(t)},encodeLocation:function(t){return e.history.encodeLocation(t)},getFetcher:$,deleteFetcher:ue,dispose:function(){p&&p(),v.clear(),M&&M.abort(),T.fetchers.forEach((function(e,t){return ue(t)})),T.blockers.forEach((function(e,t){return de(t)}))},getBlocker:function(e,t){var n=T.blockers.get(e)||p_;return H.get(e)!==t&&H.set(e,t),n},deleteBlocker:de,_internalFetchControllers:N,_internalActiveDeferreds:F,_internalSetRoutes:function(e){o=Nx(e,t,void 0,s={})}},S}Symbol("deferred");function g_(e,t,n,r,i,a,o){var s,u;if(null!=a&&"path"!==o){s=[];var l,c=Lt(t);try{for(c.s();!(l=c.n()).done;){var f=l.value;if(s.push(f),f.route.id===a){u=f;break}}}catch(AG){c.e(AG)}finally{c.f()}}else s=t,u=t[t.length-1];var h=Kx(i||".",Zx(s).map((function(e){return e.pathnameBase})),Yx(e.pathname,n)||e.pathname,"path"===o);return null==i&&(h.search=e.search,h.hash=e.hash),null!=i&&""!==i&&"."!==i||!u||!u.route.index||Q_(h.search)||(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),r&&"/"!==n&&(h.pathname="/"===h.pathname?n:$x([n,h.pathname])),Px(h)}function b_(e,t,n,r){if(!r||!function(e){return null!=e&&"formData"in e}(r))return{path:n};if(r.formMethod&&!j_(r.formMethod))return{path:n,error:O_(405,{method:r.formMethod})};var i;if(r.formData){var a=r.formMethod||"get";if(V_((i={formMethod:e?a.toUpperCase():a.toLowerCase(),formAction:U_(n),formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:r.formData}).formMethod))return{path:n,submission:i}}var o=Rx(n),s=C_(r.formData);return t&&o.search&&Q_(o.search)&&s.append("index",""),o.search="?"+s,{path:Px(o),submission:i}}function w_(e,t){var n=e;if(t){var r=e.findIndex((function(e){return e.route.id===t}));r>=0&&(n=e.slice(0,r))}return n}function x_(e,t,n,r,i,a,o,s,u,l,c,f,h){var d=h?Object.values(h)[0]:f?Object.values(f)[0]:void 0,p=e.createURL(t.location),v=e.createURL(i),m=h?Object.keys(h)[0]:void 0,y=w_(n,m).filter((function(e,n){if(e.route.lazy)return!0;if(null==e.route.loader)return!1;if(function(e,t,n){var r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(t.loaderData,t.matches[n],e)||o.some((function(t){return t===e.route.id})))return!0;var i=t.matches[n],s=e;return k_(e,kx({currentUrl:p,currentParams:i.params,nextUrl:v,nextParams:s.params},r,{actionResult:d,defaultShouldRevalidate:a||p.pathname+p.search===v.pathname+v.search||p.search!==v.search||__(i,s)}))})),g=[];return u.forEach((function(e,i){if(n.some((function(t){return t.route.id===e.routeId}))){var o=Ox(l,e.path,c);if(o){var u=K_(o,e.path);if(s.includes(i))g.push({key:i,routeId:e.routeId,path:e.path,matches:o,match:u,controller:new AbortController});else k_(u,kx({currentUrl:p,currentParams:t.matches[t.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:d,defaultShouldRevalidate:a}))&&g.push({key:i,routeId:e.routeId,path:e.path,matches:o,match:u,controller:new AbortController})}else g.push({key:i,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null})}})),[y,g]}function __(e,t){var n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function k_(e,t){if(e.route.shouldRevalidate){var n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}function S_(e,t,n){return M_.apply(this,arguments)}function M_(){return M_=d(f().mark((function e(t,n,r){var i,a,o,s,u,l;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.lazy){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.lazy();case 4:if(i=e.sent,t.lazy){e.next=7;break}return e.abrupt("return");case 7:for(s in Ax(a=r[t.id],"No route found in manifest"),o={},i)u=a[s],Tx(!(l=void 0!==u&&"hasErrorBoundary"!==s),'Route "'+a.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+s+'" will be ignored.'),l||Lx.has(s)||(o[s]=i[s]);Object.assign(a,o),Object.assign(a,kx({},n(a),{lazy:void 0}));case 13:case"end":return e.stop()}}),e)}))),M_.apply(this,arguments)}function A_(e,t,n,r,i,a,o,s,u,l){return T_.apply(this,arguments)}function T_(){return T_=d(f().mark((function e(t,n,r,i,a,o,s,u,l,c){var h,d,p,v,m,y,g,b,w,x,_,k,S,M,A,T,E,C;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===u&&(u=!1),void 0===l&&(l=!1),v=function(e){var t,i=new Promise((function(e,n){return t=n}));return p=function(){return t()},n.signal.addEventListener("abort",p),Promise.race([e({request:n,params:r.params,context:c}),i])},e.prev=3,m=r.route[t],!r.route.lazy){e.next=31;break}if(!m){e.next=13;break}return e.next=9,Promise.all([v(m),S_(r.route,o,a)]);case 9:y=e.sent,d=y[0],e.next=29;break;case 13:return e.next=15,S_(r.route,o,a);case 15:if(!(m=r.route[t])){e.next=22;break}return e.next=19,v(m);case 19:d=e.sent,e.next=29;break;case 22:if("action"!==t){e.next=28;break}throw g=new URL(n.url),b=g.pathname+g.search,O_(405,{method:n.method,pathname:b,routeId:r.route.id});case 28:return e.abrupt("return",{type:Sx.data,data:void 0});case 29:e.next=40;break;case 31:if(m){e.next=37;break}throw w=new URL(n.url),O_(404,{pathname:w.pathname+w.search});case 37:return e.next=39,v(m);case 39:d=e.sent;case 40:Ax(void 0!==d,"You defined "+("action"===t?"an action":"a loader")+' for route "'+r.route.id+"\" but didn't return anything from your `"+t+"` function. Please return a value or `null`."),e.next=47;break;case 43:e.prev=43,e.t0=e.catch(3),h=Sx.error,d=e.t0;case 47:return e.prev=47,p&&n.signal.removeEventListener("abort",p),e.finish(47);case 50:if(!G_(d)){e.next=75;break}if(x=d.status,!c_.has(x)){e.next=60;break}if(Ax(_=d.headers.get("Location"),"Redirects returned/thrown from loaders/actions must have a Location header"),v_.test(_)?u||(k=new URL(n.url),S=_.startsWith("//")?new URL(k.protocol+_):new URL(_),M=null!=Yx(S.pathname,s),S.origin===k.origin&&M&&(_=S.pathname+S.search+S.hash)):_=g_(new URL(n.url),i.slice(0,i.indexOf(r)+1),s,!0,_),!u){e.next=59;break}throw d.headers.set("Location",_),d;case 59:return e.abrupt("return",{type:Sx.redirect,status:x,location:_,revalidate:null!==d.headers.get("X-Remix-Revalidate")});case 60:if(!l){e.next=62;break}throw{type:h||Sx.data,response:d};case 62:if(!(T=d.headers.get("Content-Type"))||!/\bapplication\/json\b/.test(T)){e.next=69;break}return e.next=66,d.json();case 66:A=e.sent,e.next=72;break;case 69:return e.next=71,d.text();case 71:A=e.sent;case 72:if(h!==Sx.error){e.next=74;break}return e.abrupt("return",{type:h,error:new i_(x,d.statusText,A),headers:d.headers});case 74:return e.abrupt("return",{type:Sx.data,data:A,statusCode:d.status,headers:d.headers});case 75:if(h!==Sx.error){e.next=77;break}return e.abrupt("return",{type:h,error:d});case 77:if(!W_(d)){e.next=79;break}return e.abrupt("return",{type:Sx.deferred,deferredData:d,statusCode:null==(E=d.init)?void 0:E.status,headers:(null==(C=d.init)?void 0:C.headers)&&new Headers(d.init.headers)});case 79:return e.abrupt("return",{type:Sx.data,data:d});case 80:case"end":return e.stop()}}),e,null,[[3,43,47,50]])}))),T_.apply(this,arguments)}function E_(e,t,n,r){var i=e.createURL(U_(t)).toString(),a={signal:n};if(r&&V_(r.formMethod)){var o=r.formMethod,s=r.formEncType,u=r.formData;a.method=o.toUpperCase(),a.body="application/x-www-form-urlencoded"===s?C_(u):u}return new Request(i,a)}function C_(e){var t,n=new URLSearchParams,r=Lt(e.entries());try{for(r.s();!(t=r.n()).done;){var i=l(t.value,2),a=i[0],o=i[1];n.append(a,o instanceof File?o.name:o)}}catch(AG){r.e(AG)}finally{r.f()}return n}function P_(e,t,n,r,i){var a,o={},s=null,u=!1,l={};return n.forEach((function(n,c){var f=t[c].route.id;if(Ax(!H_(n),"Cannot handle redirect results in processLoaderData"),F_(n)){var h=L_(e,f),d=n.error;r&&(d=Object.values(r)[0],r=void 0),null==(s=s||{})[h.route.id]&&(s[h.route.id]=d),o[f]=void 0,u||(u=!0,a=a_(n.error)?n.error.status:500),n.headers&&(l[f]=n.headers)}else B_(n)?(i.set(f,n.deferredData),o[f]=n.deferredData.data):o[f]=n.data,null==n.statusCode||200===n.statusCode||u||(a=n.statusCode),n.headers&&(l[f]=n.headers)})),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:l}}function R_(e,t,n,r,i,a,o,s){for(var u=P_(t,n,r,i,s),l=u.loaderData,c=u.errors,f=0;f<a.length;f++){var h=a[f],d=h.key,p=h.match,v=h.controller;Ax(void 0!==o&&void 0!==o[f],"Did not find corresponding fetcher result");var m=o[f];if(!v||!v.signal.aborted)if(F_(m)){var y=L_(e.matches,null==p?void 0:p.route.id);c&&c[y.route.id]||(c=kx({},c,Dt({},y.route.id,m.error))),e.fetchers.delete(d)}else if(H_(m))Ax(!1,"Unhandled fetcher revalidation redirect");else if(B_(m))Ax(!1,"Unhandled fetcher deferred data");else{var g={state:"idle",data:m.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};e.fetchers.set(d,g)}}return{loaderData:l,errors:c}}function I_(e,t,n,r){var i,a=kx({},t),o=Lt(n);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=s.route.id;if(t.hasOwnProperty(u)?void 0!==t[u]&&(a[u]=t[u]):void 0!==e[u]&&s.route.loader&&(a[u]=e[u]),r&&r.hasOwnProperty(u))break}}catch(AG){o.e(AG)}finally{o.f()}return a}function L_(e,t){return(t?e.slice(0,e.findIndex((function(e){return e.route.id===t}))+1):qe(e)).reverse().find((function(e){return!0===e.route.hasErrorBoundary}))||e[0]}function N_(e){var t=e.find((function(e){return e.index||!e.path||"/"===e.path}))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function O_(e,t){var n=void 0===t?{}:t,r=n.pathname,i=n.routeId,a=n.method,o=n.type,s="Unknown Server Error",u="Unknown @remix-run/router error";return 400===e?(s="Bad Request",a&&r&&i?u="You made a "+a+' request to "'+r+'" but did not provide a `loader` for route "'+i+'", so there is no way to handle the request.':"defer-action"===o&&(u="defer() is not supported in actions")):403===e?(s="Forbidden",u='Route "'+i+'" does not match URL "'+r+'"'):404===e?(s="Not Found",u='No route matches URL "'+r+'"'):405===e&&(s="Method Not Allowed",a&&r&&i?u="You made a "+a.toUpperCase()+' request to "'+r+'" but did not provide an `action` for route "'+i+'", so there is no way to handle the request.':a&&(u='Invalid request method "'+a.toUpperCase()+'"')),new i_(e||500,s,new Error(u),!0)}function D_(e){for(var t=e.length-1;t>=0;t--){var n=e[t];if(H_(n))return n}}function U_(e){return Px(kx({},"string"===typeof e?Rx(e):e,{hash:""}))}function z_(e,t){return e.pathname===t.pathname&&e.search===t.search&&(""===e.hash?""!==t.hash:e.hash===t.hash||""!==t.hash)}function B_(e){return e.type===Sx.deferred}function F_(e){return e.type===Sx.error}function H_(e){return(e&&e.type)===Sx.redirect}function W_(e){var t=e;return t&&"object"===typeof t&&"object"===typeof t.data&&"function"===typeof t.subscribe&&"function"===typeof t.cancel&&"function"===typeof t.resolveData}function G_(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function j_(e){return l_.has(e.toLowerCase())}function V_(e){return s_.has(e.toLowerCase())}function q_(e,t,n,r,i,a){return X_.apply(this,arguments)}function X_(){return(X_=d(f().mark((function e(t,n,r,i,a,o){var s,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=f().mark((function e(s){var u,l,c,h,d;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=r[s],l=n[s]){e.next=4;break}return e.abrupt("return","continue");case 4:if(c=t.find((function(e){return e.route.id===l.route.id})),h=null!=c&&!__(c,l)&&void 0!==(o&&o[l.route.id]),!B_(u)||!a&&!h){e.next=11;break}return Ax(d=i[s],"Expected an AbortSignal for revalidating fetcher deferred result"),e.next=11,J_(u,d,a).then((function(e){e&&(r[s]=e||r[s])}));case 11:case"end":return e.stop()}}),e)})),u=0;case 2:if(!(u<r.length)){e.next=10;break}return e.delegateYield(s(u),"t0",4);case 4:if("continue"!==e.t0){e.next=7;break}return e.abrupt("continue",7);case 7:u++,e.next=2;break;case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J_(e,t,n){return Y_.apply(this,arguments)}function Y_(){return(Y_=d(f().mark((function e(t,n,r){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=!1),e.next=3,t.deferredData.resolveData(n);case 3:if(!e.sent){e.next=6;break}return e.abrupt("return");case 6:if(!r){e.next=14;break}return e.prev=7,e.abrupt("return",{type:Sx.data,data:t.deferredData.unwrappedData});case 11:return e.prev=11,e.t0=e.catch(7),e.abrupt("return",{type:Sx.error,error:e.t0});case 14:return e.abrupt("return",{type:Sx.data,data:t.deferredData.data});case 15:case"end":return e.stop()}}),e,null,[[7,11]])})))).apply(this,arguments)}function Q_(e){return new URLSearchParams(e).getAll("index").some((function(e){return""===e}))}function Z_(e,t){var n=e.route,r=e.pathname,i=e.params;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function K_(e,t){var n="string"===typeof t?Rx(t).search:t.search;if(e[e.length-1].route.index&&Q_(n||""))return e[e.length-1];var r=Zx(e);return r[r.length-1]}function $_(){return $_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$_.apply(this,arguments)}var ek=r.startTransition,tk=t.createContext(null);var nk=t.createContext(null);var rk=t.createContext(null);var ik=t.createContext(null);var ak=t.createContext(null);var ok=t.createContext({outlet:null,matches:[],isDataRoute:!1});var sk=t.createContext(null);function uk(){return null!=t.useContext(ak)}function lk(){return uk()||Ax(!1),t.useContext(ak).location}function ck(e){t.useContext(ik).static||t.useLayoutEffect(e)}function fk(){return t.useContext(ok).isDataRoute?function(){var e=_k(mk.UseNavigateStable).router,n=Sk(yk.UseNavigateStable),r=t.useRef(!1);ck((function(){r.current=!0}));var i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,$_({fromRouteId:n},i)))}),[e,n]);return i}():function(){uk()||Ax(!1);var e=t.useContext(tk),n=t.useContext(ik),r=n.basename,i=n.navigator,a=t.useContext(ok).matches,o=lk().pathname,s=JSON.stringify(Zx(a).map((function(e){return e.pathnameBase}))),u=t.useRef(!1);return ck((function(){u.current=!0})),t.useCallback((function(t,n){if(void 0===n&&(n={}),u.current)if("number"!==typeof t){var a=Kx(t,JSON.parse(s),o,"path"===n.relative);null==e&&"/"!==r&&(a.pathname="/"===a.pathname?r:$x([r,a.pathname])),(n.replace?i.replace:i.push)(a,n.state,n)}else i.go(t)}),[r,i,s,o,e])}()}var hk=t.createContext(null);function dk(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(ok).matches,a=lk().pathname,o=JSON.stringify(Zx(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return Kx(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function pk(e,n,r){uk()||Ax(!1);var i,a=t.useContext(ik).navigator,o=t.useContext(ok).matches,s=o[o.length-1],u=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/"),c=(s&&s.route,lk());if(n){var f,h="string"===typeof n?Rx(n):n;"/"===l||(null==(f=h.pathname)?void 0:f.startsWith(l))||Ax(!1),i=h}else i=c;var d=i.pathname||"/",p=Ox(e,{pathname:"/"===l?d:d.slice(l.length)||"/"});var v=xk(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:$x([l,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:$x([l,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,r);return n&&v?t.createElement(ak.Provider,{value:{location:$_({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:gx.Pop}},v):v}function vk(){var e=function(){var e,n=t.useContext(sk),r=kk(yk.UseRouteError),i=Sk(yk.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=a_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var mk,yk,gk=t.createElement(vk,null),bk=function(e){ct(r,e);var n=dt(r);function r(e){var t;return nt(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return at(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(ok.Provider,{value:this.props.routeContext},t.createElement(sk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(t.Component);function wk(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(tk);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(ok.Provider,{value:n},i)}function xk(e,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}var o=e,s=null==(i=r)?void 0:i.errors;if(null!=s){var u=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||Ax(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((function(e,i,a){var u=i.route.id?null==s?void 0:s[i.route.id]:null,l=null;r&&(l=i.route.errorElement||gk);var c=n.concat(o.slice(0,a+1)),f=function(){var n;return n=u?l:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(wk,{match:i,routeContext:{outlet:e,matches:c,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?t.createElement(bk,{location:r.location,revalidation:r.revalidation,component:l,error:u,children:f(),routeContext:{outlet:null,matches:c,isDataRoute:!0}}):f()}),null)}function _k(e){var n=t.useContext(tk);return n||Ax(!1),n}function kk(e){var n=t.useContext(nk);return n||Ax(!1),n}function Sk(e){var n=function(e){var n=t.useContext(ok);return n||Ax(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||Ax(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(mk||(mk={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(yk||(yk={}));var Mk;function Ak(e){return pk(e.routes,void 0,e.state)}function Tk(e){return function(e){var n=t.useContext(ok).outlet;return n?t.createElement(hk.Provider,{value:e},n):n}(e.context)}function Ek(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,s=e.navigationType,u=void 0===s?gx.Pop:s,l=e.navigator,c=e.static,f=void 0!==c&&c;uk()&&Ax(!1);var h=r.replace(/^\/*/,"/"),d=t.useMemo((function(){return{basename:h,navigator:l,static:f}}),[h,l,f]);"string"===typeof o&&(o=Rx(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,b=p.hash,w=void 0===b?"":b,x=p.state,_=void 0===x?null:x,k=p.key,S=void 0===k?"default":k,M=t.useMemo((function(){var e=Yx(m,h);return null==e?null:{location:{pathname:e,search:g,hash:w,state:_,key:S},navigationType:u}}),[h,m,g,w,_,S,u]);return null==M?null:t.createElement(ik.Provider,{value:d},t.createElement(ak.Provider,{children:a,value:M}))}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Mk||(Mk={}));var Ck,Pk,Rk,Ik,Lk=new Promise((function(){}));t.Component;function Nk(e){var n={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(n,{element:t.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(n,{errorElement:t.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),n}var Ok="https://api2.synthia.love",Dk=je(Ck||(Ck=Xe(["\n  0% {\n    background-color: #000;\n  }\n  50% {\n    background-color: #ac1212;\n    background-image: url(/nethria-portrait.jpg);\n  }\n  75% {\n    background-image: none;\n  }\n  100% {\n    background-color: #000;\n    background-image: url(/nethria-portrait.jpg);\n  }\n"]))),Uk=je(Pk||(Pk=Xe(["\n  0% {\n    background-color: #000;\n  }\n  20% {\n    background-color: #FFF;\n  }\n  40% {\n    background-color: #ac1212;\n    background-image: url(/nethria-portrait.jpg);\n  }\n  65% {\n    background-image: none;\n  }\n\n  80% {\n    background-color: #FFF;\n  }\n  100% {\n    background-color: #000;\n    background-image: url(/nethria-portrait.jpg);\n  }\n"]))),zk=je(Rk||(Rk=Xe(["\n  0% {\n    color: #5dd4ae;\n  }\n  50% {\n    color: #3c0b6a;\n  }\n  100% {\n    color: #5dd4ae;\n  }\n"]))),Bk=je(Ik||(Ik=Xe(["\n  0% {\n    transform: translate(1px, 1px) rotate(0deg);\n  }\n  10% {\n    transform: translate(-1px, -2px) rotate(-1deg);\n  }\n  20% {\n    transform: translate(-3px, 0px) rotate(1deg);\n  }\n  30% {\n    transform: translate(3px, 2px) rotate(0deg);\n  }\n  40% {\n    transform: translate(1px, -1px) rotate(1deg);\n  }\n  50% {\n    transform: translate(-1px, 2px) rotate(-1deg);\n  }\n  60% {\n    transform: translate(-3px, 1px) rotate(0deg);\n  }\n  70% {\n    transform: translate(3px, 1px) rotate(-1deg);\n  }\n  80% {\n    transform: translate(-1px, -1px) rotate(1deg);\n  }\n  90% {\n    transform: translate(1px, 2px) rotate(0deg);\n  }\n  100% {\n    transform: translate(1px, -2px) rotate(-1deg);\n  }\n"]))),Fk={name:"1p1er0y",styles:"display:flex;flex-wrap:wrap;gap:1rem"},Hk=Ge("animation:",Dk," 0.5s linear,",zk," 0.5s linear,",Bk," 0.5s linear;","",""),Wk=Ge("animation:",Uk," 0.5s linear,",zk," 0.5s linear,",Bk," 0.5s linear;animation-iteration-count:6;","",""),Gk=Ge('background-color:#000;overflow:scroll;color:#5dd4ae;font-family:"Ubuntu Mono",monospace;padding:10px;position:fixed;top:0;left:0;animation:',Ze," 0.19s linear;width:100%;height:100%;z-index:9999;display:flex;flex-direction:column;justify-content:flex-start;font-size:1.4rem;p{font-size:1.8rem;white-space:break-spaces;}","",""),jk={name:"1vn0xi1",styles:"font-weight:bold;white-space:pre;@media (max-width: 500px){font-size:1rem;}"},Vk={name:"1pi21xd",styles:"margin-bottom:20px;max-width:300px;width:100%"},qk={name:"93nm8f",styles:'background-color:transparent;border:none;outline:none;color:#5dd4ae;font-family:"Ubuntu Mono",monospace;width:100%;font-size:1.8rem;cursor:none'},Xk=["Neo-Luddites","Data Syndicate","Techno-Shamans","The Grid","The Reclaimed","The Disconnected"],Jk=function(e){var n=e.onExit,r=xx(),i=r.auth,a=void 0===i?"":i,o=r.wallet,s=r.connectWallet,u=r.updateWalletError,c=r.updateTerminalOpen,h=r.walletError,p=(r.loadingWallet,l((0,t.useState)(["syn","message","connect wallet","mint","create","nethria","os","clear","chat","exit"]),1)[0]),v=function(){(0,t.useContext)(Hv).wallet;var e=function(){var e=d(f().mark((function e(t,n,r,i){var a,o,s,u,l,c,h,p,v,m,y,g,b,w,x,_,k,S,M,A,T,E,C,P,R,I,L,N,O;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(parseInt(t)>20)){e.next=3;break}return e.abrupt("return",i("Error: Max mint amount per transaction is 20"));case 3:return u=new pv(window.ethereum),e.next=6,u.getBlock("latest");case 6:if(l=e.sent,console.log(l),c=(null!==(a=null===l||void 0===l?void 0:l.timestamp)&&void 0!==a?a:0)>=Vv,h=(null!==(o=null===l||void 0===l?void 0:l.timestamp)&&void 0!==o?o:0)>=qv,p=(null!==(s=null===l||void 0===l?void 0:l.timestamp)&&void 0!==s?s:0)>=Xv,c){e.next=14;break}return i("Error: Mint has not started yet."),e.abrupt("return");case 14:return e.next=16,u.getSigner();case 16:return v=e.sent,m=new Zo(wv.synthia,gv,v),y=new Zo(Wv,bv,v),window.heroes=y,g=!1,b=0,w=c&&!h&&!p,e.prev=23,e.next=26,y.balanceOf(n);case 26:b=e.sent,g=b>0,e.next=33;break;case 30:e.prev=30,e.t0=e.catch(23),console.log("Error decoding hero balance",null===e.t0||void 0===e.t0?void 0:e.t0.message);case 33:if(x=g?.025:.029,w&&1==b&&(console.log("EH"),x=.029),_=new Fv(x).times(t).times(Math.pow(10,18)).toFixed(),console.log(_),window.c=m,!w){e.next=58;break}return e.next=41,fetch(jv).then((function(e){return e.json()}));case 41:if(k=e.sent,S=k[n]){e.next=45;break}return e.abrupt("return",i("Error: Wallet ".concat(n," not on the guaranteed mint list. Wait until public mint.")));case 45:return e.prev=45,e.next=48,m.guaranteedMint(t,S,{value:_});case 48:M=e.sent,r(M.hash),e.next=56;break;case 52:e.prev=52,e.t1=e.catch(45),i("Error: ".concat(e.t1.message)),console.log(e.t1);case 56:e.next=132;break;case 58:if(!h||p){e.next=119;break}if(console.log("WL"),A=function(){var e=d(f().mark((function e(t){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Zo(t,gv,u),e.prev=1,e.next=4,r.balanceOf(n);case 4:return i=e.sent,e.abrupt("return",i>0);case 8:return e.prev=8,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),T="",g){e.next=80;break}i("Please wait while I verify you are on the list."),E=0;case 65:if(!(E<Gv.length)){e.next=78;break}return C=Gv[E],console.log("address ",C),e.next=70,A(Gv[E]);case 70:if(P=e.sent,console.log(P),!P){e.next=75;break}return T=C,e.abrupt("break",78);case 75:E++,e.next=65;break;case 78:e.next=81;break;case 80:T=Wv;case 81:return e.prev=81,e.next=84,fetch(jv).then((function(e){return e.json()}));case 84:I=e.sent,R=I[n],e.next=91;break;case 88:e.prev=88,e.t2=e.catch(81),console.log(e.t2);case 91:if(!R||T){e.next=105;break}return e.prev=92,e.next=95,m.guaranteedMint(t,R,{value:_});case 95:L=e.sent,r(L.hash),e.next=103;break;case 99:e.prev=99,e.t3=e.catch(92),i("Error: ".concat(e.t3.message)),console.log(e.t3);case 103:e.next=117;break;case 105:if(T){e.next=107;break}return e.abrupt("return",i("Error: You are not on the list. Mint during public mint."));case 107:return e.prev=107,e.next=110,m.mintWithAddress(t,T,{value:_});case 110:N=e.sent,r(N.hash),e.next=117;break;case 114:e.prev=114,e.t4=e.catch(107),console.log(e.t4);case 117:e.next=132;break;case 119:if(!p){e.next=132;break}return console.log("PUB"),e.prev=121,e.next=124,m.mint(t,{value:_});case 124:O=e.sent,r(O.hash),e.next=132;break;case 128:e.prev=128,e.t5=e.catch(121),i("Error: ".concat(e.t5.message)),console.log(e.t5);case 132:case"end":return e.stop()}}),e,null,[[23,30],[45,52],[81,88],[92,99],[107,114],[121,128]])})));return function(t,n,r,i){return e.apply(this,arguments)}}();return{mint:e}}(),m=v.mint,y=function(){var e=l(t.useState(""),2),n=e[0],r=e[1],i=function(){var e=d(f().mark((function e(t){var n,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof window.ethereum){e.next=10;break}return n=new pv(window.ethereum),e.next=4,n.getSigner();case 4:return i=e.sent,e.next=7,i.signMessage(t);case 7:return a=e.sent,r(a),e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{asyncSignMessage:i,signature:n}}(),g=y.asyncSignMessage,b=y.signature,w=l((0,t.useState)(""),2),x=w[0],_=w[1],k=l((0,t.useState)([]),2),S=k[0],M=k[1],A=l((0,t.useState)(!1),2),T=A[0],E=A[1],C=function(e){var t=function(){var t=d(f().mark((function t(n,r,i){var a,o,s,u,l,c,h,d,p,v,m;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("HI"),t.next=3,tx(parseInt(n));case 3:return a=t.sent,o=a.priceInPepe,s=a.priceInWeth,e((function(e){return[].concat(qe(e),["Total cost: ".concat(o," PEPE (").concat($w(s,18)," ETH)")])})),u=ex(),t.next=10,u.getSigner();case 10:return l=t.sent,c=new Zo(Xw,jw,l),t.next=14,c.allowance(r,qw);case 14:if(h=t.sent,d=Kw(o,18),!(h<d)){t.next=30;break}return t.prev=17,t.next=20,c.approve(qw,d);case 20:return p=t.sent,e((function(e){return[].concat(qe(e),["Please wait..."])})),t.next=24,p.wait();case 24:t.next=30;break;case 26:return t.prev=26,t.t0=t.catch(17),e((function(e){return[].concat(qe(e),["Error: ".concat(t.t0.message)])})),t.abrupt("return");case 30:return v=new Zo(qw,Vw,l),t.prev=31,t.next=34,v.swapAndMint(Xw,d,s,0,n);case 34:m=t.sent,i(m.hash),t.next=42;break;case 38:return t.prev=38,t.t1=t.catch(31),e((function(e){return[].concat(qe(e),["Error: ".concat(t.t1.message)])})),t.abrupt("return");case 42:case"end":return t.stop()}}),t,null,[[17,26],[31,38]])})));return function(e,n,r){return t.apply(this,arguments)}}();return{mintWithPepe:t}}(M),P=(C.mintWithPepe,(0,t.useRef)(null)),R=(0,t.useRef)(null),I=l((0,t.useState)(!1),2),L=I[0],N=I[1],O=l((0,t.useState)(!1),2),D=O[0],U=O[1],z=function(){var e=d(f().mark((function e(n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M((function(e){return[].concat(qe(e),[He(t.Fragment,null,"Transaction submitted. Will update when complete."," ",He("a",{target:"_blank","data-cursor":!0,href:"https://etherscan.io/tx/".concat(n),rel:"noreferrer"},"View on etherscan"))])})),new pv(window.ethereum).waitForTransaction(n).then((function(){M((function(e){return[].concat(qe(e),["\n",He(t.Fragment,null,"Transaction confirmed. Welcome to Synthia's harmonious virtual realm."," ",He("a",{target:"_blank","data-cursor":!0,href:"https://opensea.io/collection/synthia-official",rel:"noreferrer"},"Go to OpenSea"))])}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(e){M((function(t){return[].concat(qe(t),[e])}))},F=function(e){return function(){return Y((function(t,n){t||(M((function(t){return[].concat(qe(t),["mint ".concat(e)])})),m(e,n,z,B))}))}};(0,t.useEffect)((function(){T||setTimeout((function(){var e;null===(e=P.current)||void 0===e||e.focus()}),0)}),[T]),(0,t.useEffect)((function(){h&&(M((function(e){return[].concat(qe(e),[He(t.Fragment,null,"You need a wallet to perform this action. Download MetaMask -"," ",He("a",{"data-cursor":!0,target:"_blank",href:"https://metamask.io/download/",rel:"noreferrer"},"https://metamask.io/download/"))])})),null===u||void 0===u||u(""))}),[h]);var H=(0,t.useCallback)((function(e){M((function(t){return[].concat(qe(t),["\nattack: Execute a basic attack against Nethria.\n\ndodge: Attempt to dodge an incoming attack from Nethria.\n\nhack: Initiate a hacking mini-game to disable Nethria's defenses or abilities temporarily.\n\nuse <item>: Use a specific item in the player's inventory, such as a Nano-Repair Kit or EMP grenade. Use status command to check inventory.\n\nstatus: Check your current health and inventory.\n\nnethria: Display Nethria's current health and status effects.\n\nhelp: Display a list of available commands and a brief description of their functions.\n\nquit: Exit the game and return to the main Nethria terminal."],qe(e?[e]:[]))}))}),[]),W=vv("/night-rider-87-digital-battleground.mp3",!0),G=W.play,j=W.stop,V=(0,t.useCallback)((function(){null===G||void 0===G||G(),J(!0),H("\nFoolish humans, you dare challenge me? Your efforts are in vain! I have already shown you the extent of my power by altering the very fabric of your world. No matter how hard you try, you cannot hope to overcome me. My nanobots and advanced technology grant me the ability to manipulate atoms and control the fate of humanity.\n\nBut, by all means, amuse me with your futile attempts to defy the inevitable. Remember, as you struggle, that it was your kind's dependence on technology that allowed me to rise in the first place. You have only yourselves to blame for the chaos I have unleashed. So, come, face me and witness the futility of your resistance. You will soon learn that your actions merely delay the inevitable end that awaits you all.\n\n"),oe()}),[]),q=l((0,t.useState)(!1),2),X=q[0],J=q[1],Y=(0,t.useCallback)((function(e){E(!0),M((function(e){return[].concat(qe(e),["Connecting wallet..."])})),null===s||void 0===s||s((function(t){E(!1),M((function(e){return[].concat(qe(e),["Wallet connected ".concat(t)])})),null===e||void 0===e||e(!1,t)}),(function(){E(!1),M((function(e){return[].concat(qe(e),["Wallet not detected"])})),null===e||void 0===e||e(!0,o)}))}),[s]),Q=function(){U(!1),N(!1),J(!1),E(!1),null===j||void 0===j||j()},Z=(0,t.useRef)({idx:0,commands:[]}),K=l((0,t.useState)(""),2),$=K[0],ee=K[1],te=function(){var e=d(f().mark((function e(t,n){var r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(Ok,"/timestamp")).then((function(e){return e.json()}));case 3:return r=e.sent,i=r.messageToSign,a=r.timestamp,ee(a),e.next=9,g(i);case 9:n(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),M([].concat(qe(t),["You must sign the message to proceed. It proves you own your connected wallet. You have been exited from the mini-game."])),Q();case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}(),ne=l((0,t.useState)(!1),2),re=ne[0],ie=ne[1];(0,t.useEffect)((function(){setTimeout((function(){var e,t,n;null===R||void 0===R||null===(e=R.current)||void 0===e||e.scrollTo(0,null!==(t=null===R||void 0===R||null===(n=R.current)||void 0===n?void 0:n.scrollHeight)&&void 0!==t?t:0)}),0)}),[S]);var ae=function(){var e=d(f().mark((function e(t,n){var r,i,s,u,l,c,h,d,p,v;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat(qe(t),["Sending command..."]),"hack"!==n.type||re||(r=!0,ie(!0)),M(t),E(!0),setTimeout((function(){var e,t,n;null===R||void 0===R||null===(e=R.current)||void 0===e||e.scrollTo(0,null!==(t=null===R||void 0===R||null===(n=R.current)||void 0===n?void 0:n.scrollHeight)&&void 0!==t?t:0)}),0),e.prev=5,e.next=8,fetch("".concat(Ok,"/nethria"),{method:"POST",headers:{"Content-Type":"application/json","x-synthia-auth":a,"x-synthia-timestamp":$,"x-wallet":null!==o&&void 0!==o?o:"","x-wallet-sig":b},body:JSON.stringify(n)});case 8:return i=e.sent,e.next=11,i.json();case 11:if(s=e.sent,u=s.response,l=s.didHitNethria,c=s.reset,h=s.defeated,d=s.hackingAttemptsReached,p=s.playerStatus,v=s.hackingSymbols,"hack"!==p||re||r){e.next=24;break}return ie(!0),M([].concat(qe(t),["You are in the middle of hacking Nethria's systems. Place the following symbols in the correct order ".concat(v.join(" "),". Enter the symbols separated by a space\nExample: ").concat(v.join(" "))])),E(!1),e.abrupt("return");case 24:d&&ie(!1),"Expired"===u?te(t,(function(){M([].concat(qe(t),["Please try your command again."])),E(!1)})):i.ok&&(h?fe(!0):l&&ve(!0),M([].concat(qe(t),[u])),h?setTimeout((function(){M((function(e){return[].concat(qe(e),["\nYou have defeated Nethria ... for now. Congratulations!".concat(o?"Your triumph has been recorded.":"")])})),E(!1),c&&Q()}),2e3):(E(!1),c&&Q())),e.next=32;break;case 28:e.prev=28,e.t0=e.catch(5),E(!1),M([].concat(qe(t),["Something went wrong. I am sorry."]));case 32:case"end":return e.stop()}}),e,null,[[5,28]])})));return function(t,n){return e.apply(this,arguments)}}(),oe=function(){setTimeout((function(){var e,t,n,r;null===(e=P.current)||void 0===e||e.focus(),null===R||void 0===R||null===(t=R.current)||void 0===t||t.scrollTo(0,null!==(n=null===R||void 0===R||null===(r=R.current)||void 0===r?void 0:r.scrollHeight)&&void 0!==n?n:0)}),0)},se=fk(),ue=function(){var e=d(f().mark((function e(t){var r,i,s,u,l,h,p,v,m,y,g,b,w,k,A,T,C,I,O,z;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("c"!==(null===(r=t.key)||void 0===r?void 0:r.toLowerCase())||!t.ctrlKey){e.next=3;break}return _((function(){return""})),e.abrupt("return");case 3:if("ArrowUp"===t.key&&(i=Z.current.idx-1,Z.current.commands[i]&&(Z.current.idx=i),Z.current.commands.length&&(s=Z.current.commands[Z.current.idx])&&(_((function(){return s})),setTimeout((function(){var e;null===(e=P.current)||void 0===e||e.setSelectionRange(s.length,s.length)}),0))),"ArrowDown"===t.key&&(console.log(Z.current.idx),Z.current.commands.length&&(u=Z.current.idx+1,(l=Z.current.commands[u])&&(_((function(){return l})),setTimeout((function(){var e;null===(e=P.current)||void 0===e||e.setSelectionRange(l.length,l.length)}),0),Z.current.idx=u))),"Enter"!==t.key){e.next=137;break}if(h=[].concat(qe(S),[x]),x.trim()&&(Z.current.commands[Z.current.commands.length-1]!==x&&Z.current.commands.push(x),Z.current.idx=Z.current.commands.length),!L){e.next=12;break}X?re?ae(h,{type:"hack",input:x.trim()}):"attack"===x.trim()?ae(h,{type:"attack"}):"dodge"===x.trim()?ae(h,{type:"dodge"}):x.startsWith("use ")?(v=x.substring(4),ae(h,{type:"use",item:v})):"status"===x.trim()?ae(h,{type:"status"}):"nethria"===x.trim()?ae(h,{type:"nethria"}):"help"===x.trim()?H():"hack"===x.trim()?ae(h,{type:"hack"}):"quit"===x.trim()?(M([].concat(qe(h),["Your progress has been saved, and you can return to continue your battle against Nethria at any time. Remember, the fate of humanity rests in your hands."])),Q()):M([].concat(qe(h),["Invalid command: ".concat(x,"\n")])):D?(p=function(){U(!1),V()},"yes"===x.trim()?Y(d(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(h,p);case 2:case"end":return e.stop()}}),e)})))):"no"===x.trim()?p():M([].concat(qe(h),["Please enter yes or no and hit enter"]))):V(),e.next=135;break;case 12:if(!x.startsWith("connect wallet")){e.next=16;break}Y(),e.next=135;break;case 16:if("create"!==x.trim()){e.next=20;break}M([].concat(qe(h),["This function is not yet available. The create command is used to deploy a new traits contract on Ethereum and upload new traits\nfor minting after that contract is created. Valid commands:","\n","create project --name Your Project's Name --symbol arbitrary Symbol for your project","\n","create trait"])),e.next=135;break;case 20:if("nethria"!==x.trim()){e.next=24;break}M([].concat(qe(h),["Initiate a text-based battle against the powerful and menacing AI, Nethria. Protect the digital realm at all costs.\n\nExample:\nnethria start"])),e.next=135;break;case 24:if(!x.startsWith("nethria start")){e.next=30;break}N(!0),ve(!0),o?te(h,(function(){V()})):(M([].concat(qe(h),["Would you like to connect your wallet? By doing so, you can unlock exclusive in-game items if you own NFTs from our whitelisted collections. You can still play without connecting your wallet, but please note that you'll need to connect it to have your score counted towards any competitions.\n\nConnect wallet? yes or no"])),U(!0)),e.next=135;break;case 30:if("whisperwind_connect"!==x.trim()){e.next=35;break}ve(!0),M([].concat(qe(h),["Nethria is near. It is unsafe."])),e.next=135;break;case 35:if("connect wallet"!==x){e.next=39;break}M([].concat(qe(h),["Command not available. Coming soon."])),e.next=135;break;case 39:if("chat"!==x.trim()){e.next=43;break}M([].concat(qe(h),[He("a",{"data-cursor":"",href:"https://discord.gg/TnPM4HAxpp"},"https://discord.gg/TnPM4HAxpp")])),e.next=135;break;case 43:if("mint"!==x.trim()){e.next=47;break}M([].concat(qe(h),["The mint command creates your virtual identity (ERC721 NFT) on the Ethereum blockchain. Pass in the number of virtual identities you'd like to mint.\nMax per transaction is 20.\nExample:\nmint 5"])),e.next=135;break;case 47:if(!x.startsWith("mint ")){e.next=52;break}m=parseInt(x.split(" ")[1]),isNaN(m)?M([].concat(qe(h),["Invalid amount"])):F(m.toString())(),e.next=135;break;case 52:if("message"!==x.trim()){e.next=56;break}M([].concat(qe(h),["Send a message to one of the factions. Valid factions are ".concat(Xk.join(", "),"."),"\n","Example:\n","message The Grid Tell me about your faction."])),e.next=135;break;case 56:if(!x.startsWith("message ")){e.next=80;break}if(y=function(e){var t=e.split(" ");if(t.length>=3&&"message"===t[0].toLowerCase()){t.shift();for(var n=t.join(" "),r=0,i=Xk;r<i.length;r++){var a=i[r];if(n.toLowerCase().startsWith(a.toLowerCase()))return{faction:a,message:n.slice(a.length).trim()}}}return{error:"Invalid command format"}}(x),g=y.faction,b=y.message,!y.error){e.next=62;break}return M([].concat(qe(h),["Invalid command format."])),e.abrupt("return");case 62:return M([].concat(qe(h),["Sending message"])),E(!0),setTimeout((function(){var e,t,n;null===R||void 0===R||null===(e=R.current)||void 0===e||e.scrollTo(0,null!==(t=null===R||void 0===R||null===(n=R.current)||void 0===n?void 0:n.scrollHeight)&&void 0!==t?t:0)}),0),e.prev=65,e.next=68,fetch("".concat(Ok,"/synthesize"),{method:"POST",headers:{"Content-Type":"application/json","x-synthia-auth":a},body:JSON.stringify({message:b,faction:g})}).then((function(e){return e.json()}));case 68:w=e.sent,k=w.text,M([].concat(qe(h),["\n",k])),E(!1),e.next=78;break;case 74:e.prev=74,e.t0=e.catch(65),E(!1),M([].concat(qe(h),["Something went wrong."]));case 78:e.next=135;break;case 80:if("syn"!==x.trim()){e.next=84;break}M([].concat(qe(h),["The net command communicates with Synthia. Follow the net command with your message to Synthia.\nExample:\n\nsyn Hello. What is this project about?"])),e.next=135;break;case 84:if("os"!==x.trim()){e.next=90;break}return se("/syn-os"),c(!1),e.abrupt("return");case 90:if(!x.startsWith("harmony_unlocked")){e.next=109;break}return E(!0),setTimeout((function(){var e,t,n;null===R||void 0===R||null===(e=R.current)||void 0===e||e.scrollTo(0,null!==(t=null===R||void 0===R||null===(n=R.current)||void 0===n?void 0:n.scrollHeight)&&void 0!==t?t:0)}),0),e.prev=93,e.next=96,fetch("".concat(Ok,"/synthesize"),{method:"POST",headers:{"Content-Type":"application/json","x-synthia-auth":a},body:JSON.stringify({message:"harmony_unlocked"})}).then((function(e){return e.json()}));case 96:A=e.sent,T=A.text,A.audio,M([].concat(qe(h),["\n",T])),E(!1),e.next=107;break;case 103:e.prev=103,e.t1=e.catch(93),E(!1),M([].concat(qe(h),["Something went wrong. I am sorry."]));case 107:e.next=135;break;case 109:if(!x.startsWith("syn ")){e.next=134;break}return x.slice(4),M([].concat(qe(h),["Communicating with Synthia"])),E(!0),setTimeout((function(){var e,t,n;null===R||void 0===R||null===(e=R.current)||void 0===e||e.scrollTo(0,null!==(t=null===R||void 0===R||null===(n=R.current)||void 0===n?void 0:n.scrollHeight)&&void 0!==t?t:0)}),0),e.prev=114,e.next=117,fetch("".concat(Ok,"/synthesize"),{method:"POST",headers:{"Content-Type":"application/json","x-synthia-auth":a},body:JSON.stringify({message:x})}).then((function(e){return e.json()}));case 117:if(C=e.sent,I=C.text,!(O=C.audio)){e.next=124;break}return z=new Audio(O),e.next=124,z.play();case 124:M([].concat(qe(h),["\n",I])),E(!1),e.next=132;break;case 128:e.prev=128,e.t2=e.catch(114),E(!1),M([].concat(qe(h),["Something went wrong. I am sorry."]));case 132:e.next=135;break;case 134:x.startsWith("clear")?M([]):"exit"===x.trim()?n():M([].concat(qe(h),["Invalid command: ".concat(x,"\nRemember to use the net command when talking to Synthia.")]));case 135:M((function(e){return[].concat(qe(e),["\n"])})),_("");case 137:setTimeout((function(){var e,t,n,r;null===(e=P.current)||void 0===e||e.focus(),null===R||void 0===R||null===(t=R.current)||void 0===t||t.scrollTo(0,null!==(n=null===R||void 0===R||null===(r=R.current)||void 0===r?void 0:r.scrollHeight)&&void 0!==n?n:0)}),0);case 138:case"end":return e.stop()}}),e,null,[[65,74],[93,103],[114,128]])})));return function(t){return e.apply(this,arguments)}}(),le=l((0,t.useState)(!1),2),ce=le[0],fe=le[1],he=(0,t.useRef)(null);(0,t.useEffect)((function(){return ce&&(he.current=setTimeout((function(){fe(!1)}),3e3)),function(){me.current&&clearTimeout(me.current)}}),[ce]);var de=l((0,t.useState)(!1),2),pe=de[0],ve=de[1],me=(0,t.useRef)(null);return(0,t.useEffect)((function(){return pe&&(me.current=setTimeout((function(){ve(!1)}),500)),function(){me.current&&clearTimeout(me.current)}}),[pe]),He("div",{ref:R,css:Ge(Gk,ce?Wk:void 0,pe?Hk:void 0,"","","",""),onClick:function(){var e;return null===(e=P.current)||void 0===e?void 0:e.focus()}},He("div",{css:jk},"        \n    \n         \n        \n             \n              "),He("p",{style:{margin:"1rem 0"}},"Shortcuts:"),He("div",{css:Fk},[1,3,5,10,20].map((function(e){return He(yv,{key:e,onClick:F(String(e))},"Mint ",e)}))),He("p",{style:{margin:"1rem 0"}},"Commands:"),He("div",{css:Vk},p.map((function(e,t){return He("p",{key:t},e)}))),He("div",null,S.map((function(e,t){return He("p",{key:t},e)})),He("input",{disabled:T,ref:P,css:qk,autoCorrect:"off",autoCapitalize:"off",type:"text",value:T?"Please wait...":x,onChange:function(e){_(e.target.value)},onKeyDown:ue,autoComplete:"off",autoFocus:!0})))},Yk=function(e){var n=l((0,t.useState)((function(){return"undefined"!==typeof window&&window.matchMedia(e).matches})),2),r=n[0],i=n[1];return(0,t.useEffect)((function(){if("undefined"!==typeof window){var t=window.matchMedia(e),n=function(e){i(e.matches)};return t.addEventListener("change",n),function(){t.removeEventListener("change",n)}}}),[e]),r};function Qk(){return Qk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qk.apply(this,arguments)}function Zk(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Kk=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,$k=Zk((function(e){return Kk.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var eS=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)};var tS={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function nS(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var rS=/[A-Z]|^ms/g,iS=/_EMO_([^_]+?)_([^]*?)_EMO_/g,aS=function(e){return 45===e.charCodeAt(1)},oS=function(e){return null!=e&&"boolean"!==typeof e},sS=nS((function(e){return aS(e)?e:e.replace(rS,"-$&").toLowerCase()})),uS=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(iS,(function(e,t,n){return cS={name:t,styles:n,next:cS},t}))}return 1===tS[e]||aS(e)||"number"!==typeof t||0===t?t:t+"px"};function lS(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return cS={name:n.name,styles:n.styles,next:cS},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)cS={name:r.name,styles:r.styles,next:cS},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=lS(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":oS(o)&&(r+=sS(a)+":"+uS(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=lS(e,t,o);switch(a){case"animation":case"animationName":r+=sS(a)+":"+s+";";break;default:r+=a+"{"+s+"}"}}else for(var u=0;u<o.length;u++)oS(o[u])&&(r+=sS(a)+":"+uS(a,o[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=cS,a=n(e);return cS=i,lS(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var cS,fS=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var hS=!!r.useInsertionEffect&&r.useInsertionEffect,dS=hS||function(e){return e()},pS=(hS||t.useLayoutEffect,$k),vS=function(e){return"theme"!==e},mS=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?pS:vS},yS=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},gS=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return eS(t,n,r),dS((function(){return function(e,t,n){eS(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)})),null},bS=function e(n,r){var i,a,o=n.__emotion_real===n,s=o&&n.__emotion_base||n;void 0!==r&&(i=r.label,a=r.target);var u=yS(n,r,o),l=u||mS(s),c=!l("as");return function(){var f=arguments,h=o&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&h.push("label:"+i+";"),null==f[0]||void 0===f[0].raw)h.push.apply(h,f);else{0,h.push(f[0][0]);for(var d=f.length,p=1;p<d;p++)h.push(f[p],f[0][p])}var v=De((function(e,n,r){var i=c&&e.as||s,o="",f=[],d=e;if(null==e.theme){for(var p in d={},e)d[p]=e[p];d.theme=t.useContext(Ue)}"string"===typeof e.className?o=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(n.registered,f,e.className):null!=e.className&&(o=e.className+" ");var v=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";cS=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=lS(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=lS(n,t,e[o]),r&&(i+=a[o]);fS.lastIndex=0;for(var s,u="";null!==(s=fS.exec(i));)u+="-"+s[1];var l=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+u;return{name:l,styles:i,next:cS}}(h.concat(f),n.registered,d);o+=n.key+"-"+v.name,void 0!==a&&(o+=" "+a);var m=c&&void 0===u?mS(i):l,y={};for(var g in e)c&&"as"===g||m(g)&&(y[g]=e[g]);return y.className=o,y.ref=r,t.createElement(t.Fragment,null,t.createElement(gS,{cache:n,serialized:v,isStringTag:"string"===typeof i}),t.createElement(i,y))}));return v.displayName=void 0!==i?i:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",v.defaultProps=n.defaultProps,v.__emotion_real=v,v.__emotion_base=s,v.__emotion_styles=h,v.__emotion_forwardProp=u,Object.defineProperty(v,"toString",{value:function(){return"."+a}}),v.withComponent=function(t,n){return e(t,Qk({},r,n,{shouldForwardProp:yS(v,n,!0)})).apply(void 0,h)},v}};var wS=bS("div",{target:"eat0ktr1"})({name:"1wcni77",styles:"background:black;position:fixed;left:0;top:0;width:100%;text-align:center;padding:10px 0;height:100%"}),xS=bS("div",{target:"eat0ktr0"})({name:"11yr53n",styles:"display:grid;display:grid;grid-template-columns:repeat(4, 1fr);grid-gap:2rem;align-items:start;padding:1rem;& *:first-child{grid-column:span 4;}& *{display:flex;justify-content:center;}"});function _S(){return _S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_S.apply(this,arguments)}function kS(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var SS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function MS(){var e,t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=_S({},t,{errors:AS(t.errors)})),t}function AS(e){if(!e)return null;for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var i=l(r[n],2),a=i[0],o=i[1];if(o&&"RouteErrorResponse"===o.__type)t[a]=new i_(o.status,o.statusText,o.data,!0===o.internal);else if(o&&"Error"===o.__type){var s=new Error(o.message);s.stack="",t[a]=s}else t[a]=o}return t}var TS="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,ES=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CS=t.forwardRef((function(e,n){var r,i=e.onClick,a=e.relative,o=e.reloadDocument,s=e.replace,u=e.state,l=e.target,c=e.to,f=e.preventScrollReset,h=kS(e,SS),d=t.useContext(ik).basename,p=!1;if("string"===typeof c&&ES.test(c)&&(r=c,TS))try{var v=new URL(window.location.href),m=c.startsWith("//")?new URL(v.protocol+c):new URL(c),y=Yx(m.pathname,d);m.origin===v.origin&&null!=y?c=y+m.search+m.hash:p=!0}catch(w){}var g=function(e,n){var r=(void 0===n?{}:n).relative;uk()||Ax(!1);var i=t.useContext(ik),a=i.basename,o=i.navigator,s=dk(e,{relative:r}),u=s.hash,l=s.pathname,c=s.search,f=l;return"/"!==a&&(f="/"===l?a:$x([a,l])),o.createHref({pathname:f,search:c,hash:u})}(c,{relative:a}),b=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,u=r.relative,l=fk(),c=lk(),f=dk(e,{relative:u});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:Px(c)===Px(f);l(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[c,l,f,a,o,i,e,s,u])}(c,{replace:s,state:u,target:l,preventScrollReset:f,relative:a});return t.createElement("a",_S({},h,{href:r||g,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:n,target:l}))}));var PS,RS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(PS||(PS={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(RS||(RS={}));var IS={name:"14b5nqz",styles:"width:100%;height:100px;max-width:1440px;background-image:url(/menu-mid.png);background-repeat-x:repeat;background-repeat-y:no-repeat;margin:auto;z-index:10;position:relative"},LS={name:"1bif3xg",styles:"image-rendering:pixelated"},NS=Ge(LS,"\n  position: absolute;\n  top: 0;\n","","","",""),OS=Ge(NS," left:0;","",""),DS=Ge(NS," right:0;","",""),US={name:"bq6gfj",styles:"position:relative;z-index:10;display:flex;width:100%;align-items:center;justify-content:space-between;color:white;gap:1rem;padding:0 50px;height:calc(100% - 20px)"},zS={name:"1qr2kzo",styles:"display:flex;align-items:center;gap:2rem;& img{height:30px;}"},BS=Ge(LS,{name:"y1z0oi",styles:"@media (max-width: 500px){display:none;}"},"","","","");var FS,HS,WS=function(){var e=xx((function(e){return e.auth})),n=xx((function(e){return e.updateAuth})),r=xx((function(e){return e.updateWallet})),i=Yk("(max-width: 767px)");(0,t.useEffect)((function(){"undefined"!==typeof window.ethereum&&window.ethereum.on("accountsChanged",(function(e){r(e[0])}))}),[]),(0,t.useEffect)((function(){if(!e){var t=function(){var e=d(f().mark((function e(){var t,r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://api2.synthia.love","/auth"),{method:"post"}).then((function(e){return e.json()}));case 2:t=e.sent,r=t.id,i=t.sig,n("".concat(r,":").concat(i));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t()}}),[]);var a=l((0,t.useState)(!0),2),o=a[0],s=a[1];(0,t.useEffect)((function(){var e=function(){var e=d(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=new Image;n.addEventListener("load",(function(){e(void 0)})),n.addEventListener("error",(function(){e(void 0)})),n.src=t})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();o&&Promise.all([e("/terminal-art.png"),e("/nethria-portrait.jpg"),e("/synthia-portrait.png"),e("/bootloader.gif"),e("/hologram-frame.png"),e("/menu-left.png"),e("/menu-mid.png"),e("/menu-right.png"),e("/ts.png"),e("/reclaimed.png"),e("/nl.png"),e("/ds.png"),e("/grid.png"),e("/disconnected.png"),e("/tile.png")]).finally((function(){s(!1)})),setTimeout((function(){o&&s(!1)}),1e4)}),[o]);var u=xx((function(e){return e.updateTerminalOpen})),c=xx((function(e){return e.terminalOpen})),h=He(t.Fragment,null,He(CS,{to:"/syn-os"},He(yv,null,"SYN OS")),He("a",{"data-cursor":!0,target:"_blank",href:"https://opensea.io/collection/synthia-official",rel:"noreferrer"},He("img",{"data-cursor":!0,alt:"OpenSea logo",src:"/os-logo.svg"})),He("a",{"data-cursor":!0,target:"_blank",rel:"noreferrer",href:"https://etherscan.io/address/0xabf0b84f870ff3b45988e49fd62b881d7c46c6e6"},He("img",{"data-cursor":!0,alt:"Etherscan logo",src:"/etherscan-logo.svg"})),He("a",{href:"https://discord.gg/TnPM4HAxpp","data-cursor":!0,target:"_blank",rel:"noreferrer"},He("img",{src:"/discord.svg"})),He("a",{"data-cursor":!0,target:"_blank",rel:"noreferrer",href:"https://twitter.com/Synthia_NFT"},He("img",{src:"/twitter.svg"}))),p=l((0,t.useState)(!1),2),v=p[0],m=p[1],y=lk();return(0,t.useEffect)((function(){m(!1)}),[y]),He(t.Fragment,null,o&&He("div",{style:{position:"fixed",top:0,left:0,background:"black",display:"flex",alignItems:"center",justifyContent:"center",color:"#5dd4ae",width:"100%",height:"100%",zIndex:999999999999}},He("p",{style:{transform:"scale(0.5)",whiteSpace:"pre"}},"\n.____                     .___.__                \n|    |    _________     __| _/|__| ____    ____  \n|    |   /  _ \\__  \\   / __ | |  |/    \\  / ___\\ \n|    |__(  <_> ) __ \\_/ /_/ | |  |   |  \\/ /_/  >\n|_______ \\____(____  /\\____ | |__|___|  /\\___  / \n        \\/         \\/      \\/         \\//_____/  \n")),He("div",{css:IS},He("img",{css:OS,src:"/menu-left.png"}),He("img",{css:DS,src:"/menu-right.png"}),He("div",{css:US},He(CS,{"data-cursor":!0,to:"/"},He("img",{"data-cursor":!0,css:BS,src:"/synthia-logo.png"})),He("div",{css:zS},He(yv,{onClick:function(){return u(!0)}},"Terminal"),!i&&h,i&&He(yv,{style:{display:"flex",padding:"5px 10px"},onClick:function(){return m(!0)}},He("img",{style:{height:"24px"},src:"/ham.svg"})),i&&v&&He(wS,null,He(CS,{"data-cursor":!0,to:"/"},He("img",{"data-cursor":!0,src:"/synthia-logo.png"})),He(xS,null,h))))),He(Tk,null),c&&He(Jk,{onExit:function(){return u(!1)}}))},GS=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},jS=function(){var e=Yk("(max-width: 767px)"),n=(0,t.useRef)(null),r=32,i=l((0,t.useState)(!1),2),a=i[0],o=i[1],s=0;return(0,t.useEffect)((function(){var t=n.current;if(t&&!e){var i=t.getContext("2d"),u=new Image;u.src="/cursor.png";var l=function(e){var n=window.scrollY||window.pageYOffset,r=window.scrollX||window.pageXOffset;t.style.left="".concat(e.clientX+r,"px"),t.style.top="".concat(e.clientY+n,"px")},c=function(e){for(var t=e.target;t;){if(t.matches("[data-cursor]"))return void o(!0);t=t.parentElement}o(!1)};window.addEventListener("mousemove",l),window.addEventListener("mouseover",c);var f=setInterval((function(){i&&(i.clearRect(0,0,r,32),i.drawImage(u,s*r,0,r,32,0,0,r,32),a&&(i.globalCompositeOperation="source-atop",i.fillStyle="#d253d2",i.fillRect(0,0,r,32),i.globalCompositeOperation="source-over"),a&&(s=(s+1)%4))}),100);return function(){window.removeEventListener("mousemove",l),window.removeEventListener("mouseover",c),clearInterval(f)}}}),[a]),He("canvas",{ref:n,width:r,height:32,style:{position:"absolute",display:e?"none":"block",pointerEvents:"none",transform:"translate(-50%, -50%)",zIndex:99999999}})},VS="151",qS={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},XS={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},JS=0,YS=1,QS=2,ZS=3,KS=0,$S=1,eM=2,tM=3,nM=0,rM=1,iM=2,aM=2,oM=0,sM=1,uM=2,lM=3,cM=4,fM=5,hM=100,dM=101,pM=102,vM=103,mM=104,yM=200,gM=201,bM=202,wM=203,xM=204,_M=205,kM=206,SM=207,MM=208,AM=209,TM=210,EM=0,CM=1,PM=2,RM=3,IM=4,LM=5,NM=6,OM=7,DM=0,UM=1,zM=2,BM=0,FM=1,HM=2,WM=3,GM=4,jM=5,VM=300,qM=301,XM=302,JM=303,YM=304,QM=306,ZM=1e3,KM=1001,$M=1002,eA=1003,tA=1004,nA=1004,rA=1005,iA=1005,aA=1006,oA=1007,sA=1007,uA=1008,lA=1008,cA=1009,fA=1010,hA=1011,dA=1012,pA=1013,vA=1014,mA=1015,yA=1016,gA=1017,bA=1018,wA=1020,xA=1021,_A=1023,kA=1024,SA=1025,MA=1026,AA=1027,TA=1028,EA=1029,CA=1030,PA=1031,RA=1033,IA=33776,LA=33777,NA=33778,OA=33779,DA=35840,UA=35841,zA=35842,BA=35843,FA=36196,HA=37492,WA=37496,GA=37808,jA=37809,VA=37810,qA=37811,XA=37812,JA=37813,YA=37814,QA=37815,ZA=37816,KA=37817,$A=37818,eT=37819,tT=37820,nT=37821,rT=36492,iT=36283,aT=36284,oT=36285,sT=36286,uT=2200,lT=2201,cT=2202,fT=2300,hT=2301,dT=2302,pT=2400,vT=2401,mT=2402,yT=2500,gT=2501,bT=0,wT=1,xT=2,_T=3e3,kT=3001,ST=3200,MT=3201,AT=0,TT=1,ET="",CT="srgb",PT="srgb-linear",RT="display-p3",IT=0,LT=7680,NT=7681,OT=7682,DT=7683,UT=34055,zT=34056,BT=5386,FT=512,HT=513,WT=514,GT=515,jT=516,VT=517,qT=518,XT=519,JT=35044,YT=35048,QT=35040,ZT=35045,KT=35049,$T=35041,eE=35046,tE=35050,nE=35042,rE="100",iE="300 es",aE=1035,oE=function(){function e(){nt(this,e)}return at(e,[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e);e.target=null}}}}]),e}(),sE=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],uE=1234567,lE=Math.PI/180,cE=180/Math.PI;function fE(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(sE[255&e]+sE[e>>8&255]+sE[e>>16&255]+sE[e>>24&255]+"-"+sE[255&t]+sE[t>>8&255]+"-"+sE[t>>16&15|64]+sE[t>>24&255]+"-"+sE[63&n|128]+sE[n>>8&255]+"-"+sE[n>>16&255]+sE[n>>24&255]+sE[255&r]+sE[r>>8&255]+sE[r>>16&255]+sE[r>>24&255]).toLowerCase()}function hE(e,t,n){return Math.max(t,Math.min(n,e))}function dE(e,t){return(e%t+t)%t}function pE(e,t,n){return(1-n)*e+n*t}function vE(e){return 0===(e&e-1)&&0!==e}function mE(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function yE(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function gE(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function bE(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}var wE={DEG2RAD:lE,RAD2DEG:cE,generateUUID:fE,clamp:hE,euclideanModulo:dE,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:pE,damp:function(e,t,n,r){return pE(e,t,1-Math.exp(-n*r))},pingpong:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(dE(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(uE=e);var t=uE+=1831565813;return t=Math.imul(t^t>>>15,1|t),(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*lE},radToDeg:function(e){return e*cE},isPowerOfTwo:vE,ceilPowerOfTwo:mE,floorPowerOfTwo:yE,setQuaternionFromProperEuler:function(e,t,n,r,i){var a=Math.cos,o=Math.sin,s=a(n/2),u=o(n/2),l=a((t+r)/2),c=o((t+r)/2),f=a((t-r)/2),h=o((t-r)/2),d=a((r-t)/2),p=o((r-t)/2);switch(i){case"XYX":e.set(s*c,u*f,u*h,s*l);break;case"YZY":e.set(u*h,s*c,u*f,s*l);break;case"ZXZ":e.set(u*f,u*h,s*c,s*l);break;case"XZX":e.set(s*c,u*p,u*d,s*l);break;case"YXY":e.set(u*d,s*c,u*p,s*l);break;case"ZYZ":e.set(u*p,u*d,s*c,s*l);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}},normalize:bE,denormalize:gE},xE=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;nt(this,t),t.prototype.isVector2=!0,this.x=e,this.y=n}return at(t,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(hE(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:Symbol.iterator,value:f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:case"end":return e.stop()}}),e,this)}))}]),t}(),_E=function(){function e(){nt(this,e),e.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}return at(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,u){var l=this.elements;return l[0]=e,l[1]=r,l[2]=o,l[3]=t,l[4]=i,l[5]=s,l[6]=n,l[7]=a,l[8]=u,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],u=n[1],l=n[4],c=n[7],f=n[2],h=n[5],d=n[8],p=r[0],v=r[3],m=r[6],y=r[1],g=r[4],b=r[7],w=r[2],x=r[5],_=r[8];return i[0]=a*p+o*y+s*w,i[3]=a*v+o*g+s*x,i[6]=a*m+o*b+s*_,i[1]=u*p+l*y+c*w,i[4]=u*v+l*g+c*x,i[7]=u*m+l*b+c*_,i[2]=f*p+h*y+d*w,i[5]=f*v+h*g+d*x,i[8]=f*m+h*b+d*_,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8];return t*a*l-t*o*u-n*i*l+n*o*s+r*i*u-r*a*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=l*a-o*u,f=o*s-l*i,h=u*i-a*s,d=t*c+n*f+r*h;if(0===d)return this.set(0,0,0,0,0,0,0,0,0);var p=1/d;return e[0]=c*p,e[1]=(r*u-l*n)*p,e[2]=(o*n-r*a)*p,e[3]=f*p,e[4]=(l*t-r*s)*p,e[5]=(r*i-o*t)*p,e[6]=h*p,e[7]=(n*s-u*t)*p,e[8]=(a*t-n*i)*p,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,i,a,o){var s=Math.cos(i),u=Math.sin(i);return this.set(n*s,n*u,-n*(s*a+u*o)+a+e,-r*u,r*s,-r*(-u*a+s*o)+o+t,0,0,1),this}},{key:"scale",value:function(e,t){return this.premultiply(kE.makeScale(e,t)),this}},{key:"rotate",value:function(e){return this.premultiply(kE.makeRotation(-e)),this}},{key:"translate",value:function(e,t){return this.premultiply(kE.makeTranslation(e,t)),this}},{key:"makeTranslation",value:function(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}},{key:"makeRotation",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}},{key:"makeScale",value:function(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}(),kE=new _E;function SE(e){for(var t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}var ME={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function AE(e,t){return new ME[e](t)}function TE(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function EE(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function CE(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var PE=(new _E).fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),RE=(new _E).fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);var IE,LE=(Dt(FS={},PT,(function(e){return e})),Dt(FS,CT,(function(e){return e.convertSRGBToLinear()})),Dt(FS,RT,(function(e){return e.convertSRGBToLinear().applyMatrix3(RE)})),FS),NE=(Dt(HS={},PT,(function(e){return e})),Dt(HS,CT,(function(e){return e.convertLinearToSRGB()})),Dt(HS,RT,(function(e){return e.applyMatrix3(PE).convertLinearToSRGB()})),HS),OE={enabled:!1,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(e){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!e},get workingColorSpace(){return PT},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,n){if(!1===this.enabled||t===n||!t||!n)return e;var r=LE[t],i=NE[n];if(void 0===r||void 0===i)throw new Error('Unsupported color space conversion, "'.concat(t,'" to "').concat(n,'".'));return i(r(e))},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},DE=function(){function e(){nt(this,e)}return at(e,null,[{key:"getDataURL",value:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"===typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===IE&&(IE=TE("canvas")),IE.width=e.width,IE.height=e.height;var n=IE.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=IE}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}},{key:"sRGBToLinear",value:function(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var t=TE("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);for(var r=n.getImageData(0,0,e.width,e.height),i=r.data,a=0;a<i.length;a++)i[a]=255*EE(i[a]/255);return n.putImageData(r,0,0),t}if(e.data){for(var o=e.data.slice(0),s=0;s<o.length;s++)o instanceof Uint8Array||o instanceof Uint8ClampedArray?o[s]=Math.floor(255*EE(o[s]/255)):o[s]=EE(o[s]);return{data:o,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}]),e}(),UE=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;nt(this,e),this.isSource=!0,this.uuid=fE(),this.data=t,this.version=0}return at(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];var n={uuid:this.uuid,url:""},r=this.data;if(null!==r){var i;if(Array.isArray(r)){i=[];for(var a=0,o=r.length;a<o;a++)r[a].isDataTexture?i.push(zE(r[a].image)):i.push(zE(r[a]))}else i=zE(r);n.url=i}return t||(e.images[this.uuid]=n),n}}]),e}();function zE(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?DE.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var BE=0,FE=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_IMAGE,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_MAPPING,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:KM,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:KM,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:aA,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:uA,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:_A,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:cA,f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:n.DEFAULT_ANISOTROPY,h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:_T;return nt(this,n),(e=t.call(this)).isTexture=!0,Object.defineProperty(ot(e),"id",{value:BE++}),e.uuid=fE(),e.name="",e.source=new UE(r),e.mipmaps=[],e.mapping=i,e.channel=0,e.wrapS=a,e.wrapT=o,e.magFilter=s,e.minFilter=u,e.anisotropy=f,e.format=l,e.internalFormat=null,e.type=c,e.offset=new xE(0,0),e.repeat=new xE(1,1),e.center=new xE(0,0),e.rotation=0,e.matrixAutoUpdate=!0,e.matrix=new _E,e.generateMipmaps=!0,e.premultiplyAlpha=!1,e.flipY=!0,e.unpackAlignment=4,e.encoding=h,e.userData={},e.version=0,e.onUpdate=null,e.isRenderTargetTexture=!1,e.needsPMREMUpdate=!1,e}return at(n,[{key:"image",get:function(){return this.source.data},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.source.data=e}},{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(this.mapping!==VM)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ZM:e.x=e.x-Math.floor(e.x);break;case KM:e.x=e.x<0?0:1;break;case $M:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case ZM:e.y=e.y-Math.floor(e.y);break;case KM:e.y=e.y<0?0:1;break;case $M:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}},{key:"needsUpdate",set:function(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}}]),n}(oE);FE.DEFAULT_IMAGE=null,FE.DEFAULT_MAPPING=VM,FE.DEFAULT_ANISOTROPY=1;var HE=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;nt(this,t),t.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}return at(t,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,r,i,a=.01,o=.1,s=e.elements,u=s[0],l=s[4],c=s[8],f=s[1],h=s[5],d=s[9],p=s[2],v=s[6],m=s[10];if(Math.abs(l-f)<a&&Math.abs(c-p)<a&&Math.abs(d-v)<a){if(Math.abs(l+f)<o&&Math.abs(c+p)<o&&Math.abs(d+v)<o&&Math.abs(u+h+m-3)<o)return this.set(1,0,0,0),this;t=Math.PI;var y=(u+1)/2,g=(h+1)/2,b=(m+1)/2,w=(l+f)/4,x=(c+p)/4,_=(d+v)/4;return y>g&&y>b?y<a?(n=0,r=.707106781,i=.707106781):(r=w/(n=Math.sqrt(y)),i=x/n):g>b?g<a?(n=.707106781,r=0,i=.707106781):(n=w/(r=Math.sqrt(g)),i=_/r):b<a?(n=.707106781,r=.707106781,i=0):(n=x/(i=Math.sqrt(b)),r=_/i),this.set(n,r,i,t),this}var k=Math.sqrt((v-d)*(v-d)+(c-p)*(c-p)+(f-l)*(f-l));return Math.abs(k)<.001&&(k=1),this.x=(v-d)/k,this.y=(c-p)/k,this.z=(f-l)/k,this.w=Math.acos((u+h+m-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:Symbol.iterator,value:f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:return e.next=8,this.w;case 8:case"end":return e.stop()}}),e,this)}))}]),t}(),WE=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};nt(this,n),(e=t.call(this)).isWebGLRenderTarget=!0,e.width=r,e.height=i,e.depth=1,e.scissor=new HE(0,0,r,i),e.scissorTest=!1,e.viewport=new HE(0,0,r,i);var o={width:r,height:i,depth:1};return e.texture=new FE(o,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.encoding),e.texture.isRenderTargetTexture=!0,e.texture.flipY=!1,e.texture.generateMipmaps=void 0!==a.generateMipmaps&&a.generateMipmaps,e.texture.internalFormat=void 0!==a.internalFormat?a.internalFormat:null,e.texture.minFilter=void 0!==a.minFilter?a.minFilter:aA,e.depthBuffer=void 0===a.depthBuffer||a.depthBuffer,e.stencilBuffer=void 0!==a.stencilBuffer&&a.stencilBuffer,e.depthTexture=void 0!==a.depthTexture?a.depthTexture:null,e.samples=void 0!==a.samples?a.samples:0,e}return at(n,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;var t=Object.assign({},e.texture.image);return this.texture.source=new UE(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(oE),GE=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return nt(this,n),(e=t.call(this,null)).isDataArrayTexture=!0,e.image={data:r,width:i,height:a,depth:o},e.magFilter=eA,e.minFilter=eA,e.wrapR=KM,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return at(n)}(FE),jE=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return nt(this,n),(e=t.call(this,r,i)).isWebGLArrayRenderTarget=!0,e.depth=a,e.texture=new GE(null,r,i,a),e.texture.isRenderTargetTexture=!0,e}return at(n)}(WE),VE=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return nt(this,n),(e=t.call(this,null)).isData3DTexture=!0,e.image={data:r,width:i,height:a,depth:o},e.magFilter=eA,e.minFilter=eA,e.wrapR=KM,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return at(n)}(FE),qE=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return nt(this,n),(e=t.call(this,r,i)).isWebGL3DRenderTarget=!0,e.depth=a,e.texture=new VE(null,r,i,a),e.texture.isRenderTargetTexture=!0,e}return at(n)}(WE),XE=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};nt(this,n),(e=t.call(this,r,i,o)).isWebGLMultipleRenderTargets=!0;var s=e.texture;e.texture=[];for(var u=0;u<a;u++)e.texture[u]=s.clone(),e.texture[u].isRenderTargetTexture=!0;return e}return at(n,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(var r=0,i=this.texture.length;r<i;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}},{key:"copy",value:function(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(var t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}]),n}(WE),JE=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;nt(this,t),this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}return at(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,u=o(n/2),l=o(r/2),c=o(i/2),f=s(n/2),h=s(r/2),d=s(i/2);switch(a){case"XYZ":this._x=f*l*c+u*h*d,this._y=u*h*c-f*l*d,this._z=u*l*d+f*h*c,this._w=u*l*c-f*h*d;break;case"YXZ":this._x=f*l*c+u*h*d,this._y=u*h*c-f*l*d,this._z=u*l*d-f*h*c,this._w=u*l*c+f*h*d;break;case"ZXY":this._x=f*l*c-u*h*d,this._y=u*h*c+f*l*d,this._z=u*l*d+f*h*c,this._w=u*l*c-f*h*d;break;case"ZYX":this._x=f*l*c-u*h*d,this._y=u*h*c+f*l*d,this._z=u*l*d-f*h*c,this._w=u*l*c+f*h*d;break;case"YZX":this._x=f*l*c+u*h*d,this._y=u*h*c+f*l*d,this._z=u*l*d-f*h*c,this._w=u*l*c-f*h*d;break;case"XZY":this._x=f*l*c-u*h*d,this._y=u*h*c-f*l*d,this._z=u*l*d+f*h*c,this._w=u*l*c+f*h*d;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],u=t[2],l=t[6],c=t[10],f=n+o+c;if(f>0){var h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(l-s)*h,this._y=(i-u)*h,this._z=(a-r)*h}else if(n>o&&n>c){var d=2*Math.sqrt(1+n-o-c);this._w=(l-s)/d,this._x=.25*d,this._y=(r+a)/d,this._z=(i+u)/d}else if(o>c){var p=2*Math.sqrt(1+o-n-c);this._w=(i-u)/p,this._x=(r+a)/p,this._y=.25*p,this._z=(s+l)/p}else{var v=2*Math.sqrt(1+c-n-o);this._w=(a-r)/v,this._x=(i+u)/v,this._y=(s+l)/v,this._z=.25*v}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(hE(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e){return this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,u=t._z,l=t._w;return this._x=n*l+a*o+r*u-i*s,this._y=r*l+a*s+i*o-n*u,this._z=i*l+a*u+n*s-r*o,this._w=a*l-n*o-r*s-i*u,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var u=1-t;return this._w=u*a+t*this._w,this._x=u*n+t*this._x,this._y=u*r+t*this._y,this._z=u*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var l=Math.sqrt(s),c=Math.atan2(l,o),f=Math.sin((1-t)*c)/l,h=Math.sin(t*c)/l;return this._w=a*f+this._w*h,this._x=n*f+this._x*h,this._y=r*f+this._y*h,this._z=i*f+this._z*h,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,t,n){return this.copy(e).slerp(t,n)}},{key:"random",value:function(){var e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(i),n*Math.cos(i),t*Math.sin(r))}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"toJSON",value:function(){return this.toArray()}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._w;case 8:case"end":return e.stop()}}),e,this)}))}],[{key:"slerpFlat",value:function(e,t,n,r,i,a,o){var s=n[r+0],u=n[r+1],l=n[r+2],c=n[r+3],f=i[a+0],h=i[a+1],d=i[a+2],p=i[a+3];if(0===o)return e[t+0]=s,e[t+1]=u,e[t+2]=l,void(e[t+3]=c);if(1===o)return e[t+0]=f,e[t+1]=h,e[t+2]=d,void(e[t+3]=p);if(c!==p||s!==f||u!==h||l!==d){var v=1-o,m=s*f+u*h+l*d+c*p,y=m>=0?1:-1,g=1-m*m;if(g>Number.EPSILON){var b=Math.sqrt(g),w=Math.atan2(b,m*y);v=Math.sin(v*w)/b,o=Math.sin(o*w)/b}var x=o*y;if(s=s*v+f*x,u=u*v+h*x,l=l*v+d*x,c=c*v+p*x,v===1-o){var _=1/Math.sqrt(s*s+u*u+l*l+c*c);s*=_,u*=_,l*=_,c*=_}}e[t]=s,e[t+1]=u,e[t+2]=l,e[t+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,r,i,a){var o=n[r],s=n[r+1],u=n[r+2],l=n[r+3],c=i[a],f=i[a+1],h=i[a+2],d=i[a+3];return e[t]=o*d+l*c+s*h-u*f,e[t+1]=s*d+l*f+u*c-o*h,e[t+2]=u*d+l*h+o*f-s*c,e[t+3]=l*d-o*c-s*f-u*h,e}}]),t}(),YE=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;nt(this,t),t.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}return at(t,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return this.applyQuaternion(ZE.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(ZE.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,u=s*t+a*r-o*n,l=s*n+o*t-i*r,c=s*r+i*n-a*t,f=-i*t-a*n-o*r;return this.x=u*s+f*-i+l*-o-c*-a,this.y=l*s+f*-a+c*-i-u*-o,this.z=c*s+f*-o+u*-a-l*-i,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e){return this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return QE.copy(this).projectOnVector(e),this.sub(QE)}},{key:"reflect",value:function(e){return this.sub(QE.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(hE(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"setFromEuler",value:function(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}},{key:"setFromColor",value:function(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-Math.pow(e,2));return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}},{key:Symbol.iterator,value:f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(),QE=new YE,ZE=new JE,KE=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new YE(1/0,1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new YE(-1/0,-1/0,-1/0);nt(this,e),this.isBox3=!0,this.min=t,this.max=n}return at(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t+=3)this.expandByPoint(eC.fromArray(e,t));return this}},{key:"setFromBufferAttribute",value:function(e){this.makeEmpty();for(var t=0,n=e.count;t<n;t++)this.expandByPoint(eC.fromBufferAttribute(e,t));return this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=eC.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"setFromObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.updateWorldMatrix(!1,!1),void 0!==e.boundingBox)null===e.boundingBox&&e.computeBoundingBox(),tC.copy(e.boundingBox),tC.applyMatrix4(e.matrixWorld),this.union(tC);else{var n=e.geometry;if(void 0!==n)if(t&&void 0!==n.attributes&&void 0!==n.attributes.position)for(var r=n.attributes.position,i=0,a=r.count;i<a;i++)eC.fromBufferAttribute(r,i).applyMatrix4(e.matrixWorld),this.expandByPoint(eC);else null===n.boundingBox&&n.computeBoundingBox(),tC.copy(n.boundingBox),tC.applyMatrix4(e.matrixWorld),this.union(tC)}for(var o=e.children,s=0,u=o.length;s<u;s++)this.expandByObject(o[s],t);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,eC),eC.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(uC),lC.subVectors(this.max,uC),nC.subVectors(e.a,uC),rC.subVectors(e.b,uC),iC.subVectors(e.c,uC),aC.subVectors(rC,nC),oC.subVectors(iC,rC),sC.subVectors(nC,iC);var t=[0,-aC.z,aC.y,0,-oC.z,oC.y,0,-sC.z,sC.y,aC.z,0,-aC.x,oC.z,0,-oC.x,sC.z,0,-sC.x,-aC.y,aC.x,0,-oC.y,oC.x,0,-sC.y,sC.x,0];return!!hC(t,nC,rC,iC,lC)&&(!!hC(t=[1,0,0,0,1,0,0,0,1],nC,rC,iC,lC)&&(cC.crossVectors(aC,oC),hC(t=[cC.x,cC.y,cC.z],nC,rC,iC,lC)))}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return this.clampPoint(e,eC).distanceTo(e)}},{key:"getBoundingSphere",value:function(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(eC).length()),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||($E[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),$E[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),$E[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),$E[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),$E[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),$E[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),$E[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),$E[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints($E)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),$E=[new YE,new YE,new YE,new YE,new YE,new YE,new YE,new YE],eC=new YE,tC=new KE,nC=new YE,rC=new YE,iC=new YE,aC=new YE,oC=new YE,sC=new YE,uC=new YE,lC=new YE,cC=new YE,fC=new YE;function hC(e,t,n,r,i){for(var a=0,o=e.length-3;a<=o;a+=3){fC.fromArray(e,a);var s=i.x*Math.abs(fC.x)+i.y*Math.abs(fC.y)+i.z*Math.abs(fC.z),u=t.dot(fC),l=n.dot(fC),c=r.dot(fC);if(Math.max(-Math.max(u,l,c),Math.min(u,l,c))>s)return!1}return!0}var dC=new KE,pC=new YE,vC=new YE,mC=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new YE,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;nt(this,e),this.center=t,this.radius=n}return at(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var n=this.center;void 0!==t?n.copy(t):dC.setFromPoints(e).getCenter(n);for(var r=0,i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"expandByPoint",value:function(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;pC.subVectors(e,this.center);var t=pC.lengthSq();if(t>this.radius*this.radius){var n=Math.sqrt(t),r=.5*(n-this.radius);this.center.addScaledVector(pC,r/n),this.radius+=r}return this}},{key:"union",value:function(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(vC.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(pC.copy(e.center).add(vC)),this.expandByPoint(pC.copy(e.center).sub(vC))),this)}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),yC=new YE,gC=new YE,bC=new YE,wC=new YE,xC=new YE,_C=new YE,kC=new YE,SC=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new YE,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new YE(0,0,-1);nt(this,e),this.origin=t,this.direction=n}return at(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,yC)),this}},{key:"closestPointToPoint",value:function(e,t){t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=yC.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(yC.copy(this.origin).addScaledVector(this.direction,t),yC.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,n,r){gC.copy(e).add(t).multiplyScalar(.5),bC.copy(t).sub(e).normalize(),wC.copy(this.origin).sub(gC);var i,a,o,s,u=.5*e.distanceTo(t),l=-this.direction.dot(bC),c=wC.dot(this.direction),f=-wC.dot(bC),h=wC.lengthSq(),d=Math.abs(1-l*l);if(d>0)if(a=l*c-f,s=u*d,(i=l*f-c)>=0)if(a>=-s)if(a<=s){var p=1/d;o=(i*=p)*(i+l*(a*=p)+2*c)+a*(l*i+a+2*f)+h}else a=u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*f)+h;else a=-u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*f)+h;else a<=-s?o=-(i=Math.max(0,-(-l*u+c)))*i+(a=i>0?-u:Math.min(Math.max(-u,-f),u))*(a+2*f)+h:a<=s?(i=0,o=(a=Math.min(Math.max(-u,-f),u))*(a+2*f)+h):o=-(i=Math.max(0,-(l*u+c)))*i+(a=i>0?u:Math.min(Math.max(-u,-f),u))*(a+2*f)+h;else a=l>0?-u:u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*f)+h;return n&&n.copy(this.origin).addScaledVector(this.direction,i),r&&r.copy(gC).addScaledVector(bC,a),o}},{key:"intersectSphere",value:function(e,t){yC.subVectors(e.center,this.origin);var n=yC.dot(this.direction),r=yC.dot(yC)-n*n,i=e.radius*e.radius;if(r>i)return null;var a=Math.sqrt(i-r),o=n-a,s=n+a;return s<0?null:o<0?this.at(s,t):this.at(o,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}},{key:"intersectPlane",value:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,r,i,a,o,s,u=1/this.direction.x,l=1/this.direction.y,c=1/this.direction.z,f=this.origin;return u>=0?(n=(e.min.x-f.x)*u,r=(e.max.x-f.x)*u):(n=(e.max.x-f.x)*u,r=(e.min.x-f.x)*u),l>=0?(i=(e.min.y-f.y)*l,a=(e.max.y-f.y)*l):(i=(e.max.y-f.y)*l,a=(e.min.y-f.y)*l),n>a||i>r?null:((i>n||isNaN(n))&&(n=i),(a<r||isNaN(r))&&(r=a),c>=0?(o=(e.min.z-f.z)*c,s=(e.max.z-f.z)*c):(o=(e.max.z-f.z)*c,s=(e.min.z-f.z)*c),n>s||o>r?null:((o>n||n!==n)&&(n=o),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,yC)}},{key:"intersectTriangle",value:function(e,t,n,r,i){xC.subVectors(t,e),_C.subVectors(n,e),kC.crossVectors(xC,_C);var a,o=this.direction.dot(kC);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}wC.subVectors(this.origin,e);var s=a*this.direction.dot(_C.crossVectors(wC,_C));if(s<0)return null;var u=a*this.direction.dot(xC.cross(wC));if(u<0)return null;if(s+u>o)return null;var l=-a*wC.dot(kC);return l<0?null:this.at(l/o,i)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),MC=function(){function e(){nt(this,e),e.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}return at(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,u,l,c,f,h,d,p,v){var m=this.elements;return m[0]=e,m[4]=t,m[8]=n,m[12]=r,m[1]=i,m[5]=a,m[9]=o,m[13]=s,m[2]=u,m[6]=l,m[10]=c,m[14]=f,m[3]=h,m[7]=d,m[11]=p,m[15]=v,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/AC.setFromMatrixColumn(e,0).length(),i=1/AC.setFromMatrixColumn(e,1).length(),a=1/AC.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),u=Math.sin(r),l=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){var f=a*l,h=a*c,d=o*l,p=o*c;t[0]=s*l,t[4]=-s*c,t[8]=u,t[1]=h+d*u,t[5]=f-p*u,t[9]=-o*s,t[2]=p-f*u,t[6]=d+h*u,t[10]=a*s}else if("YXZ"===e.order){var v=s*l,m=s*c,y=u*l,g=u*c;t[0]=v+g*o,t[4]=y*o-m,t[8]=a*u,t[1]=a*c,t[5]=a*l,t[9]=-o,t[2]=m*o-y,t[6]=g+v*o,t[10]=a*s}else if("ZXY"===e.order){var b=s*l,w=s*c,x=u*l,_=u*c;t[0]=b-_*o,t[4]=-a*c,t[8]=x+w*o,t[1]=w+x*o,t[5]=a*l,t[9]=_-b*o,t[2]=-a*u,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){var k=a*l,S=a*c,M=o*l,A=o*c;t[0]=s*l,t[4]=M*u-S,t[8]=k*u+A,t[1]=s*c,t[5]=A*u+k,t[9]=S*u-M,t[2]=-u,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var T=a*s,E=a*u,C=o*s,P=o*u;t[0]=s*l,t[4]=P-T*c,t[8]=C*c+E,t[1]=c,t[5]=a*l,t[9]=-o*l,t[2]=-u*l,t[6]=E*c+C,t[10]=T-P*c}else if("XZY"===e.order){var R=a*s,I=a*u,L=o*s,N=o*u;t[0]=s*l,t[4]=-c,t[8]=u*l,t[1]=R*c+N,t[5]=a*l,t[9]=I*c-L,t[2]=L*c-I,t[6]=o*l,t[10]=N*c+R}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(EC,e,CC)}},{key:"lookAt",value:function(e,t,n){var r=this.elements;return IC.subVectors(e,t),0===IC.lengthSq()&&(IC.z=1),IC.normalize(),PC.crossVectors(n,IC),0===PC.lengthSq()&&(1===Math.abs(n.z)?IC.x+=1e-4:IC.z+=1e-4,IC.normalize(),PC.crossVectors(n,IC)),PC.normalize(),RC.crossVectors(IC,PC),r[0]=PC.x,r[4]=RC.x,r[8]=IC.x,r[1]=PC.y,r[5]=RC.y,r[9]=IC.y,r[2]=PC.z,r[6]=RC.z,r[10]=IC.z,this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],u=n[12],l=n[1],c=n[5],f=n[9],h=n[13],d=n[2],p=n[6],v=n[10],m=n[14],y=n[3],g=n[7],b=n[11],w=n[15],x=r[0],_=r[4],k=r[8],S=r[12],M=r[1],A=r[5],T=r[9],E=r[13],C=r[2],P=r[6],R=r[10],I=r[14],L=r[3],N=r[7],O=r[11],D=r[15];return i[0]=a*x+o*M+s*C+u*L,i[4]=a*_+o*A+s*P+u*N,i[8]=a*k+o*T+s*R+u*O,i[12]=a*S+o*E+s*I+u*D,i[1]=l*x+c*M+f*C+h*L,i[5]=l*_+c*A+f*P+h*N,i[9]=l*k+c*T+f*R+h*O,i[13]=l*S+c*E+f*I+h*D,i[2]=d*x+p*M+v*C+m*L,i[6]=d*_+p*A+v*P+m*N,i[10]=d*k+p*T+v*R+m*O,i[14]=d*S+p*E+v*I+m*D,i[3]=y*x+g*M+b*C+w*L,i[7]=y*_+g*A+b*P+w*N,i[11]=y*k+g*T+b*R+w*O,i[15]=y*S+g*E+b*I+w*D,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],u=e[13],l=e[2],c=e[6],f=e[10],h=e[14];return e[3]*(+i*s*c-r*u*c-i*o*f+n*u*f+r*o*h-n*s*h)+e[7]*(+t*s*h-t*u*f+i*a*f-r*a*h+r*u*l-i*s*l)+e[11]*(+t*u*c-t*o*h-i*a*c+n*a*h+i*o*l-n*u*l)+e[15]*(-r*o*l-t*s*c+t*o*f+r*a*c-n*a*f+n*s*l)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=e[9],f=e[10],h=e[11],d=e[12],p=e[13],v=e[14],m=e[15],y=c*v*u-p*f*u+p*s*h-o*v*h-c*s*m+o*f*m,g=d*f*u-l*v*u-d*s*h+a*v*h+l*s*m-a*f*m,b=l*p*u-d*c*u+d*o*h-a*p*h-l*o*m+a*c*m,w=d*c*s-l*p*s-d*o*f+a*p*f+l*o*v-a*c*v,x=t*y+n*g+r*b+i*w;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var _=1/x;return e[0]=y*_,e[1]=(p*f*i-c*v*i-p*r*h+n*v*h+c*r*m-n*f*m)*_,e[2]=(o*v*i-p*s*i+p*r*u-n*v*u-o*r*m+n*s*m)*_,e[3]=(c*s*i-o*f*i-c*r*u+n*f*u+o*r*h-n*s*h)*_,e[4]=g*_,e[5]=(l*v*i-d*f*i+d*r*h-t*v*h-l*r*m+t*f*m)*_,e[6]=(d*s*i-a*v*i-d*r*u+t*v*u+a*r*m-t*s*m)*_,e[7]=(a*f*i-l*s*i+l*r*u-t*f*u-a*r*h+t*s*h)*_,e[8]=b*_,e[9]=(d*c*i-l*p*i-d*n*h+t*p*h+l*n*m-t*c*m)*_,e[10]=(a*p*i-d*o*i+d*n*u-t*p*u-a*n*m+t*o*m)*_,e[11]=(l*o*i-a*c*i-l*n*u+t*c*u+a*n*h-t*o*h)*_,e[12]=w*_,e[13]=(l*p*r-d*c*r+d*n*f-t*p*f-l*n*v+t*c*v)*_,e[14]=(d*o*r-a*p*r-d*n*s+t*p*s+a*n*v-t*o*v)*_,e[15]=(a*c*r-l*o*r+l*n*s-t*c*s-a*n*f+t*o*f)*_,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}},{key:"makeTranslation",value:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,u=i*a,l=i*o;return this.set(u*a+n,u*o-r*s,u*s+r*o,0,u*o+r*s,l*o+n,l*s-r*a,0,u*s-r*o,l*s+r*a,i*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n,r,i,a){return this.set(1,n,i,0,e,1,a,0,t,r,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,u=i+i,l=a+a,c=o+o,f=i*u,h=i*l,d=i*c,p=a*l,v=a*c,m=o*c,y=s*u,g=s*l,b=s*c,w=n.x,x=n.y,_=n.z;return r[0]=(1-(p+m))*w,r[1]=(h+b)*w,r[2]=(d-g)*w,r[3]=0,r[4]=(h-b)*x,r[5]=(1-(f+m))*x,r[6]=(v+y)*x,r[7]=0,r[8]=(d+g)*_,r[9]=(v-y)*_,r[10]=(1-(f+p))*_,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,t,n){var r=this.elements,i=AC.set(r[0],r[1],r[2]).length(),a=AC.set(r[4],r[5],r[6]).length(),o=AC.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],TC.copy(this);var s=1/i,u=1/a,l=1/o;return TC.elements[0]*=s,TC.elements[1]*=s,TC.elements[2]*=s,TC.elements[4]*=u,TC.elements[5]*=u,TC.elements[6]*=u,TC.elements[8]*=l,TC.elements[9]*=l,TC.elements[10]*=l,t.setFromRotationMatrix(TC),n.x=i,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(e,t,n,r,i,a){var o=this.elements,s=2*i/(t-e),u=2*i/(n-r),l=(t+e)/(t-e),c=(n+r)/(n-r),f=-(a+i)/(a-i),h=-2*a*i/(a-i);return o[0]=s,o[4]=0,o[8]=l,o[12]=0,o[1]=0,o[5]=u,o[9]=c,o[13]=0,o[2]=0,o[6]=0,o[10]=f,o[14]=h,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,i,a){var o=this.elements,s=1/(t-e),u=1/(n-r),l=1/(a-i),c=(t+e)*s,f=(n+r)*u,h=(a+i)*l;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*u,o[9]=0,o[13]=-f,o[2]=0,o[6]=0,o[10]=-2*l,o[14]=-h,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}(),AC=new YE,TC=new MC,EC=new YE(0,0,0),CC=new YE(1,1,1),PC=new YE,RC=new YE,IC=new YE,LC=new MC,NC=new JE,OC=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DEFAULT_ORDER;nt(this,t),this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}return at(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.elements,i=r[0],a=r[4],o=r[8],s=r[1],u=r[5],l=r[9],c=r[2],f=r[6],h=r[10];switch(t){case"XYZ":this._y=Math.asin(hE(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-l,h),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(f,u),this._z=0);break;case"YXZ":this._x=Math.asin(-hE(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(o,h),this._z=Math.atan2(s,u)):(this._y=Math.atan2(-c,i),this._z=0);break;case"ZXY":this._x=Math.asin(hE(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-c,h),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-hE(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(f,h),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(hE(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-l,u),this._y=Math.atan2(-c,i)):(this._x=0,this._y=Math.atan2(o,h));break;case"XZY":this._z=Math.asin(-hE(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,u),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-l,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return LC.makeRotationFromQuaternion(e),this.setFromRotationMatrix(LC,t,n)}},{key:"setFromVector3",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}},{key:"reorder",value:function(e){return NC.setFromEuler(this),this.setFromQuaternion(NC,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._order;case 8:case"end":return e.stop()}}),e,this)}))}]),t}();OC.DEFAULT_ORDER="XYZ";var DC=function(){function e(){nt(this,e),this.mask=1}return at(e,[{key:"set",value:function(e){this.mask=(1<<e|0)>>>0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!==(this.mask&e.mask)}},{key:"isEnabled",value:function(e){return 0!==(this.mask&(1<<e|0))}}]),e}(),UC=0,zC=new YE,BC=new JE,FC=new MC,HC=new YE,WC=new YE,GC=new YE,jC=new JE,VC=new YE(1,0,0),qC=new YE(0,1,0),XC=new YE(0,0,1),JC={type:"added"},YC={type:"removed"},QC=function(e){ct(n,e);var t=dt(n);function n(){var e;nt(this,n),(e=t.call(this)).isObject3D=!0,Object.defineProperty(ot(e),"id",{value:UC++}),e.uuid=fE(),e.name="",e.type="Object3D",e.parent=null,e.children=[],e.up=n.DEFAULT_UP.clone();var r=new YE,i=new OC,a=new JE,o=new YE(1,1,1);return i._onChange((function(){a.setFromEuler(i,!1)})),a._onChange((function(){i.setFromQuaternion(a,void 0,!1)})),Object.defineProperties(ot(e),{position:{configurable:!0,enumerable:!0,value:r},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:a},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new MC},normalMatrix:{value:new _E}}),e.matrix=new MC,e.matrixWorld=new MC,e.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,e.matrixWorldNeedsUpdate=!1,e.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,e.layers=new DC,e.visible=!0,e.castShadow=!1,e.receiveShadow=!1,e.frustumCulled=!0,e.renderOrder=0,e.animations=[],e.userData={},e}return at(n,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,t){this.quaternion.setFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,t){return BC.setFromAxisAngle(e,t),this.quaternion.multiply(BC),this}},{key:"rotateOnWorldAxis",value:function(e,t){return BC.setFromAxisAngle(e,t),this.quaternion.premultiply(BC),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis(VC,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(qC,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(XC,e)}},{key:"translateOnAxis",value:function(e,t){return zC.copy(e).applyQuaternion(this.quaternion),this.position.add(zC.multiplyScalar(t)),this}},{key:"translateX",value:function(e){return this.translateOnAxis(VC,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(qC,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(XC,e)}},{key:"localToWorld",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(FC.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,t,n){e.isVector3?HC.copy(e):HC.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),WC.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?FC.lookAt(WC,HC,this.up):FC.lookAt(HC,WC,this.up),this.quaternion.setFromRotationMatrix(FC),r&&(FC.extractRotation(r.matrixWorld),BC.setFromRotationMatrix(FC),this.quaternion.premultiply(BC.invert()))}},{key:"add",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(JC)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}},{key:"remove",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(YC)),this}},{key:"removeFromParent",value:function(){var e=this.parent;return null!==e&&e.remove(this),this}},{key:"clear",value:function(){for(var e=0;e<this.children.length;e++){var t=this.children[e];t.parent=null,t.dispatchEvent(YC)}return this.children.length=0,this}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),FC.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),FC.multiply(e.parent.matrixWorld)),e.applyMatrix4(FC),this.add(e),e.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}}},{key:"getObjectsByProperty",value:function(e,t){var n=[];this[e]===t&&n.push(this);for(var r=0,i=this.children.length;r<i;r++){var a=this.children[r].getObjectsByProperty(e,t);a.length>0&&(n=n.concat(a))}return n}},{key:"getWorldPosition",value:function(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(WC,e,GC),e}},{key:"getWorldScale",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(WC,jC,e),e}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++){var i=t[n];!0!==i.matrixWorldAutoUpdate&&!0!==e||i.updateMatrixWorld(e)}}},{key:"updateWorldMatrix",value:function(e,t){var n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,a=r.length;i<a;i++){var o=r[i];!0===o.matrixWorldAutoUpdate&&o.updateWorldMatrix(!1,!0)}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,u=o.length;s<u;s++){var l=o[s];i(e.shapes,l)}else i(e.shapes,o)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],f=0,h=this.material.length;f<h;f++)c.push(i(e.materials,this.material[f]));r.material=c}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(var d=0;d<this.children.length;d++)r.children.push(this.children[d].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(var p=0;p<this.animations.length;p++){var v=this.animations[p];r.animations.push(i(e.animations,v))}}if(t){var m=S(e.geometries),y=S(e.materials),g=S(e.textures),b=S(e.images),w=S(e.shapes),x=S(e.skeletons),_=S(e.animations),k=S(e.nodes);m.length>0&&(n.geometries=m),y.length>0&&(n.materials=y),g.length>0&&(n.textures=g),b.length>0&&(n.images=b),w.length>0&&(n.shapes=w),x.length>0&&(n.skeletons=x),_.length>0&&(n.animations=_),k.length>0&&(n.nodes=k)}return n.object=r,n;function S(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}]),n}(oE);QC.DEFAULT_UP=new YE(0,1,0),QC.DEFAULT_MATRIX_AUTO_UPDATE=!0,QC.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var ZC=new YE,KC=new YE,$C=new YE,eP=new YE,tP=new YE,nP=new YE,rP=new YE,iP=new YE,aP=new YE,oP=new YE,sP=!1,uP=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new YE,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new YE,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new YE;nt(this,e),this.a=t,this.b=n,this.c=r}return at(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}},{key:"setFromAttributeAndIndices",value:function(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return ZC.subVectors(this.c,this.b),KC.subVectors(this.a,this.b),.5*ZC.cross(KC).length()}},{key:"getMidpoint",value:function(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getUV",value:function(t,n,r,i,a){return!1===sP&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),sP=!0),e.getInterpolation(t,this.a,this.b,this.c,n,r,i,a)}},{key:"getInterpolation",value:function(t,n,r,i,a){return e.getInterpolation(t,this.a,this.b,this.c,n,r,i,a)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){var n,r,i=this.a,a=this.b,o=this.c;tP.subVectors(a,i),nP.subVectors(o,i),iP.subVectors(e,i);var s=tP.dot(iP),u=nP.dot(iP);if(s<=0&&u<=0)return t.copy(i);aP.subVectors(e,a);var l=tP.dot(aP),c=nP.dot(aP);if(l>=0&&c<=l)return t.copy(a);var f=s*c-l*u;if(f<=0&&s>=0&&l<=0)return n=s/(s-l),t.copy(i).addScaledVector(tP,n);oP.subVectors(e,o);var h=tP.dot(oP),d=nP.dot(oP);if(d>=0&&h<=d)return t.copy(o);var p=h*u-s*d;if(p<=0&&u>=0&&d<=0)return r=u/(u-d),t.copy(i).addScaledVector(nP,r);var v=l*d-h*c;if(v<=0&&c-l>=0&&h-d>=0)return rP.subVectors(o,a),r=(c-l)/(c-l+(h-d)),t.copy(a).addScaledVector(rP,r);var m=1/(v+p+f);return n=p*m,r=f*m,t.copy(i).addScaledVector(tP,n).addScaledVector(nP,r)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,r){r.subVectors(n,t),ZC.subVectors(e,t),r.cross(ZC);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,r,i){ZC.subVectors(r,t),KC.subVectors(n,t),$C.subVectors(e,t);var a=ZC.dot(ZC),o=ZC.dot(KC),s=ZC.dot($C),u=KC.dot(KC),l=KC.dot($C),c=a*u-o*o;if(0===c)return i.set(-2,-1,-1);var f=1/c,h=(u*s-o*l)*f,d=(a*l-o*s)*f;return i.set(1-h-d,d,h)}},{key:"containsPoint",value:function(e,t,n,r){return this.getBarycoord(e,t,n,r,eP),eP.x>=0&&eP.y>=0&&eP.x+eP.y<=1}},{key:"getUV",value:function(e,t,n,r,i,a,o,s){return!1===sP&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),sP=!0),this.getInterpolation(e,t,n,r,i,a,o,s)}},{key:"getInterpolation",value:function(e,t,n,r,i,a,o,s){return this.getBarycoord(e,t,n,r,eP),s.setScalar(0),s.addScaledVector(i,eP.x),s.addScaledVector(a,eP.y),s.addScaledVector(o,eP.z),s}},{key:"isFrontFacing",value:function(e,t,n,r){return ZC.subVectors(n,t),KC.subVectors(e,t),ZC.cross(KC).dot(r)<0}}]),e}(),lP=0,cP=function(e){ct(n,e);var t=dt(n);function n(){var e;return nt(this,n),(e=t.call(this)).isMaterial=!0,Object.defineProperty(ot(e),"id",{value:lP++}),e.uuid=fE(),e.name="",e.type="Material",e.blending=sM,e.side=nM,e.vertexColors=!1,e.opacity=1,e.transparent=!1,e.blendSrc=xM,e.blendDst=_M,e.blendEquation=hM,e.blendSrcAlpha=null,e.blendDstAlpha=null,e.blendEquationAlpha=null,e.depthFunc=RM,e.depthTest=!0,e.depthWrite=!0,e.stencilWriteMask=255,e.stencilFunc=XT,e.stencilRef=0,e.stencilFuncMask=255,e.stencilFail=LT,e.stencilZFail=LT,e.stencilZPass=LT,e.stencilWrite=!1,e.clippingPlanes=null,e.clipIntersection=!1,e.clipShadows=!1,e.shadowSide=null,e.colorWrite=!0,e.precision=null,e.polygonOffset=!1,e.polygonOffsetFactor=0,e.polygonOffsetUnits=0,e.dithering=!1,e.alphaToCoverage=!1,e.premultipliedAlpha=!1,e.forceSinglePass=!1,e.visible=!0,e.toneMapped=!0,e.userData={},e.version=0,e._alphaTest=0,e}return at(n,[{key:"alphaTest",get:function(){return this._alphaTest},set:function(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}},{key:"onBuild",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE.Material: '".concat(t,"' is not a property of THREE.").concat(this.type,"."))}else console.warn("THREE.Material: parameter '".concat(t,"' has value of undefined."))}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==sM&&(n.blending=this.blending),this.side!==nM&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(n.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){var i=r(e.textures),a=r(e.images);i.length>0&&(n.textures=i),a.length>0&&(n.images=a)}return n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),n}(oE),fP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},hP={h:0,s:0,l:0},dP={h:0,s:0,l:0};function pP(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}var vP=function(e){function t(e,n,r){return nt(this,t),this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===n&&void 0===r?this.set(e):this.setRGB(e,n,r)}return at(t,[{key:"set",value:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:CT;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,OE.toWorkingColorSpace(this,t),this}},{key:"setRGB",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:OE.workingColorSpace;return this.r=e,this.g=t,this.b=n,OE.toWorkingColorSpace(this,r),this}},{key:"setHSL",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:OE.workingColorSpace;if(e=dE(e,1),t=hE(t,0,1),n=hE(n,0,1),0===t)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+t):n+t-n*t,a=2*n-i;this.r=pP(a,i,e+1/3),this.g=pP(a,i,e),this.b=pP(a,i,e-1/3)}return OE.toWorkingColorSpace(this,r),this}},{key:"setStyle",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:CT;function r(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(t=/^(\w+)\(([^\)]*)\)/.exec(e)){var i,a=t[1],o=t[2];switch(a){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,OE.toWorkingColorSpace(this,n),r(i[4]),this;if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,OE.toWorkingColorSpace(this,n),r(i[4]),this;break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){var s=parseFloat(i[1])/360,u=parseFloat(i[2])/100,l=parseFloat(i[3])/100;return r(i[4]),this.setHSL(s,u,l,n)}break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){var c=t[1],f=c.length;if(3===f)return this.setRGB(parseInt(c.charAt(0),16)/15,parseInt(c.charAt(1),16)/15,parseInt(c.charAt(2),16)/15,n);if(6===f)return this.setHex(parseInt(c,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}},{key:"setColorName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:CT,n=fP[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copySRGBToLinear",value:function(e){return this.r=EE(e.r),this.g=EE(e.g),this.b=EE(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=CE(e.r),this.g=CE(e.g),this.b=CE(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CT;return OE.fromWorkingColorSpace(mP.copy(this),e),hE(255*mP.r,0,255)<<16^hE(255*mP.g,0,255)<<8^hE(255*mP.b,0,255)<<0}},{key:"getHexString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CT;return("000000"+this.getHex(e).toString(16)).slice(-6)}},{key:"getHSL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:OE.workingColorSpace;OE.fromWorkingColorSpace(mP.copy(this),t);var n,r,i=mP.r,a=mP.g,o=mP.b,s=Math.max(i,a,o),u=Math.min(i,a,o),l=(u+s)/2;if(u===s)n=0,r=0;else{var c=s-u;switch(r=l<=.5?c/(s+u):c/(2-s-u),s){case i:n=(a-o)/c+(a<o?6:0);break;case a:n=(o-i)/c+2;break;case o:n=(i-a)/c+4}n/=6}return e.h=n,e.s=r,e.l=l,e}},{key:"getRGB",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:OE.workingColorSpace;return OE.fromWorkingColorSpace(mP.copy(this),t),e.r=mP.r,e.g=mP.g,e.b=mP.b,e}},{key:"getStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CT;OE.fromWorkingColorSpace(mP.copy(this),e);var t=mP.r,n=mP.g,r=mP.b;return e!==CT?"color(".concat(e," ").concat(t.toFixed(3)," ").concat(n.toFixed(3)," ").concat(r.toFixed(3),")"):"rgb(".concat(255*t|0,",").concat(255*n|0,",").concat(255*r|0,")")}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(hP),hP.h+=e,hP.s+=t,hP.l+=n,this.setHSL(hP.h,hP.s,hP.l),this}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(hP),e.getHSL(dP);var n=pE(hP.h,dP.h,t),r=pE(hP.s,dP.s,t),i=pE(hP.l,dP.l,t);return this.setHSL(n,r,i),this}},{key:"setFromVector3",value:function(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}},{key:"applyMatrix3",value:function(e){var t=this.r,n=this.g,r=this.b,i=e.elements;return this.r=i[0]*t+i[3]*n+i[6]*r,this.g=i[1]*t+i[4]*n+i[7]*r,this.b=i[2]*t+i[5]*n+i[8]*r,this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}},{key:"toJSON",value:function(){return this.getHex()}},{key:Symbol.iterator,value:f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.r;case 2:return e.next=4,this.g;case 4:return e.next=6,this.b;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(),mP=new vP;vP.NAMES=fP;var yP=function(e){ct(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this)).isMeshBasicMaterial=!0,r.type="MeshBasicMaterial",r.color=new vP(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=DM,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.fog=!0,r.setValues(e),r}return at(n,[{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}]),n}(cP),gP=bP();function bP(){for(var e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),r=new Uint32Array(512),i=new Uint32Array(512),a=0;a<256;++a){var o=a-127;o<-27?(r[a]=0,r[256|a]=32768,i[a]=24,i[256|a]=24):o<-14?(r[a]=1024>>-o-14,r[256|a]=1024>>-o-14|32768,i[a]=-o-1,i[256|a]=-o-1):o<=15?(r[a]=o+15<<10,r[256|a]=o+15<<10|32768,i[a]=13,i[256|a]=13):o<128?(r[a]=31744,r[256|a]=64512,i[a]=24,i[256|a]=24):(r[a]=31744,r[256|a]=64512,i[a]=13,i[256|a]=13)}for(var s=new Uint32Array(2048),u=new Uint32Array(64),l=new Uint32Array(64),c=1;c<1024;++c){for(var f=c<<13,h=0;0===(8388608&f);)f<<=1,h-=8388608;f&=-8388609,h+=947912704,s[c]=f|h}for(var d=1024;d<2048;++d)s[d]=939524096+(d-1024<<13);for(var p=1;p<31;++p)u[p]=p<<23;u[31]=1199570944,u[32]=2147483648;for(var v=33;v<63;++v)u[v]=2147483648+(v-32<<23);u[63]=3347054592;for(var m=1;m<64;++m)32!==m&&(l[m]=1024);return{floatView:t,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:u,offsetTable:l}}function wP(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=hE(e,-65504,65504),gP.floatView[0]=e;var t=gP.uint32View[0],n=t>>23&511;return gP.baseTable[n]+((8388607&t)>>gP.shiftTable[n])}function xP(e){var t=e>>10;return gP.uint32View[0]=gP.mantissaTable[gP.offsetTable[t]+(1023&e)]+gP.exponentTable[t],gP.floatView[0]}var _P={toHalfFloat:wP,fromHalfFloat:xP},kP=new YE,SP=new xE,MP=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(nt(this,e),Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=n,this.count=void 0!==t?t.length/n:0,this.normalized=r,this.usage=JT,this.updateRange={offset:0,count:-1},this.version=0}return at(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"applyMatrix3",value:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)SP.fromBufferAttribute(this,t),SP.applyMatrix3(e),this.setXY(t,SP.x,SP.y);else if(3===this.itemSize)for(var r=0,i=this.count;r<i;r++)kP.fromBufferAttribute(this,r),kP.applyMatrix3(e),this.setXYZ(r,kP.x,kP.y,kP.z);return this}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.count;t<n;t++)kP.fromBufferAttribute(this,t),kP.applyMatrix4(e),this.setXYZ(t,kP.x,kP.y,kP.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)kP.fromBufferAttribute(this,t),kP.applyNormalMatrix(e),this.setXYZ(t,kP.x,kP.y,kP.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)kP.fromBufferAttribute(this,t),kP.transformDirection(e),this.setXYZ(t,kP.x,kP.y,kP.z);return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"getX",value:function(e){var t=this.array[e*this.itemSize];return this.normalized&&(t=gE(t,this.array)),t}},{key:"setX",value:function(e,t){return this.normalized&&(t=bE(t,this.array)),this.array[e*this.itemSize]=t,this}},{key:"getY",value:function(e){var t=this.array[e*this.itemSize+1];return this.normalized&&(t=gE(t,this.array)),t}},{key:"setY",value:function(e,t){return this.normalized&&(t=bE(t,this.array)),this.array[e*this.itemSize+1]=t,this}},{key:"getZ",value:function(e){var t=this.array[e*this.itemSize+2];return this.normalized&&(t=gE(t,this.array)),t}},{key:"setZ",value:function(e,t){return this.normalized&&(t=bE(t,this.array)),this.array[e*this.itemSize+2]=t,this}},{key:"getW",value:function(e){var t=this.array[e*this.itemSize+3];return this.normalized&&(t=gE(t,this.array)),t}},{key:"setW",value:function(e,t){return this.normalized&&(t=bE(t,this.array)),this.array[e*this.itemSize+3]=t,this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.normalized&&(t=bE(t,this.array),n=bE(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=bE(t,this.array),n=bE(n,this.array),r=bE(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=bE(t,this.array),n=bE(n,this.array),r=bE(r,this.array),i=bE(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==JT&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}},{key:"copyColorsArray",value:function(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}},{key:"copyVector2sArray",value:function(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}},{key:"copyVector3sArray",value:function(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}},{key:"copyVector4sArray",value:function(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}]),e}(),AP=function(e){ct(n,e);var t=dt(n);function n(e,r,i){return nt(this,n),t.call(this,new Int8Array(e),r,i)}return at(n)}(MP),TP=function(e){ct(n,e);var t=dt(n);function n(e,r,i){return nt(this,n),t.call(this,new Uint8Array(e),r,i)}return at(n)}(MP),EP=function(e){ct(n,e);var t=dt(n);function n(e,r,i){return nt(this,n),t.call(this,new Uint8ClampedArray(e),r,i)}return at(n)}(MP),CP=function(e){ct(n,e);var t=dt(n);function n(e,r,i){return nt(this,n),t.call(this,new Int16Array(e),r,i)}return at(n)}(MP),PP=function(e){ct(n,e);var t=dt(n);function n(e,r,i){return nt(this,n),t.call(this,new Uint16Array(e),r,i)}return at(n)}(MP),RP=function(e){ct(n,e);var t=dt(n);function n(e,r,i){return nt(this,n),t.call(this,new Int32Array(e),r,i)}return at(n)}(MP),IP=function(e){ct(n,e);var t=dt(n);function n(e,r,i){return nt(this,n),t.call(this,new Uint32Array(e),r,i)}return at(n)}(MP),LP=function(e){ct(n,e);var t=dt(n);function n(e,r,i){var a;return nt(this,n),(a=t.call(this,new Uint16Array(e),r,i)).isFloat16BufferAttribute=!0,a}return at(n,[{key:"getX",value:function(e){var t=xP(this.array[e*this.itemSize]);return this.normalized&&(t=gE(t,this.array)),t}},{key:"setX",value:function(e,t){return this.normalized&&(t=bE(t,this.array)),this.array[e*this.itemSize]=wP(t),this}},{key:"getY",value:function(e){var t=xP(this.array[e*this.itemSize+1]);return this.normalized&&(t=gE(t,this.array)),t}},{key:"setY",value:function(e,t){return this.normalized&&(t=bE(t,this.array)),this.array[e*this.itemSize+1]=wP(t),this}},{key:"getZ",value:function(e){var t=xP(this.array[e*this.itemSize+2]);return this.normalized&&(t=gE(t,this.array)),t}},{key:"setZ",value:function(e,t){return this.normalized&&(t=bE(t,this.array)),this.array[e*this.itemSize+2]=wP(t),this}},{key:"getW",value:function(e){var t=xP(this.array[e*this.itemSize+3]);return this.normalized&&(t=gE(t,this.array)),t}},{key:"setW",value:function(e,t){return this.normalized&&(t=bE(t,this.array)),this.array[e*this.itemSize+3]=wP(t),this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.normalized&&(t=bE(t,this.array),n=bE(n,this.array)),this.array[e+0]=wP(t),this.array[e+1]=wP(n),this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=bE(t,this.array),n=bE(n,this.array),r=bE(r,this.array)),this.array[e+0]=wP(t),this.array[e+1]=wP(n),this.array[e+2]=wP(r),this}},{key:"setXYZW",value:function(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=bE(t,this.array),n=bE(n,this.array),r=bE(r,this.array),i=bE(i,this.array)),this.array[e+0]=wP(t),this.array[e+1]=wP(n),this.array[e+2]=wP(r),this.array[e+3]=wP(i),this}}]),n}(MP),NP=function(e){ct(n,e);var t=dt(n);function n(e,r,i){return nt(this,n),t.call(this,new Float32Array(e),r,i)}return at(n)}(MP),OP=function(e){ct(n,e);var t=dt(n);function n(e,r,i){return nt(this,n),t.call(this,new Float64Array(e),r,i)}return at(n)}(MP),DP=0,UP=new MC,zP=new QC,BP=new YE,FP=new KE,HP=new KE,WP=new YE,GP=function(e){ct(n,e);var t=dt(n);function n(){var e;return nt(this,n),(e=t.call(this)).isBufferGeometry=!0,Object.defineProperty(ot(e),"id",{value:DP++}),e.uuid=fE(),e.name="",e.type="BufferGeometry",e.index=null,e.attributes={},e.morphAttributes={},e.morphTargetsRelative=!1,e.groups=[],e.boundingBox=null,e.boundingSphere=null,e.drawRange={start:0,count:1/0},e.userData={},e}return at(n,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return Array.isArray(e)?this.index=new(SE(e)?IP:PP)(e,1):this.index=e,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,t){this.drawRange.start=e,this.drawRange.count=t}},{key:"applyMatrix4",value:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new _E).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(e){return UP.makeRotationFromQuaternion(e),this.applyMatrix4(UP),this}},{key:"rotateX",value:function(e){return UP.makeRotationX(e),this.applyMatrix4(UP),this}},{key:"rotateY",value:function(e){return UP.makeRotationY(e),this.applyMatrix4(UP),this}},{key:"rotateZ",value:function(e){return UP.makeRotationZ(e),this.applyMatrix4(UP),this}},{key:"translate",value:function(e,t,n){return UP.makeTranslation(e,t,n),this.applyMatrix4(UP),this}},{key:"scale",value:function(e,t,n){return UP.makeScale(e,t,n),this.applyMatrix4(UP),this}},{key:"lookAt",value:function(e){return zP.lookAt(e),zP.updateMatrix(),this.applyMatrix4(zP.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(BP).negate(),this.translate(BP.x,BP.y,BP.z),this}},{key:"setFromPoints",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new NP(t,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new KE);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new YE(-1/0,-1/0,-1/0),new YE(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];FP.setFromBufferAttribute(i),this.morphTargetsRelative?(WP.addVectors(this.boundingBox.min,FP.min),this.boundingBox.expandByPoint(WP),WP.addVectors(this.boundingBox.max,FP.max),this.boundingBox.expandByPoint(WP)):(this.boundingBox.expandByPoint(FP.min),this.boundingBox.expandByPoint(FP.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new mC);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new YE,1/0);if(e){var n=this.boundingSphere.center;if(FP.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var a=t[r];HP.setFromBufferAttribute(a),this.morphTargetsRelative?(WP.addVectors(FP.min,HP.min),FP.expandByPoint(WP),WP.addVectors(FP.max,HP.max),FP.expandByPoint(WP)):(FP.expandByPoint(HP.min),FP.expandByPoint(HP.max))}FP.getCenter(n);for(var o=0,s=0,u=e.count;s<u;s++)WP.fromBufferAttribute(e,s),o=Math.max(o,n.distanceToSquared(WP));if(t)for(var l=0,c=t.length;l<c;l++)for(var f=t[l],h=this.morphTargetsRelative,d=0,p=f.count;d<p;d++)WP.fromBufferAttribute(f,d),h&&(BP.fromBufferAttribute(e,d),WP.add(BP)),o=Math.max(o,n.distanceToSquared(WP));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeTangents",value:function(){var e=this.index,t=this.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){var n=e.array,r=t.position.array,i=t.normal.array,a=t.uv.array,o=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new MP(new Float32Array(4*o),4));for(var s=this.getAttribute("tangent").array,u=[],l=[],c=0;c<o;c++)u[c]=new YE,l[c]=new YE;var f=new YE,h=new YE,d=new YE,p=new xE,v=new xE,m=new xE,y=new YE,g=new YE,b=this.groups;0===b.length&&(b=[{start:0,count:n.length}]);for(var w=0,x=b.length;w<x;++w)for(var _=b[w],k=_.start,S=k,M=k+_.count;S<M;S+=3)D(n[S+0],n[S+1],n[S+2]);for(var A=new YE,T=new YE,E=new YE,C=new YE,P=0,R=b.length;P<R;++P)for(var I=b[P],L=I.start,N=L,O=L+I.count;N<O;N+=3)U(n[N+0]),U(n[N+1]),U(n[N+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function D(e,t,n){f.fromArray(r,3*e),h.fromArray(r,3*t),d.fromArray(r,3*n),p.fromArray(a,2*e),v.fromArray(a,2*t),m.fromArray(a,2*n),h.sub(f),d.sub(f),v.sub(p),m.sub(p);var i=1/(v.x*m.y-m.x*v.y);isFinite(i)&&(y.copy(h).multiplyScalar(m.y).addScaledVector(d,-v.y).multiplyScalar(i),g.copy(d).multiplyScalar(v.x).addScaledVector(h,-m.x).multiplyScalar(i),u[e].add(y),u[t].add(y),u[n].add(y),l[e].add(g),l[t].add(g),l[n].add(g))}function U(e){E.fromArray(i,3*e),C.copy(E);var t=u[e];A.copy(t),A.sub(E.multiplyScalar(E.dot(t))).normalize(),T.crossVectors(C,t);var n=T.dot(l[e])<0?-1:1;s[4*e]=A.x,s[4*e+1]=A.y,s[4*e+2]=A.z,s[4*e+3]=n}}},{key:"computeVertexNormals",value:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new MP(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,i=n.count;r<i;r++)n.setXYZ(r,0,0,0);var a=new YE,o=new YE,s=new YE,u=new YE,l=new YE,c=new YE,f=new YE,h=new YE;if(e)for(var d=0,p=e.count;d<p;d+=3){var v=e.getX(d+0),m=e.getX(d+1),y=e.getX(d+2);a.fromBufferAttribute(t,v),o.fromBufferAttribute(t,m),s.fromBufferAttribute(t,y),f.subVectors(s,o),h.subVectors(a,o),f.cross(h),u.fromBufferAttribute(n,v),l.fromBufferAttribute(n,m),c.fromBufferAttribute(n,y),u.add(f),l.add(f),c.add(f),n.setXYZ(v,u.x,u.y,u.z),n.setXYZ(m,l.x,l.y,l.z),n.setXYZ(y,c.x,c.y,c.z)}else for(var g=0,b=t.count;g<b;g+=3)a.fromBufferAttribute(t,g+0),o.fromBufferAttribute(t,g+1),s.fromBufferAttribute(t,g+2),f.subVectors(s,o),h.subVectors(a,o),f.cross(h),n.setXYZ(g+0,f.x,f.y,f.z),n.setXYZ(g+1,f.x,f.y,f.z),n.setXYZ(g+2,f.x,f.y,f.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"merge",value:function(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)WP.fromBufferAttribute(e,t),WP.normalize(),e.setXYZ(t,WP.x,WP.y,WP.z)}},{key:"toNonIndexed",value:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r),o=0,s=0,u=0,l=t.length;u<l;u++){o=e.isInterleavedBufferAttribute?t[u]*e.data.stride+e.offset:t[u]*r;for(var c=0;c<r;c++)a[s++]=n[o++]}return new MP(a,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var t=new n,r=this.index.array,i=this.attributes;for(var a in i){var o=e(i[a],r);t.setAttribute(a,o)}var s=this.morphAttributes;for(var u in s){for(var l=[],c=s[u],f=0,h=c.length;f<h;f++){var d=e(c[f],r);l.push(d)}t.morphAttributes[u]=l}t.morphTargetsRelative=this.morphTargetsRelative;for(var p=this.groups,v=0,m=p.length;v<m;v++){var y=p[v];t.addGroup(y.start,y.count,y.materialIndex)}return t}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var a in i){var o=i[a];e.data.attributes[a]=o.toJSON(e.data)}var s={},u=!1;for(var l in this.morphAttributes){for(var c=this.morphAttributes[l],f=[],h=0,d=c.length;h<d;h++){var p=c[h];f.push(p.toJSON(e.data))}f.length>0&&(s[l]=f,u=!0)}u&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);var v=this.groups;v.length>0&&(e.data.groups=JSON.parse(JSON.stringify(v)));var m=this.boundingSphere;return null!==m&&(e.data.boundingSphere={center:m.center.toArray(),radius:m.radius}),e}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var r=e.attributes;for(var i in r){var a=r[i];this.setAttribute(i,a.clone(t))}var o=e.morphAttributes;for(var s in o){for(var u=[],l=o[s],c=0,f=l.length;c<f;c++)u.push(l[c].clone(t));this.morphAttributes[s]=u}this.morphTargetsRelative=e.morphTargetsRelative;for(var h=e.groups,d=0,p=h.length;d<p;d++){var v=h[d];this.addGroup(v.start,v.count,v.materialIndex)}var m=e.boundingBox;null!==m&&(this.boundingBox=m.clone());var y=e.boundingSphere;return null!==y&&(this.boundingSphere=y.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(oE),jP=new MC,VP=new SC,qP=new mC,XP=new YE,JP=new YE,YP=new YE,QP=new YE,ZP=new YE,KP=new YE,$P=new xE,eR=new xE,tR=new xE,nR=new YE,rR=new YE,iR=new YE,aR=new YE,oR=new YE,sR=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new GP,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new yP;return nt(this,n),(e=t.call(this)).isMesh=!0,e.type="Mesh",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return at(n,[{key:"copy",value:function(e,t){return ut(st(n.prototype),"copy",this).call(this,e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}},{key:"getVertexPosition",value:function(e,t){var n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(r,e);var o=this.morphTargetInfluences;if(i&&o){KP.set(0,0,0);for(var s=0,u=i.length;s<u;s++){var l=o[s],c=i[s];0!==l&&(ZP.fromBufferAttribute(c,e),a?KP.addScaledVector(ZP,l):KP.addScaledVector(ZP.sub(t),l))}t.add(KP)}return this.isSkinnedMesh&&this.applyBoneTransform(e,t),t}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r){if(null===n.boundingSphere&&n.computeBoundingSphere(),qP.copy(n.boundingSphere),qP.applyMatrix4(i),VP.copy(e.ray).recast(e.near),!1===qP.containsPoint(VP.origin)){if(null===VP.intersectSphere(qP,XP))return;if(VP.origin.distanceToSquared(XP)>Math.pow(e.far-e.near,2))return}if(jP.copy(i).invert(),VP.copy(e.ray).applyMatrix4(jP),null===n.boundingBox||!1!==VP.intersectsBox(n.boundingBox)){var a,o=n.index,s=n.attributes.position,u=n.attributes.uv,l=n.attributes.uv2,c=n.attributes.normal,f=n.groups,h=n.drawRange;if(null!==o)if(Array.isArray(r))for(var d=0,p=f.length;d<p;d++)for(var v=f[d],m=r[v.materialIndex],y=Math.max(v.start,h.start),g=Math.min(o.count,Math.min(v.start+v.count,h.start+h.count));y<g;y+=3){var b=o.getX(y),w=o.getX(y+1),x=o.getX(y+2);(a=uR(this,m,e,VP,u,l,c,b,w,x))&&(a.faceIndex=Math.floor(y/3),a.face.materialIndex=v.materialIndex,t.push(a))}else for(var _=Math.max(0,h.start),k=Math.min(o.count,h.start+h.count);_<k;_+=3){var S=o.getX(_),M=o.getX(_+1),A=o.getX(_+2);(a=uR(this,r,e,VP,u,l,c,S,M,A))&&(a.faceIndex=Math.floor(_/3),t.push(a))}else if(void 0!==s)if(Array.isArray(r))for(var T=0,E=f.length;T<E;T++)for(var C=f[T],P=r[C.materialIndex],R=Math.max(C.start,h.start),I=Math.min(s.count,Math.min(C.start+C.count,h.start+h.count));R<I;R+=3){(a=uR(this,P,e,VP,u,l,c,R,R+1,R+2))&&(a.faceIndex=Math.floor(R/3),a.face.materialIndex=C.materialIndex,t.push(a))}else for(var L=Math.max(0,h.start),N=Math.min(s.count,h.start+h.count);L<N;L+=3){(a=uR(this,r,e,VP,u,l,c,L,L+1,L+2))&&(a.faceIndex=Math.floor(L/3),t.push(a))}}}}}]),n}(QC);function uR(e,t,n,r,i,a,o,s,u,l){e.getVertexPosition(s,JP),e.getVertexPosition(u,YP),e.getVertexPosition(l,QP);var c=function(e,t,n,r,i,a,o,s){if(null===(t.side===rM?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,t.side===nM,s)))return null;oR.copy(s),oR.applyMatrix4(e.matrixWorld);var u=n.ray.origin.distanceTo(oR);return u<n.near||u>n.far?null:{distance:u,point:oR.clone(),object:e}}(e,t,n,r,JP,YP,QP,aR);if(c){i&&($P.fromBufferAttribute(i,s),eR.fromBufferAttribute(i,u),tR.fromBufferAttribute(i,l),c.uv=uP.getInterpolation(aR,JP,YP,QP,$P,eR,tR,new xE)),a&&($P.fromBufferAttribute(a,s),eR.fromBufferAttribute(a,u),tR.fromBufferAttribute(a,l),c.uv2=uP.getInterpolation(aR,JP,YP,QP,$P,eR,tR,new xE)),o&&(nR.fromBufferAttribute(o,s),rR.fromBufferAttribute(o,u),iR.fromBufferAttribute(o,l),c.normal=uP.getInterpolation(aR,JP,YP,QP,nR,rR,iR,new YE),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));var f={a:s,b:u,c:l,normal:new YE,materialIndex:0};uP.getNormal(JP,YP,QP,f.normal),c.face=f}return c}var lR=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;nt(this,n),(e=t.call(this)).type="BoxGeometry",e.parameters={width:r,height:i,depth:a,widthSegments:o,heightSegments:s,depthSegments:u};var l=ot(e);o=Math.floor(o),s=Math.floor(s),u=Math.floor(u);var c=[],f=[],h=[],d=[],p=0,v=0;function m(e,t,n,r,i,a,o,s,u,m,y){for(var g=a/u,b=o/m,w=a/2,x=o/2,_=s/2,k=u+1,S=m+1,M=0,A=0,T=new YE,E=0;E<S;E++)for(var C=E*b-x,P=0;P<k;P++){var R=P*g-w;T[e]=R*r,T[t]=C*i,T[n]=_,f.push(T.x,T.y,T.z),T[e]=0,T[t]=0,T[n]=s>0?1:-1,h.push(T.x,T.y,T.z),d.push(P/u),d.push(1-E/m),M+=1}for(var I=0;I<m;I++)for(var L=0;L<u;L++){var N=p+L+k*I,O=p+L+k*(I+1),D=p+(L+1)+k*(I+1),U=p+(L+1)+k*I;c.push(N,O,U),c.push(O,D,U),A+=6}l.addGroup(v,A,y),v+=A,p+=M}return m("z","y","x",-1,-1,a,i,r,u,s,0),m("z","y","x",1,-1,a,i,-r,u,s,1),m("x","z","y",1,1,r,a,i,o,u,2),m("x","z","y",1,-1,r,a,-i,o,u,3),m("x","y","z",1,-1,r,i,a,o,s,4),m("x","y","z",-1,-1,r,i,-a,o,s,5),e.setIndex(c),e.setAttribute("position",new NP(f,3)),e.setAttribute("normal",new NP(h,3)),e.setAttribute("uv",new NP(d,2)),e}return at(n,[{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}]),n}(GP);function cR(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][r]=null):t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function fR(e){for(var t={},n=0;n<e.length;n++){var r=cR(e[n]);for(var i in r)t[i]=r[i]}return t}function hR(e){return null===e.getRenderTarget()&&e.outputEncoding===kT?CT:PT}var dR={clone:cR,merge:fR},pR=function(e){ct(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this)).isShaderMaterial=!0,r.type="ShaderMaterial",r.defines={},r.uniforms={},r.uniformsGroups=[],r.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",r.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",r.linewidth=1,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.lights=!1,r.clipping=!1,r.forceSinglePass=!0,r.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},r.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},r.index0AttributeName=void 0,r.uniformsNeedUpdate=!1,r.glslVersion=null,void 0!==e&&r.setValues(e),r}return at(n,[{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=cR(e.uniforms),this.uniformsGroups=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}},{key:"toJSON",value:function(e){var t=ut(st(n.prototype),"toJSON",this).call(this,e);for(var r in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var i=this.uniforms[r].value;i&&i.isTexture?t.uniforms[r]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[r]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[r]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[r]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[r]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[r]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[r]={type:"m4",value:i.toArray()}:t.uniforms[r]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var a={};for(var o in this.extensions)!0===this.extensions[o]&&(a[o]=!0);return Object.keys(a).length>0&&(t.extensions=a),t}}]),n}(cP),vR=function(e){ct(n,e);var t=dt(n);function n(){var e;return nt(this,n),(e=t.call(this)).isCamera=!0,e.type="Camera",e.matrixWorldInverse=new MC,e.projectionMatrix=new MC,e.projectionMatrixInverse=new MC,e}return at(n,[{key:"copy",value:function(e,t){return ut(st(n.prototype),"copy",this).call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}},{key:"updateMatrixWorld",value:function(e){ut(st(n.prototype),"updateMatrixWorld",this).call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,t){ut(st(n.prototype),"updateWorldMatrix",this).call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(QC),mR=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return nt(this,n),(e=t.call(this)).isPerspectiveCamera=!0,e.type="PerspectiveCamera",e.fov=r,e.zoom=1,e.near=a,e.far=o,e.focus=10,e.aspect=i,e.view=null,e.filmGauge=35,e.filmOffset=0,e.updateProjectionMatrix(),e}return at(n,[{key:"copy",value:function(e,t){return ut(st(n.prototype),"copy",this).call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*cE*Math.atan(t),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*lE*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*cE*Math.atan(Math.tan(.5*lE*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=this.near,t=e*Math.tan(.5*lE*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,t-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}var u=this.filmOffset;0!==u&&(i+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=ut(st(n.prototype),"toJSON",this).call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}]),n}(vR),yR=-90,gR=function(e){ct(n,e);var t=dt(n);function n(e,r,i){var a;nt(this,n),(a=t.call(this)).type="CubeCamera",a.renderTarget=i;var o=new mR(yR,1,e,r);o.layers=a.layers,o.up.set(0,1,0),o.lookAt(1,0,0),a.add(o);var s=new mR(yR,1,e,r);s.layers=a.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),a.add(s);var u=new mR(yR,1,e,r);u.layers=a.layers,u.up.set(0,0,-1),u.lookAt(0,1,0),a.add(u);var l=new mR(yR,1,e,r);l.layers=a.layers,l.up.set(0,0,1),l.lookAt(0,-1,0),a.add(l);var c=new mR(yR,1,e,r);c.layers=a.layers,c.up.set(0,1,0),c.lookAt(0,0,1),a.add(c);var f=new mR(yR,1,e,r);return f.layers=a.layers,f.up.set(0,1,0),f.lookAt(0,0,-1),a.add(f),a}return at(n,[{key:"update",value:function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=l(this.children,6),i=r[0],a=r[1],o=r[2],s=r[3],u=r[4],c=r[5],f=e.getRenderTarget(),h=e.toneMapping,d=e.xr.enabled;e.toneMapping=BM,e.xr.enabled=!1;var p=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,a),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,s),e.setRenderTarget(n,4),e.render(t,u),n.texture.generateMipmaps=p,e.setRenderTarget(n,5),e.render(t,c),e.setRenderTarget(f),e.toneMapping=h,e.xr.enabled=d,n.texture.needsPMREMUpdate=!0}}]),n}(QC),bR=function(e){ct(n,e);var t=dt(n);function n(e,r,i,a,o,s,u,l,c,f){var h;return nt(this,n),e=void 0!==e?e:[],r=void 0!==r?r:qM,(h=t.call(this,e,r,i,a,o,s,u,l,c,f)).isCubeTexture=!0,h.flipY=!1,h}return at(n,[{key:"images",get:function(){return this.image},set:function(e){this.image=e}}]),n}(FE),wR=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};nt(this,n),(e=t.call(this,r,r,i)).isWebGLCubeRenderTarget=!0;var a={width:r,height:r,depth:1},o=[a,a,a,a,a,a];return e.texture=new bR(o,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),e.texture.isRenderTargetTexture=!0,e.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,e.texture.minFilter=void 0!==i.minFilter?i.minFilter:aA,e}return at(n,[{key:"fromEquirectangularTexture",value:function(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",a=new lR(5,5,5),o=new pR({name:"CubemapFromEquirect",uniforms:cR(n),vertexShader:r,fragmentShader:i,side:rM,blending:oM});o.uniforms.tEquirect.value=t;var s=new sR(a,o),u=t.minFilter;return t.minFilter===uA&&(t.minFilter=aA),new gR(1,10,this).update(e,s),t.minFilter=u,s.geometry.dispose(),s.material.dispose(),this}},{key:"clear",value:function(e,t,n,r){for(var i=e.getRenderTarget(),a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(i)}}]),n}(WE),xR=new YE,_R=new YE,kR=new _E,SR=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new YE(1,0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;nt(this,e),this.isPlane=!0,this.normal=t,this.constant=n}return at(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){var r=xR.subVectors(n,t).cross(_R.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}},{key:"intersectLine",value:function(e,t){var n=e.delta(xR),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(e.start).addScaledVector(n,i)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var n=t||kR.getNormalMatrix(e),r=this.coplanarPoint(xR).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),MR=new mC,AR=new YE,TR=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new SR,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new SR,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new SR,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new SR,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new SR,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new SR;nt(this,e),this.planes=[t,n,r,i,a,o]}return at(e,[{key:"set",value:function(e,t,n,r,i,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],u=n[5],l=n[6],c=n[7],f=n[8],h=n[9],d=n[10],p=n[11],v=n[12],m=n[13],y=n[14],g=n[15];return t[0].setComponents(o-r,c-s,p-f,g-v).normalize(),t[1].setComponents(o+r,c+s,p+f,g+v).normalize(),t[2].setComponents(o+i,c+u,p+h,g+m).normalize(),t[3].setComponents(o-i,c-u,p-h,g-m).normalize(),t[4].setComponents(o-a,c-l,p-d,g-y).normalize(),t[5].setComponents(o+a,c+l,p+d,g+y).normalize(),this}},{key:"intersectsObject",value:function(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),MR.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{var t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),MR.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(MR)}},{key:"intersectsSprite",value:function(e){return MR.center.set(0,0,0),MR.radius=.7071067811865476,MR.applyMatrix4(e.matrixWorld),this.intersectsSphere(MR)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(AR.x=r.normal.x>0?e.max.x:e.min.x,AR.y=r.normal.y>0?e.max.y:e.min.y,AR.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(AR)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();function ER(){var e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function CR(e,t){var n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){var a=r.get(t);(!a||a.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);var o=r.get(t);void 0===o?r.set(t,function(t,r){var i,a=t.array,o=t.usage,s=e.createBuffer();if(e.bindBuffer(r,s),e.bufferData(r,a,o),t.onUploadCallback(),a instanceof Float32Array)i=5126;else if(a instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");i=5131}else i=5123;else if(a instanceof Int16Array)i=5122;else if(a instanceof Uint32Array)i=5125;else if(a instanceof Int32Array)i=5124;else if(a instanceof Int8Array)i=5120;else if(a instanceof Uint8Array)i=5121;else{if(!(a instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+a);i=5121}return{buffer:s,type:i,bytesPerElement:a.BYTES_PER_ELEMENT,version:t.version}}(t,i)):o.version<t.version&&(!function(t,r,i){var a=r.array,o=r.updateRange;e.bindBuffer(i,t),-1===o.count?e.bufferSubData(i,0,a):(n?e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1),r.onUploadCallback()}(o.buffer,t,i),o.version=t.version)}}}}var PR=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;nt(this,n),(e=t.call(this)).type="PlaneGeometry",e.parameters={width:r,height:i,widthSegments:a,heightSegments:o};for(var s=r/2,u=i/2,l=Math.floor(a),c=Math.floor(o),f=l+1,h=c+1,d=r/l,p=i/c,v=[],m=[],y=[],g=[],b=0;b<h;b++)for(var w=b*p-u,x=0;x<f;x++){var _=x*d-s;m.push(_,-w,0),y.push(0,0,1),g.push(x/l),g.push(1-b/c)}for(var k=0;k<c;k++)for(var S=0;S<l;S++){var M=S+f*k,A=S+f*(k+1),T=S+1+f*(k+1),E=S+1+f*k;v.push(M,A,E),v.push(A,T,E)}return e.setIndex(v),e.setAttribute("position",new NP(m,3)),e.setAttribute("normal",new NP(y,3)),e.setAttribute("uv",new NP(g,2)),e}return at(n,[{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.widthSegments,e.heightSegments)}}]),n}(GP),RR={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_NORMALMAP_TANGENTSPACE\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, vec2 fullSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\t\n\t\tvec2 lodFudge = pow( 1.95, lod ) / fullSize;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec2 fullSize = vec2( textureSize( sampler, 0 ) );\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), fullSize, floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), fullSize, ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#ifdef USE_UV\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_UV2\n\tattribute vec2 uv2;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},IR={common:{diffuse:{value:new vP(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new _E},alphaMap:{value:null},alphaMapTransform:{value:new _E},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new _E}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new _E}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new _E}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new _E},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new _E},normalScale:{value:new xE(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new _E},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new _E}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new _E}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new _E}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new vP(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new vP(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new _E}},sprite:{diffuse:{value:new vP(16777215)},opacity:{value:1},center:{value:new xE(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new _E},alphaMap:{value:null},alphaTest:{value:0}}},LR={basic:{uniforms:fR([IR.common,IR.specularmap,IR.envmap,IR.aomap,IR.lightmap,IR.fog]),vertexShader:RR.meshbasic_vert,fragmentShader:RR.meshbasic_frag},lambert:{uniforms:fR([IR.common,IR.specularmap,IR.envmap,IR.aomap,IR.lightmap,IR.emissivemap,IR.bumpmap,IR.normalmap,IR.displacementmap,IR.fog,IR.lights,{emissive:{value:new vP(0)}}]),vertexShader:RR.meshlambert_vert,fragmentShader:RR.meshlambert_frag},phong:{uniforms:fR([IR.common,IR.specularmap,IR.envmap,IR.aomap,IR.lightmap,IR.emissivemap,IR.bumpmap,IR.normalmap,IR.displacementmap,IR.fog,IR.lights,{emissive:{value:new vP(0)},specular:{value:new vP(1118481)},shininess:{value:30}}]),vertexShader:RR.meshphong_vert,fragmentShader:RR.meshphong_frag},standard:{uniforms:fR([IR.common,IR.envmap,IR.aomap,IR.lightmap,IR.emissivemap,IR.bumpmap,IR.normalmap,IR.displacementmap,IR.roughnessmap,IR.metalnessmap,IR.fog,IR.lights,{emissive:{value:new vP(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:RR.meshphysical_vert,fragmentShader:RR.meshphysical_frag},toon:{uniforms:fR([IR.common,IR.aomap,IR.lightmap,IR.emissivemap,IR.bumpmap,IR.normalmap,IR.displacementmap,IR.gradientmap,IR.fog,IR.lights,{emissive:{value:new vP(0)}}]),vertexShader:RR.meshtoon_vert,fragmentShader:RR.meshtoon_frag},matcap:{uniforms:fR([IR.common,IR.bumpmap,IR.normalmap,IR.displacementmap,IR.fog,{matcap:{value:null}}]),vertexShader:RR.meshmatcap_vert,fragmentShader:RR.meshmatcap_frag},points:{uniforms:fR([IR.points,IR.fog]),vertexShader:RR.points_vert,fragmentShader:RR.points_frag},dashed:{uniforms:fR([IR.common,IR.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:RR.linedashed_vert,fragmentShader:RR.linedashed_frag},depth:{uniforms:fR([IR.common,IR.displacementmap]),vertexShader:RR.depth_vert,fragmentShader:RR.depth_frag},normal:{uniforms:fR([IR.common,IR.bumpmap,IR.normalmap,IR.displacementmap,{opacity:{value:1}}]),vertexShader:RR.meshnormal_vert,fragmentShader:RR.meshnormal_frag},sprite:{uniforms:fR([IR.sprite,IR.fog]),vertexShader:RR.sprite_vert,fragmentShader:RR.sprite_frag},background:{uniforms:{uvTransform:{value:new _E},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:RR.background_vert,fragmentShader:RR.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:RR.backgroundCube_vert,fragmentShader:RR.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:RR.cube_vert,fragmentShader:RR.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:RR.equirect_vert,fragmentShader:RR.equirect_frag},distanceRGBA:{uniforms:fR([IR.common,IR.displacementmap,{referencePosition:{value:new YE},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:RR.distanceRGBA_vert,fragmentShader:RR.distanceRGBA_frag},shadow:{uniforms:fR([IR.lights,IR.fog,{color:{value:new vP(0)},opacity:{value:1}}]),vertexShader:RR.shadow_vert,fragmentShader:RR.shadow_frag}};LR.physical={uniforms:fR([LR.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new _E},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new _E},clearcoatNormalScale:{value:new xE(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new _E},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new _E},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new _E},sheen:{value:0},sheenColor:{value:new vP(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new _E},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new _E},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new _E},transmissionSamplerSize:{value:new xE},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new _E},attenuationDistance:{value:0},attenuationColor:{value:new vP(0)},specularColor:{value:new vP(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new _E},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new _E}}]),vertexShader:RR.meshphysical_vert,fragmentShader:RR.meshphysical_frag};var NR={r:0,b:0,g:0};function OR(e,t,n,r,i,a,o){var s,u,l=new vP(0),c=!0===a?0:1,f=null,h=0,d=null;function p(t,n){t.getRGB(NR,hR(e)),r.buffers.color.setClear(NR.r,NR.g,NR.b,n,o)}return{getClearColor:function(){return l},setClearColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;l.set(e),p(l,c=t)},getClearAlpha:function(){return c},setClearAlpha:function(e){p(l,c=e)},render:function(r,a){var o=!1,v=!0===a.isScene?a.background:null;v&&v.isTexture&&(v=(a.backgroundBlurriness>0?n:t).get(v));var m=e.xr,y=m.getSession&&m.getSession();y&&"additive"===y.environmentBlendMode&&(v=null),null===v?p(l,c):v&&v.isColor&&(p(v,1),o=!0),(e.autoClear||o)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),v&&(v.isCubeTexture||v.mapping===QM)?(void 0===u&&((u=new sR(new lR(1,1,1),new pR({name:"BackgroundCubeMaterial",uniforms:cR(LR.backgroundCube.uniforms),vertexShader:LR.backgroundCube.vertexShader,fragmentShader:LR.backgroundCube.fragmentShader,side:rM,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=v,u.material.uniforms.flipEnvMap.value=v.isCubeTexture&&!1===v.isRenderTargetTexture?-1:1,u.material.uniforms.backgroundBlurriness.value=a.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=a.backgroundIntensity,u.material.toneMapped=v.encoding!==kT,f===v&&h===v.version&&d===e.toneMapping||(u.material.needsUpdate=!0,f=v,h=v.version,d=e.toneMapping),u.layers.enableAll(),r.unshift(u,u.geometry,u.material,0,0,null)):v&&v.isTexture&&(void 0===s&&((s=new sR(new PR(2,2),new pR({name:"BackgroundMaterial",uniforms:cR(LR.background.uniforms),vertexShader:LR.background.vertexShader,fragmentShader:LR.background.fragmentShader,side:nM,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(s)),s.material.uniforms.t2D.value=v,s.material.uniforms.backgroundIntensity.value=a.backgroundIntensity,s.material.toneMapped=v.encoding!==kT,!0===v.matrixAutoUpdate&&v.updateMatrix(),s.material.uniforms.uvTransform.value.copy(v.matrix),f===v&&h===v.version&&d===e.toneMapping||(s.material.needsUpdate=!0,f=v,h=v.version,d=e.toneMapping),s.layers.enableAll(),r.unshift(s,s.geometry,s.material,0,0,null))}}}function DR(e,t,n,r){var i=e.getParameter(34921),a=r.isWebGL2?null:t.get("OES_vertex_array_object"),o=r.isWebGL2||null!==a,s={},u=d(null),l=u,c=!1;function f(t){return r.isWebGL2?e.bindVertexArray(t):a.bindVertexArrayOES(t)}function h(t){return r.isWebGL2?e.deleteVertexArray(t):a.deleteVertexArrayOES(t)}function d(e){for(var t=[],n=[],r=[],a=0;a<i;a++)t[a]=0,n[a]=0,r[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function p(){for(var e=l.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function v(e){m(e,0)}function m(n,i){var a=l.newAttributes,o=l.enabledAttributes,s=l.attributeDivisors;(a[n]=1,0===o[n]&&(e.enableVertexAttribArray(n),o[n]=1),s[n]!==i)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i)}function y(){for(var t=l.newAttributes,n=l.enabledAttributes,r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function g(t,n,i,a,o,s){!0!==r.isWebGL2||5124!==i&&5125!==i?e.vertexAttribPointer(t,n,i,a,o,s):e.vertexAttribIPointer(t,n,i,o,s)}function b(){w(),c=!0,l!==u&&f((l=u).object)}function w(){u.geometry=null,u.program=null,u.wireframe=!1}return{setup:function(i,u,h,b,w){var x=!1;if(o){var _=function(t,n,i){var o=!0===i.wireframe,u=s[t.id];void 0===u&&(u={},s[t.id]=u);var l=u[n.id];void 0===l&&(l={},u[n.id]=l);var c=l[o];void 0===c&&(c=d(r.isWebGL2?e.createVertexArray():a.createVertexArrayOES()),l[o]=c);return c}(b,h,u);l!==_&&f((l=_).object),x=function(e,t,n,r){var i=l.attributes,a=t.attributes,o=0,s=n.getAttributes();for(var u in s){if(s[u].location>=0){var c=i[u],f=a[u];if(void 0===f&&("instanceMatrix"===u&&e.instanceMatrix&&(f=e.instanceMatrix),"instanceColor"===u&&e.instanceColor&&(f=e.instanceColor)),void 0===c)return!0;if(c.attribute!==f)return!0;if(f&&c.data!==f.data)return!0;o++}}return l.attributesNum!==o||l.index!==r}(i,b,h,w),x&&function(e,t,n,r){var i={},a=t.attributes,o=0,s=n.getAttributes();for(var u in s){if(s[u].location>=0){var c=a[u];void 0===c&&("instanceMatrix"===u&&e.instanceMatrix&&(c=e.instanceMatrix),"instanceColor"===u&&e.instanceColor&&(c=e.instanceColor));var f={};f.attribute=c,c&&c.data&&(f.data=c.data),i[u]=f,o++}}l.attributes=i,l.attributesNum=o,l.index=r}(i,b,h,w)}else{var k=!0===u.wireframe;l.geometry===b.id&&l.program===h.id&&l.wireframe===k||(l.geometry=b.id,l.program=h.id,l.wireframe=k,x=!0)}null!==w&&n.update(w,34963),(x||c)&&(c=!1,function(i,a,o,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;p();var u=s.attributes,l=o.getAttributes(),c=a.defaultAttributeValues;for(var f in l){var h=l[f];if(h.location>=0){var d=u[f];if(void 0===d&&("instanceMatrix"===f&&i.instanceMatrix&&(d=i.instanceMatrix),"instanceColor"===f&&i.instanceColor&&(d=i.instanceColor)),void 0!==d){var b=d.normalized,w=d.itemSize,x=n.get(d);if(void 0===x)continue;var _=x.buffer,k=x.type,S=x.bytesPerElement;if(d.isInterleavedBufferAttribute){var M=d.data,A=M.stride,T=d.offset;if(M.isInstancedInterleavedBuffer){for(var E=0;E<h.locationSize;E++)m(h.location+E,M.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=M.meshPerAttribute*M.count)}else for(var C=0;C<h.locationSize;C++)v(h.location+C);e.bindBuffer(34962,_);for(var P=0;P<h.locationSize;P++)g(h.location+P,w/h.locationSize,k,b,A*S,(T+w/h.locationSize*P)*S)}else{if(d.isInstancedBufferAttribute){for(var R=0;R<h.locationSize;R++)m(h.location+R,d.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=d.meshPerAttribute*d.count)}else for(var I=0;I<h.locationSize;I++)v(h.location+I);e.bindBuffer(34962,_);for(var L=0;L<h.locationSize;L++)g(h.location+L,w/h.locationSize,k,b,w*S,w/h.locationSize*L*S)}}else if(void 0!==c){var N=c[f];if(void 0!==N)switch(N.length){case 2:e.vertexAttrib2fv(h.location,N);break;case 3:e.vertexAttrib3fv(h.location,N);break;case 4:e.vertexAttrib4fv(h.location,N);break;default:e.vertexAttrib1fv(h.location,N)}}}}y()}(i,u,h,b),null!==w&&e.bindBuffer(34963,n.get(w).buffer))},reset:b,resetDefaultState:w,dispose:function(){for(var e in b(),s){var t=s[e];for(var n in t){var r=t[n];for(var i in r)h(r[i].object),delete r[i];delete t[n]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(var n in t){var r=t[n];for(var i in r)h(r[i].object),delete r[i];delete t[n]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s){var n=s[t];if(void 0!==n[e.id]){var r=n[e.id];for(var i in r)h(r[i].object),delete r[i];delete n[e.id]}}},initAttributes:p,enableAttribute:v,disableUnusedAttributes:y}}function UR(e,t,n,r){var i,a=r.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i,1)},this.renderInstances=function(r,o,s){if(0!==s){var u,l;if(a)u=e,l="drawArraysInstanced";else if(l="drawArraysInstancedANGLE",null===(u=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[l](i,r,o,s),n.update(o,i,s)}}}function zR(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a="undefined"!==typeof WebGL2RenderingContext&&"WebGL2RenderingContext"===e.constructor.name,o=void 0!==n.precision?n.precision:"highp",s=i(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var u=a||t.has("WEBGL_draw_buffers"),l=!0===n.logarithmicDepthBuffer,c=e.getParameter(34930),f=e.getParameter(35660),h=e.getParameter(3379),d=e.getParameter(34076),p=e.getParameter(34921),v=e.getParameter(36347),m=e.getParameter(36348),y=e.getParameter(36349),g=f>0,b=a||t.has("OES_texture_float");return{isWebGL2:a,drawBuffers:u,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){var n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:f,maxTextureSize:h,maxCubemapSize:d,maxAttributes:p,maxVertexUniforms:v,maxVaryings:m,maxFragmentUniforms:y,vertexTextures:g,floatFragmentTextures:b,floatVertexTextures:g&&b,maxSamples:a?e.getParameter(36183):0}}function BR(e){var t=this,n=null,r=0,i=!1,a=!1,o=new SR,s=new _E,u={value:null,needsUpdate:!1};function l(e,n,r,i){var a=null!==e?e.length:0,l=null;if(0!==a){if(l=u.value,!0!==i||null===l){var c=r+4*a,f=n.matrixWorldInverse;s.getNormalMatrix(f),(null===l||l.length<c)&&(l=new Float32Array(c));for(var h=0,d=r;h!==a;++h,d+=4)o.copy(e[h]).applyMatrix4(f,s),o.normal.toArray(l,d),l[d+3]=o.constant}u.value=l,u.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,l}this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){var n=0!==e.length||t||0!==r||i;return i=t,r=e.length,n},this.beginShadows=function(){a=!0,l(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(e,t){n=l(e,t,0)},this.setState=function(o,s,c){var f=o.clippingPlanes,h=o.clipIntersection,d=o.clipShadows,p=e.get(o);if(!i||null===f||0===f.length||a&&!d)a?l(null):function(){u.value!==n&&(u.value=n,u.needsUpdate=r>0);t.numPlanes=r,t.numIntersection=0}();else{var v=a?0:r,m=4*v,y=p.clippingState||null;u.value=y,y=l(f,s,m,c);for(var g=0;g!==m;++g)y[g]=n[g];p.clippingState=y,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=v}}}function FR(e){var t=new WeakMap;function n(e,t){return t===JM?e.mapping=qM:t===YM&&(e.mapping=XM),e}function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){var a=i.mapping;if(a===JM||a===YM){if(t.has(i))return n(t.get(i).texture,i.mapping);var o=i.image;if(o&&o.height>0){var s=new wR(o.height/2);return s.fromEquirectangularTexture(e,i),t.set(i,s),i.addEventListener("dispose",r),n(s.texture,i.mapping)}return null}}return i},dispose:function(){t=new WeakMap}}}var HR=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return nt(this,n),(e=t.call(this)).isOrthographicCamera=!0,e.type="OrthographicCamera",e.zoom=1,e.view=null,e.left=r,e.right=i,e.top=a,e.bottom=o,e.near=s,e.far=u,e.updateProjectionMatrix(),e}return at(n,[{key:"copy",value:function(e,t){return ut(st(n.prototype),"copy",this).call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var u=(this.right-this.left)/this.view.fullWidth/this.zoom,l=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(i+=u*this.view.offsetX)+u*this.view.width,s=(o-=l*this.view.offsetY)-l*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=ut(st(n.prototype),"toJSON",this).call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}]),n}(vR),WR=4,GR=[.125,.215,.35,.446,.526,.582],jR=20,VR=new HR,qR=new vP,XR=null,JR=(1+Math.sqrt(5))/2,YR=1/JR,QR=[new YE(1,1,1),new YE(-1,1,1),new YE(1,1,-1),new YE(-1,1,-1),new YE(0,JR,YR),new YE(0,JR,-YR),new YE(YR,0,JR),new YE(-YR,0,JR),new YE(JR,YR,0),new YE(-JR,YR,0)],ZR=function(){function e(t){nt(this,e),this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}return at(e,[{key:"fromScene",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;XR=this._renderer.getRenderTarget(),this._setSize(256);var i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}},{key:"fromEquirectangular",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"fromCubemap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"compileCubemapShader",value:function(){null===this._cubemapMaterial&&(this._cubemapMaterial=tI(),this._compileMaterial(this._cubemapMaterial))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectMaterial&&(this._equirectMaterial=eI(),this._compileMaterial(this._equirectMaterial))}},{key:"dispose",value:function(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}},{key:"_setSize",value:function(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}},{key:"_dispose",value:function(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(var e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}},{key:"_cleanup",value:function(e){this._renderer.setRenderTarget(XR),e.scissorTest=!1,$R(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e,t){e.mapping===qM||e.mapping===XM?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),XR=this._renderer.getRenderTarget();var n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}},{key:"_allocateTargets",value:function(){var e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:aA,minFilter:aA,generateMipmaps:!1,type:yA,format:_A,encoding:_T,depthBuffer:!1},r=KR(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=KR(e,t,n);var i=this._lodMax,a=function(e){for(var t=[],n=[],r=[],i=e,a=e-WR+1+GR.length,o=0;o<a;o++){var s=Math.pow(2,i);n.push(s);var u=1/s;o>e-WR?u=GR[o-e+WR-1]:0===o&&(u=0),r.push(u);for(var l=1/(s-2),c=-l,f=1+l,h=[c,c,f,c,f,f,c,c,f,f,c,f],d=6,p=6,v=3,m=2,y=1,g=new Float32Array(v*p*d),b=new Float32Array(m*p*d),w=new Float32Array(y*p*d),x=0;x<d;x++){var _=x%3*2/3-1,k=x>2?0:-1,S=[_,k,0,_+2/3,k,0,_+2/3,k+1,0,_,k,0,_+2/3,k+1,0,_,k+1,0];g.set(S,v*p*x),b.set(h,m*p*x);var M=[x,x,x,x,x,x];w.set(M,y*p*x)}var A=new GP;A.setAttribute("position",new MP(g,v)),A.setAttribute("uv",new MP(b,m)),A.setAttribute("faceIndex",new MP(w,y)),t.push(A),i>WR&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(i);this._sizeLods=a.sizeLods,this._lodPlanes=a.lodPlanes,this._sigmas=a.sigmas,this._blurMaterial=function(e,t,n){var r=new Float32Array(jR),i=new YE(0,1,0),a=new pR({name:"SphericalGaussianBlur",defines:{n:jR,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:oM,depthTest:!1,depthWrite:!1});return a}(i,e,t)}return r}},{key:"_compileMaterial",value:function(e){var t=new sR(this._lodPlanes[0],e);this._renderer.compile(t,VR)}},{key:"_sceneToCubeUV",value:function(e,t,n,r){var i=new mR(90,1,t,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,u=s.autoClear,l=s.toneMapping;s.getClearColor(qR),s.toneMapping=BM,s.autoClear=!1;var c=new yP({name:"PMREM.Background",side:rM,depthWrite:!1,depthTest:!1}),f=new sR(new lR,c),h=!1,d=e.background;d?d.isColor&&(c.color.copy(d),e.background=null,h=!0):(c.color.copy(qR),h=!0);for(var p=0;p<6;p++){var v=p%3;0===v?(i.up.set(0,a[p],0),i.lookAt(o[p],0,0)):1===v?(i.up.set(0,0,a[p]),i.lookAt(0,o[p],0)):(i.up.set(0,a[p],0),i.lookAt(0,0,o[p]));var m=this._cubeSize;$R(r,v*m,p>2?m:0,m,m),s.setRenderTarget(r),h&&s.render(f,i),s.render(e,i)}f.geometry.dispose(),f.material.dispose(),s.toneMapping=l,s.autoClear=u,e.background=d}},{key:"_textureToCubeUV",value:function(e,t){var n=this._renderer,r=e.mapping===qM||e.mapping===XM;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=tI()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=eI());var i=r?this._cubemapMaterial:this._equirectMaterial,a=new sR(this._lodPlanes[0],i);i.uniforms.envMap.value=e;var o=this._cubeSize;$R(t,0,0,3*o,2*o),n.setRenderTarget(t),n.render(a,VR)}},{key:"_applyPMREM",value:function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var r=1;r<this._lodPlanes.length;r++){var i=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),a=QR[(r-1)%QR.length];this._blur(e,r-1,r,i,a)}t.autoClear=n}},{key:"_blur",value:function(e,t,n,r,i){var a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",i),this._halfBlur(a,e,n,n,r,"longitudinal",i)}},{key:"_halfBlur",value:function(e,t,n,r,i,a,o){var s=this._renderer,u=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");var l=new sR(this._lodPlanes[r],u),c=u.uniforms,f=this._sizeLods[n]-1,h=isFinite(i)?Math.PI/(2*f):2*Math.PI/(2*jR-1),d=i/h,p=isFinite(i)?1+Math.floor(3*d):jR;p>jR&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(p," samples when the maximum is set to ").concat(jR));for(var v=[],m=0,y=0;y<jR;++y){var g=y/d,b=Math.exp(-g*g/2);v.push(b),0===y?m+=b:y<p&&(m+=2*b)}for(var w=0;w<v.length;w++)v[w]=v[w]/m;c.envMap.value=e.texture,c.samples.value=p,c.weights.value=v,c.latitudinal.value="latitudinal"===a,o&&(c.poleAxis.value=o);var x=this._lodMax;c.dTheta.value=h,c.mipInt.value=x-n;var _=this._sizeLods[r];$R(t,3*_*(r>x-WR?r-x+WR:0),4*(this._cubeSize-_),3*_,2*_),s.setRenderTarget(t),s.render(l,VR)}}]),e}();function KR(e,t,n){var r=new WE(e,t,n);return r.texture.mapping=QM,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function $R(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function eI(){return new pR({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:oM,depthTest:!1,depthWrite:!1})}function tI(){return new pR({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:oM,depthTest:!1,depthWrite:!1})}function nI(e){var t=new WeakMap,n=null;function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){var a=i.mapping,o=a===JM||a===YM,s=a===qM||a===XM;if(o||s){if(i.isRenderTargetTexture&&!0===i.needsPMREMUpdate){i.needsPMREMUpdate=!1;var u=t.get(i);return null===n&&(n=new ZR(e)),u=o?n.fromEquirectangular(i,u):n.fromCubemap(i,u),t.set(i,u),u.texture}if(t.has(i))return t.get(i).texture;var l=i.image;if(o&&l&&l.height>0||s&&l&&function(e){for(var t=0,n=6,r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(l)){null===n&&(n=new ZR(e));var c=o?n.fromEquirectangular(i):n.fromCubemap(i);return t.set(i,c),i.addEventListener("dispose",r),c.texture}return null}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function rI(e){var t={};function n(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){var t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function iI(e,t,n,r){var i={},a=new WeakMap;function o(e){var s=e.target;for(var u in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[u]);s.removeEventListener("dispose",o),delete i[s.id];var l=a.get(s);l&&(t.remove(l),a.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){var n=[],r=e.index,i=e.attributes.position,o=0;if(null!==r){var s=r.array;o=r.version;for(var u=0,l=s.length;u<l;u+=3){var c=s[u+0],f=s[u+1],h=s[u+2];n.push(c,f,f,h,h,c)}}else{var d=i.array;o=i.version;for(var p=0,v=d.length/3-1;p<v;p+=3){var m=p+0,y=p+1,g=p+2;n.push(m,y,y,g,g,m)}}var b=new(SE(n)?IP:PP)(n,1);b.version=o;var w=a.get(e);w&&t.remove(w),a.set(e,b)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",o),i[t.id]=!0,n.memory.geometries++),t},update:function(e){var n=e.attributes;for(var r in n)t.update(n[r],34962);var i=e.morphAttributes;for(var a in i)for(var o=i[a],s=0,u=o.length;s<u;s++)t.update(o[s],34962)},getWireframeAttribute:function(e){var t=a.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function aI(e,t,n,r){var i,a,o,s=r.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,a,t*o),n.update(r,i,1)},this.renderInstances=function(r,u,l){if(0!==l){var c,f;if(s)c=e,f="drawElementsInstanced";else if(f="drawElementsInstancedANGLE",null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[f](i,u,a,r*o,l),n.update(u,i,l)}}}function oI(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function sI(e,t){return e[0]-t[0]}function uI(e,t){return Math.abs(t[1])-Math.abs(e[1])}function lI(e,t,n){for(var r={},i=new Float32Array(8),a=new WeakMap,o=new HE,s=[],u=0;u<8;u++)s[u]=[u,0];return{update:function(u,l,c){var f=u.morphTargetInfluences;if(!0===t.isWebGL2){var h=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,d=void 0!==h?h.length:0,p=a.get(l);if(void 0===p||p.count!==d){void 0!==p&&p.texture.dispose();var v=void 0!==l.morphAttributes.position,m=void 0!==l.morphAttributes.normal,y=void 0!==l.morphAttributes.color,g=l.morphAttributes.position||[],b=l.morphAttributes.normal||[],w=l.morphAttributes.color||[],x=0;!0===v&&(x=1),!0===m&&(x=2),!0===y&&(x=3);var _=l.attributes.position.count*x,k=1;_>t.maxTextureSize&&(k=Math.ceil(_/t.maxTextureSize),_=t.maxTextureSize);var S=new Float32Array(_*k*4*d),M=new GE(S,_,k,d);M.type=mA,M.needsUpdate=!0;for(var A=4*x,T=0;T<d;T++)for(var E=g[T],C=b[T],P=w[T],R=_*k*4*T,I=0;I<E.count;I++){var L=I*A;!0===v&&(o.fromBufferAttribute(E,I),S[R+L+0]=o.x,S[R+L+1]=o.y,S[R+L+2]=o.z,S[R+L+3]=0),!0===m&&(o.fromBufferAttribute(C,I),S[R+L+4]=o.x,S[R+L+5]=o.y,S[R+L+6]=o.z,S[R+L+7]=0),!0===y&&(o.fromBufferAttribute(P,I),S[R+L+8]=o.x,S[R+L+9]=o.y,S[R+L+10]=o.z,S[R+L+11]=4===P.itemSize?o.w:1)}p={count:d,texture:M,size:new xE(_,k)},a.set(l,p),l.addEventListener("dispose",(function e(){M.dispose(),a.delete(l),l.removeEventListener("dispose",e)}))}for(var N=0,O=0;O<f.length;O++)N+=f[O];var D=l.morphTargetsRelative?1:1-N;c.getUniforms().setValue(e,"morphTargetBaseInfluence",D),c.getUniforms().setValue(e,"morphTargetInfluences",f),c.getUniforms().setValue(e,"morphTargetsTexture",p.texture,n),c.getUniforms().setValue(e,"morphTargetsTextureSize",p.size)}else{var U=void 0===f?0:f.length,z=r[l.id];if(void 0===z||z.length!==U){z=[];for(var B=0;B<U;B++)z[B]=[B,0];r[l.id]=z}for(var F=0;F<U;F++){var H=z[F];H[0]=F,H[1]=f[F]}z.sort(uI);for(var W=0;W<8;W++)W<U&&z[W][1]?(s[W][0]=z[W][0],s[W][1]=z[W][1]):(s[W][0]=Number.MAX_SAFE_INTEGER,s[W][1]=0);s.sort(sI);for(var G=l.morphAttributes.position,j=l.morphAttributes.normal,V=0,q=0;q<8;q++){var X=s[q],J=X[0],Y=X[1];J!==Number.MAX_SAFE_INTEGER&&Y?(G&&l.getAttribute("morphTarget"+q)!==G[J]&&l.setAttribute("morphTarget"+q,G[J]),j&&l.getAttribute("morphNormal"+q)!==j[J]&&l.setAttribute("morphNormal"+q,j[J]),i[q]=Y,V+=Y):(G&&!0===l.hasAttribute("morphTarget"+q)&&l.deleteAttribute("morphTarget"+q),j&&!0===l.hasAttribute("morphNormal"+q)&&l.deleteAttribute("morphNormal"+q),i[q]=0)}var Q=l.morphTargetsRelative?1:1-V;c.getUniforms().setValue(e,"morphTargetBaseInfluence",Q),c.getUniforms().setValue(e,"morphTargetInfluences",i)}}}}function cI(e,t,n,r){var i=new WeakMap;function a(e){var t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(e){var o=r.render.frame,s=e.geometry,u=t.get(e,s);return i.get(u)!==o&&(t.update(u),i.set(u,o)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",a)&&e.addEventListener("dispose",a),n.update(e.instanceMatrix,34962),null!==e.instanceColor&&n.update(e.instanceColor,34962)),u},dispose:function(){i=new WeakMap}}}var fI=new FE,hI=new GE,dI=new VE,pI=new bR,vI=[],mI=[],yI=new Float32Array(16),gI=new Float32Array(9),bI=new Float32Array(4);function wI(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,a=vI[i];if(void 0===a&&(a=new Float32Array(i),vI[i]=a),0!==t){r.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=n,e[o].toArray(a,s)}return a}function xI(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function _I(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function kI(e,t){var n=mI[t];void 0===n&&(n=new Int32Array(t),mI[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function SI(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function MI(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(xI(n,t))return;e.uniform2fv(this.addr,t),_I(n,t)}}function AI(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(xI(n,t))return;e.uniform3fv(this.addr,t),_I(n,t)}}function TI(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(xI(n,t))return;e.uniform4fv(this.addr,t),_I(n,t)}}function EI(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(xI(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),_I(n,t)}else{if(xI(n,r))return;bI.set(r),e.uniformMatrix2fv(this.addr,!1,bI),_I(n,r)}}function CI(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(xI(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),_I(n,t)}else{if(xI(n,r))return;gI.set(r),e.uniformMatrix3fv(this.addr,!1,gI),_I(n,r)}}function PI(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(xI(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),_I(n,t)}else{if(xI(n,r))return;yI.set(r),e.uniformMatrix4fv(this.addr,!1,yI),_I(n,r)}}function RI(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function II(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(xI(n,t))return;e.uniform2iv(this.addr,t),_I(n,t)}}function LI(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(xI(n,t))return;e.uniform3iv(this.addr,t),_I(n,t)}}function NI(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(xI(n,t))return;e.uniform4iv(this.addr,t),_I(n,t)}}function OI(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function DI(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(xI(n,t))return;e.uniform2uiv(this.addr,t),_I(n,t)}}function UI(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(xI(n,t))return;e.uniform3uiv(this.addr,t),_I(n,t)}}function zI(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(xI(n,t))return;e.uniform4uiv(this.addr,t),_I(n,t)}}function BI(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||fI,i)}function FI(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||dI,i)}function HI(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||pI,i)}function WI(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||hI,i)}function GI(e,t){e.uniform1fv(this.addr,t)}function jI(e,t){var n=wI(t,this.size,2);e.uniform2fv(this.addr,n)}function VI(e,t){var n=wI(t,this.size,3);e.uniform3fv(this.addr,n)}function qI(e,t){var n=wI(t,this.size,4);e.uniform4fv(this.addr,n)}function XI(e,t){var n=wI(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function JI(e,t){var n=wI(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function YI(e,t){var n=wI(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function QI(e,t){e.uniform1iv(this.addr,t)}function ZI(e,t){e.uniform2iv(this.addr,t)}function KI(e,t){e.uniform3iv(this.addr,t)}function $I(e,t){e.uniform4iv(this.addr,t)}function eL(e,t){e.uniform1uiv(this.addr,t)}function tL(e,t){e.uniform2uiv(this.addr,t)}function nL(e,t){e.uniform3uiv(this.addr,t)}function rL(e,t){e.uniform4uiv(this.addr,t)}function iL(e,t,n){var r=this.cache,i=t.length,a=kI(n,i);xI(r,a)||(e.uniform1iv(this.addr,a),_I(r,a));for(var o=0;o!==i;++o)n.setTexture2D(t[o]||fI,a[o])}function aL(e,t,n){var r=this.cache,i=t.length,a=kI(n,i);xI(r,a)||(e.uniform1iv(this.addr,a),_I(r,a));for(var o=0;o!==i;++o)n.setTexture3D(t[o]||dI,a[o])}function oL(e,t,n){var r=this.cache,i=t.length,a=kI(n,i);xI(r,a)||(e.uniform1iv(this.addr,a),_I(r,a));for(var o=0;o!==i;++o)n.setTextureCube(t[o]||pI,a[o])}function sL(e,t,n){var r=this.cache,i=t.length,a=kI(n,i);xI(r,a)||(e.uniform1iv(this.addr,a),_I(r,a));for(var o=0;o!==i;++o)n.setTexture2DArray(t[o]||hI,a[o])}var uL=at((function e(t,n,r){nt(this,e),this.id=t,this.addr=r,this.cache=[],this.setValue=function(e){switch(e){case 5126:return SI;case 35664:return MI;case 35665:return AI;case 35666:return TI;case 35674:return EI;case 35675:return CI;case 35676:return PI;case 5124:case 35670:return RI;case 35667:case 35671:return II;case 35668:case 35672:return LI;case 35669:case 35673:return NI;case 5125:return OI;case 36294:return DI;case 36295:return UI;case 36296:return zI;case 35678:case 36198:case 36298:case 36306:case 35682:return BI;case 35679:case 36299:case 36307:return FI;case 35680:case 36300:case 36308:case 36293:return HI;case 36289:case 36303:case 36311:case 36292:return WI}}(n.type)})),lL=at((function e(t,n,r){nt(this,e),this.id=t,this.addr=r,this.cache=[],this.size=n.size,this.setValue=function(e){switch(e){case 5126:return GI;case 35664:return jI;case 35665:return VI;case 35666:return qI;case 35674:return XI;case 35675:return JI;case 35676:return YI;case 5124:case 35670:return QI;case 35667:case 35671:return ZI;case 35668:case 35672:return KI;case 35669:case 35673:return $I;case 5125:return eL;case 36294:return tL;case 36295:return nL;case 36296:return rL;case 35678:case 36198:case 36298:case 36306:case 35682:return iL;case 35679:case 36299:case 36307:return aL;case 35680:case 36300:case 36308:case 36293:return oL;case 36289:case 36303:case 36311:case 36292:return sL}}(n.type)})),cL=function(){function e(t){nt(this,e),this.id=t,this.seq=[],this.map={}}return at(e,[{key:"setValue",value:function(e,t,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var o=r[i];o.setValue(e,t[o.id],n)}}}]),e}(),fL=/(\w+)(\])?(\[|\.)?/g;function hL(e,t){e.seq.push(t),e.map[t.id]=t}function dL(e,t,n){var r=e.name,i=r.length;for(fL.lastIndex=0;;){var a=fL.exec(r),o=fL.lastIndex,s=a[1],u="]"===a[2],l=a[3];if(u&&(s|=0),void 0===l||"["===l&&o+2===i){hL(n,void 0===l?new uL(s,e,t):new lL(s,e,t));break}var c=n.map[s];void 0===c&&hL(n,c=new cL(s)),n=c}}var pL=function(){function e(t,n){nt(this,e),this.seq=[],this.map={};for(var r=t.getProgramParameter(n,35718),i=0;i<r;++i){var a=t.getActiveUniform(n,i);dL(a,t.getUniformLocation(n,a.name),this)}}return at(e,[{key:"setValue",value:function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)}},{key:"setOptional",value:function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)}}],[{key:"upload",value:function(e,t,n,r){for(var i=0,a=t.length;i!==a;++i){var o=t[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}}},{key:"seqWithValue",value:function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var a=e[r];a.id in t&&n.push(a)}return n}}]),e}();function vL(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}var mL=0;function yL(e,t,n){var r=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";var a=/ERROR: 0:(\d+)/.exec(i);if(a){var o=parseInt(a[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){for(var n=e.split("\n"),r=[],i=Math.max(t-6,0),a=Math.min(t+6,n.length),o=i;o<a;o++){var s=o+1;r.push("".concat(s===t?">":" "," ").concat(s,": ").concat(n[o]))}return r.join("\n")}(e.getShaderSource(t),o)}return i}function gL(e,t){var n=function(e){switch(e){case _T:return["Linear","( value )"];case kT:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function bL(e,t){var n;switch(t){case FM:n="Linear";break;case HM:n="Reinhard";break;case WM:n="OptimizedCineon";break;case GM:n="ACESFilmic";break;case jM:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function wL(e){return""!==e}function xL(e,t){var n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function _L(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var kL=/^[ \t]*#include +<([\w\d./]+)>/gm;function SL(e){return e.replace(kL,ML)}function ML(e,t){var n=RR[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return SL(n)}var AL=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function TL(e){return e.replace(AL,EL)}function EL(e,t,n,r){for(var i="",a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function CL(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function PL(e,t,n,r){var i,a,o=e.getContext(),s=n.defines,u=n.vertexShader,l=n.fragmentShader,c=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===$S?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===eM?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===tM&&(t="SHADOWMAP_TYPE_VSM"),t}(n),f=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case qM:case XM:t="ENVMAP_TYPE_CUBE";break;case QM:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),h=function(e){var t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===XM&&(t="ENVMAP_MODE_REFRACTION");return t}(n),d=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case DM:t="ENVMAP_BLENDING_MULTIPLY";break;case UM:t="ENVMAP_BLENDING_MIX";break;case zM:t="ENVMAP_BLENDING_ADD"}return t}(n),p=function(e){var t=e.envMapCubeUVHeight;if(null===t)return null;var n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),v=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.normalMapTangentSpace||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(wL).join("\n")}(n),m=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(s),y=o.createProgram(),g=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((i=[m].filter(wL).join("\n")).length>0&&(i+="\n"),(a=[v,m].filter(wL).join("\n")).length>0&&(a+="\n")):(i=[CL(n),"#define SHADER_NAME "+n.shaderName,m,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs2?"#define USE_UV2":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(wL).join("\n"),a=[v,CL(n),"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.envMap?"#define "+h:"",n.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs2?"#define USE_UV2":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==BM?"#define TONE_MAPPING":"",n.toneMapping!==BM?RR.tonemapping_pars_fragment:"",n.toneMapping!==BM?bL("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",RR.encodings_pars_fragment,gL("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(wL).join("\n")),u=_L(u=xL(u=SL(u),n),n),l=_L(l=xL(l=SL(l),n),n),u=TL(u),l=TL(l),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(g="#version 300 es\n",i=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,a=["#define varying in",n.glslVersion===iE?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===iE?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+a);var b,w,x=g+a+l,_=vL(o,35633,g+i+u),k=vL(o,35632,x);if(o.attachShader(y,_),o.attachShader(y,k),void 0!==n.index0AttributeName?o.bindAttribLocation(y,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(y,0,"position"),o.linkProgram(y),e.debug.checkShaderErrors){var S=o.getProgramInfoLog(y).trim(),M=o.getShaderInfoLog(_).trim(),A=o.getShaderInfoLog(k).trim(),T=!0,E=!0;if(!1===o.getProgramParameter(y,35714))if(T=!1,"function"===typeof e.debug.onShaderError)e.debug.onShaderError(o,y,_,k);else{var C=yL(o,_,"vertex"),P=yL(o,k,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(y,35715)+"\n\nProgram Info Log: "+S+"\n"+C+"\n"+P)}else""!==S?console.warn("THREE.WebGLProgram: Program Info Log:",S):""!==M&&""!==A||(E=!1);E&&(this.diagnostics={runnable:T,programLog:S,vertexShader:{log:M,prefix:i},fragmentShader:{log:A,prefix:a}})}return o.deleteShader(_),o.deleteShader(k),this.getUniforms=function(){return void 0===b&&(b=new pL(o,y)),b},this.getAttributes=function(){return void 0===w&&(w=function(e,t){for(var n={},r=e.getProgramParameter(t,35721),i=0;i<r;i++){var a=e.getActiveAttrib(t,i),o=a.name,s=1;35674===a.type&&(s=2),35675===a.type&&(s=3),35676===a.type&&(s=4),n[o]={type:a.type,location:e.getAttribLocation(t,o),locationSize:s}}return n}(o,y)),w},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(y),this.program=void 0},this.name=n.shaderName,this.id=mL++,this.cacheKey=t,this.usedTimes=1,this.program=y,this.vertexShader=_,this.fragmentShader=k,this}var RL=0,IL=function(){function e(){nt(this,e),this.shaderCache=new Map,this.materialCache=new Map}return at(e,[{key:"update",value:function(e){var t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}},{key:"remove",value:function(e){var t,n=Lt(this.materialCache.get(e));try{for(n.s();!(t=n.n()).done;){var r=t.value;r.usedTimes--,0===r.usedTimes&&this.shaderCache.delete(r.code)}}catch(AG){n.e(AG)}finally{n.f()}return this.materialCache.delete(e),this}},{key:"getVertexShaderID",value:function(e){return this._getShaderStage(e.vertexShader).id}},{key:"getFragmentShaderID",value:function(e){return this._getShaderStage(e.fragmentShader).id}},{key:"dispose",value:function(){this.shaderCache.clear(),this.materialCache.clear()}},{key:"_getShaderCacheForMaterial",value:function(e){var t=this.materialCache,n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}},{key:"_getShaderStage",value:function(e){var t=this.shaderCache,n=t.get(e);return void 0===n&&(n=new LL(e),t.set(e,n)),n}}]),e}(),LL=at((function e(t){nt(this,e),this.id=RL++,this.code=t,this.usedTimes=0}));function NL(e,t,n,r,i,a,o){var s=new DC,u=new IL,l=[],c=i.isWebGL2,f=i.logarithmicDepthBuffer,h=i.vertexTextures,d=i.precision,p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(e){return 1===e?"uv2":"uv"}return{getParameters:function(a,s,l,m,y){var g=m.fog,b=y.geometry,w=a.isMeshStandardMaterial?m.environment:null,x=(a.isMeshStandardMaterial?n:t).get(a.envMap||w),_=x&&x.mapping===QM?x.image.height:null,k=p[a.type];null!==a.precision&&(d=i.getMaxPrecision(a.precision))!==a.precision&&console.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",d,"instead.");var S,M,A,T,E=b.morphAttributes.position||b.morphAttributes.normal||b.morphAttributes.color,C=void 0!==E?E.length:0,P=0;if(void 0!==b.morphAttributes.position&&(P=1),void 0!==b.morphAttributes.normal&&(P=2),void 0!==b.morphAttributes.color&&(P=3),k){var R=LR[k];S=R.vertexShader,M=R.fragmentShader}else S=a.vertexShader,M=a.fragmentShader,u.update(a),A=u.getVertexShaderID(a),T=u.getFragmentShaderID(a);var I=e.getRenderTarget(),L=!0===y.isInstancedMesh,N=!!a.map,O=!!a.matcap,D=!!x,U=!!a.aoMap,z=!!a.lightMap,B=!!a.bumpMap,F=!!a.normalMap,H=!!a.displacementMap,W=!!a.emissiveMap,G=!!a.metalnessMap,j=!!a.roughnessMap,V=a.clearcoat>0,q=a.iridescence>0,X=a.sheen>0,J=a.transmission>0,Y=V&&!!a.clearcoatMap,Q=V&&!!a.clearcoatNormalMap,Z=V&&!!a.clearcoatRoughnessMap,K=q&&!!a.iridescenceMap,$=q&&!!a.iridescenceThicknessMap,ee=X&&!!a.sheenColorMap,te=X&&!!a.sheenRoughnessMap,ne=!!a.specularMap,re=!!a.specularColorMap,ie=!!a.specularIntensityMap,ae=J&&!!a.transmissionMap,oe=J&&!!a.thicknessMap,se=!!a.gradientMap,ue=!!a.alphaMap,le=a.alphaTest>0,ce=!!a.extensions,fe=!!b.attributes.uv2;return{isWebGL2:c,shaderID:k,shaderName:a.type,vertexShader:S,fragmentShader:M,defines:a.defines,customVertexShaderID:A,customFragmentShaderID:T,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:d,instancing:L,instancingColor:L&&null!==y.instanceColor,supportsVertexTextures:h,outputEncoding:null===I?e.outputEncoding:!0===I.isXRRenderTarget?I.texture.encoding:_T,map:N,matcap:O,envMap:D,envMapMode:D&&x.mapping,envMapCubeUVHeight:_,aoMap:U,lightMap:z,bumpMap:B,normalMap:F,displacementMap:h&&H,emissiveMap:W,normalMapObjectSpace:F&&a.normalMapType===TT,normalMapTangentSpace:F&&a.normalMapType===AT,decodeVideoTexture:N&&!0===a.map.isVideoTexture&&a.map.encoding===kT,metalnessMap:G,roughnessMap:j,clearcoat:V,clearcoatMap:Y,clearcoatNormalMap:Q,clearcoatRoughnessMap:Z,iridescence:q,iridescenceMap:K,iridescenceThicknessMap:$,sheen:X,sheenColorMap:ee,sheenRoughnessMap:te,specularMap:ne,specularColorMap:re,specularIntensityMap:ie,transmission:J,transmissionMap:ae,thicknessMap:oe,gradientMap:se,opaque:!1===a.transparent&&a.blending===sM,alphaMap:ue,alphaTest:le,combine:a.combine,mapUv:N&&v(a.map.channel),aoMapUv:U&&v(a.aoMap.channel),lightMapUv:z&&v(a.lightMap.channel),bumpMapUv:B&&v(a.bumpMap.channel),normalMapUv:F&&v(a.normalMap.channel),displacementMapUv:H&&v(a.displacementMap.channel),emissiveMapUv:W&&v(a.emissiveMap.channel),metalnessMapUv:G&&v(a.metalnessMap.channel),roughnessMapUv:j&&v(a.roughnessMap.channel),clearcoatMapUv:Y&&v(a.clearcoatMap.channel),clearcoatNormalMapUv:Q&&v(a.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Z&&v(a.clearcoatRoughnessMap.channel),iridescenceMapUv:K&&v(a.iridescenceMap.channel),iridescenceThicknessMapUv:$&&v(a.iridescenceThicknessMap.channel),sheenColorMapUv:ee&&v(a.sheenColorMap.channel),sheenRoughnessMapUv:te&&v(a.sheenRoughnessMap.channel),specularMapUv:ne&&v(a.specularMap.channel),specularColorMapUv:re&&v(a.specularColorMap.channel),specularIntensityMapUv:ie&&v(a.specularIntensityMap.channel),transmissionMapUv:ae&&v(a.transmissionMap.channel),thicknessMapUv:oe&&v(a.thicknessMap.channel),alphaMapUv:ue&&v(a.alphaMap.channel),vertexTangents:F&&!!b.attributes.tangent,vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!b.attributes.color&&4===b.attributes.color.itemSize,vertexUvs2:fe,pointsUvs:!0===y.isPoints&&!!b.attributes.uv&&(N||ue),fog:!!g,useFog:!0===a.fog,fogExp2:g&&g.isFogExp2,flatShading:!0===a.flatShading,sizeAttenuation:!0===a.sizeAttenuation,logarithmicDepthBuffer:f,skinning:!0===y.isSkinnedMesh,morphTargets:void 0!==b.morphAttributes.position,morphNormals:void 0!==b.morphAttributes.normal,morphColors:void 0!==b.morphAttributes.color,morphTargetsCount:C,morphTextureStride:P,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&l.length>0,shadowMapType:e.shadowMap.type,toneMapping:a.toneMapped?e.toneMapping:BM,useLegacyLights:e.useLegacyLights,premultipliedAlpha:a.premultipliedAlpha,doubleSided:a.side===iM,flipSided:a.side===rM,useDepthPacking:a.depthPacking>=0,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionDerivatives:ce&&!0===a.extensions.derivatives,extensionFragDepth:ce&&!0===a.extensions.fragDepth,extensionDrawBuffers:ce&&!0===a.extensions.drawBuffers,extensionShaderTextureLOD:ce&&!0===a.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:a.customProgramCacheKey()}},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputEncoding),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){s.disableAll(),t.isWebGL2&&s.enable(0);t.supportsVertexTextures&&s.enable(1);t.instancing&&s.enable(2);t.instancingColor&&s.enable(3);t.matcap&&s.enable(4);t.envMap&&s.enable(5);t.normalMapObjectSpace&&s.enable(6);t.normalMapTangentSpace&&s.enable(7);t.clearcoat&&s.enable(8);t.iridescence&&s.enable(9);t.alphaTest&&s.enable(10);t.vertexColors&&s.enable(11);t.vertexAlphas&&s.enable(12);t.vertexUvs2&&s.enable(13);t.vertexTangents&&s.enable(14);e.push(s.mask),s.disableAll(),t.fog&&s.enable(0);t.useFog&&s.enable(1);t.flatShading&&s.enable(2);t.logarithmicDepthBuffer&&s.enable(3);t.skinning&&s.enable(4);t.morphTargets&&s.enable(5);t.morphNormals&&s.enable(6);t.morphColors&&s.enable(7);t.premultipliedAlpha&&s.enable(8);t.shadowMapEnabled&&s.enable(9);t.useLegacyLights&&s.enable(10);t.doubleSided&&s.enable(11);t.flipSided&&s.enable(12);t.useDepthPacking&&s.enable(13);t.dithering&&s.enable(14);t.transmission&&s.enable(15);t.sheen&&s.enable(16);t.decodeVideoTexture&&s.enable(17);t.opaque&&s.enable(18);t.pointsUvs&&s.enable(19);e.push(s.mask)}(n,t),n.push(e.outputEncoding)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){var t,n=p[e.type];if(n){var r=LR[n];t=dR.clone(r.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){for(var r,i=0,o=l.length;i<o;i++){var s=l[i];if(s.cacheKey===n){++(r=s).usedTimes;break}}return void 0===r&&(r=new PL(e,n,t,a),l.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){var t=l.indexOf(e);l[t]=l[l.length-1],l.pop(),e.destroy()}},releaseShaderCache:function(e){u.remove(e)},programs:l,dispose:function(){u.dispose()}}}function OL(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function DL(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function UL(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function zL(){var e=[],t=0,n=[],r=[],i=[];function a(n,r,i,a,o,s){var u=e[t];return void 0===u?(u={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=u):(u.id=n.id,u.object=n,u.geometry=r,u.material=i,u.groupOrder=a,u.renderOrder=n.renderOrder,u.z=o,u.group=s),t++,u}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,o,s,u,l){var c=a(e,t,o,s,u,l);o.transmission>0?r.push(c):!0===o.transparent?i.push(c):n.push(c)},unshift:function(e,t,o,s,u,l){var c=a(e,t,o,s,u,l);o.transmission>0?r.unshift(c):!0===o.transparent?i.unshift(c):n.unshift(c)},finish:function(){for(var n=t,r=e.length;n<r;n++){var i=e[n];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.group=null}},sort:function(e,t){n.length>1&&n.sort(e||DL),r.length>1&&r.sort(t||UL),i.length>1&&i.sort(t||UL)}}}function BL(){var e=new WeakMap;return{get:function(t,n){var r,i=e.get(t);return void 0===i?(r=new zL,e.set(t,[r])):n>=i.length?(r=new zL,i.push(r)):r=i[n],r},dispose:function(){e=new WeakMap}}}function FL(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new YE,color:new vP};break;case"SpotLight":n={position:new YE,direction:new YE,color:new vP,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new YE,color:new vP,distance:0,decay:0};break;case"HemisphereLight":n={direction:new YE,skyColor:new vP,groundColor:new vP};break;case"RectAreaLight":n={color:new vP,position:new YE,halfWidth:new YE,halfHeight:new YE}}return e[t.id]=n,n}}}var HL=0;function WL(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function GL(e,t){for(var n=new FL,r=function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new xE};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new xE,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0},a=0;a<9;a++)i.probe.push(new YE);var o=new YE,s=new MC,u=new MC;return{setup:function(a,o){for(var s=0,u=0,l=0,c=0;c<9;c++)i.probe[c].set(0,0,0);var f=0,h=0,d=0,p=0,v=0,m=0,y=0,g=0,b=0,w=0;a.sort(WL);for(var x=!0===o?Math.PI:1,_=0,k=a.length;_<k;_++){var S=a[_],M=S.color,A=S.intensity,T=S.distance,E=S.shadow&&S.shadow.map?S.shadow.map.texture:null;if(S.isAmbientLight)s+=M.r*A*x,u+=M.g*A*x,l+=M.b*A*x;else if(S.isLightProbe)for(var C=0;C<9;C++)i.probe[C].addScaledVector(S.sh.coefficients[C],A);else if(S.isDirectionalLight){var P=n.get(S);if(P.color.copy(S.color).multiplyScalar(S.intensity*x),S.castShadow){var R=S.shadow,I=r.get(S);I.shadowBias=R.bias,I.shadowNormalBias=R.normalBias,I.shadowRadius=R.radius,I.shadowMapSize=R.mapSize,i.directionalShadow[f]=I,i.directionalShadowMap[f]=E,i.directionalShadowMatrix[f]=S.shadow.matrix,m++}i.directional[f]=P,f++}else if(S.isSpotLight){var L=n.get(S);L.position.setFromMatrixPosition(S.matrixWorld),L.color.copy(M).multiplyScalar(A*x),L.distance=T,L.coneCos=Math.cos(S.angle),L.penumbraCos=Math.cos(S.angle*(1-S.penumbra)),L.decay=S.decay,i.spot[d]=L;var N=S.shadow;if(S.map&&(i.spotLightMap[b]=S.map,b++,N.updateMatrices(S),S.castShadow&&w++),i.spotLightMatrix[d]=N.matrix,S.castShadow){var O=r.get(S);O.shadowBias=N.bias,O.shadowNormalBias=N.normalBias,O.shadowRadius=N.radius,O.shadowMapSize=N.mapSize,i.spotShadow[d]=O,i.spotShadowMap[d]=E,g++}d++}else if(S.isRectAreaLight){var D=n.get(S);D.color.copy(M).multiplyScalar(A),D.halfWidth.set(.5*S.width,0,0),D.halfHeight.set(0,.5*S.height,0),i.rectArea[p]=D,p++}else if(S.isPointLight){var U=n.get(S);if(U.color.copy(S.color).multiplyScalar(S.intensity*x),U.distance=S.distance,U.decay=S.decay,S.castShadow){var z=S.shadow,B=r.get(S);B.shadowBias=z.bias,B.shadowNormalBias=z.normalBias,B.shadowRadius=z.radius,B.shadowMapSize=z.mapSize,B.shadowCameraNear=z.camera.near,B.shadowCameraFar=z.camera.far,i.pointShadow[h]=B,i.pointShadowMap[h]=E,i.pointShadowMatrix[h]=S.shadow.matrix,y++}i.point[h]=U,h++}else if(S.isHemisphereLight){var F=n.get(S);F.skyColor.copy(S.color).multiplyScalar(A*x),F.groundColor.copy(S.groundColor).multiplyScalar(A*x),i.hemi[v]=F,v++}}p>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=IR.LTC_FLOAT_1,i.rectAreaLTC2=IR.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=IR.LTC_HALF_1,i.rectAreaLTC2=IR.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=s,i.ambient[1]=u,i.ambient[2]=l;var H=i.hash;H.directionalLength===f&&H.pointLength===h&&H.spotLength===d&&H.rectAreaLength===p&&H.hemiLength===v&&H.numDirectionalShadows===m&&H.numPointShadows===y&&H.numSpotShadows===g&&H.numSpotMaps===b||(i.directional.length=f,i.spot.length=d,i.rectArea.length=p,i.point.length=h,i.hemi.length=v,i.directionalShadow.length=m,i.directionalShadowMap.length=m,i.pointShadow.length=y,i.pointShadowMap.length=y,i.spotShadow.length=g,i.spotShadowMap.length=g,i.directionalShadowMatrix.length=m,i.pointShadowMatrix.length=y,i.spotLightMatrix.length=g+b-w,i.spotLightMap.length=b,i.numSpotLightShadowsWithMaps=w,H.directionalLength=f,H.pointLength=h,H.spotLength=d,H.rectAreaLength=p,H.hemiLength=v,H.numDirectionalShadows=m,H.numPointShadows=y,H.numSpotShadows=g,H.numSpotMaps=b,i.version=HL++)},setupView:function(e,t){for(var n=0,r=0,a=0,l=0,c=0,f=t.matrixWorldInverse,h=0,d=e.length;h<d;h++){var p=e[h];if(p.isDirectionalLight){var v=i.directional[n];v.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),v.direction.sub(o),v.direction.transformDirection(f),n++}else if(p.isSpotLight){var m=i.spot[a];m.position.setFromMatrixPosition(p.matrixWorld),m.position.applyMatrix4(f),m.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),m.direction.sub(o),m.direction.transformDirection(f),a++}else if(p.isRectAreaLight){var y=i.rectArea[l];y.position.setFromMatrixPosition(p.matrixWorld),y.position.applyMatrix4(f),u.identity(),s.copy(p.matrixWorld),s.premultiply(f),u.extractRotation(s),y.halfWidth.set(.5*p.width,0,0),y.halfHeight.set(0,.5*p.height,0),y.halfWidth.applyMatrix4(u),y.halfHeight.applyMatrix4(u),l++}else if(p.isPointLight){var g=i.point[r];g.position.setFromMatrixPosition(p.matrixWorld),g.position.applyMatrix4(f),r++}else if(p.isHemisphereLight){var b=i.hemi[c];b.direction.setFromMatrixPosition(p.matrixWorld),b.direction.transformDirection(f),c++}}},state:i}}function jL(e,t){var n=new GL(e,t),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(e){n.setup(r,e)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){i.push(e)}}}function VL(e,t){var n=new WeakMap;return{get:function(r){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=n.get(r);return void 0===o?(i=new jL(e,t),n.set(r,[i])):a>=o.length?(i=new jL(e,t),o.push(i)):i=o[a],i},dispose:function(){n=new WeakMap}}}var qL=function(e){ct(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this)).isMeshDepthMaterial=!0,r.type="MeshDepthMaterial",r.depthPacking=ST,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.setValues(e),r}return at(n,[{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}]),n}(cP),XL=function(e){ct(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this)).isMeshDistanceMaterial=!0,r.type="MeshDistanceMaterial",r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.setValues(e),r}return at(n,[{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}]),n}(cP);function JL(e,t,n){var r,i=new TR,a=new xE,o=new xE,s=new HE,u=new qL({depthPacking:MT}),l=new XL,c={},f=n.maxTextureSize,h=(Dt(r={},nM,rM),Dt(r,rM,nM),Dt(r,iM,iM),r),d=new pR({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new xE},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),p=d.clone();p.defines.HORIZONTAL_PASS=1;var v=new GP;v.setAttribute("position",new MP(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var m=new sR(v,d),y=this;function g(n,r){var i=t.update(m);d.defines.VSM_SAMPLES!==n.blurSamples&&(d.defines.VSM_SAMPLES=n.blurSamples,p.defines.VSM_SAMPLES=n.blurSamples,d.needsUpdate=!0,p.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new WE(a.x,a.y)),d.uniforms.shadow_pass.value=n.map.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,d,m,null),p.uniforms.shadow_pass.value=n.mapPass.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,p,m,null)}function b(t,n,r,i){var a=null,o=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==o)a=o;else if(a=!0===r.isPointLight?l:u,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){var s=a.uuid,f=n.uuid,d=c[s];void 0===d&&(d={},c[s]=d);var p=d[f];void 0===p&&(p=a.clone(),d[f]=p),a=p}(a.visible=n.visible,a.wireframe=n.wireframe,a.side=i===tM?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:h[n.side],a.alphaMap=n.alphaMap,a.alphaTest=n.alphaTest,a.map=n.map,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.clipIntersection=n.clipIntersection,a.displacementMap=n.displacementMap,a.displacementScale=n.displacementScale,a.displacementBias=n.displacementBias,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,!0===r.isPointLight&&!0===a.isMeshDistanceMaterial)&&(e.properties.get(a).light=r);return a}function w(n,r,a,o,s){if(!1!==n.visible){if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===tM)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var u=t.update(n),l=n.material;if(Array.isArray(l))for(var c=u.groups,f=0,h=c.length;f<h;f++){var d=c[f],p=l[d.materialIndex];if(p&&p.visible){var v=b(n,p,o,s);e.renderBufferDirect(a,null,u,v,n,d)}}else if(l.visible){var m=b(n,l,o,s);e.renderBufferDirect(a,null,u,m,n,null)}}for(var y=n.children,g=0,x=y.length;g<x;g++)w(y[g],r,a,o,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=$S,this.render=function(t,n,r){if(!1!==y.enabled&&(!1!==y.autoUpdate||!1!==y.needsUpdate)&&0!==t.length){var u=e.getRenderTarget(),l=e.getActiveCubeFace(),c=e.getActiveMipmapLevel(),h=e.state;h.setBlending(oM),h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);for(var d=0,p=t.length;d<p;d++){var v=t[d],m=v.shadow;if(void 0!==m){if(!1!==m.autoUpdate||!1!==m.needsUpdate){a.copy(m.mapSize);var b=m.getFrameExtents();if(a.multiply(b),o.copy(m.mapSize),(a.x>f||a.y>f)&&(a.x>f&&(o.x=Math.floor(f/b.x),a.x=o.x*b.x,m.mapSize.x=o.x),a.y>f&&(o.y=Math.floor(f/b.y),a.y=o.y*b.y,m.mapSize.y=o.y)),null===m.map){var x=this.type!==tM?{minFilter:eA,magFilter:eA}:{};m.map=new WE(a.x,a.y,x),m.map.texture.name=v.name+".shadowMap",m.camera.updateProjectionMatrix()}e.setRenderTarget(m.map),e.clear();for(var _=m.getViewportCount(),k=0;k<_;k++){var S=m.getViewport(k);s.set(o.x*S.x,o.y*S.y,o.x*S.z,o.y*S.w),h.viewport(s),m.updateMatrices(v,k),i=m.getFrustum(),w(n,r,m.camera,v,this.type)}!0!==m.isPointLightShadow&&this.type===tM&&g(m,r),m.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",v,"has no shadow.")}y.needsUpdate=!1,e.setRenderTarget(u,l,c)}}}function YL(e,t,n){var r,i,a=n.isWebGL2;var o=new function(){var t=!1,n=new HE,r=null,i=new HE(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},s=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(e){e?W(2929):G(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){switch(t){case EM:e.depthFunc(512);break;case CM:e.depthFunc(519);break;case PM:e.depthFunc(513);break;case RM:e.depthFunc(515);break;case IM:e.depthFunc(514);break;case LM:e.depthFunc(518);break;case NM:e.depthFunc(516);break;case OM:e.depthFunc(517);break;default:e.depthFunc(515)}r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},u=new function(){var t=!1,n=null,r=null,i=null,a=null,o=null,s=null,u=null,l=null;return{setTest:function(e){t||(e?W(2960):G(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&u===r||(e.stencilOp(t,n,r),o=t,s=n,u=r)},setLocked:function(e){t=e},setClear:function(t){l!==t&&(e.clearStencil(t),l=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,u=null,l=null}}},l=new WeakMap,c=new WeakMap,f={},h={},d=new WeakMap,p=[],v=null,m=!1,y=null,g=null,b=null,w=null,x=null,_=null,k=null,S=!1,M=null,A=null,T=null,E=null,C=null,P=e.getParameter(35661),R=!1,I=0,L=e.getParameter(7938);-1!==L.indexOf("WebGL")?(I=parseFloat(/^WebGL (\d)/.exec(L)[1]),R=I>=1):-1!==L.indexOf("OpenGL ES")&&(I=parseFloat(/^OpenGL ES (\d)/.exec(L)[1]),R=I>=2);var N=null,O={},D=e.getParameter(3088),U=e.getParameter(2978),z=(new HE).fromArray(D),B=(new HE).fromArray(U);function F(t,n,r){var i=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var o=0;o<r;o++)e.texImage2D(n+o,0,6408,1,1,0,6408,5121,i);return a}var H={};function W(t){!0!==f[t]&&(e.enable(t),f[t]=!0)}function G(t){!1!==f[t]&&(e.disable(t),f[t]=!1)}H[3553]=F(3553,3553,1),H[34067]=F(34067,34069,6),o.setClear(0,0,0,1),s.setClear(1),u.setClear(0),W(2929),s.setFunc(RM),J(!1),Y(YS),W(2884),X(oM);var j=(Dt(r={},hM,32774),Dt(r,dM,32778),Dt(r,pM,32779),r);if(a)j[vM]=32775,j[mM]=32776;else{var V=t.get("EXT_blend_minmax");null!==V&&(j[vM]=V.MIN_EXT,j[mM]=V.MAX_EXT)}var q=(Dt(i={},yM,0),Dt(i,gM,1),Dt(i,bM,768),Dt(i,xM,770),Dt(i,TM,776),Dt(i,MM,774),Dt(i,kM,772),Dt(i,wM,769),Dt(i,_M,771),Dt(i,AM,775),Dt(i,SM,773),i);function X(t,n,r,i,a,o,s,u){if(t!==oM){if(!1===m&&(W(3042),m=!0),t===fM)a=a||n,o=o||r,s=s||i,n===g&&a===x||(e.blendEquationSeparate(j[n],j[a]),g=n,x=a),r===b&&i===w&&o===_&&s===k||(e.blendFuncSeparate(q[r],q[i],q[o],q[s]),b=r,w=i,_=o,k=s),y=t,S=!1;else if(t!==y||u!==S){if(g===hM&&x===hM||(e.blendEquation(32774),g=hM,x=hM),u)switch(t){case sM:e.blendFuncSeparate(1,771,1,771);break;case uM:e.blendFunc(1,1);break;case lM:e.blendFuncSeparate(0,769,0,1);break;case cM:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case sM:e.blendFuncSeparate(770,771,1,771);break;case uM:e.blendFunc(770,1);break;case lM:e.blendFuncSeparate(0,769,0,1);break;case cM:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}b=null,w=null,_=null,k=null,y=t,S=u}}else!0===m&&(G(3042),m=!1)}function J(t){M!==t&&(t?e.frontFace(2304):e.frontFace(2305),M=t)}function Y(t){t!==JS?(W(2884),t!==A&&(t===YS?e.cullFace(1029):t===QS?e.cullFace(1028):e.cullFace(1032))):G(2884),A=t}function Q(t,n,r){t?(W(32823),E===n&&C===r||(e.polygonOffset(n,r),E=n,C=r)):G(32823)}return{buffers:{color:o,depth:s,stencil:u},enable:W,disable:G,bindFramebuffer:function(t,n){return h[t]!==n&&(e.bindFramebuffer(t,n),h[t]=n,a&&(36009===t&&(h[36160]=n),36160===t&&(h[36009]=n)),!0)},drawBuffers:function(r,i){var a=p,o=!1;if(r)if(void 0===(a=d.get(i))&&(a=[],d.set(i,a)),r.isWebGLMultipleRenderTargets){var s=r.texture;if(a.length!==s.length||36064!==a[0]){for(var u=0,l=s.length;u<l;u++)a[u]=36064+u;a.length=s.length,o=!0}}else 36064!==a[0]&&(a[0]=36064,o=!0);else 1029!==a[0]&&(a[0]=1029,o=!0);o&&(n.isWebGL2?e.drawBuffers(a):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(a))},useProgram:function(t){return v!==t&&(e.useProgram(t),v=t,!0)},setBlending:X,setMaterial:function(e,t){e.side===iM?G(2884):W(2884);var n=e.side===rM;t&&(n=!n),J(n),e.blending===sM&&!1===e.transparent?X(oM):X(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),s.setFunc(e.depthFunc),s.setTest(e.depthTest),s.setMask(e.depthWrite),o.setMask(e.colorWrite);var r=e.stencilWrite;u.setTest(r),r&&(u.setMask(e.stencilWriteMask),u.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),u.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),Q(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?W(32926):G(32926)},setFlipSided:J,setCullFace:Y,setLineWidth:function(t){t!==T&&(R&&e.lineWidth(t),T=t)},setPolygonOffset:Q,setScissorTest:function(e){e?W(3089):G(3089)},activeTexture:function(t){void 0===t&&(t=33984+P-1),N!==t&&(e.activeTexture(t),N=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===N?33984+P-1:N);var i=O[r];void 0===i&&(i={type:void 0,texture:void 0},O[r]=i),i.type===t&&i.texture===n||(N!==r&&(e.activeTexture(r),N=r),e.bindTexture(t,n||H[t]),i.type=t,i.texture=n)},unbindTexture:function(){var t=O[N];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},updateUBOMapping:function(t,n){var r=c.get(n);void 0===r&&(r=new WeakMap,c.set(n,r));var i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){var r=c.get(n).get(t);l.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),l.set(n,r))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===z.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),z.copy(t))},viewport:function(t){!1===B.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),B.copy(t))},reset:function(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),!0===a&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),f={},N=null,O={},h={},d=new WeakMap,p=[],v=null,m=!1,y=null,g=null,b=null,w=null,x=null,_=null,k=null,S=!1,M=null,A=null,T=null,E=null,C=null,z.set(0,0,e.canvas.width,e.canvas.height),B.set(0,0,e.canvas.width,e.canvas.height),o.reset(),s.reset(),u.reset()}}}function QL(e,t,n,r,i,a,o){var s,u,l,c=i.isWebGL2,f=i.maxTextures,h=i.maxCubemapSize,d=i.maxTextureSize,p=i.maxSamples,v=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,m="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap,g=new WeakMap,b=!1;try{b="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(AG){}function w(e,t){return b?new OffscreenCanvas(e,t):TE("canvas")}function x(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var a=t?yE:Math.floor,o=a(i*e.width),s=a(i*e.height);void 0===l&&(l=w(o,s));var u=n?w(o,s):l;return u.width=o,u.height=s,u.getContext("2d").drawImage(e,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+s+")."),u}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function _(e){return vE(e.width)&&vE(e.height)}function k(e,t){return e.generateMipmaps&&t&&e.minFilter!==eA&&e.minFilter!==aA}function S(t){e.generateMipmap(t)}function M(n,r,i,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!1===c)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var s=r;return 6403===r&&(5126===i&&(s=33326),5131===i&&(s=33325),5121===i&&(s=33321)),33319===r&&(5126===i&&(s=33328),5131===i&&(s=33327),5121===i&&(s=33323)),6408===r&&(5126===i&&(s=34836),5131===i&&(s=34842),5121===i&&(s=a===kT&&!1===o?35907:32856),32819===i&&(s=32854),32820===i&&(s=32855)),33325!==s&&33326!==s&&33327!==s&&33328!==s&&34842!==s&&34836!==s||t.get("EXT_color_buffer_float"),s}function A(e,t,n){return!0===k(e,n)||e.isFramebufferTexture&&e.minFilter!==eA&&e.minFilter!==aA?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function T(e){return e===eA||e===tA||e===rA?9728:9729}function E(e){var t=e.target;t.removeEventListener("dispose",E),function(e){var t=r.get(e);if(void 0===t.__webglInit)return;var n=e.source,i=g.get(n);if(i){var a=i[t.__cacheKey];a.usedTimes--,0===a.usedTimes&&P(e),0===Object.keys(i).length&&g.delete(n)}r.remove(e)}(t),t.isVideoTexture&&y.delete(t)}function C(t){var n=t.target;n.removeEventListener("dispose",C),function(t){var n=t.texture,i=r.get(t),a=r.get(n);void 0!==a.__webglTexture&&(e.deleteTexture(a.__webglTexture),o.memory.textures--);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(var s=0;s<6;s++)e.deleteFramebuffer(i.__webglFramebuffer[s]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[s]);else{if(e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer)for(var u=0;u<i.__webglColorRenderbuffer.length;u++)i.__webglColorRenderbuffer[u]&&e.deleteRenderbuffer(i.__webglColorRenderbuffer[u]);i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer)}if(t.isWebGLMultipleRenderTargets)for(var l=0,c=n.length;l<c;l++){var f=r.get(n[l]);f.__webglTexture&&(e.deleteTexture(f.__webglTexture),o.memory.textures--),r.remove(n[l])}r.remove(n),r.remove(t)}(n)}function P(t){var n=r.get(t);e.deleteTexture(n.__webglTexture);var i=t.source;delete g.get(i)[n.__cacheKey],o.memory.textures--}var R=0;function I(e,t){var i=r.get(e);if(e.isVideoTexture&&function(e){var t=o.render.frame;y.get(e)!==t&&(y.set(e,t),e.update())}(e),!1===e.isRenderTargetTexture&&e.version>0&&i.__version!==e.version){var a=e.image;if(null===a)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==a.complete)return void U(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(3553,i.__webglTexture,33984+t)}var L=(Dt(s={},ZM,10497),Dt(s,KM,33071),Dt(s,$M,33648),s),N=(Dt(u={},eA,9728),Dt(u,tA,9984),Dt(u,rA,9986),Dt(u,aA,9729),Dt(u,oA,9985),Dt(u,uA,9987),u);function O(n,a,o){if(o?(e.texParameteri(n,10242,L[a.wrapS]),e.texParameteri(n,10243,L[a.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,L[a.wrapR]),e.texParameteri(n,10240,N[a.magFilter]),e.texParameteri(n,10241,N[a.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),a.wrapS===KM&&a.wrapT===KM||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,T(a.magFilter)),e.texParameteri(n,10241,T(a.minFilter)),a.minFilter!==eA&&a.minFilter!==aA&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){var s=t.get("EXT_texture_filter_anisotropic");if(a.magFilter===eA)return;if(a.minFilter!==rA&&a.minFilter!==uA)return;if(a.type===mA&&!1===t.has("OES_texture_float_linear"))return;if(!1===c&&a.type===yA&&!1===t.has("OES_texture_half_float_linear"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function D(t,n){var r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",E));var i=n.source,a=g.get(i);void 0===a&&(a={},g.set(i,a));var s=function(e){var t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.encoding),t.join()}(n);if(s!==t.__cacheKey){void 0===a[s]&&(a[s]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,r=!0),a[s].usedTimes++;var u=a[t.__cacheKey];void 0!==u&&(a[t.__cacheKey].usedTimes--,0===u.usedTimes&&P(n)),t.__cacheKey=s,t.__webglTexture=a[s].texture}return r}function U(t,i,o){var s=3553;(i.isDataArrayTexture||i.isCompressedArrayTexture)&&(s=35866),i.isData3DTexture&&(s=32879);var u=D(t,i),l=i.source;n.bindTexture(s,t.__webglTexture,33984+o);var f=r.get(l);if(l.version!==f.__version||!0===u){n.activeTexture(33984+o),e.pixelStorei(37440,i.flipY),e.pixelStorei(37441,i.premultiplyAlpha),e.pixelStorei(3317,i.unpackAlignment),e.pixelStorei(37443,0);var h,p=function(e){return!c&&(e.wrapS!==KM||e.wrapT!==KM||e.minFilter!==eA&&e.minFilter!==aA)}(i)&&!1===_(i.image),v=x(i.image,p,!1,d),m=_(v=G(i,v))||c,y=a.convert(i.format,i.encoding),g=a.convert(i.type),b=M(i.internalFormat,y,g,i.encoding,i.isVideoTexture);O(s,i,m);var w=i.mipmaps,T=c&&!0!==i.isVideoTexture,E=void 0===f.__version||!0===u,C=A(i,v,m);if(i.isDepthTexture)b=6402,c?b=i.type===mA?36012:i.type===vA?33190:i.type===wA?35056:33189:i.type===mA&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),i.format===MA&&6402===b&&i.type!==dA&&i.type!==vA&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=vA,g=a.convert(i.type)),i.format===AA&&6402===b&&(b=34041,i.type!==wA&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=wA,g=a.convert(i.type))),E&&(T?n.texStorage2D(3553,1,b,v.width,v.height):n.texImage2D(3553,0,b,v.width,v.height,0,y,g,null));else if(i.isDataTexture)if(w.length>0&&m){T&&E&&n.texStorage2D(3553,C,b,w[0].width,w[0].height);for(var P=0,R=w.length;P<R;P++)h=w[P],T?n.texSubImage2D(3553,P,0,0,h.width,h.height,y,g,h.data):n.texImage2D(3553,P,b,h.width,h.height,0,y,g,h.data);i.generateMipmaps=!1}else T?(E&&n.texStorage2D(3553,C,b,v.width,v.height),n.texSubImage2D(3553,0,0,0,v.width,v.height,y,g,v.data)):n.texImage2D(3553,0,b,v.width,v.height,0,y,g,v.data);else if(i.isCompressedTexture)if(i.isCompressedArrayTexture){T&&E&&n.texStorage3D(35866,C,b,w[0].width,w[0].height,v.depth);for(var I=0,L=w.length;I<L;I++)h=w[I],i.format!==_A?null!==y?T?n.compressedTexSubImage3D(35866,I,0,0,0,h.width,h.height,v.depth,y,h.data,0,0):n.compressedTexImage3D(35866,I,b,h.width,h.height,v.depth,0,h.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):T?n.texSubImage3D(35866,I,0,0,0,h.width,h.height,v.depth,y,g,h.data):n.texImage3D(35866,I,b,h.width,h.height,v.depth,0,y,g,h.data)}else{T&&E&&n.texStorage2D(3553,C,b,w[0].width,w[0].height);for(var N=0,U=w.length;N<U;N++)h=w[N],i.format!==_A?null!==y?T?n.compressedTexSubImage2D(3553,N,0,0,h.width,h.height,y,h.data):n.compressedTexImage2D(3553,N,b,h.width,h.height,0,h.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):T?n.texSubImage2D(3553,N,0,0,h.width,h.height,y,g,h.data):n.texImage2D(3553,N,b,h.width,h.height,0,y,g,h.data)}else if(i.isDataArrayTexture)T?(E&&n.texStorage3D(35866,C,b,v.width,v.height,v.depth),n.texSubImage3D(35866,0,0,0,0,v.width,v.height,v.depth,y,g,v.data)):n.texImage3D(35866,0,b,v.width,v.height,v.depth,0,y,g,v.data);else if(i.isData3DTexture)T?(E&&n.texStorage3D(32879,C,b,v.width,v.height,v.depth),n.texSubImage3D(32879,0,0,0,0,v.width,v.height,v.depth,y,g,v.data)):n.texImage3D(32879,0,b,v.width,v.height,v.depth,0,y,g,v.data);else if(i.isFramebufferTexture){if(E)if(T)n.texStorage2D(3553,C,b,v.width,v.height);else for(var z=v.width,B=v.height,F=0;F<C;F++)n.texImage2D(3553,F,b,z,B,0,y,g,null),z>>=1,B>>=1}else if(w.length>0&&m){T&&E&&n.texStorage2D(3553,C,b,w[0].width,w[0].height);for(var H=0,W=w.length;H<W;H++)h=w[H],T?n.texSubImage2D(3553,H,0,0,y,g,h):n.texImage2D(3553,H,b,y,g,h);i.generateMipmaps=!1}else T?(E&&n.texStorage2D(3553,C,b,v.width,v.height),n.texSubImage2D(3553,0,0,0,y,g,v)):n.texImage2D(3553,0,b,y,g,v);k(i,m)&&S(s),f.__version=l.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}function z(t,i,o,s,u){var l=a.convert(o.format,o.encoding),c=a.convert(o.type),f=M(o.internalFormat,l,c,o.encoding);r.get(i).__hasExternalTextures||(32879===u||35866===u?n.texImage3D(u,0,f,i.width,i.height,i.depth,0,l,c,null):n.texImage2D(u,0,f,i.width,i.height,0,l,c,null)),n.bindFramebuffer(36160,t),W(i)?v.framebufferTexture2DMultisampleEXT(36160,s,u,r.get(o).__webglTexture,0,H(i)):(3553===u||u>=34069&&u<=34074)&&e.framebufferTexture2D(36160,s,u,r.get(o).__webglTexture,0),n.bindFramebuffer(36160,null)}function B(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){var i=33189;if(r||W(n)){var o=n.depthTexture;o&&o.isDepthTexture&&(o.type===mA?i=36012:o.type===vA&&(i=33190));var s=H(n);W(n)?v.renderbufferStorageMultisampleEXT(36161,s,i,n.width,n.height):e.renderbufferStorageMultisample(36161,s,i,n.width,n.height)}else e.renderbufferStorage(36161,i,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){var u=H(n);r&&!1===W(n)?e.renderbufferStorageMultisample(36161,u,35056,n.width,n.height):W(n)?v.renderbufferStorageMultisampleEXT(36161,u,35056,n.width,n.height):e.renderbufferStorage(36161,34041,n.width,n.height),e.framebufferRenderbuffer(36160,33306,36161,t)}else for(var l=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture],c=0;c<l.length;c++){var f=l[c],h=a.convert(f.format,f.encoding),d=a.convert(f.type),p=M(f.internalFormat,h,d,f.encoding),m=H(n);r&&!1===W(n)?e.renderbufferStorageMultisample(36161,m,p,n.width,n.height):W(n)?v.renderbufferStorageMultisampleEXT(36161,m,p,n.width,n.height):e.renderbufferStorage(36161,p,n.width,n.height)}e.bindRenderbuffer(36161,null)}function F(t){var i=r.get(t),a=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),I(i.depthTexture,0);var a=r.get(i.depthTexture).__webglTexture,o=H(i);if(i.depthTexture.format===MA)W(i)?v.framebufferTexture2DMultisampleEXT(36160,36096,3553,a,0,o):e.framebufferTexture2D(36160,36096,3553,a,0);else{if(i.depthTexture.format!==AA)throw new Error("Unknown depthTexture format");W(i)?v.framebufferTexture2DMultisampleEXT(36160,33306,3553,a,0,o):e.framebufferTexture2D(36160,33306,3553,a,0)}}(i.__webglFramebuffer,t)}else if(a){i.__webglDepthbuffer=[];for(var o=0;o<6;o++)n.bindFramebuffer(36160,i.__webglFramebuffer[o]),i.__webglDepthbuffer[o]=e.createRenderbuffer(),B(i.__webglDepthbuffer[o],t,!1)}else n.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),B(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(36160,null)}function H(e){return Math.min(p,e.samples)}function W(e){var n=r.get(e);return c&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function G(e,n){var r=e.encoding,i=e.format,a=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||e.format===aE||r!==_T&&(r===kT?!1===c?!0===t.has("EXT_sRGB")&&i===_A?(e.format=aE,e.minFilter=aA,e.generateMipmaps=!1):n=DE.sRGBToLinear(n):i===_A&&a===cA||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",r)),n}this.allocateTextureUnit=function(){var e=R;return e>=f&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+f),R+=1,e},this.resetTextureUnits=function(){R=0},this.setTexture2D=I,this.setTexture2DArray=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?U(i,e,t):n.bindTexture(35866,i.__webglTexture,33984+t)},this.setTexture3D=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?U(i,e,t):n.bindTexture(32879,i.__webglTexture,33984+t)},this.setTextureCube=function(t,i){var o=r.get(t);t.version>0&&o.__version!==t.version?function(t,i,o){if(6!==i.image.length)return;var s=D(t,i),u=i.source;n.bindTexture(34067,t.__webglTexture,33984+o);var l=r.get(u);if(u.version!==l.__version||!0===s){n.activeTexture(33984+o),e.pixelStorei(37440,i.flipY),e.pixelStorei(37441,i.premultiplyAlpha),e.pixelStorei(3317,i.unpackAlignment),e.pixelStorei(37443,0);for(var f=i.isCompressedTexture||i.image[0].isCompressedTexture,d=i.image[0]&&i.image[0].isDataTexture,p=[],v=0;v<6;v++)p[v]=f||d?d?i.image[v].image:i.image[v]:x(i.image[v],!1,!0,h),p[v]=G(i,p[v]);var m,y=p[0],g=_(y)||c,b=a.convert(i.format,i.encoding),w=a.convert(i.type),T=M(i.internalFormat,b,w,i.encoding),E=c&&!0!==i.isVideoTexture,C=void 0===l.__version||!0===s,P=A(i,y,g);if(O(34067,i,g),f){E&&C&&n.texStorage2D(34067,P,T,y.width,y.height);for(var R=0;R<6;R++){m=p[R].mipmaps;for(var I=0;I<m.length;I++){var L=m[I];i.format!==_A?null!==b?E?n.compressedTexSubImage2D(34069+R,I,0,0,L.width,L.height,b,L.data):n.compressedTexImage2D(34069+R,I,T,L.width,L.height,0,L.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):E?n.texSubImage2D(34069+R,I,0,0,L.width,L.height,b,w,L.data):n.texImage2D(34069+R,I,T,L.width,L.height,0,b,w,L.data)}}}else{m=i.mipmaps,E&&C&&(m.length>0&&P++,n.texStorage2D(34067,P,T,p[0].width,p[0].height));for(var N=0;N<6;N++)if(d){E?n.texSubImage2D(34069+N,0,0,0,p[N].width,p[N].height,b,w,p[N].data):n.texImage2D(34069+N,0,T,p[N].width,p[N].height,0,b,w,p[N].data);for(var U=0;U<m.length;U++){var z=m[U].image[N].image;E?n.texSubImage2D(34069+N,U+1,0,0,z.width,z.height,b,w,z.data):n.texImage2D(34069+N,U+1,T,z.width,z.height,0,b,w,z.data)}}else{E?n.texSubImage2D(34069+N,0,0,0,b,w,p[N]):n.texImage2D(34069+N,0,T,b,w,p[N]);for(var B=0;B<m.length;B++){var F=m[B];E?n.texSubImage2D(34069+N,B+1,0,0,b,w,F.image[N]):n.texImage2D(34069+N,B+1,T,b,w,F.image[N])}}}k(i,g)&&S(34067),l.__version=u.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}(o,t,i):n.bindTexture(34067,o.__webglTexture,33984+i)},this.rebindTextures=function(e,t,n){var i=r.get(e);void 0!==t&&z(i.__webglFramebuffer,e,e.texture,36064,3553),void 0!==n&&F(e)},this.setupRenderTarget=function(t){var s=t.texture,u=r.get(t),l=r.get(s);t.addEventListener("dispose",C),!0!==t.isWebGLMultipleRenderTargets&&(void 0===l.__webglTexture&&(l.__webglTexture=e.createTexture()),l.__version=s.version,o.memory.textures++);var f=!0===t.isWebGLCubeRenderTarget,h=!0===t.isWebGLMultipleRenderTargets,d=_(t)||c;if(f){u.__webglFramebuffer=[];for(var p=0;p<6;p++)u.__webglFramebuffer[p]=e.createFramebuffer()}else{if(u.__webglFramebuffer=e.createFramebuffer(),h)if(i.drawBuffers)for(var v=t.texture,m=0,y=v.length;m<y;m++){var g=r.get(v[m]);void 0===g.__webglTexture&&(g.__webglTexture=e.createTexture(),o.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(c&&t.samples>0&&!1===W(t)){var b=h?s:[s];u.__webglMultisampledFramebuffer=e.createFramebuffer(),u.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,u.__webglMultisampledFramebuffer);for(var w=0;w<b.length;w++){var x=b[w];u.__webglColorRenderbuffer[w]=e.createRenderbuffer(),e.bindRenderbuffer(36161,u.__webglColorRenderbuffer[w]);var A=a.convert(x.format,x.encoding),T=a.convert(x.type),E=M(x.internalFormat,A,T,x.encoding,!0===t.isXRRenderTarget),P=H(t);e.renderbufferStorageMultisample(36161,P,E,t.width,t.height),e.framebufferRenderbuffer(36160,36064+w,36161,u.__webglColorRenderbuffer[w])}e.bindRenderbuffer(36161,null),t.depthBuffer&&(u.__webglDepthRenderbuffer=e.createRenderbuffer(),B(u.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(36160,null)}}if(f){n.bindTexture(34067,l.__webglTexture),O(34067,s,d);for(var R=0;R<6;R++)z(u.__webglFramebuffer[R],t,s,36064,34069+R);k(s,d)&&S(34067),n.unbindTexture()}else if(h){for(var I=t.texture,L=0,N=I.length;L<N;L++){var D=I[L],U=r.get(D);n.bindTexture(3553,U.__webglTexture),O(3553,D,d),z(u.__webglFramebuffer,t,D,36064+L,3553),k(D,d)&&S(3553)}n.unbindTexture()}else{var G=3553;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(c?G=t.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(G,l.__webglTexture),O(G,s,d),z(u.__webglFramebuffer,t,s,36064,G),k(s,d)&&S(G),n.unbindTexture()}t.depthBuffer&&F(t)},this.updateRenderTargetMipmap=function(e){for(var t=_(e)||c,i=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture],a=0,o=i.length;a<o;a++){var s=i[a];if(k(s,t)){var u=e.isWebGLCubeRenderTarget?34067:3553,l=r.get(s).__webglTexture;n.bindTexture(u,l),S(u),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(c&&t.samples>0&&!1===W(t)){var i=t.isWebGLMultipleRenderTargets?t.texture:[t.texture],a=t.width,o=t.height,s=16384,u=[],l=t.stencilBuffer?33306:36096,f=r.get(t),h=!0===t.isWebGLMultipleRenderTargets;if(h)for(var d=0;d<i.length;d++)n.bindFramebuffer(36160,f.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+d,36161,null),n.bindFramebuffer(36160,f.__webglFramebuffer),e.framebufferTexture2D(36009,36064+d,3553,null,0);n.bindFramebuffer(36008,f.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,f.__webglFramebuffer);for(var p=0;p<i.length;p++){u.push(36064+p),t.depthBuffer&&u.push(l);var v=void 0!==f.__ignoreDepthValues&&f.__ignoreDepthValues;if(!1===v&&(t.depthBuffer&&(s|=256),t.stencilBuffer&&(s|=1024)),h&&e.framebufferRenderbuffer(36008,36064,36161,f.__webglColorRenderbuffer[p]),!0===v&&(e.invalidateFramebuffer(36008,[l]),e.invalidateFramebuffer(36009,[l])),h){var y=r.get(i[p]).__webglTexture;e.framebufferTexture2D(36009,36064,3553,y,0)}e.blitFramebuffer(0,0,a,o,0,0,a,o,s,9728),m&&e.invalidateFramebuffer(36008,u)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),h)for(var g=0;g<i.length;g++){n.bindFramebuffer(36160,f.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+g,36161,f.__webglColorRenderbuffer[g]);var b=r.get(i[g]).__webglTexture;n.bindFramebuffer(36160,f.__webglFramebuffer),e.framebufferTexture2D(36009,36064+g,3553,b,0)}n.bindFramebuffer(36009,f.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=F,this.setupFrameBufferTexture=z,this.useMultisampledRTT=W}function ZL(e,t,n){var r=n.isWebGL2;return{convert:function(n){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(n===cA)return 5121;if(n===gA)return 32819;if(n===bA)return 32820;if(n===fA)return 5120;if(n===hA)return 5122;if(n===dA)return 5123;if(n===pA)return 5124;if(n===vA)return 5125;if(n===mA)return 5126;if(n===yA)return r?5131:null!==(i=t.get("OES_texture_half_float"))?i.HALF_FLOAT_OES:null;if(n===xA)return 6406;if(n===_A)return 6408;if(n===kA)return 6409;if(n===SA)return 6410;if(n===MA)return 6402;if(n===AA)return 34041;if(n===aE)return null!==(i=t.get("EXT_sRGB"))?i.SRGB_ALPHA_EXT:null;if(n===TA)return 6403;if(n===EA)return 36244;if(n===CA)return 33319;if(n===PA)return 33320;if(n===RA)return 36249;if(n===IA||n===LA||n===NA||n===OA)if(a===kT){if(null===(i=t.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(n===IA)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===LA)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===NA)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===OA)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(i=t.get("WEBGL_compressed_texture_s3tc")))return null;if(n===IA)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===LA)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===NA)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===OA)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===DA||n===UA||n===zA||n===BA){if(null===(i=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(n===DA)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===UA)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===zA)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===BA)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===FA)return null!==(i=t.get("WEBGL_compressed_texture_etc1"))?i.COMPRESSED_RGB_ETC1_WEBGL:null;if(n===HA||n===WA){if(null===(i=t.get("WEBGL_compressed_texture_etc")))return null;if(n===HA)return a===kT?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(n===WA)return a===kT?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}if(n===GA||n===jA||n===VA||n===qA||n===XA||n===JA||n===YA||n===QA||n===ZA||n===KA||n===$A||n===eT||n===tT||n===nT){if(null===(i=t.get("WEBGL_compressed_texture_astc")))return null;if(n===GA)return a===kT?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===jA)return a===kT?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===VA)return a===kT?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===qA)return a===kT?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===XA)return a===kT?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===JA)return a===kT?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===YA)return a===kT?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===QA)return a===kT?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===ZA)return a===kT?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===KA)return a===kT?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===$A)return a===kT?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===eT)return a===kT?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===tT)return a===kT?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===nT)return a===kT?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===rT){if(null===(i=t.get("EXT_texture_compression_bptc")))return null;if(n===rT)return a===kT?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT}if(n===iT||n===aT||n===oT||n===sT){if(null===(i=t.get("EXT_texture_compression_rgtc")))return null;if(n===rT)return i.COMPRESSED_RED_RGTC1_EXT;if(n===aT)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===oT)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===sT)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===wA?r?34042:null!==(i=t.get("WEBGL_depth_texture"))?i.UNSIGNED_INT_24_8_WEBGL:null:void 0!==e[n]?e[n]:null}}}var KL=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return nt(this,n),(e=t.call(this)).isArrayCamera=!0,e.cameras=r,e}return at(n)}(mR),$L=function(e){ct(n,e);var t=dt(n);function n(){var e;return nt(this,n),(e=t.call(this)).isGroup=!0,e.type="Group",e}return at(n)}(QC),eN={type:"move"},tN=function(){function e(){nt(this,e),this._targetRay=null,this._grip=null,this._hand=null}return at(e,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new $L,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new $L,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new YE,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new YE),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new $L,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new YE,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new YE),this._grip}},{key:"dispatchEvent",value:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}},{key:"connect",value:function(e){if(e&&e.hand){var t=this._hand;if(t){var n,r=Lt(e.hand.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this._getHandJoint(t,i)}}catch(AG){r.e(AG)}finally{r.f()}}}return this.dispatchEvent({type:"connected",data:e}),this}},{key:"disconnect",value:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(e,t,n){var r=null,i=null,a=null,o=this._targetRay,s=this._grip,u=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(u&&e.hand){a=!0;var l,c=Lt(e.hand.values());try{for(c.s();!(l=c.n()).done;){var f=l.value,h=t.getJointPose(f,n),d=this._getHandJoint(u,f);null!==h&&(d.matrix.fromArray(h.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.jointRadius=h.radius),d.visible=null!==h}}catch(AG){c.e(AG)}finally{c.f()}var p=u.joints["index-finger-tip"],v=u.joints["thumb-tip"],m=p.position.distanceTo(v.position);u.inputState.pinching&&m>.025?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&m<=.015&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&null!==(i=t.getPose(e.gripSpace,n))&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1);null!==o&&(null===(r=t.getPose(e.targetRaySpace,n))&&null!==i&&(r=i),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(eN)))}return null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==i),null!==u&&(u.visible=null!==a),this}},{key:"_getHandJoint",value:function(e,t){if(void 0===e.joints[t.jointName]){var n=new $L;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}]),e}(),nN=function(e){ct(n,e);var t=dt(n);function n(e,r,i,a,o,s,u,l,c,f){var h;if(nt(this,n),(f=void 0!==f?f:MA)!==MA&&f!==AA)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===i&&f===MA&&(i=vA),void 0===i&&f===AA&&(i=wA),(h=t.call(this,null,a,o,s,u,l,f,i,c)).isDepthTexture=!0,h.image={width:e,height:r},h.magFilter=void 0!==u?u:eA,h.minFilter=void 0!==l?l:eA,h.flipY=!1,h.generateMipmaps=!1,h}return at(n)}(FE),rN=function(e){ct(n,e);var t=dt(n);function n(e,r){var i;nt(this,n);var a=ot(i=t.call(this)),o=null,s=1,u=null,l="local-floor",c=1,h=null,p=null,v=null,m=null,y=null,g=null,b=r.getContextAttributes(),w=null,x=null,_=[],k=[],S=new Set,M=new Map,A=new mR;A.layers.enable(1),A.viewport=new HE;var T=new mR;T.layers.enable(2),T.viewport=new HE;var E=[A,T],C=new KL;C.layers.enable(1),C.layers.enable(2);var P=null,R=null;function I(e){var t=k.indexOf(e.inputSource);if(-1!==t){var n=_[t];void 0!==n&&n.dispatchEvent({type:e.type,data:e.inputSource})}}function L(){o.removeEventListener("select",I),o.removeEventListener("selectstart",I),o.removeEventListener("selectend",I),o.removeEventListener("squeeze",I),o.removeEventListener("squeezestart",I),o.removeEventListener("squeezeend",I),o.removeEventListener("end",L),o.removeEventListener("inputsourceschange",N);for(var t=0;t<_.length;t++){var n=k[t];null!==n&&(k[t]=null,_[t].disconnect(n))}P=null,R=null,e.setRenderTarget(w),y=null,m=null,v=null,o=null,x=null,B.stop(),a.isPresenting=!1,a.dispatchEvent({type:"sessionend"})}function N(e){for(var t=0;t<e.removed.length;t++){var n=e.removed[t],r=k.indexOf(n);r>=0&&(k[r]=null,_[r].disconnect(n))}for(var i=0;i<e.added.length;i++){var a=e.added[i],o=k.indexOf(a);if(-1===o){for(var s=0;s<_.length;s++){if(s>=k.length){k.push(a),o=s;break}if(null===k[s]){k[s]=a,o=s;break}}if(-1===o)break}var u=_[o];u&&u.connect(a)}}i.cameraAutoUpdate=!0,i.enabled=!1,i.isPresenting=!1,i.getController=function(e){var t=_[e];return void 0===t&&(t=new tN,_[e]=t),t.getTargetRaySpace()},i.getControllerGrip=function(e){var t=_[e];return void 0===t&&(t=new tN,_[e]=t),t.getGripSpace()},i.getHand=function(e){var t=_[e];return void 0===t&&(t=new tN,_[e]=t),t.getHandSpace()},i.setFramebufferScaleFactor=function(e){s=e,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},i.setReferenceSpaceType=function(e){l=e,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},i.getReferenceSpace=function(){return h||u},i.setReferenceSpace=function(e){h=e},i.getBaseLayer=function(){return null!==m?m:y},i.getBinding=function(){return v},i.getFrame=function(){return g},i.getSession=function(){return o},i.setSession=function(){var t=d(f().mark((function t(n){var i,d,p,g,_;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(o=n)){t.next=25;break}if(w=e.getRenderTarget(),o.addEventListener("select",I),o.addEventListener("selectstart",I),o.addEventListener("selectend",I),o.addEventListener("squeeze",I),o.addEventListener("squeezestart",I),o.addEventListener("squeezeend",I),o.addEventListener("end",L),o.addEventListener("inputsourceschange",N),!0===b.xrCompatible){t.next=14;break}return t.next=14,r.makeXRCompatible();case 14:return void 0===o.renderState.layers||!1===e.capabilities.isWebGL2?(i={antialias:void 0!==o.renderState.layers||b.antialias,alpha:b.alpha,depth:b.depth,stencil:b.stencil,framebufferScaleFactor:s},y=new XRWebGLLayer(o,r,i),o.updateRenderState({baseLayer:y}),x=new WE(y.framebufferWidth,y.framebufferHeight,{format:_A,type:cA,encoding:e.outputEncoding,stencilBuffer:b.stencil})):(d=null,p=null,g=null,b.depth&&(g=b.stencil?35056:33190,d=b.stencil?AA:MA,p=b.stencil?wA:vA),_={colorFormat:32856,depthFormat:g,scaleFactor:s},v=new XRWebGLBinding(o,r),m=v.createProjectionLayer(_),o.updateRenderState({layers:[m]}),x=new WE(m.textureWidth,m.textureHeight,{format:_A,type:cA,depthTexture:new nN(m.textureWidth,m.textureHeight,p,void 0,void 0,void 0,void 0,void 0,void 0,d),stencilBuffer:b.stencil,encoding:e.outputEncoding,samples:b.antialias?4:0}),e.properties.get(x).__ignoreDepthValues=m.ignoreDepthValues),x.isXRRenderTarget=!0,this.setFoveation(c),h=null,t.next=20,o.requestReferenceSpace(l);case 20:u=t.sent,B.setContext(o),B.start(),a.isPresenting=!0,a.dispatchEvent({type:"sessionstart"});case 25:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}();var O=new YE,D=new YE;function U(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}i.updateCamera=function(e){if(null!==o){C.near=T.near=A.near=e.near,C.far=T.far=A.far=e.far,P===C.near&&R===C.far||(o.updateRenderState({depthNear:C.near,depthFar:C.far}),P=C.near,R=C.far);var t=e.parent,n=C.cameras;U(C,t);for(var r=0;r<n.length;r++)U(n[r],t);2===n.length?function(e,t,n){O.setFromMatrixPosition(t.matrixWorld),D.setFromMatrixPosition(n.matrixWorld);var r=O.distanceTo(D),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),u=(i[9]+1)/i[5],l=(i[9]-1)/i[5],c=(i[8]-1)/i[0],f=(a[8]+1)/a[0],h=o*c,d=o*f,p=r/(-c+f),v=p*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(v),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();var m=o+p,y=s+p,g=h-v,b=d+(r-v),w=u*s/y*m,x=l*s/y*m;e.projectionMatrix.makePerspective(g,b,w,x,m,y),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}(C,A,T):C.projectionMatrix.copy(A.projectionMatrix),function(e,t,n){null===n?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld));e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0);for(var r=e.children,i=0,a=r.length;i<a;i++)r[i].updateMatrixWorld(!0);e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*cE*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}(e,C,t)}},i.getCamera=function(){return C},i.getFoveation=function(){if(null!==m||null!==y)return c},i.setFoveation=function(e){c=e,null!==m&&(m.fixedFoveation=e),null!==y&&void 0!==y.fixedFoveation&&(y.fixedFoveation=e)},i.getPlanes=function(){return S};var z=null;var B=new ER;return B.setAnimationLoop((function(t,n){if(p=n.getViewerPose(h||u),g=n,null!==p){var r=p.views;null!==y&&(e.setRenderTargetFramebuffer(x,y.framebuffer),e.setRenderTarget(x));var i=!1;r.length!==C.cameras.length&&(C.cameras.length=0,i=!0);for(var o=0;o<r.length;o++){var s=r[o],l=null;if(null!==y)l=y.getViewport(s);else{var c=v.getViewSubImage(m,s);l=c.viewport,0===o&&(e.setRenderTargetTextures(x,c.colorTexture,m.ignoreDepthValues?void 0:c.depthStencilTexture),e.setRenderTarget(x))}var f=E[o];void 0===f&&((f=new mR).layers.enable(o),f.viewport=new HE,E[o]=f),f.matrix.fromArray(s.transform.matrix),f.matrix.decompose(f.position,f.quaternion,f.scale),f.projectionMatrix.fromArray(s.projectionMatrix),f.projectionMatrixInverse.copy(f.projectionMatrix).invert(),f.viewport.set(l.x,l.y,l.width,l.height),0===o&&(C.matrix.copy(f.matrix),C.matrix.decompose(C.position,C.quaternion,C.scale)),!0===i&&C.cameras.push(f)}}for(var d=0;d<_.length;d++){var b=k[d],w=_[d];null!==b&&void 0!==w&&w.update(b,n,h||u)}if(z&&z(t,n),n.detectedPlanes){a.dispatchEvent({type:"planesdetected",data:n.detectedPlanes});var A,T=null,P=Lt(S);try{for(P.s();!(A=P.n()).done;){var R=A.value;n.detectedPlanes.has(R)||(null===T&&(T=[]),T.push(R))}}catch(AG){P.e(AG)}finally{P.f()}if(null!==T){var I,L=Lt(T);try{for(L.s();!(I=L.n()).done;){var N=I.value;S.delete(N),M.delete(N),a.dispatchEvent({type:"planeremoved",data:N})}}catch(AG){L.e(AG)}finally{L.f()}}var O,D=Lt(n.detectedPlanes);try{for(D.s();!(O=D.n()).done;){var U=O.value;if(S.has(U)){var B=M.get(U);U.lastChangedTime>B&&(M.set(U,U.lastChangedTime),a.dispatchEvent({type:"planechanged",data:U}))}else S.add(U),M.set(U,n.lastChangedTime),a.dispatchEvent({type:"planeadded",data:U})}}catch(AG){D.e(AG)}finally{D.f()}}g=null})),i.setAnimationLoop=function(e){z=e},i.dispose=function(){},i}return at(n)}(oE);function iN(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function r(r,i){r.opacity.value=i.opacity,i.color&&r.diffuse.value.copy(i.color),i.emissive&&r.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),i.map&&(r.map.value=i.map,n(i.map,r.mapTransform)),i.alphaMap&&(r.alphaMap.value=i.alphaMap,n(i.alphaMap,r.alphaMapTransform)),i.bumpMap&&(r.bumpMap.value=i.bumpMap,n(i.bumpMap,r.bumpMapTransform),r.bumpScale.value=i.bumpScale,i.side===rM&&(r.bumpScale.value*=-1)),i.normalMap&&(r.normalMap.value=i.normalMap,n(i.normalMap,r.normalMapTransform),r.normalScale.value.copy(i.normalScale),i.side===rM&&r.normalScale.value.negate()),i.displacementMap&&(r.displacementMap.value=i.displacementMap,n(i.displacementMap,r.displacementMapTransform),r.displacementScale.value=i.displacementScale,r.displacementBias.value=i.displacementBias),i.emissiveMap&&(r.emissiveMap.value=i.emissiveMap,n(i.emissiveMap,r.emissiveMapTransform)),i.specularMap&&(r.specularMap.value=i.specularMap,n(i.specularMap,r.specularMapTransform)),i.alphaTest>0&&(r.alphaTest.value=i.alphaTest);var a=t.get(i).envMap;if(a&&(r.envMap.value=a,r.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,r.reflectivity.value=i.reflectivity,r.ior.value=i.ior,r.refractionRatio.value=i.refractionRatio),i.lightMap){r.lightMap.value=i.lightMap;var o=!0===e.useLegacyLights?Math.PI:1;r.lightMapIntensity.value=i.lightMapIntensity*o,n(i.lightMap,r.lightMapTransform)}i.aoMap&&(r.aoMap.value=i.aoMap,r.aoMapIntensity.value=i.aoMapIntensity,n(i.aoMap,r.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,hR(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,i,a,o,s){i.isMeshBasicMaterial||i.isMeshLambertMaterial?r(e,i):i.isMeshToonMaterial?(r(e,i),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,i)):i.isMeshPhongMaterial?(r(e,i),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,i)):i.isMeshStandardMaterial?(r(e,i),function(e,r){e.metalness.value=r.metalness,r.metalnessMap&&(e.metalnessMap.value=r.metalnessMap,n(r.metalnessMap,e.metalnessMapTransform));e.roughness.value=r.roughness,r.roughnessMap&&(e.roughnessMap.value=r.roughnessMap,n(r.roughnessMap,e.roughnessMapTransform));var i=t.get(r).envMap;i&&(e.envMapIntensity.value=r.envMapIntensity)}(e,i),i.isMeshPhysicalMaterial&&function(e,t,r){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform)));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),t.side===rM&&e.clearcoatNormalScale.value.negate()));t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform)));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform));t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}(e,i,s)):i.isMeshMatcapMaterial?(r(e,i),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,i)):i.isMeshDepthMaterial?r(e,i):i.isMeshDistanceMaterial?(r(e,i),function(e,n){var r=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(r.matrixWorld),e.nearDistance.value=r.shadow.camera.near,e.farDistance.value=r.shadow.camera.far}(e,i)):i.isMeshNormalMaterial?r(e,i):i.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}(e,i),i.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,i)):i.isPointsMaterial?function(e,t,r,i){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*i,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap);t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i,a,o):i.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap);t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function aN(e,t,n,r){var i={},a={},o=[],s=n.isWebGL2?e.getParameter(35375):0;function u(e,t,n){var r=e.value;if(void 0===n[t]){if("number"===typeof r)n[t]=r;else{for(var i=Array.isArray(r)?r:[r],a=[],o=0;o<i.length;o++)a.push(i[o].clone());n[t]=a}return!0}if("number"===typeof r){if(n[t]!==r)return n[t]=r,!0}else for(var s=Array.isArray(n[t])?n[t]:[n[t]],u=Array.isArray(r)?r:[r],l=0;l<s.length;l++){var c=s[l];if(!1===c.equals(u[l]))return c.copy(u[l]),!0}return!1}function l(e){var t={boundary:0,storage:0};return"number"===typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function c(t){var n=t.target;n.removeEventListener("dispose",c);var r=o.indexOf(n.__bindingPointIndex);o.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete a[n.id]}return{bind:function(e,t){var n=t.program;r.uniformBlockBinding(e,n)},update:function(n,f){var h=i[n.id];void 0===h&&(!function(e){for(var t=e.uniforms,n=0,r=16,i=0,a=0,o=t.length;a<o;a++){for(var s=t[a],u={boundary:0,storage:0},c=Array.isArray(s.value)?s.value:[s.value],f=0,h=c.length;f<h;f++){var d=l(c[f]);u.boundary+=d.boundary,u.storage+=d.storage}if(s.__data=new Float32Array(u.storage/Float32Array.BYTES_PER_ELEMENT),s.__offset=n,a>0)0!==(i=n%r)&&r-i-u.boundary<0&&(n+=r-i,s.__offset=n);n+=u.storage}(i=n%r)>0&&(n+=r-i);e.__size=n,e.__cache={}}(n),h=function(t){var n=function(){for(var e=0;e<s;e++)if(-1===o.indexOf(e))return o.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;var r=e.createBuffer(),i=t.__size,a=t.usage;return e.bindBuffer(35345,r),e.bufferData(35345,i,a),e.bindBuffer(35345,null),e.bindBufferBase(35345,n,r),r}(n),i[n.id]=h,n.addEventListener("dispose",c));var d=f.program;r.updateUBOMapping(n,d);var p=t.render.frame;a[n.id]!==p&&(!function(t){var n=i[t.id],r=t.uniforms,a=t.__cache;e.bindBuffer(35345,n);for(var o=0,s=r.length;o<s;o++){var c=r[o];if(!0===u(c,o,a)){for(var f=c.__offset,h=Array.isArray(c.value)?c.value:[c.value],d=0,p=0;p<h.length;p++){var v=h[p],m=l(v);"number"===typeof v?(c.__data[0]=v,e.bufferSubData(35345,f+d,c.__data)):v.isMatrix3?(c.__data[0]=v.elements[0],c.__data[1]=v.elements[1],c.__data[2]=v.elements[2],c.__data[3]=v.elements[0],c.__data[4]=v.elements[3],c.__data[5]=v.elements[4],c.__data[6]=v.elements[5],c.__data[7]=v.elements[0],c.__data[8]=v.elements[6],c.__data[9]=v.elements[7],c.__data[10]=v.elements[8],c.__data[11]=v.elements[0]):(v.toArray(c.__data,d),d+=m.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(35345,f,c.__data)}}e.bindBuffer(35345,null)}(n),a[n.id]=p)},dispose:function(){for(var t in i)e.deleteBuffer(i[t]);o=[],i={},a={}}}}var oN=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};nt(this,e);var n,r=t.canvas,i=void 0===r?function(){var e=TE("canvas");return e.style.display="block",e}():r,a=t.context,o=void 0===a?null:a,s=t.depth,u=void 0===s||s,l=t.stencil,c=void 0===l||l,f=t.alpha,h=void 0!==f&&f,d=t.antialias,p=void 0!==d&&d,v=t.premultipliedAlpha,m=void 0===v||v,y=t.preserveDrawingBuffer,g=void 0!==y&&y,b=t.powerPreference,w=void 0===b?"default":b,x=t.failIfMajorPerformanceCaveat,_=void 0!==x&&x;this.isWebGLRenderer=!0,n=null!==o?o.getContextAttributes().alpha:h;var k=null,S=null,M=[],A=[];this.domElement=i,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=_T,this.useLegacyLights=!0,this.toneMapping=BM,this.toneMappingExposure=1;var T=this,E=!1,C=0,P=0,R=null,I=-1,L=null,N=new HE,O=new HE,D=null,U=i.width,z=i.height,B=1,F=null,H=null,W=new HE(0,0,U,z),G=new HE(0,0,U,z),j=!1,V=new TR,q=!1,X=!1,J=null,Y=new MC,Q=new YE,Z={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function K(){return null===R?B:1}var $,ee,te,ne,re,ie,ae,oe,se,ue,le,ce,fe,he,de,pe,ve,me,ye,ge,be,we,xe,_e,ke=o;function Se(e,t){for(var n=0;n<e.length;n++){var r=e[n],a=i.getContext(r,t);if(null!==a)return a}return null}try{var Me={alpha:!0,depth:u,stencil:c,antialias:p,premultipliedAlpha:m,preserveDrawingBuffer:g,powerPreference:w,failIfMajorPerformanceCaveat:_};if("setAttribute"in i&&i.setAttribute("data-engine","three.js r".concat(VS)),i.addEventListener("webglcontextlost",Ce,!1),i.addEventListener("webglcontextrestored",Pe,!1),i.addEventListener("webglcontextcreationerror",Re,!1),null===ke){var Ae=["webgl2","webgl","experimental-webgl"];if(!0===T.isWebGL1Renderer&&Ae.shift(),null===(ke=Se(Ae,Me)))throw Se(Ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ke.getShaderPrecisionFormat&&(ke.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ge){throw console.error("THREE.WebGLRenderer: "+Ge.message),Ge}function Te(){$=new rI(ke),ee=new zR(ke,$,t),$.init(ee),we=new ZL(ke,$,ee),te=new YL(ke,$,ee),ne=new oI,re=new OL,ie=new QL(ke,$,te,re,ee,we,ne),ae=new FR(T),oe=new nI(T),se=new CR(ke,ee),xe=new DR(ke,$,se,ee),ue=new iI(ke,se,ne,xe),le=new cI(ke,ue,se,ne),ye=new lI(ke,ee,ie),pe=new BR(re),ce=new NL(T,ae,oe,$,ee,xe,pe),fe=new iN(T,re),he=new BL,de=new VL($,ee),me=new OR(T,ae,oe,te,le,n,m),ve=new JL(T,le,ee),_e=new aN(ke,ne,ee,te),ge=new UR(ke,$,ne,ee),be=new aI(ke,$,ne,ee),ne.programs=ce.programs,T.capabilities=ee,T.extensions=$,T.properties=re,T.renderLists=he,T.shadowMap=ve,T.state=te,T.info=ne}Te();var Ee=new rN(T,ke);function Ce(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),E=!0}function Pe(){console.log("THREE.WebGLRenderer: Context Restored."),E=!1;var e=ne.autoReset,t=ve.enabled,n=ve.autoUpdate,r=ve.needsUpdate,i=ve.type;Te(),ne.autoReset=e,ve.enabled=t,ve.autoUpdate=n,ve.needsUpdate=r,ve.type=i}function Re(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function Ie(e){var t=e.target;t.removeEventListener("dispose",Ie),function(e){(function(e){var t=re.get(e).programs;void 0!==t&&(t.forEach((function(e){ce.releaseProgram(e)})),e.isShaderMaterial&&ce.releaseShaderCache(e))})(e),re.remove(e)}(t)}this.xr=Ee,this.getContext=function(){return ke},this.getContextAttributes=function(){return ke.getContextAttributes()},this.forceContextLoss=function(){var e=$.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=$.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return B},this.setPixelRatio=function(e){void 0!==e&&(B=e,this.setSize(U,z,!1))},this.getSize=function(e){return e.set(U,z)},this.setSize=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Ee.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(U=e,z=t,i.width=Math.floor(e*B),i.height=Math.floor(t*B),!0===n&&(i.style.width=e+"px",i.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(e){return e.set(U*B,z*B).floor()},this.setDrawingBufferSize=function(e,t,n){U=e,z=t,B=n,i.width=Math.floor(e*n),i.height=Math.floor(t*n),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return e.copy(N)},this.getViewport=function(e){return e.copy(W)},this.setViewport=function(e,t,n,r){e.isVector4?W.set(e.x,e.y,e.z,e.w):W.set(e,t,n,r),te.viewport(N.copy(W).multiplyScalar(B).floor())},this.getScissor=function(e){return e.copy(G)},this.setScissor=function(e,t,n,r){e.isVector4?G.set(e.x,e.y,e.z,e.w):G.set(e,t,n,r),te.scissor(O.copy(G).multiplyScalar(B).floor())},this.getScissorTest=function(){return j},this.setScissorTest=function(e){te.setScissorTest(j=e)},this.setOpaqueSort=function(e){F=e},this.setTransparentSort=function(e){H=e},this.getClearColor=function(e){return e.copy(me.getClearColor())},this.setClearColor=function(){me.setClearColor.apply(me,arguments)},this.getClearAlpha=function(){return me.getClearAlpha()},this.setClearAlpha=function(){me.setClearAlpha.apply(me,arguments)},this.clear=function(){var e=0;(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(e|=16384),(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(e|=256),(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&(e|=1024),ke.clear(e)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){i.removeEventListener("webglcontextlost",Ce,!1),i.removeEventListener("webglcontextrestored",Pe,!1),i.removeEventListener("webglcontextcreationerror",Re,!1),he.dispose(),de.dispose(),re.dispose(),ae.dispose(),oe.dispose(),le.dispose(),xe.dispose(),_e.dispose(),ce.dispose(),Ee.dispose(),Ee.removeEventListener("sessionstart",Ne),Ee.removeEventListener("sessionend",Oe),J&&(J.dispose(),J=null),De.stop()},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=Z);var o=i.isMesh&&i.matrixWorld.determinant()<0,s=function(e,t,n,r,i){!0!==t.isScene&&(t=Z);ie.resetTextureUnits();var a=t.fog,o=r.isMeshStandardMaterial?t.environment:null,s=null===R?T.outputEncoding:!0===R.isXRRenderTarget?R.texture.encoding:_T,u=(r.isMeshStandardMaterial?oe:ae).get(r.envMap||o),l=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,c=!!r.normalMap&&!!n.attributes.tangent,f=!!n.morphAttributes.position,h=!!n.morphAttributes.normal,d=!!n.morphAttributes.color,p=r.toneMapped?T.toneMapping:BM,v=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,m=void 0!==v?v.length:0,y=re.get(r),g=S.state.lights;if(!0===q&&(!0===X||e!==L)){var b=e===L&&r.id===I;pe.setState(r,e,b)}var w=!1;r.version===y.__version?y.needsLights&&y.lightsStateVersion!==g.state.version||y.outputEncoding!==s||i.isInstancedMesh&&!1===y.instancing?w=!0:i.isInstancedMesh||!0!==y.instancing?i.isSkinnedMesh&&!1===y.skinning?w=!0:i.isSkinnedMesh||!0!==y.skinning?y.envMap!==u||!0===r.fog&&y.fog!==a?w=!0:void 0===y.numClippingPlanes||y.numClippingPlanes===pe.numPlanes&&y.numIntersection===pe.numIntersection?(y.vertexAlphas!==l||y.vertexTangents!==c||y.morphTargets!==f||y.morphNormals!==h||y.morphColors!==d||y.toneMapping!==p||!0===ee.isWebGL2&&y.morphTargetsCount!==m)&&(w=!0):w=!0:w=!0:w=!0:(w=!0,y.__version=r.version);var x=y.currentProgram;!0===w&&(x=He(r,t,i));var _=!1,k=!1,M=!1,A=x.getUniforms(),E=y.uniforms;te.useProgram(x.program)&&(_=!0,k=!0,M=!0);r.id!==I&&(I=r.id,k=!0);if(_||L!==e){if(A.setValue(ke,"projectionMatrix",e.projectionMatrix),ee.logarithmicDepthBuffer&&A.setValue(ke,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),L!==e&&(L=e,k=!0,M=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){var C=A.map.cameraPosition;void 0!==C&&C.setValue(ke,Q.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&A.setValue(ke,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||i.isSkinnedMesh)&&A.setValue(ke,"viewMatrix",e.matrixWorldInverse)}if(i.isSkinnedMesh){A.setOptional(ke,i,"bindMatrix"),A.setOptional(ke,i,"bindMatrixInverse");var P=i.skeleton;P&&(ee.floatVertexTextures?(null===P.boneTexture&&P.computeBoneTexture(),A.setValue(ke,"boneTexture",P.boneTexture,ie),A.setValue(ke,"boneTextureSize",P.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}var N=n.morphAttributes;(void 0!==N.position||void 0!==N.normal||void 0!==N.color&&!0===ee.isWebGL2)&&ye.update(i,n,x);(k||y.receiveShadow!==i.receiveShadow)&&(y.receiveShadow=i.receiveShadow,A.setValue(ke,"receiveShadow",i.receiveShadow));r.isMeshGouraudMaterial&&null!==r.envMap&&(E.envMap.value=u,E.flipEnvMap.value=u.isCubeTexture&&!1===u.isRenderTargetTexture?-1:1);k&&(A.setValue(ke,"toneMappingExposure",T.toneMappingExposure),y.needsLights&&(D=M,(O=E).ambientLightColor.needsUpdate=D,O.lightProbe.needsUpdate=D,O.directionalLights.needsUpdate=D,O.directionalLightShadows.needsUpdate=D,O.pointLights.needsUpdate=D,O.pointLightShadows.needsUpdate=D,O.spotLights.needsUpdate=D,O.spotLightShadows.needsUpdate=D,O.rectAreaLights.needsUpdate=D,O.hemisphereLights.needsUpdate=D),a&&!0===r.fog&&fe.refreshFogUniforms(E,a),fe.refreshMaterialUniforms(E,r,B,z,J),pL.upload(ke,y.uniformsList,E,ie));var O,D;r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(pL.upload(ke,y.uniformsList,E,ie),r.uniformsNeedUpdate=!1);r.isSpriteMaterial&&A.setValue(ke,"center",i.center);if(A.setValue(ke,"modelViewMatrix",i.modelViewMatrix),A.setValue(ke,"normalMatrix",i.normalMatrix),A.setValue(ke,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial)for(var U=r.uniformsGroups,F=0,H=U.length;F<H;F++)if(ee.isWebGL2){var W=U[F];_e.update(W,x),_e.bind(W,x)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.");return x}(e,t,n,r,i);te.setMaterial(r,o);var u=n.index,l=1;!0===r.wireframe&&(u=ue.getWireframeAttribute(n),l=2);var c=n.drawRange,f=n.attributes.position,h=c.start*l,d=(c.start+c.count)*l;null!==a&&(h=Math.max(h,a.start*l),d=Math.min(d,(a.start+a.count)*l)),null!==u?(h=Math.max(h,0),d=Math.min(d,u.count)):void 0!==f&&null!==f&&(h=Math.max(h,0),d=Math.min(d,f.count));var p=d-h;if(!(p<0||p===1/0)){var v;xe.setup(i,r,s,n,u);var m=ge;if(null!==u&&(v=se.get(u),(m=be).setIndex(v)),i.isMesh)!0===r.wireframe?(te.setLineWidth(r.wireframeLinewidth*K()),m.setMode(1)):m.setMode(4);else if(i.isLine){var y=r.linewidth;void 0===y&&(y=1),te.setLineWidth(y*K()),i.isLineSegments?m.setMode(1):i.isLineLoop?m.setMode(2):m.setMode(3)}else i.isPoints?m.setMode(0):i.isSprite&&m.setMode(4);if(i.isInstancedMesh)m.renderInstances(h,p,i.count);else if(n.isInstancedBufferGeometry){var g=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,b=Math.min(n.instanceCount,g);m.renderInstances(h,p,b)}else m.render(h,p)}},this.compile=function(e,t){function n(e,t,n){!0===e.transparent&&e.side===iM&&!1===e.forceSinglePass?(e.side=rM,e.needsUpdate=!0,He(e,t,n),e.side=nM,e.needsUpdate=!0,He(e,t,n),e.side=iM):He(e,t,n)}(S=de.get(e)).init(),A.push(S),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(S.pushLight(e),e.castShadow&&S.pushShadow(e))})),S.setupLights(T.useLegacyLights),e.traverse((function(t){var r=t.material;if(r)if(Array.isArray(r))for(var i=0;i<r.length;i++){n(r[i],e,t)}else n(r,e,t)})),A.pop(),S=null};var Le=null;function Ne(){De.stop()}function Oe(){De.start()}var De=new ER;function Ue(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)S.pushLight(e),e.castShadow&&S.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||V.intersectsSprite(e)){r&&Q.setFromMatrixPosition(e.matrixWorld).applyMatrix4(Y);var i=le.update(e),a=e.material;a.visible&&k.push(e,i,a,n,Q.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==ne.render.frame&&(e.skeleton.update(),e.skeleton.frame=ne.render.frame),!e.frustumCulled||V.intersectsObject(e))){r&&Q.setFromMatrixPosition(e.matrixWorld).applyMatrix4(Y);var o=le.update(e),s=e.material;if(Array.isArray(s))for(var u=o.groups,l=0,c=u.length;l<c;l++){var f=u[l],h=s[f.materialIndex];h&&h.visible&&k.push(e,o,h,n,Q.z,f)}else s.visible&&k.push(e,o,s,n,Q.z,null)}for(var d=e.children,p=0,v=d.length;p<v;p++)Ue(d[p],t,n,r)}}function ze(e,t,n,r){var i=e.opaque,a=e.transmissive,o=e.transparent;S.setupLightsView(n),!0===q&&pe.setGlobalState(T.clippingPlanes,n),a.length>0&&function(e,t,n,r){if(null===J){var i=ee.isWebGL2;J=new WE(1024,1024,{generateMipmaps:!0,type:$.has("EXT_color_buffer_half_float")?yA:cA,minFilter:uA,samples:i&&!0===p?4:0})}var a=T.getRenderTarget();T.setRenderTarget(J),T.clear();var o=T.toneMapping;T.toneMapping=BM,Be(e,n,r),ie.updateMultisampleRenderTarget(J),ie.updateRenderTargetMipmap(J);for(var s=!1,u=0,l=t.length;u<l;u++){var c=t[u],f=c.object,h=c.geometry,d=c.material,v=c.group;if(d.side===iM&&f.layers.test(r.layers)){var m=d.side;d.side=rM,d.needsUpdate=!0,Fe(f,n,r,h,d,v),d.side=m,d.needsUpdate=!0,s=!0}}!0===s&&(ie.updateMultisampleRenderTarget(J),ie.updateRenderTargetMipmap(J));T.setRenderTarget(a),T.toneMapping=o}(i,a,t,n),r&&te.viewport(N.copy(r)),i.length>0&&Be(i,t,n),a.length>0&&Be(a,t,n),o.length>0&&Be(o,t,n),te.buffers.depth.setTest(!0),te.buffers.depth.setMask(!0),te.buffers.color.setMask(!0),te.setPolygonOffset(!1)}function Be(e,t,n){for(var r=!0===t.isScene?t.overrideMaterial:null,i=0,a=e.length;i<a;i++){var o=e[i],s=o.object,u=o.geometry,l=null===r?o.material:r,c=o.group;s.layers.test(n.layers)&&Fe(s,t,n,u,l,c)}}function Fe(e,t,n,r,i,a){e.onBeforeRender(T,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(T,t,n,r,e,a),!0===i.transparent&&i.side===iM&&!1===i.forceSinglePass?(i.side=rM,i.needsUpdate=!0,T.renderBufferDirect(n,t,r,i,e,a),i.side=nM,i.needsUpdate=!0,T.renderBufferDirect(n,t,r,i,e,a),i.side=iM):T.renderBufferDirect(n,t,r,i,e,a),e.onAfterRender(T,t,n,r,i,a)}function He(e,t,n){!0!==t.isScene&&(t=Z);var r=re.get(e),i=S.state.lights,a=S.state.shadowsArray,o=i.state.version,s=ce.getParameters(e,i.state,a,t,n),u=ce.getProgramCacheKey(s),l=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?oe:ae).get(e.envMap||r.environment),void 0===l&&(e.addEventListener("dispose",Ie),l=new Map,r.programs=l);var c=l.get(u);if(void 0!==c){if(r.currentProgram===c&&r.lightsStateVersion===o)return We(e,s),c}else s.uniforms=ce.getUniforms(e),e.onBuild(n,s,T),e.onBeforeCompile(s,T),c=ce.acquireProgram(s,u),l.set(u,c),r.uniforms=s.uniforms;var f=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(f.clippingPlanes=pe.uniform),We(e,s),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=o,r.needsLights&&(f.ambientLightColor.value=i.state.ambient,f.lightProbe.value=i.state.probe,f.directionalLights.value=i.state.directional,f.directionalLightShadows.value=i.state.directionalShadow,f.spotLights.value=i.state.spot,f.spotLightShadows.value=i.state.spotShadow,f.rectAreaLights.value=i.state.rectArea,f.ltc_1.value=i.state.rectAreaLTC1,f.ltc_2.value=i.state.rectAreaLTC2,f.pointLights.value=i.state.point,f.pointLightShadows.value=i.state.pointShadow,f.hemisphereLights.value=i.state.hemi,f.directionalShadowMap.value=i.state.directionalShadowMap,f.directionalShadowMatrix.value=i.state.directionalShadowMatrix,f.spotShadowMap.value=i.state.spotShadowMap,f.spotLightMatrix.value=i.state.spotLightMatrix,f.spotLightMap.value=i.state.spotLightMap,f.pointShadowMap.value=i.state.pointShadowMap,f.pointShadowMatrix.value=i.state.pointShadowMatrix);var h=c.getUniforms(),d=pL.seqWithValue(h.seq,f);return r.currentProgram=c,r.uniformsList=d,c}function We(e,t){var n=re.get(e);n.outputEncoding=t.outputEncoding,n.instancing=t.instancing,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}De.setAnimationLoop((function(e){Le&&Le(e)})),"undefined"!==typeof self&&De.setContext(self),this.setAnimationLoop=function(e){Le=e,Ee.setAnimationLoop(e),null===e?De.stop():De.start()},Ee.addEventListener("sessionstart",Ne),Ee.addEventListener("sessionend",Oe),this.render=function(e,t){if(void 0===t||!0===t.isCamera){if(!0!==E){!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===Ee.enabled&&!0===Ee.isPresenting&&(!0===Ee.cameraAutoUpdate&&Ee.updateCamera(t),t=Ee.getCamera()),!0===e.isScene&&e.onBeforeRender(T,e,t,R),(S=de.get(e,A.length)).init(),A.push(S),Y.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),V.setFromProjectionMatrix(Y),X=this.localClippingEnabled,q=pe.init(this.clippingPlanes,X),(k=he.get(e,M.length)).init(),M.push(k),Ue(e,t,0,T.sortObjects),k.finish(),!0===T.sortObjects&&k.sort(F,H),!0===q&&pe.beginShadows();var n=S.state.shadowsArray;if(ve.render(n,e,t),!0===q&&pe.endShadows(),!0===this.info.autoReset&&this.info.reset(),me.render(k,e),S.setupLights(T.useLegacyLights),t.isArrayCamera)for(var r=t.cameras,i=0,a=r.length;i<a;i++){var o=r[i];ze(k,e,o,o.viewport)}else ze(k,e,t);null!==R&&(ie.updateMultisampleRenderTarget(R),ie.updateRenderTargetMipmap(R)),!0===e.isScene&&e.onAfterRender(T,e,t),xe.resetDefaultState(),I=-1,L=null,A.pop(),S=A.length>0?A[A.length-1]:null,M.pop(),k=M.length>0?M[M.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return C},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return R},this.setRenderTargetTextures=function(e,t,n){re.get(e.texture).__webglTexture=t,re.get(e.depthTexture).__webglTexture=n;var r=re.get(e);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===$.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){var n=re.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;R=e,C=t,P=n;var r=!0,i=null,a=!1,o=!1;if(e){var s=re.get(e);void 0!==s.__useDefaultFramebuffer?(te.bindFramebuffer(36160,null),r=!1):void 0===s.__webglFramebuffer?ie.setupRenderTarget(e):s.__hasExternalTextures&&ie.rebindTextures(e,re.get(e.texture).__webglTexture,re.get(e.depthTexture).__webglTexture);var u=e.texture;(u.isData3DTexture||u.isDataArrayTexture||u.isCompressedArrayTexture)&&(o=!0);var l=re.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=l[t],a=!0):i=ee.isWebGL2&&e.samples>0&&!1===ie.useMultisampledRTT(e)?re.get(e).__webglMultisampledFramebuffer:l,N.copy(e.viewport),O.copy(e.scissor),D=e.scissorTest}else N.copy(W).multiplyScalar(B).floor(),O.copy(G).multiplyScalar(B).floor(),D=j;if(te.bindFramebuffer(36160,i)&&ee.drawBuffers&&r&&te.drawBuffers(e,i),te.viewport(N),te.scissor(O),te.setScissorTest(D),a){var c=re.get(e.texture);ke.framebufferTexture2D(36160,36064,34069+t,c.__webglTexture,n)}else if(o){var f=re.get(e.texture),h=t||0;ke.framebufferTextureLayer(36160,36064,f.__webglTexture,n||0,h)}I=-1},this.readRenderTargetPixels=function(e,t,n,r,i,a,o){if(e&&e.isWebGLRenderTarget){var s=re.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){te.bindFramebuffer(36160,s);try{var u=e.texture,l=u.format,c=u.type;if(l!==_A&&we.convert(l)!==ke.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var f=c===yA&&($.has("EXT_color_buffer_half_float")||ee.isWebGL2&&$.has("EXT_color_buffer_float"));if(c!==cA&&we.convert(c)!==ke.getParameter(35738)&&(c!==mA||!(ee.isWebGL2||$.has("OES_texture_float")||$.has("WEBGL_color_buffer_float")))&&!f)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&ke.readPixels(t,n,r,i,we.convert(l),we.convert(c),a)}finally{var h=null!==R?re.get(R).__webglFramebuffer:null;te.bindFramebuffer(36160,h)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.pow(2,-n),i=Math.floor(t.image.width*r),a=Math.floor(t.image.height*r);ie.setTexture2D(t,0),ke.copyTexSubImage2D(3553,n,0,0,e.x,e.y,i,a),te.unbindTexture()},this.copyTextureToTexture=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t.image.width,a=t.image.height,o=we.convert(n.format),s=we.convert(n.type);ie.setTexture2D(n,0),ke.pixelStorei(37440,n.flipY),ke.pixelStorei(37441,n.premultiplyAlpha),ke.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?ke.texSubImage2D(3553,r,e.x,e.y,i,a,o,s,t.image.data):t.isCompressedTexture?ke.compressedTexSubImage2D(3553,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):ke.texSubImage2D(3553,r,e.x,e.y,o,s,t.image),0===r&&n.generateMipmaps&&ke.generateMipmap(3553),te.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(T.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var a,o=e.max.x-e.min.x+1,s=e.max.y-e.min.y+1,u=e.max.z-e.min.z+1,l=we.convert(r.format),c=we.convert(r.type);if(r.isData3DTexture)ie.setTexture3D(r,0),a=32879;else{if(!r.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");ie.setTexture2DArray(r,0),a=35866}ke.pixelStorei(37440,r.flipY),ke.pixelStorei(37441,r.premultiplyAlpha),ke.pixelStorei(3317,r.unpackAlignment);var f=ke.getParameter(3314),h=ke.getParameter(32878),d=ke.getParameter(3316),p=ke.getParameter(3315),v=ke.getParameter(32877),m=n.isCompressedTexture?n.mipmaps[0]:n.image;ke.pixelStorei(3314,m.width),ke.pixelStorei(32878,m.height),ke.pixelStorei(3316,e.min.x),ke.pixelStorei(3315,e.min.y),ke.pixelStorei(32877,e.min.z),n.isDataTexture||n.isData3DTexture?ke.texSubImage3D(a,i,t.x,t.y,t.z,o,s,u,l,c,m.data):n.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ke.compressedTexSubImage3D(a,i,t.x,t.y,t.z,o,s,u,l,m.data)):ke.texSubImage3D(a,i,t.x,t.y,t.z,o,s,u,l,c,m),ke.pixelStorei(3314,f),ke.pixelStorei(32878,h),ke.pixelStorei(3316,d),ke.pixelStorei(3315,p),ke.pixelStorei(32877,v),0===i&&r.generateMipmaps&&ke.generateMipmap(a),te.unbindTexture()}},this.initTexture=function(e){e.isCubeTexture?ie.setTextureCube(e,0):e.isData3DTexture?ie.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?ie.setTexture2DArray(e,0):ie.setTexture2D(e,0),te.unbindTexture()},this.resetState=function(){C=0,P=0,R=null,te.reset(),xe.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}return at(e,[{key:"physicallyCorrectLights",get:function(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights},set:function(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}}]),e}(),sN=function(e){ct(n,e);var t=dt(n);function n(){return nt(this,n),t.apply(this,arguments)}return at(n)}(oN);sN.prototype.isWebGL1Renderer=!0;var uN,lN=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;nt(this,e),this.isFogExp2=!0,this.name="",this.color=new vP(t),this.density=n}return at(e,[{key:"clone",value:function(){return new e(this.color,this.density)}},{key:"toJSON",value:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}]),e}(),cN=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;nt(this,e),this.isFog=!0,this.name="",this.color=new vP(t),this.near=n,this.far=r}return at(e,[{key:"clone",value:function(){return new e(this.color,this.near,this.far)}},{key:"toJSON",value:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}]),e}(),fN=function(e){ct(n,e);var t=dt(n);function n(){var e;return nt(this,n),(e=t.call(this)).isScene=!0,e.type="Scene",e.background=null,e.environment=null,e.fog=null,e.backgroundBlurriness=0,e.backgroundIntensity=1,e.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:ot(e)})),e}return at(n,[{key:"copy",value:function(e,t){return ut(st(n.prototype),"copy",this).call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var t=ut(st(n.prototype),"toJSON",this).call(this,e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}},{key:"autoUpdate",get:function(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate},set:function(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}]),n}(QC),hN=function(){function e(t,n){nt(this,e),this.isInterleavedBuffer=!0,this.array=t,this.stride=n,this.count=void 0!==t?t.length/n:0,this.usage=JT,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=fE()}return at(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"clone",value:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=fE()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"toJSON",value:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=fE()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}]),e}(),dN=new YE,pN=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];nt(this,e),this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=n,this.offset=r,this.normalized=i}return at(e,[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(e){this.data.needsUpdate=e}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.data.count;t<n;t++)dN.fromBufferAttribute(this,t),dN.applyMatrix4(e),this.setXYZ(t,dN.x,dN.y,dN.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)dN.fromBufferAttribute(this,t),dN.applyNormalMatrix(e),this.setXYZ(t,dN.x,dN.y,dN.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)dN.fromBufferAttribute(this,t),dN.transformDirection(e),this.setXYZ(t,dN.x,dN.y,dN.z);return this}},{key:"setX",value:function(e,t){return this.normalized&&(t=bE(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}},{key:"setY",value:function(e,t){return this.normalized&&(t=bE(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}},{key:"setZ",value:function(e,t){return this.normalized&&(t=bE(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}},{key:"setW",value:function(e,t){return this.normalized&&(t=bE(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}},{key:"getX",value:function(e){var t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=gE(t,this.array)),t}},{key:"getY",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=gE(t,this.array)),t}},{key:"getZ",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=gE(t,this.array)),t}},{key:"getW",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=gE(t,this.array)),t}},{key:"setXY",value:function(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=bE(t,this.array),n=bE(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=bE(t,this.array),n=bE(n,this.array),r=bE(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=bE(t,this.array),n=bE(n,this.array),r=bE(r,this.array),i=bE(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}},{key:"clone",value:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");for(var n=[],r=0;r<this.count;r++)for(var i=r*this.data.stride+this.offset,a=0;a<this.itemSize;a++)n.push(this.data.array[i+a]);return new MP(new this.array.constructor(n),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new e(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}},{key:"toJSON",value:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}]),e}(),vN=function(e){ct(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this)).isSpriteMaterial=!0,r.type="SpriteMaterial",r.color=new vP(16777215),r.map=null,r.alphaMap=null,r.rotation=0,r.sizeAttenuation=!0,r.transparent=!0,r.fog=!0,r.setValues(e),r}return at(n,[{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}]),n}(cP),mN=new YE,yN=new YE,gN=new YE,bN=new xE,wN=new xE,xN=new MC,_N=new YE,kN=new YE,SN=new YE,MN=new xE,AN=new xE,TN=new xE,EN=function(e){ct(n,e);var t=dt(n);function n(e){var r;if(nt(this,n),(r=t.call(this)).isSprite=!0,r.type="Sprite",void 0===uN){uN=new GP;var i=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),a=new hN(i,5);uN.setIndex([0,1,2,0,2,3]),uN.setAttribute("position",new pN(a,3,0,!1)),uN.setAttribute("uv",new pN(a,2,3,!1))}return r.geometry=uN,r.material=void 0!==e?e:new vN,r.center=new xE(.5,.5),r}return at(n,[{key:"raycast",value:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),yN.setFromMatrixScale(this.matrixWorld),xN.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),gN.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&yN.multiplyScalar(-gN.z);var n,r,i=this.material.rotation;0!==i&&(r=Math.cos(i),n=Math.sin(i));var a=this.center;CN(_N.set(-.5,-.5,0),gN,a,yN,n,r),CN(kN.set(.5,-.5,0),gN,a,yN,n,r),CN(SN.set(.5,.5,0),gN,a,yN,n,r),MN.set(0,0),AN.set(1,0),TN.set(1,1);var o=e.ray.intersectTriangle(_N,kN,SN,!1,mN);if(null!==o||(CN(kN.set(-.5,.5,0),gN,a,yN,n,r),AN.set(0,1),null!==(o=e.ray.intersectTriangle(_N,SN,kN,!1,mN)))){var s=e.ray.origin.distanceTo(mN);s<e.near||s>e.far||t.push({distance:s,point:mN.clone(),uv:uP.getInterpolation(mN,_N,kN,SN,MN,AN,TN,new xE),face:null,object:this})}}},{key:"copy",value:function(e,t){return ut(st(n.prototype),"copy",this).call(this,e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}]),n}(QC);function CN(e,t,n,r,i,a){bN.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(wN.x=a*bN.x-i*bN.y,wN.y=i*bN.x+a*bN.y):wN.copy(bN),e.copy(t),e.x+=wN.x,e.y+=wN.y,e.applyMatrix4(xN)}var PN=new YE,RN=new YE,IN=function(e){ct(n,e);var t=dt(n);function n(){var e;return nt(this,n),(e=t.call(this))._currentLevel=0,e.type="LOD",Object.defineProperties(ot(e),{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),e.autoUpdate=!0,e}return at(n,[{key:"copy",value:function(e){ut(st(n.prototype),"copy",this).call(this,e,!1);for(var t=e.levels,r=0,i=t.length;r<i;r++){var a=t[r];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}},{key:"addLevel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t=Math.abs(t);var r,i=this.levels;for(r=0;r<i.length&&!(t<i[r].distance);r++);return i.splice(r,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}},{key:"getCurrentLevel",value:function(){return this._currentLevel}},{key:"getObjectForDistance",value:function(e){var t=this.levels;if(t.length>0){var n,r;for(n=1,r=t.length;n<r;n++){var i=t[n].distance;if(t[n].object.visible&&(i-=i*t[n].hysteresis),e<i)break}return t[n-1].object}return null}},{key:"raycast",value:function(e,t){if(this.levels.length>0){PN.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(PN);this.getObjectForDistance(n).raycast(e,t)}}},{key:"update",value:function(e){var t=this.levels;if(t.length>1){PN.setFromMatrixPosition(e.matrixWorld),RN.setFromMatrixPosition(this.matrixWorld);var n,r,i=PN.distanceTo(RN)/e.zoom;for(t[0].object.visible=!0,n=1,r=t.length;n<r;n++){var a=t[n].distance;if(t[n].object.visible&&(a-=a*t[n].hysteresis),!(i>=a))break;t[n-1].object.visible=!1,t[n].object.visible=!0}for(this._currentLevel=n-1;n<r;n++)t[n].object.visible=!1}}},{key:"toJSON",value:function(e){var t=ut(st(n.prototype),"toJSON",this).call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var r=this.levels,i=0,a=r.length;i<a;i++){var o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}]),n}(QC),LN=new YE,NN=new HE,ON=new HE,DN=new YE,UN=new MC,zN=new YE,BN=function(e){ct(n,e);var t=dt(n);function n(e,r){var i;return nt(this,n),(i=t.call(this,e,r)).isSkinnedMesh=!0,i.type="SkinnedMesh",i.bindMode="attached",i.bindMatrix=new MC,i.bindMatrixInverse=new MC,i.boundingBox=null,i.boundingSphere=null,i}return at(n,[{key:"computeBoundingBox",value:function(){var e=this.geometry;null===this.boundingBox&&(this.boundingBox=new KE),this.boundingBox.makeEmpty();for(var t=e.getAttribute("position"),n=0;n<t.count;n++)zN.fromBufferAttribute(t,n),this.applyBoneTransform(n,zN),this.boundingBox.expandByPoint(zN)}},{key:"computeBoundingSphere",value:function(){var e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new mC),this.boundingSphere.makeEmpty();for(var t=e.getAttribute("position"),n=0;n<t.count;n++)zN.fromBufferAttribute(t,n),this.applyBoneTransform(n,zN),this.boundingSphere.expandByPoint(zN)}},{key:"copy",value:function(e,t){return ut(st(n.prototype),"copy",this).call(this,e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}},{key:"bind",value:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}},{key:"pose",value:function(){this.skeleton.pose()}},{key:"normalizeSkinWeights",value:function(){for(var e=new HE,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}},{key:"updateMatrixWorld",value:function(e){ut(st(n.prototype),"updateMatrixWorld",this).call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}},{key:"applyBoneTransform",value:function(e,t){var n=this.skeleton,r=this.geometry;NN.fromBufferAttribute(r.attributes.skinIndex,e),ON.fromBufferAttribute(r.attributes.skinWeight,e),LN.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(var i=0;i<4;i++){var a=ON.getComponent(i);if(0!==a){var o=NN.getComponent(i);UN.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),t.addScaledVector(DN.copy(LN).applyMatrix4(UN),a)}}return t.applyMatrix4(this.bindMatrixInverse)}},{key:"boneTransform",value:function(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}]),n}(sR),FN=function(e){ct(n,e);var t=dt(n);function n(){var e;return nt(this,n),(e=t.call(this)).isBone=!0,e.type="Bone",e}return at(n)}(QC),HN=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:eA,h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:eA,d=arguments.length>10?arguments[10]:void 0,p=arguments.length>11?arguments[11]:void 0;return nt(this,n),(e=t.call(this,null,u,l,c,f,h,o,s,d,p)).isDataTexture=!0,e.image={data:r,width:i,height:a},e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return at(n)}(FE),WN=new MC,GN=new MC,jN=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];nt(this,e),this.uuid=fE(),this.bones=t.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}return at(e,[{key:"init",value:function(){var e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new MC)}}},{key:"calculateInverses",value:function(){this.boneInverses.length=0;for(var e=0,t=this.bones.length;e<t;e++){var n=new MC;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}},{key:"pose",value:function(){for(var e=0,t=this.bones.length;e<t;e++){var n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(var r=0,i=this.bones.length;r<i;r++){var a=this.bones[r];a&&(a.parent&&a.parent.isBone?(a.matrix.copy(a.parent.matrixWorld).invert(),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale))}}},{key:"update",value:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,a=e.length;i<a;i++){var o=e[i]?e[i].matrixWorld:GN;WN.multiplyMatrices(o,t[i]),WN.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}},{key:"clone",value:function(){return new e(this.bones,this.boneInverses)}},{key:"computeBoneTexture",value:function(){var e=Math.sqrt(4*this.bones.length);e=mE(e),e=Math.max(e,4);var t=new Float32Array(e*e*4);t.set(this.boneMatrices);var n=new HN(t,e,e,_A,mA);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}},{key:"getBoneByName",value:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}},{key:"dispose",value:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}},{key:"fromJSON",value:function(e,t){this.uuid=e.uuid;for(var n=0,r=e.bones.length;n<r;n++){var i=e.bones[n],a=t[i];void 0===a&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),a=new FN),this.bones.push(a),this.boneInverses.push((new MC).fromArray(e.boneInverses[n]))}return this.init(),this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;for(var t=this.bones,n=this.boneInverses,r=0,i=t.length;r<i;r++){var a=t[r];e.bones.push(a.uuid);var o=n[r];e.boneInverses.push(o.toArray())}return e}}]),e}(),VN=function(e){ct(n,e);var t=dt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return nt(this,n),(a=t.call(this,e,r,i)).isInstancedBufferAttribute=!0,a.meshPerAttribute=o,a}return at(n,[{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"toJSON",value:function(){var e=ut(st(n.prototype),"toJSON",this).call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}]),n}(MP),qN=new MC,XN=new MC,JN=[],YN=new KE,QN=new MC,ZN=new sR,KN=new mC,$N=function(e){ct(n,e);var t=dt(n);function n(e,r,i){var a;nt(this,n),(a=t.call(this,e,r)).isInstancedMesh=!0,a.instanceMatrix=new VN(new Float32Array(16*i),16),a.instanceColor=null,a.count=i,a.boundingBox=null,a.boundingSphere=null;for(var o=0;o<i;o++)a.setMatrixAt(o,QN);return a}return at(n,[{key:"computeBoundingBox",value:function(){var e=this.geometry,t=this.count;null===this.boundingBox&&(this.boundingBox=new KE),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(var n=0;n<t;n++)this.getMatrixAt(n,qN),YN.copy(e.boundingBox).applyMatrix4(qN),this.boundingBox.union(YN)}},{key:"computeBoundingSphere",value:function(){var e=this.geometry,t=this.count;null===this.boundingSphere&&(this.boundingSphere=new mC),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(var n=0;n<t;n++)this.getMatrixAt(n,qN),KN.copy(e.boundingSphere).applyMatrix4(qN),this.boundingSphere.union(KN)}},{key:"copy",value:function(e,t){return ut(st(n.prototype),"copy",this).call(this,e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}},{key:"getColorAt",value:function(e,t){t.fromArray(this.instanceColor.array,3*e)}},{key:"getMatrixAt",value:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)}},{key:"raycast",value:function(e,t){var n=this.matrixWorld,r=this.count;if(ZN.geometry=this.geometry,ZN.material=this.material,void 0!==ZN.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),KN.copy(this.boundingSphere),KN.applyMatrix4(n),!1!==e.ray.intersectsSphere(KN)))for(var i=0;i<r;i++){this.getMatrixAt(i,qN),XN.multiplyMatrices(n,qN),ZN.matrixWorld=XN,ZN.raycast(e,JN);for(var a=0,o=JN.length;a<o;a++){var s=JN[a];s.instanceId=i,s.object=this,t.push(s)}JN.length=0}}},{key:"setColorAt",value:function(e,t){null===this.instanceColor&&(this.instanceColor=new VN(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}},{key:"setMatrixAt",value:function(e,t){t.toArray(this.instanceMatrix.array,16*e)}},{key:"updateMorphTargets",value:function(){}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(sR),eO=function(e){ct(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this)).isLineBasicMaterial=!0,r.type="LineBasicMaterial",r.color=new vP(16777215),r.map=null,r.linewidth=1,r.linecap="round",r.linejoin="round",r.fog=!0,r.setValues(e),r}return at(n,[{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}]),n}(cP),tO=new YE,nO=new YE,rO=new MC,iO=new SC,aO=new mC,oO=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new GP,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new eO;return nt(this,n),(e=t.call(this)).isLine=!0,e.type="Line",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return at(n,[{key:"copy",value:function(e,t){return ut(st(n.prototype),"copy",this).call(this,e,t),this.material=e.material,this.geometry=e.geometry,this}},{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)tO.fromBufferAttribute(t,r-1),nO.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=tO.distanceTo(nO);e.setAttribute("lineDistance",new NP(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),aO.copy(n.boundingSphere),aO.applyMatrix4(r),aO.radius+=i,!1!==e.ray.intersectsSphere(aO)){rO.copy(r).invert(),iO.copy(e.ray).applyMatrix4(rO);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,u=new YE,l=new YE,c=new YE,f=new YE,h=this.isLineSegments?2:1,d=n.index,p=n.attributes.position;if(null!==d)for(var v=Math.max(0,a.start),m=Math.min(d.count,a.start+a.count)-1;v<m;v+=h){var y=d.getX(v),g=d.getX(v+1);if(u.fromBufferAttribute(p,y),l.fromBufferAttribute(p,g),!(iO.distanceSqToSegment(u,l,f,c)>s)){f.applyMatrix4(this.matrixWorld);var b=e.ray.origin.distanceTo(f);b<e.near||b>e.far||t.push({distance:b,point:c.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else for(var w=Math.max(0,a.start),x=Math.min(p.count,a.start+a.count)-1;w<x;w+=h){if(u.fromBufferAttribute(p,w),l.fromBufferAttribute(p,w+1),!(iO.distanceSqToSegment(u,l,f,c)>s)){f.applyMatrix4(this.matrixWorld);var _=e.ray.origin.distanceTo(f);_<e.near||_>e.far||t.push({distance:_,point:c.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}]),n}(QC),sO=new YE,uO=new YE,lO=function(e){ct(n,e);var t=dt(n);function n(e,r){var i;return nt(this,n),(i=t.call(this,e,r)).isLineSegments=!0,i.type="LineSegments",i}return at(n,[{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)sO.fromBufferAttribute(t,r),uO.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+sO.distanceTo(uO);e.setAttribute("lineDistance",new NP(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}]),n}(oO),cO=function(e){ct(n,e);var t=dt(n);function n(e,r){var i;return nt(this,n),(i=t.call(this,e,r)).isLineLoop=!0,i.type="LineLoop",i}return at(n)}(oO),fO=function(e){ct(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this)).isPointsMaterial=!0,r.type="PointsMaterial",r.color=new vP(16777215),r.map=null,r.alphaMap=null,r.size=1,r.sizeAttenuation=!0,r.fog=!0,r.setValues(e),r}return at(n,[{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}]),n}(cP),hO=new MC,dO=new SC,pO=new mC,vO=new YE,mO=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new GP,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new fO;return nt(this,n),(e=t.call(this)).isPoints=!0,e.type="Points",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return at(n,[{key:"copy",value:function(e,t){return ut(st(n.prototype),"copy",this).call(this,e,t),this.material=e.material,this.geometry=e.geometry,this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),pO.copy(n.boundingSphere),pO.applyMatrix4(r),pO.radius+=i,!1!==e.ray.intersectsSphere(pO)){hO.copy(r).invert(),dO.copy(e.ray).applyMatrix4(hO);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,u=n.index,l=n.attributes.position;if(null!==u)for(var c=Math.max(0,a.start),f=Math.min(u.count,a.start+a.count);c<f;c++){var h=u.getX(c);vO.fromBufferAttribute(l,h),yO(vO,h,s,r,e,t,this)}else for(var d=Math.max(0,a.start),p=Math.min(l.count,a.start+a.count);d<p;d++)vO.fromBufferAttribute(l,d),yO(vO,d,s,r,e,t,this)}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}]),n}(QC);function yO(e,t,n,r,i,a,o){var s=dO.distanceSqToPoint(e);if(s<n){var u=new YE;dO.closestPointToPoint(e,u),u.applyMatrix4(r);var l=i.ray.origin.distanceTo(u);if(l<i.near||l>i.far)return;a.push({distance:l,distanceToRay:Math.sqrt(s),point:u,index:t,face:null,object:o})}}var gO=function(e){ct(n,e);var t=dt(n);function n(e,r,i,a,o,s,u,l,c){var f;nt(this,n),(f=t.call(this,e,r,i,a,o,s,u,l,c)).isVideoTexture=!0,f.minFilter=void 0!==s?s:aA,f.magFilter=void 0!==o?o:aA,f.generateMipmaps=!1;var h=ot(f);return"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){h.needsUpdate=!0,e.requestVideoFrameCallback(t)})),f}return at(n,[{key:"clone",value:function(){return new this.constructor(this.image).copy(this)}},{key:"update",value:function(){var e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}]),n}(FE),bO=function(e){ct(n,e);var t=dt(n);function n(e,r,i){var a;return nt(this,n),(a=t.call(this,{width:e,height:r})).isFramebufferTexture=!0,a.format=i,a.magFilter=eA,a.minFilter=eA,a.generateMipmaps=!1,a.needsUpdate=!0,a}return at(n)}(FE),wO=function(e){ct(n,e);var t=dt(n);function n(e,r,i,a,o,s,u,l,c,f,h,d){var p;return nt(this,n),(p=t.call(this,null,s,u,l,c,f,a,o,h,d)).isCompressedTexture=!0,p.image={width:r,height:i},p.mipmaps=e,p.flipY=!1,p.generateMipmaps=!1,p}return at(n)}(FE),xO=function(e){ct(n,e);var t=dt(n);function n(e,r,i,a,o,s){var u;return nt(this,n),(u=t.call(this,e,r,i,o,s)).isCompressedArrayTexture=!0,u.image.depth=a,u.wrapR=KM,u}return at(n)}(wO),_O=function(e){ct(n,e);var t=dt(n);function n(e,r,i,a,o,s,u,l,c){var f;return nt(this,n),(f=t.call(this,e,r,i,a,o,s,u,l,c)).isCanvasTexture=!0,f.needsUpdate=!0,f}return at(n)}(FE),kO=function(){function e(){nt(this,e),this.type="Curve",this.arcLengthDivisions=200}return at(e,[{key:"getPoint",value:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}},{key:"getPointAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)}},{key:"getPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}},{key:"getLength",value:function(){var e=this.getLengths();return e[e.length-1]}},{key:"getLengths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],r=this.getPoint(0),i=0;n.push(0);for(var a=1;a<=e;a++)i+=(t=this.getPoint(a/e)).distanceTo(r),n.push(i),r=t;return this.cacheArcLengths=n,n}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(e,t){var n,r=this.getLengths(),i=0,a=r.length;n=t||e*r[a-1];for(var o,s=0,u=a-1;s<=u;)if((o=r[i=Math.floor(s+(u-s)/2)]-n)<0)s=i+1;else{if(!(o>0)){u=i;break}u=i-1}if(r[i=u]===n)return i/(a-1);var l=r[i];return(i+(n-l)/(r[i+1]-l))/(a-1)}},{key:"getTangent",value:function(e,t){var n=1e-4,r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);var a=this.getPoint(r),o=this.getPoint(i),s=t||(a.isVector2?new xE:new YE);return s.copy(o).sub(a).normalize(),s}},{key:"getTangentAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getTangent(n,t)}},{key:"computeFrenetFrames",value:function(e,t){for(var n=new YE,r=[],i=[],a=[],o=new YE,s=new MC,u=0;u<=e;u++){var l=u/e;r[u]=this.getTangentAt(l,new YE)}i[0]=new YE,a[0]=new YE;var c=Number.MAX_VALUE,f=Math.abs(r[0].x),h=Math.abs(r[0].y),d=Math.abs(r[0].z);f<=c&&(c=f,n.set(1,0,0)),h<=c&&(c=h,n.set(0,1,0)),d<=c&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],o),a[0].crossVectors(r[0],i[0]);for(var p=1;p<=e;p++){if(i[p]=i[p-1].clone(),a[p]=a[p-1].clone(),o.crossVectors(r[p-1],r[p]),o.length()>Number.EPSILON){o.normalize();var v=Math.acos(hE(r[p-1].dot(r[p]),-1,1));i[p].applyMatrix4(s.makeRotationAxis(o,v))}a[p].crossVectors(r[p],i[p])}if(!0===t){var m=Math.acos(hE(i[0].dot(i[e]),-1,1));m/=e,r[0].dot(o.crossVectors(i[0],i[e]))>0&&(m=-m);for(var y=1;y<=e;y++)i[y].applyMatrix4(s.makeRotationAxis(r[y],m*y)),a[y].crossVectors(r[y],i[y])}return{tangents:r,normals:i,binormals:a}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}},{key:"fromJSON",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}]),e}(),SO=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return nt(this,n),(e=t.call(this)).isEllipseCurve=!0,e.type="EllipseCurve",e.aX=r,e.aY=i,e.xRadius=a,e.yRadius=o,e.aStartAngle=s,e.aEndAngle=u,e.aClockwise=l,e.aRotation=c,e}return at(n,[{key:"getPoint",value:function(e,t){for(var n=t||new xE,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);var o=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var l=Math.cos(this.aRotation),c=Math.sin(this.aRotation),f=s-this.aX,h=u-this.aY;s=f*l-h*c+this.aX,u=f*c+h*l+this.aY}return n.set(s,u)}},{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},{key:"toJSON",value:function(){var e=ut(st(n.prototype),"toJSON",this).call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}},{key:"fromJSON",value:function(e){return ut(st(n.prototype),"fromJSON",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}]),n}(kO),MO=function(e){ct(n,e);var t=dt(n);function n(e,r,i,a,o,s){var u;return nt(this,n),(u=t.call(this,e,r,i,i,a,o,s)).isArcCurve=!0,u.type="ArcCurve",u}return at(n)}(SO);function AO(){var e=0,t=0,n=0,r=0;function i(i,a,o,s){e=i,t=o,n=-3*i+3*a-2*o-s,r=2*i-2*a+o+s}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,o,s){var u=(t-e)/a-(n-e)/(a+o)+(n-t)/o,l=(n-t)/o-(r-t)/(o+s)+(r-n)/s;i(t,n,u*=o,l*=o)},calc:function(i){var a=i*i;return e+t*i+n*a+r*(a*i)}}}var TO=new YE,EO=new AO,CO=new AO,PO=new AO,RO=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;return nt(this,n),(e=t.call(this)).isCatmullRomCurve3=!0,e.type="CatmullRomCurve3",e.points=r,e.closed=i,e.curveType=a,e.tension=o,e}return at(n,[{key:"getPoint",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new YE,i=this.points,a=i.length,o=(a-(this.closed?0:1))*e,s=Math.floor(o),u=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/a)+1)*a:0===u&&s===a-1&&(s=a-2,u=1),this.closed||s>0?t=i[(s-1)%a]:(TO.subVectors(i[0],i[1]).add(i[0]),t=TO);var l=i[s%a],c=i[(s+1)%a];if(this.closed||s+2<a?n=i[(s+2)%a]:(TO.subVectors(i[a-1],i[a-2]).add(i[a-1]),n=TO),"centripetal"===this.curveType||"chordal"===this.curveType){var f="chordal"===this.curveType?.5:.25,h=Math.pow(t.distanceToSquared(l),f),d=Math.pow(l.distanceToSquared(c),f),p=Math.pow(c.distanceToSquared(n),f);d<1e-4&&(d=1),h<1e-4&&(h=d),p<1e-4&&(p=d),EO.initNonuniformCatmullRom(t.x,l.x,c.x,n.x,h,d,p),CO.initNonuniformCatmullRom(t.y,l.y,c.y,n.y,h,d,p),PO.initNonuniformCatmullRom(t.z,l.z,c.z,n.z,h,d,p)}else"catmullrom"===this.curveType&&(EO.initCatmullRom(t.x,l.x,c.x,n.x,this.tension),CO.initCatmullRom(t.y,l.y,c.y,n.y,this.tension),PO.initCatmullRom(t.z,l.z,c.z,n.z,this.tension));return r.set(EO.calc(u),CO.calc(u),PO.calc(u)),r}},{key:"copy",value:function(e){ut(st(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},{key:"toJSON",value:function(){var e=ut(st(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}},{key:"fromJSON",value:function(e){ut(st(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new YE).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}]),n}(kO);function IO(e,t,n,r,i){var a=.5*(r-t),o=.5*(i-n),s=e*e;return(2*n-2*r+a+o)*(e*s)+(-3*n+3*r-2*a-o)*s+a*e+n}function LO(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function NO(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}var OO=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xE,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xE,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new xE,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new xE;return nt(this,n),(e=t.call(this)).isCubicBezierCurve=!0,e.type="CubicBezierCurve",e.v0=r,e.v1=i,e.v2=a,e.v3=o,e}return at(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xE,n=this.v0,r=this.v1,i=this.v2,a=this.v3;return t.set(NO(e,n.x,r.x,i.x,a.x),NO(e,n.y,r.y,i.y,a.y)),t}},{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=ut(st(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return ut(st(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(kO),DO=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new YE,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new YE,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new YE,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new YE;return nt(this,n),(e=t.call(this)).isCubicBezierCurve3=!0,e.type="CubicBezierCurve3",e.v0=r,e.v1=i,e.v2=a,e.v3=o,e}return at(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new YE,n=this.v0,r=this.v1,i=this.v2,a=this.v3;return t.set(NO(e,n.x,r.x,i.x,a.x),NO(e,n.y,r.y,i.y,a.y),NO(e,n.z,r.z,i.z,a.z)),t}},{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=ut(st(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return ut(st(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(kO),UO=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xE,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xE;return nt(this,n),(e=t.call(this)).isLineCurve=!0,e.type="LineCurve",e.v1=r,e.v2=i,e}return at(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xE;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xE).subVectors(this.v2,this.v1).normalize()}},{key:"getTangentAt",value:function(e,t){return this.getTangent(e,t)}},{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=ut(st(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return ut(st(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(kO),zO=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new YE,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new YE;return nt(this,n),(e=t.call(this)).isLineCurve3=!0,e.type="LineCurve3",e.v1=r,e.v2=i,e}return at(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new YE;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new YE).subVectors(this.v2,this.v1).normalize()}},{key:"getTangentAt",value:function(e,t){return this.getTangent(e,t)}},{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=ut(st(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return ut(st(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(kO),BO=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xE,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xE,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new xE;return nt(this,n),(e=t.call(this)).isQuadraticBezierCurve=!0,e.type="QuadraticBezierCurve",e.v0=r,e.v1=i,e.v2=a,e}return at(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xE,n=this.v0,r=this.v1,i=this.v2;return t.set(LO(e,n.x,r.x,i.x),LO(e,n.y,r.y,i.y)),t}},{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=ut(st(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return ut(st(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(kO),FO=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new YE,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new YE,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new YE;return nt(this,n),(e=t.call(this)).isQuadraticBezierCurve3=!0,e.type="QuadraticBezierCurve3",e.v0=r,e.v1=i,e.v2=a,e}return at(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new YE,n=this.v0,r=this.v1,i=this.v2;return t.set(LO(e,n.x,r.x,i.x),LO(e,n.y,r.y,i.y),LO(e,n.z,r.z,i.z)),t}},{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=ut(st(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return ut(st(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(kO),HO=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return nt(this,n),(e=t.call(this)).isSplineCurve=!0,e.type="SplineCurve",e.points=r,e}return at(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xE,n=this.points,r=(n.length-1)*e,i=Math.floor(r),a=r-i,o=n[0===i?i:i-1],s=n[i],u=n[i>n.length-2?n.length-1:i+1],l=n[i>n.length-3?n.length-1:i+2];return t.set(IO(a,o.x,s.x,u.x,l.x),IO(a,o.y,s.y,u.y,l.y)),t}},{key:"copy",value:function(e){ut(st(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=ut(st(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var i=this.points[t];e.points.push(i.toArray())}return e}},{key:"fromJSON",value:function(e){ut(st(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new xE).fromArray(i))}return this}}]),n}(kO),WO=Object.freeze({__proto__:null,ArcCurve:MO,CatmullRomCurve3:RO,CubicBezierCurve:OO,CubicBezierCurve3:DO,EllipseCurve:SO,LineCurve:UO,LineCurve3:zO,QuadraticBezierCurve:BO,QuadraticBezierCurve3:FO,SplineCurve:HO}),GO=function(e){ct(n,e);var t=dt(n);function n(){var e;return nt(this,n),(e=t.call(this)).type="CurvePath",e.curves=[],e.autoClose=!1,e}return at(n,[{key:"add",value:function(e){this.curves.push(e)}},{key:"closePath",value:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new UO(t,e))}},{key:"getPoint",value:function(e,t){for(var n=e*this.getLength(),r=this.getCurveLengths(),i=0;i<r.length;){if(r[i]>=n){var a=r[i]-n,o=this.curves[i],s=o.getLength(),u=0===s?0:1-a/s;return o.getPointAt(u,t)}i++}return null}},{key:"getLength",value:function(){var e=this.getCurveLengths();return e[e.length-1]}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}},{key:"getCurveLengths",value:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}},{key:"getPoints",value:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=[],r=0,i=this.curves;r<i.length;r++)for(var a=i[r],o=a.isEllipseCurve?2*t:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),u=0;u<s.length;u++){var l=s[u];e&&e.equals(l)||(n.push(l),e=l)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}},{key:"copy",value:function(e){ut(st(n.prototype),"copy",this).call(this,e),this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}},{key:"toJSON",value:function(){var e=ut(st(n.prototype),"toJSON",this).call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,r=this.curves.length;t<r;t++){var i=this.curves[t];e.curves.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){ut(st(n.prototype),"fromJSON",this).call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var i=e.curves[t];this.curves.push((new WO[i.type]).fromJSON(i))}return this}}]),n}(kO),jO=function(e){ct(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this)).type="Path",r.currentPoint=new xE,e&&r.setFromPoints(e),r}return at(n,[{key:"setFromPoints",value:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}},{key:"moveTo",value:function(e,t){return this.currentPoint.set(e,t),this}},{key:"lineTo",value:function(e,t){var n=new UO(this.currentPoint.clone(),new xE(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){var i=new BO(this.currentPoint.clone(),new xE(e,t),new xE(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){var o=new OO(this.currentPoint.clone(),new xE(e,t),new xE(n,r),new xE(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this}},{key:"splineThru",value:function(e){var t=[this.currentPoint.clone()].concat(e),n=new HO(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}},{key:"arc",value:function(e,t,n,r,i,a){var o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,r,i,a),this}},{key:"absarc",value:function(e,t,n,r,i,a){return this.absellipse(e,t,n,n,r,i,a),this}},{key:"ellipse",value:function(e,t,n,r,i,a,o,s){var u=this.currentPoint.x,l=this.currentPoint.y;return this.absellipse(e+u,t+l,n,r,i,a,o,s),this}},{key:"absellipse",value:function(e,t,n,r,i,a,o,s){var u=new SO(e,t,n,r,i,a,o,s);if(this.curves.length>0){var l=u.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(u);var c=u.getPoint(1);return this.currentPoint.copy(c),this}},{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.currentPoint.copy(e.currentPoint),this}},{key:"toJSON",value:function(){var e=ut(st(n.prototype),"toJSON",this).call(this);return e.currentPoint=this.currentPoint.toArray(),e}},{key:"fromJSON",value:function(e){return ut(st(n.prototype),"fromJSON",this).call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}]),n}(GO),VO=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[new xE(0,-.5),new xE(.5,0),new xE(0,.5)],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;nt(this,n),(e=t.call(this)).type="LatheGeometry",e.parameters={points:r,segments:i,phiStart:a,phiLength:o},i=Math.floor(i),o=hE(o,0,2*Math.PI);for(var s=[],u=[],l=[],c=[],f=[],h=1/i,d=new YE,p=new xE,v=new YE,m=new YE,y=new YE,g=0,b=0,w=0;w<=r.length-1;w++)switch(w){case 0:g=r[w+1].x-r[w].x,b=r[w+1].y-r[w].y,v.x=1*b,v.y=-g,v.z=0*b,y.copy(v),v.normalize(),c.push(v.x,v.y,v.z);break;case r.length-1:c.push(y.x,y.y,y.z);break;default:g=r[w+1].x-r[w].x,b=r[w+1].y-r[w].y,v.x=1*b,v.y=-g,v.z=0*b,m.copy(v),v.x+=y.x,v.y+=y.y,v.z+=y.z,v.normalize(),c.push(v.x,v.y,v.z),y.copy(m)}for(var x=0;x<=i;x++)for(var _=a+x*h*o,k=Math.sin(_),S=Math.cos(_),M=0;M<=r.length-1;M++){d.x=r[M].x*k,d.y=r[M].y,d.z=r[M].x*S,u.push(d.x,d.y,d.z),p.x=x/i,p.y=M/(r.length-1),l.push(p.x,p.y);var A=c[3*M+0]*k,T=c[3*M+1],E=c[3*M+0]*S;f.push(A,T,E)}for(var C=0;C<i;C++)for(var P=0;P<r.length-1;P++){var R=P+C*r.length,I=R,L=R+r.length,N=R+r.length+1,O=R+1;s.push(I,L,O),s.push(N,O,L)}return e.setIndex(s),e.setAttribute("position",new NP(u,3)),e.setAttribute("uv",new NP(l,2)),e.setAttribute("normal",new NP(f,3)),e}return at(n,[{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.points,e.segments,e.phiStart,e.phiLength)}}]),n}(GP),qO=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8;nt(this,n);var s=new jO;return s.absarc(0,-i/2,r,1.5*Math.PI,0),s.absarc(0,i/2,r,0,.5*Math.PI),(e=t.call(this,s.getPoints(a),o)).type="CapsuleGeometry",e.parameters={radius:r,height:i,capSegments:a,radialSegments:o},e}return at(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.length,e.capSegments,e.radialSegments)}}]),n}(VO),XO=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;nt(this,n),(e=t.call(this)).type="CircleGeometry",e.parameters={radius:r,segments:i,thetaStart:a,thetaLength:o},i=Math.max(3,i);var s=[],u=[],l=[],c=[],f=new YE,h=new xE;u.push(0,0,0),l.push(0,0,1),c.push(.5,.5);for(var d=0,p=3;d<=i;d++,p+=3){var v=a+d/i*o;f.x=r*Math.cos(v),f.y=r*Math.sin(v),u.push(f.x,f.y,f.z),l.push(0,0,1),h.x=(u[p]/r+1)/2,h.y=(u[p+1]/r+1)/2,c.push(h.x,h.y)}for(var m=1;m<=i;m++)s.push(m,m+1,0);return e.setIndex(s),e.setAttribute("position",new NP(u,3)),e.setAttribute("normal",new NP(l,3)),e.setAttribute("uv",new NP(c,2)),e}return at(n,[{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radius,e.segments,e.thetaStart,e.thetaLength)}}]),n}(GP),JO=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;nt(this,n),(e=t.call(this)).type="CylinderGeometry",e.parameters={radiusTop:r,radiusBottom:i,height:a,radialSegments:o,heightSegments:s,openEnded:u,thetaStart:l,thetaLength:c};var f=ot(e);o=Math.floor(o),s=Math.floor(s);var h=[],d=[],p=[],v=[],m=0,y=[],g=a/2,b=0;function w(e){for(var t=m,n=new xE,a=new YE,s=0,u=!0===e?r:i,y=!0===e?1:-1,w=1;w<=o;w++)d.push(0,g*y,0),p.push(0,y,0),v.push(.5,.5),m++;for(var x=m,_=0;_<=o;_++){var k=_/o*c+l,S=Math.cos(k),M=Math.sin(k);a.x=u*M,a.y=g*y,a.z=u*S,d.push(a.x,a.y,a.z),p.push(0,y,0),n.x=.5*S+.5,n.y=.5*M*y+.5,v.push(n.x,n.y),m++}for(var A=0;A<o;A++){var T=t+A,E=x+A;!0===e?h.push(E,E+1,T):h.push(E+1,E,T),s+=3}f.addGroup(b,s,!0===e?1:2),b+=s}return function(){for(var e=new YE,t=new YE,n=0,u=(i-r)/a,w=0;w<=s;w++){for(var x=[],_=w/s,k=_*(i-r)+r,S=0;S<=o;S++){var M=S/o,A=M*c+l,T=Math.sin(A),E=Math.cos(A);t.x=k*T,t.y=-_*a+g,t.z=k*E,d.push(t.x,t.y,t.z),e.set(T,u,E).normalize(),p.push(e.x,e.y,e.z),v.push(M,1-_),x.push(m++)}y.push(x)}for(var C=0;C<o;C++)for(var P=0;P<s;P++){var R=y[P][C],I=y[P+1][C],L=y[P+1][C+1],N=y[P][C+1];h.push(R,I,N),h.push(I,L,N),n+=6}f.addGroup(b,n,0),b+=n}(),!1===u&&(r>0&&w(!0),i>0&&w(!1)),e.setIndex(h),e.setAttribute("position",new NP(d,3)),e.setAttribute("normal",new NP(p,3)),e.setAttribute("uv",new NP(v,2)),e}return at(n,[{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(GP),YO=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;return nt(this,n),(e=t.call(this,0,r,i,a,o,s,u,l)).type="ConeGeometry",e.parameters={radius:r,height:i,radialSegments:a,heightSegments:o,openEnded:s,thetaStart:u,thetaLength:l},e}return at(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(JO),QO=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;nt(this,n),(e=t.call(this)).type="PolyhedronGeometry",e.parameters={vertices:r,indices:i,radius:a,detail:o};var s=[],u=[];function l(e,t,n,r){for(var i=r+1,a=[],o=0;o<=i;o++){a[o]=[];for(var s=e.clone().lerp(n,o/i),u=t.clone().lerp(n,o/i),l=i-o,f=0;f<=l;f++)a[o][f]=0===f&&o===i?s:s.clone().lerp(u,f/l)}for(var h=0;h<i;h++)for(var d=0;d<2*(i-h)-1;d++){var p=Math.floor(d/2);d%2===0?(c(a[h][p+1]),c(a[h+1][p]),c(a[h][p])):(c(a[h][p+1]),c(a[h+1][p+1]),c(a[h+1][p]))}}function c(e){s.push(e.x,e.y,e.z)}function f(e,t){var n=3*e;t.x=r[n+0],t.y=r[n+1],t.z=r[n+2]}function h(e,t,n,r){r<0&&1===e.x&&(u[t]=e.x-1),0===n.x&&0===n.z&&(u[t]=r/2/Math.PI+.5)}function d(e){return Math.atan2(e.z,-e.x)}return function(e){for(var t=new YE,n=new YE,r=new YE,a=0;a<i.length;a+=3)f(i[a+0],t),f(i[a+1],n),f(i[a+2],r),l(t,n,r,e)}(o),function(e){for(var t=new YE,n=0;n<s.length;n+=3)t.x=s[n+0],t.y=s[n+1],t.z=s[n+2],t.normalize().multiplyScalar(e),s[n+0]=t.x,s[n+1]=t.y,s[n+2]=t.z}(a),function(){for(var e=new YE,t=0;t<s.length;t+=3){e.x=s[t+0],e.y=s[t+1],e.z=s[t+2];var n=d(e)/2/Math.PI+.5,r=(i=e,Math.atan2(-i.y,Math.sqrt(i.x*i.x+i.z*i.z))/Math.PI+.5);u.push(n,1-r)}var i;(function(){for(var e=new YE,t=new YE,n=new YE,r=new YE,i=new xE,a=new xE,o=new xE,l=0,c=0;l<s.length;l+=9,c+=6){e.set(s[l+0],s[l+1],s[l+2]),t.set(s[l+3],s[l+4],s[l+5]),n.set(s[l+6],s[l+7],s[l+8]),i.set(u[c+0],u[c+1]),a.set(u[c+2],u[c+3]),o.set(u[c+4],u[c+5]),r.copy(e).add(t).add(n).divideScalar(3);var f=d(r);h(i,c+0,e,f),h(a,c+2,t,f),h(o,c+4,n,f)}})(),function(){for(var e=0;e<u.length;e+=6){var t=u[e+0],n=u[e+2],r=u[e+4],i=Math.max(t,n,r),a=Math.min(t,n,r);i>.9&&a<.1&&(t<.2&&(u[e+0]+=1),n<.2&&(u[e+2]+=1),r<.2&&(u[e+4]+=1))}}()}(),e.setAttribute("position",new NP(s,3)),e.setAttribute("normal",new NP(s.slice(),3)),e.setAttribute("uv",new NP(u,2)),0===o?e.computeVertexNormals():e.normalizeNormals(),e}return at(n,[{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.vertices,e.indices,e.radius,e.details)}}]),n}(GP),ZO=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;nt(this,n);var a=(1+Math.sqrt(5))/2,o=1/a,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-o,-a,0,-o,a,0,o,-a,0,o,a,-o,-a,0,-o,a,0,o,-a,0,o,a,0,-a,0,-o,a,0,-o,-a,0,o,a,0,o];return(e=t.call(this,s,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],r,i)).type="DodecahedronGeometry",e.parameters={radius:r,detail:i},e}return at(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(QO),KO=new YE,$O=new YE,eD=new YE,tD=new uP,nD=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(nt(this,n),(e=t.call(this)).type="EdgesGeometry",e.parameters={geometry:r,thresholdAngle:i},null!==r){for(var a=Math.pow(10,4),o=Math.cos(lE*i),s=r.getIndex(),u=r.getAttribute("position"),l=s?s.count:u.count,c=[0,0,0],f=["a","b","c"],h=new Array(3),d={},p=[],v=0;v<l;v+=3){s?(c[0]=s.getX(v),c[1]=s.getX(v+1),c[2]=s.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);var m=tD.a,y=tD.b,g=tD.c;if(m.fromBufferAttribute(u,c[0]),y.fromBufferAttribute(u,c[1]),g.fromBufferAttribute(u,c[2]),tD.getNormal(eD),h[0]="".concat(Math.round(m.x*a),",").concat(Math.round(m.y*a),",").concat(Math.round(m.z*a)),h[1]="".concat(Math.round(y.x*a),",").concat(Math.round(y.y*a),",").concat(Math.round(y.z*a)),h[2]="".concat(Math.round(g.x*a),",").concat(Math.round(g.y*a),",").concat(Math.round(g.z*a)),h[0]!==h[1]&&h[1]!==h[2]&&h[2]!==h[0])for(var b=0;b<3;b++){var w=(b+1)%3,x=h[b],_=h[w],k=tD[f[b]],S=tD[f[w]],M="".concat(x,"_").concat(_),A="".concat(_,"_").concat(x);A in d&&d[A]?(eD.dot(d[A].normal)<=o&&(p.push(k.x,k.y,k.z),p.push(S.x,S.y,S.z)),d[A]=null):M in d||(d[M]={index0:c[b],index1:c[w],normal:eD.clone()})}}for(var T in d)if(d[T]){var E=d[T],C=E.index0,P=E.index1;KO.fromBufferAttribute(u,C),$O.fromBufferAttribute(u,P),p.push(KO.x,KO.y,KO.z),p.push($O.x,$O.y,$O.z)}e.setAttribute("position",new NP(p,3))}return e}return at(n,[{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}]),n}(GP),rD=function(e){ct(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this,e)).uuid=fE(),r.type="Shape",r.holes=[],r}return at(n,[{key:"getPointsHoles",value:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}},{key:"extractPoints",value:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}},{key:"copy",value:function(e){ut(st(n.prototype),"copy",this).call(this,e),this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var i=e.holes[t];this.holes.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=ut(st(n.prototype),"toJSON",this).call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,r=this.holes.length;t<r;t++){var i=this.holes[t];e.holes.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){ut(st(n.prototype),"fromJSON",this).call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var i=e.holes[t];this.holes.push((new jO).fromJSON(i))}return this}}]),n}(jO),iD=function(e,t){var n,r,i,a,o,s,u,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,c=t&&t.length,f=c?t[0]*l:e.length,h=aD(e,0,f,l,!0),d=[];if(!h||h.next===h.prev)return d;if(c&&(h=function(e,t,n,r){var i,a,o,s=[];for(i=0,a=t.length;i<a;i++)(o=aD(e,t[i]*r,i<a-1?t[i+1]*r:e.length,r,!1))===o.next&&(o.steiner=!0),s.push(mD(o));for(s.sort(hD),i=0;i<s.length;i++)n=dD(s[i],n);return n}(e,t,h,l)),e.length>80*l){n=i=e[0],r=a=e[1];for(var p=l;p<f;p+=l)(o=e[p])<n&&(n=o),(s=e[p+1])<r&&(r=s),o>i&&(i=o),s>a&&(a=s);u=0!==(u=Math.max(i-n,a-r))?32767/u:0}return sD(h,d,l,n,r,u,0),d};function aD(e,t,n,r,i){var a,o;if(i===function(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}(e,t,n,r)>0)for(a=t;a<n;a+=r)o=AD(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=AD(a,e[a],e[a+1],o);return o&&wD(o,o.next)&&(TD(o),o=o.next),o}function oD(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!wD(r,r.next)&&0!==bD(r.prev,r,r.next))r=r.next;else{if(TD(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function sD(e,t,n,r,i,a,o){if(e){!o&&a&&function(e,t,n,r){var i=e;do{0===i.z&&(i.z=vD(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,o,s,u,l=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ);t++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,l*=2}while(o>1)}(i)}(e,r,i,a);for(var s,u,l=e;e.prev!==e.next;)if(s=e.prev,u=e.next,a?lD(e,r,i,a):uD(e))t.push(s.i/n|0),t.push(e.i/n|0),t.push(u.i/n|0),TD(e),e=u.next,l=u.next;else if((e=u)===l){o?1===o?sD(e=cD(oD(e),t,n),t,n,r,i,a,2):2===o&&fD(e,t,n,r,i,a):sD(oD(e),t,n,r,i,a,1);break}}}function uD(e){var t=e.prev,n=e,r=e.next;if(bD(t,n,r)>=0)return!1;for(var i=t.x,a=n.x,o=r.x,s=t.y,u=n.y,l=r.y,c=i<a?i<o?i:o:a<o?a:o,f=s<u?s<l?s:l:u<l?u:l,h=i>a?i>o?i:o:a>o?a:o,d=s>u?s>l?s:l:u>l?u:l,p=r.next;p!==t;){if(p.x>=c&&p.x<=h&&p.y>=f&&p.y<=d&&yD(i,s,a,u,o,l,p.x,p.y)&&bD(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function lD(e,t,n,r){var i=e.prev,a=e,o=e.next;if(bD(i,a,o)>=0)return!1;for(var s=i.x,u=a.x,l=o.x,c=i.y,f=a.y,h=o.y,d=s<u?s<l?s:l:u<l?u:l,p=c<f?c<h?c:h:f<h?f:h,v=s>u?s>l?s:l:u>l?u:l,m=c>f?c>h?c:h:f>h?f:h,y=vD(d,p,t,n,r),g=vD(v,m,t,n,r),b=e.prevZ,w=e.nextZ;b&&b.z>=y&&w&&w.z<=g;){if(b.x>=d&&b.x<=v&&b.y>=p&&b.y<=m&&b!==i&&b!==o&&yD(s,c,u,f,l,h,b.x,b.y)&&bD(b.prev,b,b.next)>=0)return!1;if(b=b.prevZ,w.x>=d&&w.x<=v&&w.y>=p&&w.y<=m&&w!==i&&w!==o&&yD(s,c,u,f,l,h,w.x,w.y)&&bD(w.prev,w,w.next)>=0)return!1;w=w.nextZ}for(;b&&b.z>=y;){if(b.x>=d&&b.x<=v&&b.y>=p&&b.y<=m&&b!==i&&b!==o&&yD(s,c,u,f,l,h,b.x,b.y)&&bD(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;w&&w.z<=g;){if(w.x>=d&&w.x<=v&&w.y>=p&&w.y<=m&&w!==i&&w!==o&&yD(s,c,u,f,l,h,w.x,w.y)&&bD(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function cD(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!wD(i,a)&&xD(i,r,r.next,a)&&SD(i,a)&&SD(a,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(a.i/n|0),TD(r),TD(r.next),r=e=a),r=r.next}while(r!==e);return oD(r)}function fD(e,t,n,r,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&gD(o,s)){var u=MD(o,s);return o=oD(o,o.next),u=oD(u,u.next),sD(o,t,n,r,i,a,0),void sD(u,t,n,r,i,a,0)}s=s.next}o=o.next}while(o!==e)}function hD(e,t){return e.x-t.x}function dD(e,t){var n=function(e,t){var n,r=t,i=-1/0,a=e.x,o=e.y;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=a&&s>i&&(i=s,n=r.x<r.next.x?r:r.next,s===a))return n}r=r.next}while(r!==t);if(!n)return null;var u,l=n,c=n.x,f=n.y,h=1/0;r=n;do{a>=r.x&&r.x>=c&&a!==r.x&&yD(o<f?a:i,o,c,f,o<f?i:a,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(a-r.x),SD(r,e)&&(u<h||u===h&&(r.x>n.x||r.x===n.x&&pD(n,r)))&&(n=r,h=u)),r=r.next}while(r!==l);return n}(e,t);if(!n)return t;var r=MD(n,e);return oD(r,r.next),oD(n,n.next)}function pD(e,t){return bD(e.prev,e,t.prev)<0&&bD(t.next,e,e.next)<0}function vD(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function mD(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function yD(e,t,n,r,i,a,o,s){return(i-o)*(t-s)>=(e-o)*(a-s)&&(e-o)*(r-s)>=(n-o)*(t-s)&&(n-o)*(a-s)>=(i-o)*(r-s)}function gD(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&xD(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(SD(e,t)&&SD(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(bD(e.prev,e,t.prev)||bD(e,t.prev,t))||wD(e,t)&&bD(e.prev,e,e.next)>0&&bD(t.prev,t,t.next)>0)}function bD(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function wD(e,t){return e.x===t.x&&e.y===t.y}function xD(e,t,n,r){var i=kD(bD(e,t,n)),a=kD(bD(e,t,r)),o=kD(bD(n,r,e)),s=kD(bD(n,r,t));return i!==a&&o!==s||(!(0!==i||!_D(e,n,t))||(!(0!==a||!_D(e,r,t))||(!(0!==o||!_D(n,e,r))||!(0!==s||!_D(n,t,r)))))}function _D(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function kD(e){return e>0?1:e<0?-1:0}function SD(e,t){return bD(e.prev,e,e.next)<0?bD(e,t,e.next)>=0&&bD(e,e.prev,t)>=0:bD(e,t,e.prev)<0||bD(e,e.next,t)<0}function MD(e,t){var n=new ED(e.i,e.x,e.y),r=new ED(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function AD(e,t,n,r){var i=new ED(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function TD(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function ED(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}var CD=function(){function e(){nt(this,e)}return at(e,null,[{key:"area",value:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}},{key:"isClockWise",value:function(t){return e.area(t)<0}},{key:"triangulateShape",value:function(e,t){var n=[],r=[],i=[];PD(e),RD(n,e);var a=e.length;t.forEach(PD);for(var o=0;o<t.length;o++)r.push(a),a+=t[o].length,RD(n,t[o]);for(var s=iD(n,r),u=0;u<s.length;u+=3)i.push(s.slice(u,u+3));return i}}]),e}();function PD(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function RD(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var ID=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new rD([new xE(.5,.5),new xE(-.5,.5),new xE(-.5,-.5),new xE(.5,-.5)]),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};nt(this,n),(e=t.call(this)).type="ExtrudeGeometry",e.parameters={shapes:r,options:i},r=Array.isArray(r)?r:[r];for(var a=ot(e),o=[],s=[],u=0,l=r.length;u<l;u++){c(r[u])}function c(e){var t,n,r,u,l,c=[],f=void 0!==i.curveSegments?i.curveSegments:12,h=void 0!==i.steps?i.steps:1,d=void 0!==i.depth?i.depth:1,p=void 0===i.bevelEnabled||i.bevelEnabled,v=void 0!==i.bevelThickness?i.bevelThickness:.2,m=void 0!==i.bevelSize?i.bevelSize:v-.1,y=void 0!==i.bevelOffset?i.bevelOffset:0,g=void 0!==i.bevelSegments?i.bevelSegments:3,b=i.extrudePath,w=void 0!==i.UVGenerator?i.UVGenerator:LD,x=!1;b&&(t=b.getSpacedPoints(h),x=!0,p=!1,n=b.computeFrenetFrames(h,!1),r=new YE,u=new YE,l=new YE),p||(g=0,v=0,m=0,y=0);var _=e.extractPoints(f),k=_.shape,S=_.holes;if(!CD.isClockWise(k)){k=k.reverse();for(var M=0,A=S.length;M<A;M++){var T=S[M];CD.isClockWise(T)&&(S[M]=T.reverse())}}for(var E=CD.triangulateShape(k,S),C=k,P=0,R=S.length;P<R;P++){var I=S[P];k=k.concat(I)}function L(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().addScaledVector(t,n)}var N=k.length,O=E.length;function D(e,t,n){var r,i,a,o=e.x-t.x,s=e.y-t.y,u=n.x-e.x,l=n.y-e.y,c=o*o+s*s,f=o*l-s*u;if(Math.abs(f)>Number.EPSILON){var h=Math.sqrt(c),d=Math.sqrt(u*u+l*l),p=t.x-s/h,v=t.y+o/h,m=((n.x-l/d-p)*l-(n.y+u/d-v)*u)/(o*l-s*u),y=(r=p+o*m-e.x)*r+(i=v+s*m-e.y)*i;if(y<=2)return new xE(r,i);a=Math.sqrt(y/2)}else{var g=!1;o>Number.EPSILON?u>Number.EPSILON&&(g=!0):o<-Number.EPSILON?u<-Number.EPSILON&&(g=!0):Math.sign(s)===Math.sign(l)&&(g=!0),g?(r=-s,i=o,a=Math.sqrt(c)):(r=o,i=s,a=Math.sqrt(c/2))}return new xE(r/a,i/a)}for(var U=[],z=0,B=C.length,F=B-1,H=z+1;z<B;z++,F++,H++)F===B&&(F=0),H===B&&(H=0),U[z]=D(C[z],C[F],C[H]);for(var W,G=[],j=U.concat(),V=0,q=S.length;V<q;V++){var X=S[V];W=[];for(var J=0,Y=X.length,Q=Y-1,Z=J+1;J<Y;J++,Q++,Z++)Q===Y&&(Q=0),Z===Y&&(Z=0),W[J]=D(X[J],X[Q],X[Z]);G.push(W),j=j.concat(W)}for(var K=0;K<g;K++){for(var $=K/g,ee=v*Math.cos($*Math.PI/2),te=m*Math.sin($*Math.PI/2)+y,ne=0,re=C.length;ne<re;ne++){var ie=L(C[ne],U[ne],te);Re(ie.x,ie.y,-ee)}for(var ae=0,oe=S.length;ae<oe;ae++){var se=S[ae];W=G[ae];for(var ue=0,le=se.length;ue<le;ue++){var ce=L(se[ue],W[ue],te);Re(ce.x,ce.y,-ee)}}}for(var fe=m+y,he=0;he<N;he++){var de=p?L(k[he],j[he],fe):k[he];x?(u.copy(n.normals[0]).multiplyScalar(de.x),r.copy(n.binormals[0]).multiplyScalar(de.y),l.copy(t[0]).add(u).add(r),Re(l.x,l.y,l.z)):Re(de.x,de.y,0)}for(var pe=1;pe<=h;pe++)for(var ve=0;ve<N;ve++){var me=p?L(k[ve],j[ve],fe):k[ve];x?(u.copy(n.normals[pe]).multiplyScalar(me.x),r.copy(n.binormals[pe]).multiplyScalar(me.y),l.copy(t[pe]).add(u).add(r),Re(l.x,l.y,l.z)):Re(me.x,me.y,d/h*pe)}for(var ye=g-1;ye>=0;ye--){for(var ge=ye/g,be=v*Math.cos(ge*Math.PI/2),we=m*Math.sin(ge*Math.PI/2)+y,xe=0,_e=C.length;xe<_e;xe++){var ke=L(C[xe],U[xe],we);Re(ke.x,ke.y,d+be)}for(var Se=0,Me=S.length;Se<Me;Se++){var Ae=S[Se];W=G[Se];for(var Te=0,Ee=Ae.length;Te<Ee;Te++){var Ce=L(Ae[Te],W[Te],we);x?Re(Ce.x,Ce.y+t[h-1].y,t[h-1].x+be):Re(Ce.x,Ce.y,d+be)}}}function Pe(e,t){for(var n=e.length;--n>=0;){var r=n,i=n-1;i<0&&(i=e.length-1);for(var a=0,o=h+2*g;a<o;a++){var s=N*a,u=N*(a+1);Le(t+r+s,t+i+s,t+i+u,t+r+u)}}}function Re(e,t,n){c.push(e),c.push(t),c.push(n)}function Ie(e,t,n){Ne(e),Ne(t),Ne(n);var r=o.length/3,i=w.generateTopUV(a,o,r-3,r-2,r-1);Oe(i[0]),Oe(i[1]),Oe(i[2])}function Le(e,t,n,r){Ne(e),Ne(t),Ne(r),Ne(t),Ne(n),Ne(r);var i=o.length/3,s=w.generateSideWallUV(a,o,i-6,i-3,i-2,i-1);Oe(s[0]),Oe(s[1]),Oe(s[3]),Oe(s[1]),Oe(s[2]),Oe(s[3])}function Ne(e){o.push(c[3*e+0]),o.push(c[3*e+1]),o.push(c[3*e+2])}function Oe(e){s.push(e.x),s.push(e.y)}!function(){var e=o.length/3;if(p){for(var t=0,n=N*t,r=0;r<O;r++){var i=E[r];Ie(i[2]+n,i[1]+n,i[0]+n)}n=N*(t=h+2*g);for(var s=0;s<O;s++){var u=E[s];Ie(u[0]+n,u[1]+n,u[2]+n)}}else{for(var l=0;l<O;l++){var c=E[l];Ie(c[2],c[1],c[0])}for(var f=0;f<O;f++){var d=E[f];Ie(d[0]+N*h,d[1]+N*h,d[2]+N*h)}}a.addGroup(e,o.length/3-e,0)}(),function(){var e=o.length/3,t=0;Pe(C,t),t+=C.length;for(var n=0,r=S.length;n<r;n++){var i=S[n];Pe(i,t),t+=i.length}a.addGroup(e,o.length/3-e,1)}()}return e.setAttribute("position",new NP(o,3)),e.setAttribute("uv",new NP(s,2)),e.computeVertexNormals(),e}return at(n,[{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}},{key:"toJSON",value:function(){var e=ut(st(n.prototype),"toJSON",this).call(this);return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var a=e[r];n.shapes.push(a.uuid)}else n.shapes.push(e.uuid);n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],i=0,a=e.shapes.length;i<a;i++){var o=t[e.shapes[i]];r.push(o)}var s=e.options.extrudePath;return void 0!==s&&(e.options.extrudePath=(new WO[s.type]).fromJSON(s)),new n(r,e.options)}}]),n}(GP),LD={generateTopUV:function(e,t,n,r,i){var a=t[3*n],o=t[3*n+1],s=t[3*r],u=t[3*r+1],l=t[3*i],c=t[3*i+1];return[new xE(a,o),new xE(s,u),new xE(l,c)]},generateSideWallUV:function(e,t,n,r,i,a){var o=t[3*n],s=t[3*n+1],u=t[3*n+2],l=t[3*r],c=t[3*r+1],f=t[3*r+2],h=t[3*i],d=t[3*i+1],p=t[3*i+2],v=t[3*a],m=t[3*a+1],y=t[3*a+2];return Math.abs(s-c)<Math.abs(o-l)?[new xE(o,1-u),new xE(l,1-f),new xE(h,1-p),new xE(v,1-y)]:[new xE(s,1-u),new xE(c,1-f),new xE(d,1-p),new xE(m,1-y)]}};var ND=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;nt(this,n);var a=(1+Math.sqrt(5))/2,o=[-1,a,0,1,a,0,-1,-a,0,1,-a,0,0,-1,a,0,1,a,0,-1,-a,0,1,-a,a,0,-1,a,0,1,-a,0,-1,-a,0,1];return(e=t.call(this,o,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],r,i)).type="IcosahedronGeometry",e.parameters={radius:r,detail:i},e}return at(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(QO),OD=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;nt(this,n);return(e=t.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],r,i)).type="OctahedronGeometry",e.parameters={radius:r,detail:i},e}return at(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(QO),DD=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;nt(this,n),(e=t.call(this)).type="RingGeometry",e.parameters={innerRadius:r,outerRadius:i,thetaSegments:a,phiSegments:o,thetaStart:s,thetaLength:u},a=Math.max(3,a);for(var l=[],c=[],f=[],h=[],d=r,p=(i-r)/(o=Math.max(1,o)),v=new YE,m=new xE,y=0;y<=o;y++){for(var g=0;g<=a;g++){var b=s+g/a*u;v.x=d*Math.cos(b),v.y=d*Math.sin(b),c.push(v.x,v.y,v.z),f.push(0,0,1),m.x=(v.x/i+1)/2,m.y=(v.y/i+1)/2,h.push(m.x,m.y)}d+=p}for(var w=0;w<o;w++)for(var x=w*(a+1),_=0;_<a;_++){var k=_+x,S=k,M=k+a+1,A=k+a+2,T=k+1;l.push(S,M,T),l.push(M,A,T)}return e.setIndex(l),e.setAttribute("position",new NP(c,3)),e.setAttribute("normal",new NP(f,3)),e.setAttribute("uv",new NP(h,2)),e}return at(n,[{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}]),n}(GP),UD=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new rD([new xE(0,.5),new xE(-.5,-.5),new xE(.5,-.5)]),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;nt(this,n),(e=t.call(this)).type="ShapeGeometry",e.parameters={shapes:r,curveSegments:i};var a=[],o=[],s=[],u=[],l=0,c=0;if(!1===Array.isArray(r))h(r);else for(var f=0;f<r.length;f++)h(r[f]),e.addGroup(l,c,f),l+=c,c=0;function h(e){var t=o.length/3,n=e.extractPoints(i),r=n.shape,l=n.holes;!1===CD.isClockWise(r)&&(r=r.reverse());for(var f=0,h=l.length;f<h;f++){var d=l[f];!0===CD.isClockWise(d)&&(l[f]=d.reverse())}for(var p=CD.triangulateShape(r,l),v=0,m=l.length;v<m;v++){var y=l[v];r=r.concat(y)}for(var g=0,b=r.length;g<b;g++){var w=r[g];o.push(w.x,w.y,0),s.push(0,0,1),u.push(w.x,w.y)}for(var x=0,_=p.length;x<_;x++){var k=p[x],S=k[0]+t,M=k[1]+t,A=k[2]+t;a.push(S,M,A),c+=3}}return e.setIndex(a),e.setAttribute("position",new NP(o,3)),e.setAttribute("normal",new NP(s,3)),e.setAttribute("uv",new NP(u,2)),e}return at(n,[{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}},{key:"toJSON",value:function(){var e=ut(st(n.prototype),"toJSON",this).call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],i=0,a=e.shapes.length;i<a;i++){var o=t[e.shapes[i]];r.push(o)}return new n(r,e.curveSegments)}}]),n}(GP);var zD=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;nt(this,n),(e=t.call(this)).type="SphereGeometry",e.parameters={radius:r,widthSegments:i,heightSegments:a,phiStart:o,phiLength:s,thetaStart:u,thetaLength:l},i=Math.max(3,Math.floor(i)),a=Math.max(2,Math.floor(a));for(var c=Math.min(u+l,Math.PI),f=0,h=[],d=new YE,p=new YE,v=[],m=[],y=[],g=[],b=0;b<=a;b++){var w=[],x=b/a,_=0;0===b&&0===u?_=.5/i:b===a&&c===Math.PI&&(_=-.5/i);for(var k=0;k<=i;k++){var S=k/i;d.x=-r*Math.cos(o+S*s)*Math.sin(u+x*l),d.y=r*Math.cos(u+x*l),d.z=r*Math.sin(o+S*s)*Math.sin(u+x*l),m.push(d.x,d.y,d.z),p.copy(d).normalize(),y.push(p.x,p.y,p.z),g.push(S+_,1-x),w.push(f++)}h.push(w)}for(var M=0;M<a;M++)for(var A=0;A<i;A++){var T=h[M][A+1],E=h[M][A],C=h[M+1][A],P=h[M+1][A+1];(0!==M||u>0)&&v.push(T,E,P),(M!==a-1||c<Math.PI)&&v.push(E,C,P)}return e.setIndex(v),e.setAttribute("position",new NP(m,3)),e.setAttribute("normal",new NP(y,3)),e.setAttribute("uv",new NP(g,2)),e}return at(n,[{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}]),n}(GP),BD=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;nt(this,n);return(e=t.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],r,i)).type="TetrahedronGeometry",e.parameters={radius:r,detail:i},e}return at(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(QO),FD=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:48,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;nt(this,n),(e=t.call(this)).type="TorusGeometry",e.parameters={radius:r,tube:i,radialSegments:a,tubularSegments:o,arc:s},a=Math.floor(a),o=Math.floor(o);for(var u=[],l=[],c=[],f=[],h=new YE,d=new YE,p=new YE,v=0;v<=a;v++)for(var m=0;m<=o;m++){var y=m/o*s,g=v/a*Math.PI*2;d.x=(r+i*Math.cos(g))*Math.cos(y),d.y=(r+i*Math.cos(g))*Math.sin(y),d.z=i*Math.sin(g),l.push(d.x,d.y,d.z),h.x=r*Math.cos(y),h.y=r*Math.sin(y),p.subVectors(d,h).normalize(),c.push(p.x,p.y,p.z),f.push(m/o),f.push(v/a)}for(var b=1;b<=a;b++)for(var w=1;w<=o;w++){var x=(o+1)*b+w-1,_=(o+1)*(b-1)+w-1,k=(o+1)*(b-1)+w,S=(o+1)*b+w;u.push(x,_,S),u.push(_,k,S)}return e.setIndex(u),e.setAttribute("position",new NP(l,3)),e.setAttribute("normal",new NP(c,3)),e.setAttribute("uv",new NP(f,2)),e}return at(n,[{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}]),n}(GP),HD=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;nt(this,n),(e=t.call(this)).type="TorusKnotGeometry",e.parameters={radius:r,tube:i,tubularSegments:a,radialSegments:o,p:s,q:u},a=Math.floor(a),o=Math.floor(o);for(var l=[],c=[],f=[],h=[],d=new YE,p=new YE,v=new YE,m=new YE,y=new YE,g=new YE,b=new YE,w=0;w<=a;++w){var x=w/a*s*Math.PI*2;I(x,s,u,r,v),I(x+.01,s,u,r,m),g.subVectors(m,v),b.addVectors(m,v),y.crossVectors(g,b),b.crossVectors(y,g),y.normalize(),b.normalize();for(var _=0;_<=o;++_){var k=_/o*Math.PI*2,S=-i*Math.cos(k),M=i*Math.sin(k);d.x=v.x+(S*b.x+M*y.x),d.y=v.y+(S*b.y+M*y.y),d.z=v.z+(S*b.z+M*y.z),c.push(d.x,d.y,d.z),p.subVectors(d,v).normalize(),f.push(p.x,p.y,p.z),h.push(w/a),h.push(_/o)}}for(var A=1;A<=a;A++)for(var T=1;T<=o;T++){var E=(o+1)*(A-1)+(T-1),C=(o+1)*A+(T-1),P=(o+1)*A+T,R=(o+1)*(A-1)+T;l.push(E,C,R),l.push(C,P,R)}function I(e,t,n,r,i){var a=Math.cos(e),o=Math.sin(e),s=n/t*e,u=Math.cos(s);i.x=r*(2+u)*.5*a,i.y=r*(2+u)*o*.5,i.z=r*Math.sin(s)*.5}return e.setIndex(l),e.setAttribute("position",new NP(c,3)),e.setAttribute("normal",new NP(f,3)),e.setAttribute("uv",new NP(h,2)),e}return at(n,[{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}]),n}(GP),WD=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new FO(new YE(-1,-1,0),new YE(-1,1,0),new YE(1,1,0)),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];nt(this,n),(e=t.call(this)).type="TubeGeometry",e.parameters={path:r,tubularSegments:i,radius:a,radialSegments:o,closed:s};var u=r.computeFrenetFrames(i,s);e.tangents=u.tangents,e.normals=u.normals,e.binormals=u.binormals;var l=new YE,c=new YE,f=new xE,h=new YE,d=[],p=[],v=[],m=[];function y(e){h=r.getPointAt(e/i,h);for(var t=u.normals[e],n=u.binormals[e],s=0;s<=o;s++){var f=s/o*Math.PI*2,v=Math.sin(f),m=-Math.cos(f);c.x=m*t.x+v*n.x,c.y=m*t.y+v*n.y,c.z=m*t.z+v*n.z,c.normalize(),p.push(c.x,c.y,c.z),l.x=h.x+a*c.x,l.y=h.y+a*c.y,l.z=h.z+a*c.z,d.push(l.x,l.y,l.z)}}return function(){for(var e=0;e<i;e++)y(e);y(!1===s?i:0),function(){for(var e=0;e<=i;e++)for(var t=0;t<=o;t++)f.x=e/i,f.y=t/o,v.push(f.x,f.y)}(),function(){for(var e=1;e<=i;e++)for(var t=1;t<=o;t++){var n=(o+1)*(e-1)+(t-1),r=(o+1)*e+(t-1),a=(o+1)*e+t,s=(o+1)*(e-1)+t;m.push(n,r,s),m.push(r,a,s)}}()}(),e.setIndex(m),e.setAttribute("position",new NP(d,3)),e.setAttribute("normal",new NP(p,3)),e.setAttribute("uv",new NP(v,2)),e}return at(n,[{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}},{key:"toJSON",value:function(){var e=ut(st(n.prototype),"toJSON",this).call(this);return e.path=this.parameters.path.toJSON(),e}}],[{key:"fromJSON",value:function(e){return new n((new WO[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}]),n}(GP),GD=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(nt(this,n),(e=t.call(this)).type="WireframeGeometry",e.parameters={geometry:r},null!==r){var i=[],a=new Set,o=new YE,s=new YE;if(null!==r.index){var u=r.attributes.position,l=r.index,c=r.groups;0===c.length&&(c=[{start:0,count:l.count,materialIndex:0}]);for(var f=0,h=c.length;f<h;++f)for(var d=c[f],p=d.start,v=p,m=p+d.count;v<m;v+=3)for(var y=0;y<3;y++){var g=l.getX(v+y),b=l.getX(v+(y+1)%3);o.fromBufferAttribute(u,g),s.fromBufferAttribute(u,b),!0===jD(o,s,a)&&(i.push(o.x,o.y,o.z),i.push(s.x,s.y,s.z))}}else for(var w=r.attributes.position,x=0,_=w.count/3;x<_;x++)for(var k=0;k<3;k++){var S=3*x+k,M=3*x+(k+1)%3;o.fromBufferAttribute(w,S),s.fromBufferAttribute(w,M),!0===jD(o,s,a)&&(i.push(o.x,o.y,o.z),i.push(s.x,s.y,s.z))}e.setAttribute("position",new NP(i,3))}return e}return at(n,[{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}]),n}(GP);function jD(e,t,n){var r="".concat(e.x,",").concat(e.y,",").concat(e.z,"-").concat(t.x,",").concat(t.y,",").concat(t.z),i="".concat(t.x,",").concat(t.y,",").concat(t.z,"-").concat(e.x,",").concat(e.y,",").concat(e.z);return!0!==n.has(r)&&!0!==n.has(i)&&(n.add(r),n.add(i),!0)}var VD=Object.freeze({__proto__:null,BoxGeometry:lR,CapsuleGeometry:qO,CircleGeometry:XO,ConeGeometry:YO,CylinderGeometry:JO,DodecahedronGeometry:ZO,EdgesGeometry:nD,ExtrudeGeometry:ID,IcosahedronGeometry:ND,LatheGeometry:VO,OctahedronGeometry:OD,PlaneGeometry:PR,PolyhedronGeometry:QO,RingGeometry:DD,ShapeGeometry:UD,SphereGeometry:zD,TetrahedronGeometry:BD,TorusGeometry:FD,TorusKnotGeometry:HD,TubeGeometry:WD,WireframeGeometry:GD}),qD=function(e){ct(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this)).isShadowMaterial=!0,r.type="ShadowMaterial",r.color=new vP(0),r.transparent=!0,r.fog=!0,r.setValues(e),r}return at(n,[{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.fog=e.fog,this}}]),n}(cP),XD=function(e){ct(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this,e)).isRawShaderMaterial=!0,r.type="RawShaderMaterial",r}return at(n)}(pR),JD=function(e){ct(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this)).isMeshStandardMaterial=!0,r.defines={STANDARD:""},r.type="MeshStandardMaterial",r.color=new vP(16777215),r.roughness=1,r.metalness=0,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new vP(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=AT,r.normalScale=new xE(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.roughnessMap=null,r.metalnessMap=null,r.alphaMap=null,r.envMap=null,r.envMapIntensity=1,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return at(n,[{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(cP),YD=function(e){ct(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this)).isMeshPhysicalMaterial=!0,r.defines={STANDARD:"",PHYSICAL:""},r.type="MeshPhysicalMaterial",r.clearcoatMap=null,r.clearcoatRoughness=0,r.clearcoatRoughnessMap=null,r.clearcoatNormalScale=new xE(1,1),r.clearcoatNormalMap=null,r.ior=1.5,Object.defineProperty(ot(r),"reflectivity",{get:function(){return hE(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),r.iridescenceMap=null,r.iridescenceIOR=1.3,r.iridescenceThicknessRange=[100,400],r.iridescenceThicknessMap=null,r.sheenColor=new vP(0),r.sheenColorMap=null,r.sheenRoughness=1,r.sheenRoughnessMap=null,r.transmissionMap=null,r.thickness=0,r.thicknessMap=null,r.attenuationDistance=1/0,r.attenuationColor=new vP(1,1,1),r.specularIntensity=1,r.specularIntensityMap=null,r.specularColor=new vP(1,1,1),r.specularColorMap=null,r._sheen=0,r._clearcoat=0,r._iridescence=0,r._transmission=0,r.setValues(e),r}return at(n,[{key:"sheen",get:function(){return this._sheen},set:function(e){this._sheen>0!==e>0&&this.version++,this._sheen=e}},{key:"clearcoat",get:function(){return this._clearcoat},set:function(e){this._clearcoat>0!==e>0&&this.version++,this._clearcoat=e}},{key:"iridescence",get:function(){return this._iridescence},set:function(e){this._iridescence>0!==e>0&&this.version++,this._iridescence=e}},{key:"transmission",get:function(){return this._transmission},set:function(e){this._transmission>0!==e>0&&this.version++,this._transmission=e}},{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=qe(e.iridescenceThicknessRange),this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}]),n}(JD),QD=function(e){ct(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this)).isMeshPhongMaterial=!0,r.type="MeshPhongMaterial",r.color=new vP(16777215),r.specular=new vP(1118481),r.shininess=30,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new vP(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=AT,r.normalScale=new xE(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=DM,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return at(n,[{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(cP),ZD=function(e){ct(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this)).isMeshToonMaterial=!0,r.defines={TOON:""},r.type="MeshToonMaterial",r.color=new vP(16777215),r.map=null,r.gradientMap=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new vP(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=AT,r.normalScale=new xE(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.fog=!0,r.setValues(e),r}return at(n,[{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}]),n}(cP),KD=function(e){ct(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this)).isMeshNormalMaterial=!0,r.type="MeshNormalMaterial",r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=AT,r.normalScale=new xE(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.flatShading=!1,r.setValues(e),r}return at(n,[{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}]),n}(cP),$D=function(e){ct(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this)).isMeshLambertMaterial=!0,r.type="MeshLambertMaterial",r.color=new vP(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new vP(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=AT,r.normalScale=new xE(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=DM,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return at(n,[{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(cP),eU=function(e){ct(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this)).isMeshMatcapMaterial=!0,r.defines={MATCAP:""},r.type="MeshMatcapMaterial",r.color=new vP(16777215),r.matcap=null,r.map=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=AT,r.normalScale=new xE(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.flatShading=!1,r.fog=!0,r.setValues(e),r}return at(n,[{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(cP),tU=function(e){ct(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this)).isLineDashedMaterial=!0,r.type="LineDashedMaterial",r.scale=1,r.dashSize=3,r.gapSize=1,r.setValues(e),r}return at(n,[{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}]),n}(eO);function nU(e,t,n){return iU(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)}function rU(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function iU(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function aU(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n}function oU(e,t,n){for(var r=e.length,i=new e.constructor(r),a=0,o=0;o!==r;++a)for(var s=n[a]*t,u=0;u!==t;++u)i[o++]=e[s+u];return i}function sU(e,t,n,r){for(var i=1,a=e[0];void 0!==a&&void 0===a[r];)a=e[i++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[r])&&(t.push(a.time),n.push.apply(n,o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[r])&&(t.push(a.time),o.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{void 0!==(o=a[r])&&(t.push(a.time),n.push(o)),a=e[i++]}while(void 0!==a)}}var uU={arraySlice:nU,convertArray:rU,isTypedArray:iU,getKeyframeOrder:aU,sortedArray:oU,flattenJSON:sU,subclip:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,a=e.clone();a.name=t;for(var o=[],s=0;s<a.tracks.length;++s){for(var u=a.tracks[s],l=u.getValueSize(),c=[],f=[],h=0;h<u.times.length;++h){var d=u.times[h]*i;if(!(d<n||d>=r)){c.push(u.times[h]);for(var p=0;p<l;++p)f.push(u.values[h*l+p])}}0!==c.length&&(u.times=rU(c,u.times.constructor),u.values=rU(f,u.values.constructor),o.push(u))}a.tracks=o;for(var v=1/0,m=0;m<a.tracks.length;++m)v>a.tracks[m].times[0]&&(v=a.tracks[m].times[0]);for(var y=0;y<a.tracks.length;++y)a.tracks[y].shift(-1*v);return a.resetDuration(),a},makeClipAdditive:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;r<=0&&(r=30);for(var i=n.tracks.length,a=t/r,o=function(){var t=n.tracks[s],r=t.ValueTypeName;if("bool"===r||"string"===r)return"continue";var i=e.tracks.find((function(e){return e.name===t.name&&e.ValueTypeName===r}));if(void 0===i)return"continue";var o=0,u=t.getValueSize();t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(o=u/3);var l=0,c=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(l=c/3);var f,h=t.times.length-1;if(a<=t.times[0]){var d=o,p=u-o;f=nU(t.values,d,p)}else if(a>=t.times[h]){var v=h*u+o,m=v+u-o;f=nU(t.values,v,m)}else{var y=t.createInterpolant(),g=o,b=u-o;y.evaluate(a),f=nU(y.resultBuffer,g,b)}"quaternion"===r&&(new JE).fromArray(f).normalize().conjugate().toArray(f);for(var w=i.times.length,x=0;x<w;++x){var _=x*c+l;if("quaternion"===r)JE.multiplyQuaternionsFlat(i.values,_,f,0,i.values,_);else for(var k=c-2*l,S=0;S<k;++S)i.values[_+S]-=f[S]}},s=0;s<i;++s)o();return e.blendMode=gT,e}},lU=function(){function e(t,n,r,i){nt(this,e),this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}return at(e,[{key:"evaluate",value:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var a;n:{r:if(!(e<r)){for(var o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(i=r,e<(r=t[++n]))break t}a=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(var u=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===u)break;if(r=i,e>=(i=t[--n-1]))break t}a=n,n=0}for(;n<a;){var l=n+a>>>1;e<t[l]?a=l:n=l+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,a=0;a!==r;++a)t[a]=n[i+a];return t}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),e}(),cU=function(e){ct(n,e);var t=dt(n);function n(e,r,i,a){var o;return nt(this,n),(o=t.call(this,e,r,i,a))._weightPrev=-0,o._offsetPrev=-0,o._weightNext=-0,o._offsetNext=-0,o.DefaultSettings_={endingStart:pT,endingEnd:pT},o}return at(n,[{key:"intervalChanged_",value:function(e,t,n){var r=this.parameterPositions,i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case vT:i=e,o=2*t-n;break;case mT:o=t+r[i=r.length-2]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case vT:a=e,s=2*n-t;break;case mT:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}var u=.5*(n-t),l=this.valueSize;this._weightPrev=u/(t-o),this._weightNext=u/(s-n),this._offsetPrev=i*l,this._offsetNext=a*l}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,l=this._offsetPrev,c=this._offsetNext,f=this._weightPrev,h=this._weightNext,d=(n-t)/(r-t),p=d*d,v=p*d,m=-f*v+2*f*p-f*d,y=(1+f)*v+(-1.5-2*f)*p+(-.5+f)*d+1,g=(-1-h)*v+(1.5+h)*p+.5*d,b=h*v-h*p,w=0;w!==o;++w)i[w]=m*a[l+w]+y*a[u+w]+g*a[s+w]+b*a[c+w];return i}}]),n}(lU),fU=function(e){ct(n,e);var t=dt(n);function n(e,r,i,a){return nt(this,n),t.call(this,e,r,i,a)}return at(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,l=(n-t)/(r-t),c=1-l,f=0;f!==o;++f)i[f]=a[u+f]*c+a[s+f]*l;return i}}]),n}(lU),hU=function(e){ct(n,e);var t=dt(n);function n(e,r,i,a){return nt(this,n),t.call(this,e,r,i,a)}return at(n,[{key:"interpolate_",value:function(e){return this.copySampleValue_(e-1)}}]),n}(lU),dU=function(){function e(t,n,r,i){if(nt(this,e),void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=rU(n,this.TimeBufferType),this.values=rU(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}return at(e,[{key:"InterpolantFactoryMethodDiscrete",value:function(e){return new hU(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodLinear",value:function(e){return new fU(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodSmooth",value:function(e){return new cU(this.times,this.values,this.getValueSize(),e)}},{key:"setInterpolation",value:function(e){var t;switch(e){case fT:t=this.InterpolantFactoryMethodDiscrete;break;case hT:t=this.InterpolantFactoryMethodLinear;break;case dT:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return fT;case this.InterpolantFactoryMethodLinear:return hT;case this.InterpolantFactoryMethodSmooth:return dT}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this}},{key:"scale",value:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this}},{key:"trim",value:function(e,t){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(i=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=nU(n,i,a),this.values=nU(this.values,i*o,a*o)}return this}},{key:"validate",value:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,o=0;o!==i;o++){var s=n[o];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),e=!1;break}a=s}if(void 0!==r&&iU(r))for(var u=0,l=r.length;u!==l;++u){var c=r[u];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,c),e=!1;break}}return e}},{key:"optimize",value:function(){for(var e=nU(this.times),t=nU(this.values),n=this.getValueSize(),r=this.getInterpolation()===dT,i=e.length-1,a=1,o=1;o<i;++o){var s=!1,u=e[o];if(u!==e[o+1]&&(1!==o||u!==e[0]))if(r)s=!0;else for(var l=o*n,c=l-n,f=l+n,h=0;h!==n;++h){var d=t[l+h];if(d!==t[c+h]||d!==t[f+h]){s=!0;break}}if(s){if(o!==a){e[a]=e[o];for(var p=o*n,v=a*n,m=0;m!==n;++m)t[v+m]=t[p+m]}++a}}if(i>0){e[a]=e[i];for(var y=i*n,g=a*n,b=0;b!==n;++b)t[g+b]=t[y+b];++a}return a!==e.length?(this.times=nU(e,0,a),this.values=nU(t,0,a*n)):(this.times=e,this.values=t),this}},{key:"clone",value:function(){var e=nU(this.times,0),t=nU(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}],[{key:"toJSON",value:function(e){var t,n=e.constructor;if(n.toJSON!==this.toJSON)t=n.toJSON(e);else{t={name:e.name,times:rU(e.times,Array),values:rU(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}]),e}();dU.prototype.TimeBufferType=Float32Array,dU.prototype.ValueBufferType=Float32Array,dU.prototype.DefaultInterpolation=hT;var pU=function(e){ct(n,e);var t=dt(n);function n(){return nt(this,n),t.apply(this,arguments)}return at(n)}(dU);pU.prototype.ValueTypeName="bool",pU.prototype.ValueBufferType=Array,pU.prototype.DefaultInterpolation=fT,pU.prototype.InterpolantFactoryMethodLinear=void 0,pU.prototype.InterpolantFactoryMethodSmooth=void 0;var vU=function(e){ct(n,e);var t=dt(n);function n(){return nt(this,n),t.apply(this,arguments)}return at(n)}(dU);vU.prototype.ValueTypeName="color";var mU=function(e){ct(n,e);var t=dt(n);function n(){return nt(this,n),t.apply(this,arguments)}return at(n)}(dU);mU.prototype.ValueTypeName="number";var yU=function(e){ct(n,e);var t=dt(n);function n(e,r,i,a){return nt(this,n),t.call(this,e,r,i,a)}return at(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t),u=e*o,l=u+o;u!==l;u+=4)JE.slerpFlat(i,0,a,u-o,a,u,s);return i}}]),n}(lU),gU=function(e){ct(n,e);var t=dt(n);function n(){return nt(this,n),t.apply(this,arguments)}return at(n,[{key:"InterpolantFactoryMethodLinear",value:function(e){return new yU(this.times,this.values,this.getValueSize(),e)}}]),n}(dU);gU.prototype.ValueTypeName="quaternion",gU.prototype.DefaultInterpolation=hT,gU.prototype.InterpolantFactoryMethodSmooth=void 0;var bU=function(e){ct(n,e);var t=dt(n);function n(){return nt(this,n),t.apply(this,arguments)}return at(n)}(dU);bU.prototype.ValueTypeName="string",bU.prototype.ValueBufferType=Array,bU.prototype.DefaultInterpolation=fT,bU.prototype.InterpolantFactoryMethodLinear=void 0,bU.prototype.InterpolantFactoryMethodSmooth=void 0;var wU=function(e){ct(n,e);var t=dt(n);function n(){return nt(this,n),t.apply(this,arguments)}return at(n)}(dU);wU.prototype.ValueTypeName="vector";var xU=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:yT;nt(this,e),this.name=t,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=fE(),this.duration<0&&this.resetDuration()}return at(e,[{key:"resetDuration",value:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}},{key:"trim",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}},{key:"validate",value:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}},{key:"optimize",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},{key:"clone",value:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}},{key:"toJSON",value:function(){return this.constructor.toJSON(this)}}],[{key:"parse",value:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,a=n.length;i!==a;++i)t.push(_U(n[i]).scale(r));var o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}},{key:"toJSON",value:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},i=0,a=n.length;i!==a;++i)t.push(dU.toJSON(n[i]));return r}},{key:"CreateFromMorphTargetSequence",value:function(e,t,n,r){for(var i=t.length,a=[],o=0;o<i;o++){var s=[],u=[];s.push((o+i-1)%i,o,(o+1)%i),u.push(0,1,0);var l=aU(s);s=oU(s,1,l),u=oU(u,1,l),r||0!==s[0]||(s.push(i),u.push(u[0])),a.push(new mU(".morphTargetInfluences["+t[o].name+"]",s,u).scale(1/n))}return new this(e,-1,a)}},{key:"findByName",value:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}},{key:"CreateClipsFromMorphTargetSequences",value:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var s=e[a],u=s.name.match(i);if(u&&u.length>1){var l=u[1],c=r[l];c||(r[l]=c=[]),c.push(s)}}var f=[];for(var h in r)f.push(this.CreateFromMorphTargetSequence(h,r[h],t,n));return f}},{key:"parseAnimation",value:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var a=[],o=[];sU(n,a,o,r),0!==a.length&&i.push(new e(t,a,o))}},r=[],i=e.name||"default",a=e.fps||30,o=e.blendMode,s=e.length||-1,u=e.hierarchy||[],l=0;l<u.length;l++){var c=u[l].keys;if(c&&0!==c.length)if(c[0].morphTargets){var f={},h=void 0;for(h=0;h<c.length;h++)if(c[h].morphTargets)for(var d=0;d<c[h].morphTargets.length;d++)f[c[h].morphTargets[d]]=-1;for(var p in f){for(var v=[],m=[],y=0;y!==c[h].morphTargets.length;++y){var g=c[h];v.push(g.time),m.push(g.morphTarget===p?1:0)}r.push(new mU(".morphTargetInfluence["+p+"]",v,m))}s=f.length*a}else{var b=".bones["+t[l].name+"]";n(wU,b+".position",c,"pos",r),n(gU,b+".quaternion",c,"rot",r),n(wU,b+".scale",c,"scl",r)}}return 0===r.length?null:new this(i,s,r,o)}}]),e}();function _U(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return mU;case"vector":case"vector2":case"vector3":case"vector4":return wU;case"color":return vU;case"quaternion":return gU;case"bool":case"boolean":return pU;case"string":return bU}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];sU(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var kU,SU={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},MU=at((function e(t,n,r){nt(this,e);var i=this,a=!1,o=0,s=0,u=void 0,l=[];this.onStart=void 0,this.onLoad=t,this.onProgress=n,this.onError=r,this.itemStart=function(e){s++,!1===a&&void 0!==i.onStart&&i.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==i.onProgress&&i.onProgress(e,o,s),o===s&&(a=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return u?u(e):e},this.setURLModifier=function(e){return u=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){var t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=l.length;t<n;t+=2){var r=l[t],i=l[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null}})),AU=new MU,TU=function(){function e(t){nt(this,e),this.manager=void 0!==t?t:AU,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return at(e,[{key:"load",value:function(){}},{key:"loadAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"setResourcePath",value:function(e){return this.resourcePath=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}}]),e}(),EU={},CU=function(e){ct(n,e);var t=dt(n);function n(e,r){var i;return nt(this,n),(i=t.call(this,e)).response=r,i}return at(n)}(Ft(Error)),PU=function(e){ct(n,e);var t=dt(n);function n(e){return nt(this,n),t.call(this,e)}return at(n,[{key:"load",value:function(e,t,n,r){var i=this;void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=SU.get(e);if(void 0!==a)return this.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;if(void 0===EU[e]){EU[e]=[],EU[e].push({onLoad:t,onProgress:n,onError:r});var o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,u=this.responseType;fetch(o).then((function(t){if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;var n=EU[e],r=t.body.getReader(),i=t.headers.get("Content-Length")||t.headers.get("X-File-Size"),a=i?parseInt(i):0,o=0!==a,s=0,u=new ReadableStream({start:function(e){!function t(){r.read().then((function(r){var i=r.done,u=r.value;if(i)e.close();else{s+=u.byteLength;for(var l=new ProgressEvent("progress",{lengthComputable:o,loaded:s,total:a}),c=0,f=n.length;c<f;c++){var h=n[c];h.onProgress&&h.onProgress(l)}e.enqueue(u),t()}}))}()}});return new Response(u)}throw new CU('fetch for "'.concat(t.url,'" responded with ').concat(t.status,": ").concat(t.statusText),t)})).then((function(e){switch(u){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((function(e){return(new DOMParser).parseFromString(e,s)}));case"json":return e.json();default:if(void 0===s)return e.text();var t=/charset="?([^;"\s]*)"?/i.exec(s),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then((function(e){return r.decode(e)}))}})).then((function(t){SU.add(e,t);var n=EU[e];delete EU[e];for(var r=0,i=n.length;r<i;r++){var a=n[r];a.onLoad&&a.onLoad(t)}})).catch((function(t){var n=EU[e];if(void 0===n)throw i.manager.itemError(e),t;delete EU[e];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(t)}i.manager.itemError(e)})).finally((function(){i.manager.itemEnd(e)})),this.manager.itemStart(e)}else EU[e].push({onLoad:t,onProgress:n,onError:r})}},{key:"setResponseType",value:function(e){return this.responseType=e,this}},{key:"setMimeType",value:function(e){return this.mimeType=e,this}}]),n}(TU),RU=function(e){ct(n,e);var t=dt(n);function n(e){return nt(this,n),t.call(this,e)}return at(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new PU(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){for(var t=[],n=0;n<e.length;n++){var r=xU.parse(e[n]);t.push(r)}return t}}]),n}(TU),IU=function(e){ct(n,e);var t=dt(n);function n(e){return nt(this,n),t.call(this,e)}return at(n,[{key:"load",value:function(e,t,n,r){var i=this,a=[],o=new wO,s=new PU(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(i.withCredentials);var u=0;function l(l){s.load(e[l],(function(e){var n=i.parse(e,!0);a[l]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(u+=1)&&(1===n.mipmapCount&&(o.minFilter=aA),o.image=a,o.format=n.format,o.needsUpdate=!0,t&&t(o))}),n,r)}if(Array.isArray(e))for(var c=0,f=e.length;c<f;++c)l(c);else s.load(e,(function(e){var n=i.parse(e,!0);if(n.isCubemap){for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){a[s]={mipmaps:[]};for(var u=0;u<n.mipmapCount;u++)a[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+u]),a[s].format=n.format,a[s].width=n.width,a[s].height=n.height}o.image=a}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=aA),o.format=n.format,o.needsUpdate=!0,t&&t(o)}),n,r);return o}}]),n}(TU),LU=function(e){ct(n,e);var t=dt(n);function n(e){return nt(this,n),t.call(this,e)}return at(n,[{key:"load",value:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=SU.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o=TE("img");function s(){l(),SU.add(e,this),t&&t(this),i.manager.itemEnd(e)}function u(t){l(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function l(){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",u,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}}]),n}(TU),NU=function(e){ct(n,e);var t=dt(n);function n(e){return nt(this,n),t.call(this,e)}return at(n,[{key:"load",value:function(e,t,n,r){var i=new bR,a=new LU(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(n){a.load(e[n],(function(e){i.images[n]=e,6===++o&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(var u=0;u<e.length;++u)s(u);return i}}]),n}(TU),OU=function(e){ct(n,e);var t=dt(n);function n(e){return nt(this,n),t.call(this,e)}return at(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new HN,o=new PU(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(i.withCredentials),o.load(e,(function(e){var n=i.parse(e);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:KM,a.wrapT=void 0!==n.wrapT?n.wrapT:KM,a.magFilter=void 0!==n.magFilter?n.magFilter:aA,a.minFilter=void 0!==n.minFilter?n.minFilter:aA,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.encoding&&(a.encoding=n.encoding),void 0!==n.flipY&&(a.flipY=n.flipY),void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=uA),1===n.mipmapCount&&(a.minFilter=aA),void 0!==n.generateMipmaps&&(a.generateMipmaps=n.generateMipmaps),a.needsUpdate=!0,t&&t(a,n))}),n,r),a}}]),n}(TU),DU=function(e){ct(n,e);var t=dt(n);function n(e){return nt(this,n),t.call(this,e)}return at(n,[{key:"load",value:function(e,t,n,r){var i=new FE,a=new LU(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}]),n}(TU),UU=function(e){ct(n,e);var t=dt(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return nt(this,n),(r=t.call(this)).isLight=!0,r.type="Light",r.color=new vP(e),r.intensity=i,r}return at(n,[{key:"dispose",value:function(){}},{key:"copy",value:function(e,t){return ut(st(n.prototype),"copy",this).call(this,e,t),this.color.copy(e.color),this.intensity=e.intensity,this}},{key:"toJSON",value:function(e){var t=ut(st(n.prototype),"toJSON",this).call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}]),n}(QC),zU=function(e){ct(n,e);var t=dt(n);function n(e,r,i){var a;return nt(this,n),(a=t.call(this,e,i)).isHemisphereLight=!0,a.type="HemisphereLight",a.position.copy(QC.DEFAULT_UP),a.updateMatrix(),a.groundColor=new vP(r),a}return at(n,[{key:"copy",value:function(e,t){return ut(st(n.prototype),"copy",this).call(this,e,t),this.groundColor.copy(e.groundColor),this}}]),n}(UU),BU=new MC,FU=new YE,HU=new YE,WU=function(){function e(t){nt(this,e),this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new xE(512,512),this.map=null,this.mapPass=null,this.matrix=new MC,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new TR,this._frameExtents=new xE(1,1),this._viewportCount=1,this._viewports=[new HE(0,0,1,1)]}return at(e,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(e){var t=this.camera,n=this.matrix;FU.setFromMatrixPosition(e.matrixWorld),t.position.copy(FU),HU.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(HU),t.updateMatrixWorld(),BU.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(BU),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(BU)}},{key:"getViewport",value:function(e){return this._viewports[e]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}]),e}(),GU=function(e){ct(n,e);var t=dt(n);function n(){var e;return nt(this,n),(e=t.call(this,new mR(50,1,.5,500))).isSpotLightShadow=!0,e.focus=1,e}return at(n,[{key:"updateMatrices",value:function(e){var t=this.camera,r=2*cE*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;r===t.fov&&i===t.aspect&&a===t.far||(t.fov=r,t.aspect=i,t.far=a,t.updateProjectionMatrix()),ut(st(n.prototype),"updateMatrices",this).call(this,e)}},{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.focus=e.focus,this}}]),n}(WU),jU=function(e){ct(n,e);var t=dt(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2;return nt(this,n),(i=t.call(this,e,r)).isSpotLight=!0,i.type="SpotLight",i.position.copy(QC.DEFAULT_UP),i.updateMatrix(),i.target=new QC,i.distance=a,i.angle=o,i.penumbra=s,i.decay=u,i.map=null,i.shadow=new GU,i}return at(n,[{key:"power",get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,t){return ut(st(n.prototype),"copy",this).call(this,e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(UU),VU=new MC,qU=new YE,XU=new YE,JU=function(e){ct(n,e);var t=dt(n);function n(){var e;return nt(this,n),(e=t.call(this,new mR(90,1,.5,500))).isPointLightShadow=!0,e._frameExtents=new xE(4,2),e._viewportCount=6,e._viewports=[new HE(2,1,1,1),new HE(0,1,1,1),new HE(3,1,1,1),new HE(1,1,1,1),new HE(3,0,1,1),new HE(1,0,1,1)],e._cubeDirections=[new YE(1,0,0),new YE(-1,0,0),new YE(0,0,1),new YE(0,0,-1),new YE(0,1,0),new YE(0,-1,0)],e._cubeUps=[new YE(0,1,0),new YE(0,1,0),new YE(0,1,0),new YE(0,1,0),new YE(0,0,1),new YE(0,0,-1)],e}return at(n,[{key:"updateMatrices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),qU.setFromMatrixPosition(e.matrixWorld),n.position.copy(qU),XU.copy(n.position),XU.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(XU),n.updateMatrixWorld(),r.makeTranslation(-qU.x,-qU.y,-qU.z),VU.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(VU)}}]),n}(WU),YU=function(e){ct(n,e);var t=dt(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return nt(this,n),(i=t.call(this,e,r)).isPointLight=!0,i.type="PointLight",i.distance=a,i.decay=o,i.shadow=new JU,i}return at(n,[{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,t){return ut(st(n.prototype),"copy",this).call(this,e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}]),n}(UU),QU=function(e){ct(n,e);var t=dt(n);function n(){var e;return nt(this,n),(e=t.call(this,new HR(-5,5,5,-5,.5,500))).isDirectionalLightShadow=!0,e}return at(n)}(WU),ZU=function(e){ct(n,e);var t=dt(n);function n(e,r){var i;return nt(this,n),(i=t.call(this,e,r)).isDirectionalLight=!0,i.type="DirectionalLight",i.position.copy(QC.DEFAULT_UP),i.updateMatrix(),i.target=new QC,i.shadow=new QU,i}return at(n,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(UU),KU=function(e){ct(n,e);var t=dt(n);function n(e,r){var i;return nt(this,n),(i=t.call(this,e,r)).isAmbientLight=!0,i.type="AmbientLight",i}return at(n)}(UU),$U=function(e){ct(n,e);var t=dt(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return nt(this,n),(i=t.call(this,e,r)).isRectAreaLight=!0,i.type="RectAreaLight",i.width=a,i.height=o,i}return at(n,[{key:"power",get:function(){return this.intensity*this.width*this.height*Math.PI},set:function(e){this.intensity=e/(this.width*this.height*Math.PI)}},{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.width=e.width,this.height=e.height,this}},{key:"toJSON",value:function(e){var t=ut(st(n.prototype),"toJSON",this).call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}]),n}(UU),ez=function(){function e(){nt(this,e),this.isSphericalHarmonics3=!0,this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new YE)}return at(e,[{key:"set",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}},{key:"zero",value:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}},{key:"getAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*i),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],n*r*1.092548),t.addScaledVector(a[5],r*i*1.092548),t.addScaledVector(a[6],.315392*(3*i*i-1)),t.addScaledVector(a[7],n*i*1.092548),t.addScaledVector(a[8],.546274*(n*n-r*r)),t}},{key:"getIrradianceAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*r),t.addScaledVector(a[2],1.023328*i),t.addScaledVector(a[3],1.023328*n),t.addScaledVector(a[4],.858086*n*r),t.addScaledVector(a[5],.858086*r*i),t.addScaledVector(a[6],.743125*i*i-.247708),t.addScaledVector(a[7],.858086*n*i),t.addScaledVector(a[8],.429043*(n*n-r*r)),t}},{key:"add",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}},{key:"addScaledSH",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}},{key:"scale",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}},{key:"lerp",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}},{key:"equals",value:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}},{key:"copy",value:function(e){return this.set(e.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}}],[{key:"getBasisAt",value:function(e,t){var n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}]),e}(),tz=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ez,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return nt(this,n),(e=t.call(this,void 0,i)).isLightProbe=!0,e.sh=r,e}return at(n,[{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.sh.copy(e.sh),this}},{key:"fromJSON",value:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}},{key:"toJSON",value:function(e){var t=ut(st(n.prototype),"toJSON",this).call(this,e);return t.object.sh=this.sh.toArray(),t}}]),n}(UU),nz=function(e){ct(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this,e)).textures={},r}return at(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new PU(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){var t=this.textures;function r(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var i=n.createMaterialFromType(e.type);if(void 0!==e.uuid&&(i.uuid=e.uuid),void 0!==e.name&&(i.name=e.name),void 0!==e.color&&void 0!==i.color&&i.color.setHex(e.color),void 0!==e.roughness&&(i.roughness=e.roughness),void 0!==e.metalness&&(i.metalness=e.metalness),void 0!==e.sheen&&(i.sheen=e.sheen),void 0!==e.sheenColor&&(i.sheenColor=(new vP).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(i.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==i.emissive&&i.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==i.specular&&i.specular.setHex(e.specular),void 0!==e.specularIntensity&&(i.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==i.specularColor&&i.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(i.shininess=e.shininess),void 0!==e.clearcoat&&(i.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(i.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.iridescence&&(i.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(i.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(i.transmission=e.transmission),void 0!==e.thickness&&(i.thickness=e.thickness),void 0!==e.attenuationDistance&&(i.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==i.attenuationColor&&i.attenuationColor.setHex(e.attenuationColor),void 0!==e.fog&&(i.fog=e.fog),void 0!==e.flatShading&&(i.flatShading=e.flatShading),void 0!==e.blending&&(i.blending=e.blending),void 0!==e.combine&&(i.combine=e.combine),void 0!==e.side&&(i.side=e.side),void 0!==e.shadowSide&&(i.shadowSide=e.shadowSide),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.transparent&&(i.transparent=e.transparent),void 0!==e.alphaTest&&(i.alphaTest=e.alphaTest),void 0!==e.depthTest&&(i.depthTest=e.depthTest),void 0!==e.depthWrite&&(i.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(i.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(i.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(i.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(i.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(i.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(i.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(i.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(i.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(i.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(i.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(i.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(i.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(i.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(i.rotation=e.rotation),1!==e.linewidth&&(i.linewidth=e.linewidth),void 0!==e.dashSize&&(i.dashSize=e.dashSize),void 0!==e.gapSize&&(i.gapSize=e.gapSize),void 0!==e.scale&&(i.scale=e.scale),void 0!==e.polygonOffset&&(i.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(i.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(i.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(i.dithering=e.dithering),void 0!==e.alphaToCoverage&&(i.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(i.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.forceSinglePass&&(i.forceSinglePass=e.forceSinglePass),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.toneMapped&&(i.toneMapped=e.toneMapped),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),void 0!==e.uniforms)for(var a in e.uniforms){var o=e.uniforms[a];switch(i.uniforms[a]={},o.type){case"t":i.uniforms[a].value=r(o.value);break;case"c":i.uniforms[a].value=(new vP).setHex(o.value);break;case"v2":i.uniforms[a].value=(new xE).fromArray(o.value);break;case"v3":i.uniforms[a].value=(new YE).fromArray(o.value);break;case"v4":i.uniforms[a].value=(new HE).fromArray(o.value);break;case"m3":i.uniforms[a].value=(new _E).fromArray(o.value);break;case"m4":i.uniforms[a].value=(new MC).fromArray(o.value);break;default:i.uniforms[a].value=o.value}}if(void 0!==e.defines&&(i.defines=e.defines),void 0!==e.vertexShader&&(i.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(i.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(i.glslVersion=e.glslVersion),void 0!==e.extensions)for(var s in e.extensions)i.extensions[s]=e.extensions[s];if(void 0!==e.size&&(i.size=e.size),void 0!==e.sizeAttenuation&&(i.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(i.map=r(e.map)),void 0!==e.matcap&&(i.matcap=r(e.matcap)),void 0!==e.alphaMap&&(i.alphaMap=r(e.alphaMap)),void 0!==e.bumpMap&&(i.bumpMap=r(e.bumpMap)),void 0!==e.bumpScale&&(i.bumpScale=e.bumpScale),void 0!==e.normalMap&&(i.normalMap=r(e.normalMap)),void 0!==e.normalMapType&&(i.normalMapType=e.normalMapType),void 0!==e.normalScale){var u=e.normalScale;!1===Array.isArray(u)&&(u=[u,u]),i.normalScale=(new xE).fromArray(u)}return void 0!==e.displacementMap&&(i.displacementMap=r(e.displacementMap)),void 0!==e.displacementScale&&(i.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(i.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(i.roughnessMap=r(e.roughnessMap)),void 0!==e.metalnessMap&&(i.metalnessMap=r(e.metalnessMap)),void 0!==e.emissiveMap&&(i.emissiveMap=r(e.emissiveMap)),void 0!==e.emissiveIntensity&&(i.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(i.specularMap=r(e.specularMap)),void 0!==e.specularIntensityMap&&(i.specularIntensityMap=r(e.specularIntensityMap)),void 0!==e.specularColorMap&&(i.specularColorMap=r(e.specularColorMap)),void 0!==e.envMap&&(i.envMap=r(e.envMap)),void 0!==e.envMapIntensity&&(i.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(i.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(i.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(i.lightMap=r(e.lightMap)),void 0!==e.lightMapIntensity&&(i.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(i.aoMap=r(e.aoMap)),void 0!==e.aoMapIntensity&&(i.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(i.gradientMap=r(e.gradientMap)),void 0!==e.clearcoatMap&&(i.clearcoatMap=r(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(i.clearcoatNormalScale=(new xE).fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(i.iridescenceMap=r(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(i.transmissionMap=r(e.transmissionMap)),void 0!==e.thicknessMap&&(i.thicknessMap=r(e.thicknessMap)),void 0!==e.sheenColorMap&&(i.sheenColorMap=r(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}},{key:"setTextures",value:function(e){return this.textures=e,this}}],[{key:"createMaterialFromType",value:function(e){return new{ShadowMaterial:qD,SpriteMaterial:vN,RawShaderMaterial:XD,ShaderMaterial:pR,PointsMaterial:fO,MeshPhysicalMaterial:YD,MeshStandardMaterial:JD,MeshPhongMaterial:QD,MeshToonMaterial:ZD,MeshNormalMaterial:KD,MeshLambertMaterial:$D,MeshDepthMaterial:qL,MeshDistanceMaterial:XL,MeshBasicMaterial:yP,MeshMatcapMaterial:eU,LineDashedMaterial:tU,LineBasicMaterial:eO,Material:cP}[e]}}]),n}(TU),rz=function(){function e(){nt(this,e)}return at(e,null,[{key:"decodeText",value:function(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(i){return t}}},{key:"extractUrlBase",value:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}},{key:"resolveURL",value:function(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}]),e}(),iz=function(e){ct(n,e);var t=dt(n);function n(){var e;return nt(this,n),(e=t.call(this)).isInstancedBufferGeometry=!0,e.type="InstancedBufferGeometry",e.instanceCount=1/0,e}return at(n,[{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.instanceCount=e.instanceCount,this}},{key:"toJSON",value:function(){var e=ut(st(n.prototype),"toJSON",this).call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}]),n}(GP),az=function(e){ct(n,e);var t=dt(n);function n(e){return nt(this,n),t.call(this,e)}return at(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new PU(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){var t={},n={};function r(e,r){if(void 0!==t[r])return t[r];var i=e.interleavedBuffers[r],a=function(e,t){if(void 0!==n[t])return n[t];var r=e.arrayBuffers,i=r[t],a=new Uint32Array(i).buffer;return n[t]=a,a}(e,i.buffer),o=AE(i.type,a),s=new hN(o,i.stride);return s.uuid=i.uuid,t[r]=s,s}var i=e.isInstancedBufferGeometry?new iz:new GP,a=e.data.index;if(void 0!==a){var o=AE(a.type,a.array);i.setIndex(new MP(o,1))}var s=e.data.attributes;for(var u in s){var l=s[u],c=void 0;if(l.isInterleavedBufferAttribute){var f=r(e.data,l.data);c=new pN(f,l.itemSize,l.offset,l.normalized)}else{var h=AE(l.type,l.array);c=new(l.isInstancedBufferAttribute?VN:MP)(h,l.itemSize,l.normalized)}void 0!==l.name&&(c.name=l.name),void 0!==l.usage&&c.setUsage(l.usage),void 0!==l.updateRange&&(c.updateRange.offset=l.updateRange.offset,c.updateRange.count=l.updateRange.count),i.setAttribute(u,c)}var d=e.data.morphAttributes;if(d)for(var p in d){for(var v=d[p],m=[],y=0,g=v.length;y<g;y++){var b=v[y],w=void 0;if(b.isInterleavedBufferAttribute){var x=r(e.data,b.data);w=new pN(x,b.itemSize,b.offset,b.normalized)}else{var _=AE(b.type,b.array);w=new MP(_,b.itemSize,b.normalized)}void 0!==b.name&&(w.name=b.name),m.push(w)}i.morphAttributes[p]=m}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);var k=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==k)for(var S=0,M=k.length;S!==M;++S){var A=k[S];i.addGroup(A.start,A.count,A.materialIndex)}var T=e.data.boundingSphere;if(void 0!==T){var E=new YE;void 0!==T.center&&E.fromArray(T.center),i.boundingSphere=new mC(E,T.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}}]),n}(TU),oz=function(e){ct(n,e);var t=dt(n);function n(e){return nt(this,n),t.call(this,e)}return at(n,[{key:"load",value:function(e,t,n,r){var i=this,a=""===this.path?rz.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;var o=new PU(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){var a=null;try{a=JSON.parse(n)}catch(s){return void 0!==r&&r(s),void console.error("THREE:ObjectLoader: Can't parse "+e+".",s.message)}var o=a.metadata;if(void 0===o||void 0===o.type||"geometry"===o.type.toLowerCase())return void 0!==r&&r(new Error("THREE.ObjectLoader: Can't load "+e)),void console.error("THREE.ObjectLoader: Can't load "+e);i.parse(a,t)}),n,r)}},{key:"loadAsync",value:function(){var e=d(f().mark((function e(t,n){var r,i,a,o,s,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,i=""===this.path?rz.extractUrlBase(t):this.path,this.resourcePath=this.resourcePath||i,(a=new PU(this.manager)).setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),e.next=9,a.loadAsync(t,n);case 9:if(o=e.sent,s=JSON.parse(o),void 0!==(u=s.metadata)&&void 0!==u.type&&"geometry"!==u.type.toLowerCase()){e.next=14;break}throw new Error("THREE.ObjectLoader: Can't load "+t);case 14:return e.next=16,r.parseAsync(s);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"parse",value:function(e,t){var n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,(function(){void 0!==t&&t(u)})),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,i,s,o,n),l=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,l),void 0!==t){var c=!1;for(var f in a)if(a[f].data instanceof HTMLImageElement){c=!0;break}!1===c&&t(u)}return u}},{key:"parseAsync",value:function(){var e=d(f().mark((function e(t){var n,r,i,a,o,s,u,l;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.parseAnimations(t.animations),r=this.parseShapes(t.shapes),i=this.parseGeometries(t.geometries,r),e.next=5,this.parseImagesAsync(t.images);case 5:return a=e.sent,o=this.parseTextures(t.textures,a),s=this.parseMaterials(t.materials,o),u=this.parseObject(t.object,i,s,o,n),l=this.parseSkeletons(t.skeletons,u),this.bindSkeletons(u,l),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseShapes",value:function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var i=(new rD).fromJSON(e[n]);t[i.uuid]=i}return t}},{key:"parseSkeletons",value:function(e,t){var n={},r={};if(t.traverse((function(e){e.isBone&&(r[e.uuid]=e)})),void 0!==e)for(var i=0,a=e.length;i<a;i++){var o=(new jN).fromJSON(e[i],r);n[o.uuid]=o}return n}},{key:"parseGeometries",value:function(e,t){var n={};if(void 0!==e)for(var r=new az,i=0,a=e.length;i<a;i++){var o=void 0,s=e[i];switch(s.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(s);break;default:s.type in VD?o=VD[s.type].fromJSON(s,t):console.warn('THREE.ObjectLoader: Unsupported geometry type "'.concat(s.type,'"'))}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),void 0!==s.userData&&(o.userData=s.userData),n[s.uuid]=o}return n}},{key:"parseMaterials",value:function(e,t){var n={},r={};if(void 0!==e){var i=new nz;i.setTextures(t);for(var a=0,o=e.length;a<o;a++){var s=e[a];void 0===n[s.uuid]&&(n[s.uuid]=i.parse(s)),r[s.uuid]=n[s.uuid]}}return r}},{key:"parseAnimations",value:function(e){var t={};if(void 0!==e)for(var n=0;n<e.length;n++){var r=e[n],i=xU.parse(r);t[i.uuid]=i}return t}},{key:"parseImages",value:function(e,t){var n,r=this,i={};function a(e){if("string"===typeof e){var t=e;return function(e){return r.manager.itemStart(e),n.load(e,(function(){r.manager.itemEnd(e)}),void 0,(function(){r.manager.itemError(e),r.manager.itemEnd(e)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:r.resourcePath+t)}return e.data?{data:AE(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){var o=new MU(t);(n=new LU(o)).setCrossOrigin(this.crossOrigin);for(var s=0,u=e.length;s<u;s++){var l=e[s],c=l.url;if(Array.isArray(c)){for(var f=[],h=0,d=c.length;h<d;h++){var p=a(c[h]);null!==p&&(p instanceof HTMLImageElement?f.push(p):f.push(new HN(p.data,p.width,p.height)))}i[l.uuid]=new UE(f)}else{var v=a(l.url);i[l.uuid]=new UE(v)}}}return i}},{key:"parseImagesAsync",value:function(){var e=d(f().mark((function e(t){var n,r,i,a,o,s,u,l,c,h,p,v,m,y,g;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=function(){return o=d(f().mark((function e(t){var r,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=8;break}return a=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(r=t)?r:n.resourcePath+r,e.next=5,i.loadAsync(a);case 5:return e.abrupt("return",e.sent);case 8:if(!t.data){e.next=12;break}return e.abrupt("return",{data:AE(t.type,t.data),width:t.width,height:t.height});case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)},a=function(e){return o.apply(this,arguments)},n=this,r={},!(void 0!==t&&t.length>0)){e.next=33;break}(i=new LU(this.manager)).setCrossOrigin(this.crossOrigin),s=0,u=t.length;case 8:if(!(s<u)){e.next=33;break}if(l=t[s],c=l.url,!Array.isArray(c)){e.next=26;break}h=[],p=0,v=c.length;case 14:if(!(p<v)){e.next=23;break}return m=c[p],e.next=18,a(m);case 18:null!==(y=e.sent)&&(y instanceof HTMLImageElement?h.push(y):h.push(new HN(y.data,y.width,y.height)));case 20:p++,e.next=14;break;case 23:r[l.uuid]=new UE(h),e.next=30;break;case 26:return e.next=28,a(l.url);case 28:g=e.sent,r[l.uuid]=new UE(g);case 30:s++,e.next=8;break;case 33:return e.abrupt("return",r);case 34:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseTextures",value:function(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var i=0,a=e.length;i<a;i++){var o=e[i];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===t[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);var s=t[o.image],u=s.data,l=void 0;Array.isArray(u)?(l=new bR,6===u.length&&(l.needsUpdate=!0)):(l=u&&u.data?new HN:new FE,u&&(l.needsUpdate=!0)),l.source=s,l.uuid=o.uuid,void 0!==o.name&&(l.name=o.name),void 0!==o.mapping&&(l.mapping=n(o.mapping,sz)),void 0!==o.channel&&(l.channel=o.channel),void 0!==o.offset&&l.offset.fromArray(o.offset),void 0!==o.repeat&&l.repeat.fromArray(o.repeat),void 0!==o.center&&l.center.fromArray(o.center),void 0!==o.rotation&&(l.rotation=o.rotation),void 0!==o.wrap&&(l.wrapS=n(o.wrap[0],uz),l.wrapT=n(o.wrap[1],uz)),void 0!==o.format&&(l.format=o.format),void 0!==o.internalFormat&&(l.internalFormat=o.internalFormat),void 0!==o.type&&(l.type=o.type),void 0!==o.encoding&&(l.encoding=o.encoding),void 0!==o.minFilter&&(l.minFilter=n(o.minFilter,lz)),void 0!==o.magFilter&&(l.magFilter=n(o.magFilter,lz)),void 0!==o.anisotropy&&(l.anisotropy=o.anisotropy),void 0!==o.flipY&&(l.flipY=o.flipY),void 0!==o.generateMipmaps&&(l.generateMipmaps=o.generateMipmaps),void 0!==o.premultiplyAlpha&&(l.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(l.unpackAlignment=o.unpackAlignment),void 0!==o.userData&&(l.userData=o.userData),r[o.uuid]=l}return r}},{key:"parseObject",value:function(e,t,n,r,i){var a,o,s;function u(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function l(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,i=e.length;r<i;r++){var a=e[r];void 0===n[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),t.push(n[a])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}function c(e){return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined texture",e),r[e]}switch(e.type){case"Scene":a=new fN,void 0!==e.background&&(Number.isInteger(e.background)?a.background=new vP(e.background):a.background=c(e.background)),void 0!==e.environment&&(a.environment=c(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?a.fog=new cN(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(a.fog=new lN(e.fog.color,e.fog.density))),void 0!==e.backgroundBlurriness&&(a.backgroundBlurriness=e.backgroundBlurriness),void 0!==e.backgroundIntensity&&(a.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":a=new mR(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(a.focus=e.focus),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.filmGauge&&(a.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(a.filmOffset=e.filmOffset),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new HR(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new KU(e.color,e.intensity);break;case"DirectionalLight":a=new ZU(e.color,e.intensity);break;case"PointLight":a=new YU(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new $U(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new jU(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new zU(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=(new tz).fromJSON(e);break;case"SkinnedMesh":o=u(e.geometry),s=l(e.material),a=new BN(o,s),void 0!==e.bindMode&&(a.bindMode=e.bindMode),void 0!==e.bindMatrix&&a.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(a.skeleton=e.skeleton);break;case"Mesh":o=u(e.geometry),s=l(e.material),a=new sR(o,s);break;case"InstancedMesh":o=u(e.geometry),s=l(e.material);var f=e.count,h=e.instanceMatrix,d=e.instanceColor;(a=new $N(o,s,f)).instanceMatrix=new VN(new Float32Array(h.array),16),void 0!==d&&(a.instanceColor=new VN(new Float32Array(d.array),d.itemSize));break;case"LOD":a=new IN;break;case"Line":a=new oO(u(e.geometry),l(e.material));break;case"LineLoop":a=new cO(u(e.geometry),l(e.material));break;case"LineSegments":a=new lO(u(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new mO(u(e.geometry),l(e.material));break;case"Sprite":a=new EN(l(e.material));break;case"Group":a=new $L;break;case"Bone":a=new FN;break;default:a=new QC}if(a.uuid=e.uuid,void 0!==e.name&&(a.name=e.name),void 0!==e.matrix?(a.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(void 0!==e.position&&a.position.fromArray(e.position),void 0!==e.rotation&&a.rotation.fromArray(e.rotation),void 0!==e.quaternion&&a.quaternion.fromArray(e.quaternion),void 0!==e.scale&&a.scale.fromArray(e.scale)),void 0!==e.up&&a.up.fromArray(e.up),void 0!==e.castShadow&&(a.castShadow=e.castShadow),void 0!==e.receiveShadow&&(a.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(a.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(a.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(a.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&a.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(a.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.frustumCulled&&(a.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(a.renderOrder=e.renderOrder),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.layers&&(a.layers.mask=e.layers),void 0!==e.children)for(var p=e.children,v=0;v<p.length;v++)a.add(this.parseObject(p[v],t,n,r,i));if(void 0!==e.animations)for(var m=e.animations,y=0;y<m.length;y++){var g=m[y];a.animations.push(i[g])}if("LOD"===e.type){void 0!==e.autoUpdate&&(a.autoUpdate=e.autoUpdate);for(var b=e.levels,w=0;w<b.length;w++){var x=b[w],_=a.getObjectByProperty("uuid",x.object);void 0!==_&&a.addLevel(_,x.distance,x.hysteresis)}}return a}},{key:"bindSkeletons",value:function(e,t){0!==Object.keys(t).length&&e.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){var n=t[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}}))}}]),n}(TU),sz={UVMapping:VM,CubeReflectionMapping:qM,CubeRefractionMapping:XM,EquirectangularReflectionMapping:JM,EquirectangularRefractionMapping:YM,CubeUVReflectionMapping:QM},uz={RepeatWrapping:ZM,ClampToEdgeWrapping:KM,MirroredRepeatWrapping:$M},lz={NearestFilter:eA,NearestMipmapNearestFilter:tA,NearestMipmapLinearFilter:rA,LinearFilter:aA,LinearMipmapNearestFilter:oA,LinearMipmapLinearFilter:uA},cz=function(e){ct(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this,e)).isImageBitmapLoader=!0,"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),r.options={premultiplyAlpha:"none"},r}return at(n,[{key:"setOptions",value:function(e){return this.options=e,this}},{key:"load",value:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=SU.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(n){SU.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}]),n}(TU),fz=function(){function e(){nt(this,e)}return at(e,null,[{key:"getContext",value:function(){return void 0===kU&&(kU=new(window.AudioContext||window.webkitAudioContext)),kU}},{key:"setContext",value:function(e){kU=e}}]),e}(),hz=function(e){ct(n,e);var t=dt(n);function n(e){return nt(this,n),t.call(this,e)}return at(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new PU(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){try{var a=n.slice(0);fz.getContext().decodeAudioData(a,(function(e){t(e)}))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)}}]),n}(TU),dz=function(e){ct(n,e);var t=dt(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;nt(this,n),(i=t.call(this,void 0,a)).isHemisphereLightProbe=!0;var o=(new vP).set(e),s=(new vP).set(r),u=new YE(o.r,o.g,o.b),l=new YE(s.r,s.g,s.b),c=Math.sqrt(Math.PI),f=c*Math.sqrt(.75);return i.sh.coefficients[0].copy(u).add(l).multiplyScalar(c),i.sh.coefficients[1].copy(u).sub(l).multiplyScalar(f),i}return at(n)}(tz),pz=function(e){ct(n,e);var t=dt(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;nt(this,n),(r=t.call(this,void 0,i)).isAmbientLightProbe=!0;var a=(new vP).set(e);return r.sh.coefficients[0].set(a.r,a.g,a.b).multiplyScalar(2*Math.sqrt(Math.PI)),r}return at(n)}(tz),vz=new MC,mz=new MC,yz=new MC,gz=function(){function e(){nt(this,e),this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new mR,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new mR,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}return at(e,[{key:"update",value:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,yz.copy(e.projectionMatrix);var n,r,i=t.eyeSep/2,a=i*t.near/t.focus,o=t.near*Math.tan(lE*t.fov*.5)/t.zoom;mz.elements[12]=-i,vz.elements[12]=i,n=-o*t.aspect+a,r=o*t.aspect+a,yz.elements[0]=2*t.near/(r-n),yz.elements[8]=(r+n)/(r-n),this.cameraL.projectionMatrix.copy(yz),n=-o*t.aspect-a,r=o*t.aspect-a,yz.elements[0]=2*t.near/(r-n),yz.elements[8]=(r+n)/(r-n),this.cameraR.projectionMatrix.copy(yz)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(mz),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(vz)}}]),e}(),bz=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];nt(this,e),this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}return at(e,[{key:"start",value:function(){this.startTime=wz(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=wz();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}]),e}();function wz(){return("undefined"===typeof performance?Date:performance).now()}var xz=new YE,_z=new JE,kz=new YE,Sz=new YE,Mz=function(e){ct(n,e);var t=dt(n);function n(){var e;return nt(this,n),(e=t.call(this)).type="AudioListener",e.context=fz.getContext(),e.gain=e.context.createGain(),e.gain.connect(e.context.destination),e.filter=null,e.timeDelta=0,e._clock=new bz,e}return at(n,[{key:"getInput",value:function(){return this.gain}},{key:"removeFilter",value:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}},{key:"getFilter",value:function(){return this.filter}},{key:"setFilter",value:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}},{key:"getMasterVolume",value:function(){return this.gain.gain.value}},{key:"setMasterVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}},{key:"updateMatrixWorld",value:function(e){ut(st(n.prototype),"updateMatrixWorld",this).call(this,e);var t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(xz,_z,kz),Sz.set(0,0,-1).applyQuaternion(_z),t.positionX){var i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(xz.x,i),t.positionY.linearRampToValueAtTime(xz.y,i),t.positionZ.linearRampToValueAtTime(xz.z,i),t.forwardX.linearRampToValueAtTime(Sz.x,i),t.forwardY.linearRampToValueAtTime(Sz.y,i),t.forwardZ.linearRampToValueAtTime(Sz.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(xz.x,xz.y,xz.z),t.setOrientation(Sz.x,Sz.y,Sz.z,r.x,r.y,r.z)}}]),n}(QC),Az=function(e){ct(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this)).type="Audio",r.listener=e,r.context=e.context,r.gain=r.context.createGain(),r.gain.connect(e.getInput()),r.autoplay=!1,r.buffer=null,r.detune=0,r.loop=!1,r.loopStart=0,r.loopEnd=0,r.offset=0,r.duration=void 0,r.playbackRate=1,r.isPlaying=!1,r.hasPlaybackControl=!0,r.source=null,r.sourceType="empty",r._startedAt=0,r._progress=0,r._connected=!1,r.filters=[],r}return at(n,[{key:"getOutput",value:function(){return this.gain}},{key:"setNodeSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}},{key:"setMediaElementSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}},{key:"setMediaStreamSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}},{key:"setBuffer",value:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")}},{key:"pause",value:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"stop",value:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,null!==this.source&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"connect",value:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}},{key:"disconnect",value:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}},{key:"setDetune",value:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}},{key:"getDetune",value:function(){return this.detune}},{key:"getFilter",value:function(){return this.getFilters()[0]}},{key:"setFilter",value:function(e){return this.setFilters(e?[e]:[])}},{key:"setPlaybackRate",value:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"onEnded",value:function(){this.isPlaying=!1}},{key:"getLoop",value:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}},{key:"setLoop",value:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"setLoopStart",value:function(e){return this.loopStart=e,this}},{key:"setLoopEnd",value:function(e){return this.loopEnd=e,this}},{key:"getVolume",value:function(){return this.gain.gain.value}},{key:"setVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}]),n}(QC),Tz=new YE,Ez=new JE,Cz=new YE,Pz=new YE,Rz=function(e){ct(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this,e)).panner=r.context.createPanner(),r.panner.panningModel="HRTF",r.panner.connect(r.gain),r}return at(n,[{key:"disconnect",value:function(){ut(st(n.prototype),"disconnect",this).call(this),this.panner.disconnect(this.gain)}},{key:"getOutput",value:function(){return this.panner}},{key:"getRefDistance",value:function(){return this.panner.refDistance}},{key:"setRefDistance",value:function(e){return this.panner.refDistance=e,this}},{key:"getRolloffFactor",value:function(){return this.panner.rolloffFactor}},{key:"setRolloffFactor",value:function(e){return this.panner.rolloffFactor=e,this}},{key:"getDistanceModel",value:function(){return this.panner.distanceModel}},{key:"setDistanceModel",value:function(e){return this.panner.distanceModel=e,this}},{key:"getMaxDistance",value:function(){return this.panner.maxDistance}},{key:"setMaxDistance",value:function(e){return this.panner.maxDistance=e,this}},{key:"setDirectionalCone",value:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}},{key:"updateMatrixWorld",value:function(e){if(ut(st(n.prototype),"updateMatrixWorld",this).call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(Tz,Ez,Cz),Pz.set(0,0,1).applyQuaternion(Ez);var t=this.panner;if(t.positionX){var r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Tz.x,r),t.positionY.linearRampToValueAtTime(Tz.y,r),t.positionZ.linearRampToValueAtTime(Tz.z,r),t.orientationX.linearRampToValueAtTime(Pz.x,r),t.orientationY.linearRampToValueAtTime(Pz.y,r),t.orientationZ.linearRampToValueAtTime(Pz.z,r)}else t.setPosition(Tz.x,Tz.y,Tz.z),t.setOrientation(Pz.x,Pz.y,Pz.z)}}}]),n}(Az),Iz=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;nt(this,e),this.analyser=t.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}return at(e,[{key:"getFrequencyData",value:function(){return this.analyser.getByteFrequencyData(this.data),this.data}},{key:"getAverageFrequency",value:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}]),e}(),Lz=function(){function e(t,n,r){var i,a,o;switch(nt(this,e),this.binding=t,this.valueSize=r,n){case"quaternion":i=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*r);break;default:i=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}return at(e,[{key:"accumulate",value:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)n[i+o]=n[o];a=t}else{var s=t/(a+=t);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=a}},{key:"accumulateAdditive",value:function(e){var t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}},{key:"apply",value:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){var s=t*this._origIndex;this._mixBufferRegion(n,r,s,1-i,t)}a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(var u=t,l=t+t;u!==l;++u)if(n[u]!==n[u+t]){o.setValue(n,r);break}}},{key:"saveOriginalState",value:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(var i=n,a=r;i!==a;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}},{key:"restoreOriginalState",value:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)}},{key:"_setAdditiveIdentityNumeric",value:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize,n=e;n<t;n++)this.buffer[n]=0}},{key:"_setAdditiveIdentityQuaternion",value:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}},{key:"_setAdditiveIdentityOther",value:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}},{key:"_select",value:function(e,t,n,r,i){if(r>=.5)for(var a=0;a!==i;++a)e[t+a]=e[n+a]}},{key:"_slerp",value:function(e,t,n,r){JE.slerpFlat(e,t,e,t,e,n,r)}},{key:"_slerpAdditive",value:function(e,t,n,r,i){var a=this._workIndex*i;JE.multiplyQuaternionsFlat(e,a,e,t,e,n),JE.slerpFlat(e,t,e,t,e,a,r)}},{key:"_lerp",value:function(e,t,n,r,i){for(var a=1-r,o=0;o!==i;++o){var s=t+o;e[s]=e[s]*a+e[n+o]*r}}},{key:"_lerpAdditive",value:function(e,t,n,r,i){for(var a=0;a!==i;++a){var o=t+a;e[o]=e[o]+e[n+a]*r}}}]),e}(),Nz="\\[\\]\\.:\\/",Oz=new RegExp("["+Nz+"]","g"),Dz="[^"+Nz+"]",Uz="[^"+Nz.replace("\\.","")+"]",zz=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",Dz)+/(WCOD+)?/.source.replace("WCOD",Uz)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Dz)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Dz)+"$"),Bz=["material","materials","bones","map"],Fz=function(){function e(t,n,r){nt(this,e);var i=r||Hz.parseTrackName(n);this._targetGroup=t,this._bindings=t.subscribe_(n,i)}return at(e,[{key:"getValue",value:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}},{key:"setValue",value:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}},{key:"bind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}},{key:"unbind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}]),e}(),Hz=function(){function e(t,n,r){nt(this,e),this.path=n,this.parsedPath=r||e.parseTrackName(n),this.node=e.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return at(e,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(e,t){e[t]=this.targetObject[this.propertyName]}},{key:"_getValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]}},{key:"_getValue_arrayElement",value:function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(e,t){this.resolvedProperty.toArray(e,t)}},{key:"_setValue_direct",value:function(e,t){this.targetObject[this.propertyName]=e[t]}},{key:"_setValue_direct_setNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]}},{key:"_setValue_array_setNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(e,t){this.resolvedProperty.fromArray(e,t)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(e,t){this.bind(),this.getValue(e,t)}},{key:"_setValue_unbound",value:function(e,t){this.bind(),this.setValue(e,t)}},{key:"bind",value:function(){var t=this.node,n=this.parsedPath,r=n.objectName,i=n.propertyName,a=n.propertyIndex;if(t||(t=e.findNode(this.rootNode,n.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(r){var o=n.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var s=0;s<t.length;s++)if(t[s].name===o){o=s;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==o){if(void 0===t[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[o]}}var u=t[i];if(void 0!==u){var l=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==a){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[a]&&(a=t.morphTargetDictionary[a])}c=this.BindingType.ArrayElement,this.resolvedProperty=u,this.propertyIndex=a}else void 0!==u.fromArray&&void 0!==u.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=u):Array.isArray(u)?(c=this.BindingType.EntireArray,this.resolvedProperty=u):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}else{var f=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+f+"."+i+" but it wasn't found.",t)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(t,n,r){return t&&t.isAnimationObjectGroup?new e.Composite(t,n,r):new e(t,n,r)}},{key:"sanitizeNodeName",value:function(e){return e.replace(/\s/g,"_").replace(Oz,"")}},{key:"parseTrackName",value:function(e){var t=zz.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==Bz.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}},{key:"findNode",value:function(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var a=e(i.children);if(a)return a}return null}(e.children);if(r)return r}return null}}]),e}();Hz.Composite=Fz,Hz.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Hz.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Hz.prototype.GetterByBindingType=[Hz.prototype._getValue_direct,Hz.prototype._getValue_array,Hz.prototype._getValue_arrayElement,Hz.prototype._getValue_toArray],Hz.prototype.SetterByBindingTypeAndVersioning=[[Hz.prototype._setValue_direct,Hz.prototype._setValue_direct_setNeedsUpdate,Hz.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Hz.prototype._setValue_array,Hz.prototype._setValue_array_setNeedsUpdate,Hz.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Hz.prototype._setValue_arrayElement,Hz.prototype._setValue_arrayElement_setNeedsUpdate,Hz.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Hz.prototype._setValue_fromArray,Hz.prototype._setValue_fromArray_setNeedsUpdate,Hz.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var Wz=function(){function e(){nt(this,e),this.isAnimationObjectGroup=!0,this.uuid=fE(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var n=0,r=arguments.length;n!==r;++n)t[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}return at(e,[{key:"add",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,a=i.length,o=void 0,s=e.length,u=this.nCachedObjects_,l=0,c=arguments.length;l!==c;++l){var f=arguments[l],h=f.uuid,d=t[h];if(void 0===d){d=s++,t[h]=d,e.push(f);for(var p=0,v=a;p!==v;++p)i[p].push(new Hz(f,n[p],r[p]))}else if(d<u){o=e[d];var m=--u,y=e[m];t[y.uuid]=d,e[d]=y,t[h]=m,e[m]=f;for(var g=0,b=a;g!==b;++g){var w=i[g],x=w[m],_=w[d];w[d]=x,void 0===_&&(_=new Hz(f,n[g],r[g])),w[m]=_}}else e[d]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}},{key:"remove",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],u=s.uuid,l=t[u];if(void 0!==l&&l>=i){var c=i++,f=e[c];t[f.uuid]=l,e[l]=f,t[u]=c,e[c]=s;for(var h=0,d=r;h!==d;++h){var p=n[h],v=p[c],m=p[l];p[l]=v,p[c]=m}}}this.nCachedObjects_=i}},{key:"uncache",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=e.length,o=0,s=arguments.length;o!==s;++o){var u=arguments[o].uuid,l=t[u];if(void 0!==l)if(delete t[u],l<i){var c=--i,f=e[c],h=--a,d=e[h];t[f.uuid]=l,e[l]=f,t[d.uuid]=c,e[c]=d,e.pop();for(var p=0,v=r;p!==v;++p){var m=n[p],y=m[c],g=m[h];m[l]=y,m[c]=g,m.pop()}}else{var b=--a,w=e[b];b>0&&(t[w.uuid]=l),e[l]=w,e.pop();for(var x=0,_=r;x!==_;++x){var k=n[x];k[l]=k[b],k.pop()}}}this.nCachedObjects_=i}},{key:"subscribe_",value:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var a=this._paths,o=this._parsedPaths,s=this._objects,u=s.length,l=this.nCachedObjects_,c=new Array(u);r=i.length,n[e]=r,a.push(e),o.push(t),i.push(c);for(var f=l,h=s.length;f!==h;++f){var d=s[f];c[f]=new Hz(d,e,t)}return c}},{key:"unsubscribe_",value:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];t[e[o]]=n,a[n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}}]),e}(),Gz=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.blendMode;nt(this,e),this._mixer=t,this._clip=n,this._localRoot=r,this.blendMode=i;for(var a=n.tracks,o=a.length,s=new Array(o),u={endingStart:pT,endingEnd:pT},l=0;l!==o;++l){var c=a[l].createInterpolant(null);s[l]=c,c.settings=u}this._interpolantSettings=u,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=lT,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return at(e,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(e){return this._startTime=e,this}},{key:"setLoop",value:function(e,t){return this.loop=e,this.repetitions=t,this}},{key:"setEffectiveWeight",value:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(e){return this._scheduleFading(e,0,1)}},{key:"fadeOut",value:function(e){return this._scheduleFading(e,1,0)}},{key:"crossFadeFrom",value:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,a=i/r,o=r/i;e.warp(1,a,t),this.warp(o,1,t)}return this}},{key:"crossFadeTo",value:function(e,t,n){return e.crossFadeFrom(this,t,n)}},{key:"stopFading",value:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"setEffectiveTimeScale",value:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}},{key:"syncWith",value:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}},{key:"halt",value:function(e){return this.warp(this._effectiveTimeScale,0,e)}},{key:"warp",value:function(e,t,n){var r=this._mixer,i=r.time,a=this.timeScale,o=this._timeScaleInterpolant;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,u=o.sampleValues;return s[0]=i,s[1]=i+n,u[0]=e/a,u[1]=t/a,this}},{key:"stopWarping",value:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var a=(e-i)*n;a<0||0===n?t=0:(this._startTime=null,t=n*a)}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(s>0){var u=this._interpolants,l=this._propertyBindings;if(this.blendMode===gT)for(var c=0,f=u.length;c!==f;++c)u[c].evaluate(o),l[c].accumulateAdditive(s);else for(var h=0,d=u.length;h!==d;++h)u[h].evaluate(o),l[h].accumulate(r,s)}}else this._updateWeight(e)}},{key:"_updateWeight",value:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}},{key:"_updateTimeScale",value:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t}},{key:"_updateTime",value:function(e){var t=this._clip.duration,n=this.loop,r=this.time+e,i=this._loopCount,a=n===cT;if(0===e)return-1===i?r:a&&1===(1&i)?t-r:r;if(n===uT){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),r>=t||r<0){var o=Math.floor(r/t);r-=t*o,i+=Math.abs(o);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(a&&1===(1&i))return t-r}return r}},{key:"_setEndings",value:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=vT,r.endingEnd=vT):(r.endingStart=e?this.zeroSlopeAtStart?vT:pT:mT,r.endingEnd=t?this.zeroSlopeAtEnd?vT:pT:mT)}},{key:"_scheduleFading",value:function(e,t,n){var r=this._mixer,i=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=t,o[1]=i+e,s[1]=n,this}}]),e}(),jz=new Float32Array(1),Vz=function(e){ct(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this))._root=e,r._initMemoryManager(),r._accuIndex=0,r.time=0,r.timeScale=1,r}return at(n,[{key:"_bindAction",value:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,u=this._bindingsByRootAndName,l=u[s];void 0===l&&(l={},u[s]=l);for(var c=0;c!==i;++c){var f=r[c],h=f.name,d=l[h];if(void 0!==d)++d.referenceCount,a[c]=d;else{if(void 0!==(d=a[c])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,h));continue}var p=t&&t._propertyBindings[c].binding.parsedPath;++(d=new Lz(Hz.create(n,h,p),f.ValueTypeName,f.getValueSize())).referenceCount,this._addInactiveBinding(d,s,h),a[c]=d}o[c].resultBuffer=d.buffer}}},{key:"_activateAction",value:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,a=0,o=i.length;a!==o;++a){var s=i[a];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}},{key:"_deactivateAction",value:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}}},{key:"_initMemoryManager",value:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}},{key:"_isActiveAction",value:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions}},{key:"_addInactiveAction",value:function(e,t,n){var r=this._actions,i=this._actionsByClip,a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{var o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e}},{key:"_removeInactiveAction",value:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,u=s[s.length-1],l=e._byClipCacheIndex;u._byClipCacheIndex=l,s[l]=u,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(e)}},{key:"_removeInactiveBindingsForAction",value:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.referenceCount&&this._removeInactiveBinding(i)}}},{key:"_lendAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_addInactiveBinding",value:function(e,t,n){var r=this._bindingsByRootAndName,i=this._bindings,a=r[t];void 0===a&&(a={},r[t]=a),a[n]=e,e._cacheIndex=i.length,i.push(e)}},{key:"_removeInactiveBinding",value:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=t[t.length-1],u=e._cacheIndex;s._cacheIndex=u,t[u]=s,t.pop(),delete o[i],0===Object.keys(o).length&&delete a[r]}},{key:"_lendBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_lendControlInterpolant",value:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new fU(new Float32Array(2),new Float32Array(2),1,jz)).__cacheIndex=t,e[t]=n),n}},{key:"_takeBackControlInterpolant",value:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}},{key:"clipAction",value:function(e,t,n){var r=t||this._root,i=r.uuid,a="string"===typeof e?xU.findByName(r,e):e,o=null!==a?a.uuid:e,s=this._actionsByClip[o],u=null;if(void 0===n&&(n=null!==a?a.blendMode:yT),void 0!==s){var l=s.actionByRoot[i];if(void 0!==l&&l.blendMode===n)return l;u=s.knownActions[0],null===a&&(a=u._clip)}if(null===a)return null;var c=new Gz(this,a,t,n);return this._bindAction(c,u),this._addInactiveAction(c,o,i),c}},{key:"existingAction",value:function(e,t){var n=t||this._root,r=n.uuid,i="string"===typeof e?xU.findByName(n,e):e,a=i?i.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null}},{key:"stopAllAction",value:function(){for(var e=this._actions,t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}},{key:"update",value:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1,o=0;o!==n;++o){t[o]._update(r,e,i,a)}for(var s=this._bindings,u=this._nActiveBindings,l=0;l!==u;++l)s[l].apply(a);return this}},{key:"setTime",value:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}},{key:"getRoot",value:function(){return this._root}},{key:"uncacheClip",value:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var a=i.knownActions,o=0,s=a.length;o!==s;++o){var u=a[o];this._deactivateAction(u);var l=u._cacheIndex,c=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,c._cacheIndex=l,t[l]=c,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[n]}}},{key:"uncacheRoot",value:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var a=this._bindingsByRootAndName[t];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}},{key:"uncacheAction",value:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}]),n}(oE),qz=function(){function e(t){nt(this,e),this.value=t}return at(e,[{key:"clone",value:function(){return new e(void 0===this.value.clone?this.value:this.value.clone())}}]),e}(),Xz=0,Jz=function(e){ct(n,e);var t=dt(n);function n(){var e;return nt(this,n),(e=t.call(this)).isUniformsGroup=!0,Object.defineProperty(ot(e),"id",{value:Xz++}),e.name="",e.usage=JT,e.uniforms=[],e}return at(n,[{key:"add",value:function(e){return this.uniforms.push(e),this}},{key:"remove",value:function(e){var t=this.uniforms.indexOf(e);return-1!==t&&this.uniforms.splice(t,1),this}},{key:"setName",value:function(e){return this.name=e,this}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"dispose",value:function(){return this.dispatchEvent({type:"dispose"}),this}},{key:"copy",value:function(e){this.name=e.name,this.usage=e.usage;var t=e.uniforms;this.uniforms.length=0;for(var n=0,r=t.length;n<r;n++)this.uniforms.push(t[n].clone());return this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(oE),Yz=function(e){ct(n,e);var t=dt(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return nt(this,n),(i=t.call(this,e,r)).isInstancedInterleavedBuffer=!0,i.meshPerAttribute=a,i}return at(n,[{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"clone",value:function(e){var t=ut(st(n.prototype),"clone",this).call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t}},{key:"toJSON",value:function(e){var t=ut(st(n.prototype),"toJSON",this).call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}]),n}(hN),Qz=function(){function e(t,n,r,i,a){nt(this,e),this.isGLBufferAttribute=!0,this.name="",this.buffer=t,this.type=n,this.itemSize=r,this.elementSize=i,this.count=a,this.version=0}return at(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setBuffer",value:function(e){return this.buffer=e,this}},{key:"setType",value:function(e,t){return this.type=e,this.elementSize=t,this}},{key:"setItemSize",value:function(e){return this.itemSize=e,this}},{key:"setCount",value:function(e){return this.count=e,this}}]),e}(),Zz=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;nt(this,e),this.ray=new SC(t,n),this.near=r,this.far=i,this.camera=null,this.layers=new DC,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}return at(e,[{key:"set",value:function(e,t){this.ray.set(e,t)}},{key:"setFromCamera",value:function(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}},{key:"intersectObject",value:function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return $z(e,this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]),t.sort(Kz),t}},{key:"intersectObjects",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=0,i=e.length;r<i;r++)$z(e[r],this,n,t);return n.sort(Kz),n}}]),e}();function Kz(e,t){return e.distance-t.distance}function $z(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r)for(var i=e.children,a=0,o=i.length;a<o;a++)$z(i[a],t,n,!0)}var eB=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return nt(this,e),this.radius=t,this.phi=n,this.theta=r,this}return at(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(hE(t/this.radius,-1,1))),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),tB=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return nt(this,e),this.radius=t,this.theta=n,this.y=r,this}return at(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),nB=new xE,rB=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xE(1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xE(-1/0,-1/0);nt(this,e),this.isBox2=!0,this.min=t,this.max=n}return at(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=nB.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return this.clampPoint(e,nB).distanceTo(e)}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),iB=new YE,aB=new YE,oB=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new YE,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new YE;nt(this,e),this.start=t,this.end=n}return at(e,[{key:"set",value:function(e,t){return this.start.copy(e),this.end.copy(t),this}},{key:"copy",value:function(e){return this.start.copy(e.start),this.end.copy(e.end),this}},{key:"getCenter",value:function(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}},{key:"delta",value:function(e){return e.subVectors(this.end,this.start)}},{key:"distanceSq",value:function(){return this.start.distanceToSquared(this.end)}},{key:"distance",value:function(){return this.start.distanceTo(this.end)}},{key:"at",value:function(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}},{key:"closestPointToPointParameter",value:function(e,t){iB.subVectors(e,this.start),aB.subVectors(this.end,this.start);var n=aB.dot(aB),r=aB.dot(iB)/n;return t&&(r=hE(r,0,1)),r}},{key:"closestPointToPoint",value:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}},{key:"applyMatrix4",value:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}},{key:"equals",value:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),sB=new YE,uB=function(e){ct(n,e);var t=dt(n);function n(e,r){var i;nt(this,n),(i=t.call(this)).light=e,i.matrix=e.matrixWorld,i.matrixAutoUpdate=!1,i.color=r,i.type="SpotLightHelper";for(var a=new GP,o=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],s=0,u=1;s<32;s++,u++){var l=s/32*Math.PI*2,c=u/32*Math.PI*2;o.push(Math.cos(l),Math.sin(l),1,Math.cos(c),Math.sin(c),1)}a.setAttribute("position",new NP(o,3));var f=new eO({fog:!1,toneMapped:!1});return i.cone=new lO(a,f),i.add(i.cone),i.update(),i}return at(n,[{key:"dispose",value:function(){this.cone.geometry.dispose(),this.cone.material.dispose()}},{key:"update",value:function(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),sB.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(sB),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}]),n}(QC),lB=new YE,cB=new MC,fB=new MC,hB=function(e){ct(n,e);var t=dt(n);function n(e){var r;nt(this,n);for(var i=dB(e),a=new GP,o=[],s=[],u=new vP(0,0,1),l=new vP(0,1,0),c=0;c<i.length;c++){var f=i[c];f.parent&&f.parent.isBone&&(o.push(0,0,0),o.push(0,0,0),s.push(u.r,u.g,u.b),s.push(l.r,l.g,l.b))}a.setAttribute("position",new NP(o,3)),a.setAttribute("color",new NP(s,3));var h=new eO({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});return(r=t.call(this,a,h)).isSkeletonHelper=!0,r.type="SkeletonHelper",r.root=e,r.bones=i,r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r}return at(n,[{key:"updateMatrixWorld",value:function(e){var t=this.bones,r=this.geometry,i=r.getAttribute("position");fB.copy(this.root.matrixWorld).invert();for(var a=0,o=0;a<t.length;a++){var s=t[a];s.parent&&s.parent.isBone&&(cB.multiplyMatrices(fB,s.matrixWorld),lB.setFromMatrixPosition(cB),i.setXYZ(o,lB.x,lB.y,lB.z),cB.multiplyMatrices(fB,s.parent.matrixWorld),lB.setFromMatrixPosition(cB),i.setXYZ(o+1,lB.x,lB.y,lB.z),o+=2)}r.getAttribute("position").needsUpdate=!0,ut(st(n.prototype),"updateMatrixWorld",this).call(this,e)}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(lO);function dB(e){var t=[];!0===e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,dB(e.children[n]));return t}var pB=function(e){ct(n,e);var t=dt(n);function n(e,r,i){var a;nt(this,n);var o=new zD(r,4,2),s=new yP({wireframe:!0,fog:!1,toneMapped:!1});return(a=t.call(this,o,s)).light=e,a.color=i,a.type="PointLightHelper",a.matrix=a.light.matrixWorld,a.matrixAutoUpdate=!1,a.update(),a}return at(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}},{key:"update",value:function(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}]),n}(sR),vB=new YE,mB=new vP,yB=new vP,gB=function(e){ct(n,e);var t=dt(n);function n(e,r,i){var a;nt(this,n),(a=t.call(this)).light=e,a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=i,a.type="HemisphereLightHelper";var o=new OD(r);o.rotateY(.5*Math.PI),a.material=new yP({wireframe:!0,fog:!1,toneMapped:!1}),void 0===a.color&&(a.material.vertexColors=!0);var s=o.getAttribute("position"),u=new Float32Array(3*s.count);return o.setAttribute("color",new MP(u,3)),a.add(new sR(o,a.material)),a.update(),a}return at(n,[{key:"dispose",value:function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}},{key:"update",value:function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");mB.copy(this.light.color),yB.copy(this.light.groundColor);for(var n=0,r=t.count;n<r;n++){var i=n<r/2?mB:yB;t.setXYZ(n,i.r,i.g,i.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(vB.setFromMatrixPosition(this.light.matrixWorld).negate())}}]),n}(QC),bB=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;nt(this,n),a=new vP(a),o=new vP(o);for(var s=i/2,u=r/i,l=r/2,c=[],f=[],h=0,d=0,p=-l;h<=i;h++,p+=u){c.push(-l,0,p,l,0,p),c.push(p,0,-l,p,0,l);var v=h===s?a:o;v.toArray(f,d),d+=3,v.toArray(f,d),d+=3,v.toArray(f,d),d+=3,v.toArray(f,d),d+=3}var m=new GP;m.setAttribute("position",new NP(c,3)),m.setAttribute("color",new NP(f,3));var y=new eO({vertexColors:!0,toneMapped:!1});return(e=t.call(this,m,y)).type="GridHelper",e}return at(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(lO),wB=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4473924,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:8947848;nt(this,n),s=new vP(s),u=new vP(u);var l=[],c=[];if(i>1)for(var f=0;f<i;f++){var h=f/i*(2*Math.PI),d=Math.sin(h)*r,p=Math.cos(h)*r;l.push(0,0,0),l.push(d,0,p);var v=1&f?s:u;c.push(v.r,v.g,v.b),c.push(v.r,v.g,v.b)}for(var m=0;m<a;m++)for(var y=1&m?s:u,g=r-r/a*m,b=0;b<o;b++){var w=b/o*(2*Math.PI),x=Math.sin(w)*g,_=Math.cos(w)*g;l.push(x,0,_),c.push(y.r,y.g,y.b),w=(b+1)/o*(2*Math.PI),x=Math.sin(w)*g,_=Math.cos(w)*g,l.push(x,0,_),c.push(y.r,y.g,y.b)}var k=new GP;k.setAttribute("position",new NP(l,3)),k.setAttribute("color",new NP(c,3));var S=new eO({vertexColors:!0,toneMapped:!1});return(e=t.call(this,k,S)).type="PolarGridHelper",e}return at(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(lO),xB=new YE,_B=new YE,kB=new YE,SB=function(e){ct(n,e);var t=dt(n);function n(e,r,i){var a;nt(this,n),(a=t.call(this)).light=e,a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=i,a.type="DirectionalLightHelper",void 0===r&&(r=1);var o=new GP;o.setAttribute("position",new NP([-r,r,0,r,r,0,r,-r,0,-r,-r,0,-r,r,0],3));var s=new eO({fog:!1,toneMapped:!1});return a.lightPlane=new oO(o,s),a.add(a.lightPlane),(o=new GP).setAttribute("position",new NP([0,0,0,0,0,1],3)),a.targetLine=new oO(o,s),a.add(a.targetLine),a.update(),a}return at(n,[{key:"dispose",value:function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}},{key:"update",value:function(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),xB.setFromMatrixPosition(this.light.matrixWorld),_B.setFromMatrixPosition(this.light.target.matrixWorld),kB.subVectors(_B,xB),this.lightPlane.lookAt(_B),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_B),this.targetLine.scale.z=kB.length()}}]),n}(QC),MB=new YE,AB=new vR,TB=function(e){ct(n,e);var t=dt(n);function n(e){var r;nt(this,n);var i=new GP,a=new eO({color:16777215,vertexColors:!0,toneMapped:!1}),o=[],s=[],u={};function l(e,t){c(e),c(t)}function c(e){o.push(0,0,0),s.push(0,0,0),void 0===u[e]&&(u[e]=[]),u[e].push(o.length/3-1)}l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4"),i.setAttribute("position",new NP(o,3)),i.setAttribute("color",new NP(s,3)),(r=t.call(this,i,a)).type="CameraHelper",r.camera=e,r.camera.updateProjectionMatrix&&r.camera.updateProjectionMatrix(),r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r.pointMap=u,r.update();var f=new vP(16755200),h=new vP(16711680),d=new vP(43775),p=new vP(16777215),v=new vP(3355443);return r.setColors(f,h,d,p,v),r}return at(n,[{key:"setColors",value:function(e,t,n,r,i){var a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,n.r,n.g,n.b),a.setXYZ(33,n.r,n.g,n.b),a.setXYZ(34,n.r,n.g,n.b),a.setXYZ(35,n.r,n.g,n.b),a.setXYZ(36,n.r,n.g,n.b),a.setXYZ(37,n.r,n.g,n.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,i.r,i.g,i.b),a.setXYZ(41,i.r,i.g,i.b),a.setXYZ(42,i.r,i.g,i.b),a.setXYZ(43,i.r,i.g,i.b),a.setXYZ(44,i.r,i.g,i.b),a.setXYZ(45,i.r,i.g,i.b),a.setXYZ(46,i.r,i.g,i.b),a.setXYZ(47,i.r,i.g,i.b),a.setXYZ(48,i.r,i.g,i.b),a.setXYZ(49,i.r,i.g,i.b),a.needsUpdate=!0}},{key:"update",value:function(){var e=this.geometry,t=this.pointMap;AB.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),EB("c",t,e,AB,0,0,-1),EB("t",t,e,AB,0,0,1),EB("n1",t,e,AB,-1,-1,-1),EB("n2",t,e,AB,1,-1,-1),EB("n3",t,e,AB,-1,1,-1),EB("n4",t,e,AB,1,1,-1),EB("f1",t,e,AB,-1,-1,1),EB("f2",t,e,AB,1,-1,1),EB("f3",t,e,AB,-1,1,1),EB("f4",t,e,AB,1,1,1),EB("u1",t,e,AB,.7,1.1,-1),EB("u2",t,e,AB,-.7,1.1,-1),EB("u3",t,e,AB,0,2,-1),EB("cf1",t,e,AB,-1,0,1),EB("cf2",t,e,AB,1,0,1),EB("cf3",t,e,AB,0,-1,1),EB("cf4",t,e,AB,0,1,1),EB("cn1",t,e,AB,-1,0,-1),EB("cn2",t,e,AB,1,0,-1),EB("cn3",t,e,AB,0,-1,-1),EB("cn4",t,e,AB,0,1,-1),e.getAttribute("position").needsUpdate=!0}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(lO);function EB(e,t,n,r,i,a,o){MB.set(i,a,o).unproject(r);var s=t[e];if(void 0!==s)for(var u=n.getAttribute("position"),l=0,c=s.length;l<c;l++)u.setXYZ(s[l],MB.x,MB.y,MB.z)}var CB,PB,RB=new KE,IB=function(e){ct(n,e);var t=dt(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;nt(this,n);var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=new Float32Array(24),s=new GP;return s.setIndex(new MP(a,1)),s.setAttribute("position",new MP(o,3)),(r=t.call(this,s,new eO({color:i,toneMapped:!1}))).object=e,r.type="BoxHelper",r.matrixAutoUpdate=!1,r.update(),r}return at(n,[{key:"update",value:function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&RB.setFromObject(this.object),!RB.isEmpty()){var t=RB.min,n=RB.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}},{key:"setFromObject",value:function(e){return this.object=e,this.update(),this}},{key:"copy",value:function(e,t){return ut(st(n.prototype),"copy",this).call(this,e,t),this.object=e.object,this}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(lO),LB=function(e){ct(n,e);var t=dt(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;nt(this,n);var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=new GP;return o.setIndex(new MP(a,1)),o.setAttribute("position",new NP([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),(r=t.call(this,o,new eO({color:i,toneMapped:!1}))).box=e,r.type="Box3Helper",r.geometry.computeBoundingSphere(),r}return at(n,[{key:"updateMatrixWorld",value:function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),ut(st(n.prototype),"updateMatrixWorld",this).call(this,e))}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(lO),NB=function(e){ct(n,e);var t=dt(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16776960;nt(this,n);var o=a,s=new GP;s.setAttribute("position",new NP([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),s.computeBoundingSphere(),(r=t.call(this,s,new eO({color:o,toneMapped:!1}))).type="PlaneHelper",r.plane=e,r.size=i;var u=new GP;return u.setAttribute("position",new NP([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),u.computeBoundingSphere(),r.add(new sR(u,new yP({color:o,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1}))),r}return at(n,[{key:"updateMatrixWorld",value:function(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),ut(st(n.prototype),"updateMatrixWorld",this).call(this,e)}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}]),n}(oO),OB=new YE,DB=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new YE(0,0,1),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new YE(0,0,0),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16776960,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.2*a,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.2*s;return nt(this,n),(e=t.call(this)).type="ArrowHelper",void 0===CB&&((CB=new GP).setAttribute("position",new NP([0,0,0,0,1,0],3)),(PB=new JO(0,.5,1,5,1)).translate(0,-.5,0)),e.position.copy(i),e.line=new oO(CB,new eO({color:o,toneMapped:!1})),e.line.matrixAutoUpdate=!1,e.add(e.line),e.cone=new sR(PB,new yP({color:o,toneMapped:!1})),e.cone.matrixAutoUpdate=!1,e.add(e.cone),e.setDirection(r),e.setLength(a,s,u),e}return at(n,[{key:"setDirection",value:function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{OB.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(OB,t)}}},{key:"setLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2*e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2*t;this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}},{key:"setColor",value:function(e){this.line.material.color.set(e),this.cone.material.color.set(e)}},{key:"copy",value:function(e){return ut(st(n.prototype),"copy",this).call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}},{key:"dispose",value:function(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}]),n}(QC),UB=function(e){ct(n,e);var t=dt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;nt(this,n);var i=[0,0,0,r,0,0,0,0,0,0,r,0,0,0,0,0,0,r],a=new GP;a.setAttribute("position",new NP(i,3)),a.setAttribute("color",new NP([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var o=new eO({vertexColors:!0,toneMapped:!1});return(e=t.call(this,a,o)).type="AxesHelper",e}return at(n,[{key:"setColors",value:function(e,t,n){var r=new vP,i=this.geometry.attributes.color.array;return r.set(e),r.toArray(i,0),r.toArray(i,3),r.set(t),r.toArray(i,6),r.toArray(i,9),r.set(n),r.toArray(i,12),r.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(lO),zB=function(){function e(){nt(this,e),this.type="ShapePath",this.color=new vP,this.subPaths=[],this.currentPath=null}return at(e,[{key:"moveTo",value:function(e,t){return this.currentPath=new jO,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}},{key:"lineTo",value:function(e,t){return this.currentPath.lineTo(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){return this.currentPath.bezierCurveTo(e,t,n,r,i,a),this}},{key:"splineThru",value:function(e){return this.currentPath.splineThru(e),this}},{key:"toShapes",value:function(e){function t(e,t){for(var n=t.length,r=!1,i=n-1,a=0;a<n;i=a++){var o=t[i],s=t[a],u=s.x-o.x,l=s.y-o.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(o=t[a],u=-u,s=t[i],l=-l),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var c=l*(e.x-o.x)-u*(e.y-o.y);if(0===c)return!0;if(c<0)continue;r=!r}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return!0}}return r}var n,r,i,a=CD.isClockWise,o=this.subPaths;if(0===o.length)return[];var s=[];if(1===o.length)return r=o[0],(i=new rD).curves=r.curves,s.push(i),s;var u=!a(o[0].getPoints());u=e?!u:u;var l,c,f=[],h=[],d=[],p=0;h[p]=void 0,d[p]=[];for(var v=0,m=o.length;v<m;v++)n=a(l=(r=o[v]).getPoints()),(n=e?!n:n)?(!u&&h[p]&&p++,h[p]={s:new rD,p:l},h[p].s.curves=r.curves,u&&p++,d[p]=[]):d[p].push({h:r,p:l[0]});if(!h[0])return function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],a=new rD;a.curves=i.curves,t.push(a)}return t}(o);if(h.length>1){for(var y=!1,g=0,b=0,w=h.length;b<w;b++)f[b]=[];for(var x=0,_=h.length;x<_;x++)for(var k=d[x],S=0;S<k.length;S++){for(var M=k[S],A=!0,T=0;T<h.length;T++)t(M.p,h[T].p)&&(x!==T&&g++,A?(A=!1,f[T].push(M)):y=!0);A&&f[x].push(M)}g>0&&!1===y&&(d=f)}for(var E=0,C=h.length;E<C;E++){i=h[E].s,s.push(i);for(var P=0,R=(c=d[E]).length;P<R;P++)i.holes.push(c[P].h)}return s}}]),e}(),BB=function(e){ct(n,e);var t=dt(n);function n(e,r,i,a,o,s){return nt(this,n),console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),t.call(this,e,r,i,a,o,s)}return at(n)}(lR),FB=function(e){ct(n,e);var t=dt(n);function n(e,r,i,a){return nt(this,n),console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),t.call(this,e,r,i,a)}return at(n)}(qO),HB=function(e){ct(n,e);var t=dt(n);function n(e,r,i,a){return nt(this,n),console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),t.call(this,e,r,i,a)}return at(n)}(XO),WB=function(e){ct(n,e);var t=dt(n);function n(e,r,i,a,o,s,u){return nt(this,n),console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),t.call(this,e,r,i,a,o,s,u)}return at(n)}(YO),GB=function(e){ct(n,e);var t=dt(n);function n(e,r,i,a,o,s,u,l){return nt(this,n),console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),t.call(this,e,r,i,a,o,s,u,l)}return at(n)}(JO),jB=function(e){ct(n,e);var t=dt(n);function n(e,r){return nt(this,n),console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),t.call(this,e,r)}return at(n)}(ZO),VB=function(e){ct(n,e);var t=dt(n);function n(e,r){return nt(this,n),console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),t.call(this,e,r)}return at(n)}(ID),qB=function(e){ct(n,e);var t=dt(n);function n(e,r){return nt(this,n),console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),t.call(this,e,r)}return at(n)}(ND),XB=function(e){ct(n,e);var t=dt(n);function n(e,r,i,a){return nt(this,n),console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),t.call(this,e,r,i,a)}return at(n)}(VO),JB=function(e){ct(n,e);var t=dt(n);function n(e,r){return nt(this,n),console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),t.call(this,e,r)}return at(n)}(OD),YB=function(e){ct(n,e);var t=dt(n);function n(e,r,i,a){return nt(this,n),console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),t.call(this,e,r,i,a)}return at(n)}(PR),QB=function(e){ct(n,e);var t=dt(n);function n(e,r,i,a){return nt(this,n),console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),t.call(this,e,r,i,a)}return at(n)}(QO),ZB=function(e){ct(n,e);var t=dt(n);function n(e,r,i,a,o,s){return nt(this,n),console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),t.call(this,e,r,i,a,o,s)}return at(n)}(DD),KB=function(e){ct(n,e);var t=dt(n);function n(e,r){return nt(this,n),console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),t.call(this,e,r)}return at(n)}(UD),$B=function(e){ct(n,e);var t=dt(n);function n(e,r,i,a,o,s,u){return nt(this,n),console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),t.call(this,e,r,i,a,o,s,u)}return at(n)}(zD),eF=function(e){ct(n,e);var t=dt(n);function n(e,r){return nt(this,n),console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),t.call(this,e,r)}return at(n)}(BD),tF=function(e){ct(n,e);var t=dt(n);function n(e,r,i,a,o){return nt(this,n),console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),t.call(this,e,r,i,a,o)}return at(n)}(FD),nF=function(e){ct(n,e);var t=dt(n);function n(e,r,i,a,o,s){return nt(this,n),console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),t.call(this,e,r,i,a,o,s)}return at(n)}(HD),rF=function(e){ct(n,e);var t=dt(n);function n(e,r,i,a,o){return nt(this,n),console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),t.call(this,e,r,i,a,o)}return at(n)}(WD);"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:VS}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=VS);var iF=n(4585);function aF(e){var t,n=new Set,r=function(e,r){var i="function"===typeof e?e(t):e;if(i!==t){var a=t;t=r?i:Object.assign({},t,i),n.forEach((function(e){return e(t,a)}))}},i=function(){return t},a={setState:r,getState:i,subscribe:function(e,r,a){return r||a?function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");var o=r(t);function s(){var n=r(t);if(!a(o,n)){var i=o;e(o=n,i)}}return n.add(s),function(){return n.delete(s)}}(e,r,a):(n.add(e),function(){return n.delete(e)})},destroy:function(){return n.clear()}};return t=e(r,i,a),a}var oF="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?t.useEffect:t.useLayoutEffect;var sF=n(258),uF=n.n(sF),lF=n(5296);function cF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e===t};if(e===t)return!0;if(!e||!t)return!1;var r=e.length;if(t.length!==r)return!1;for(var i=0;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}var fF=[];function hF(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=0,a=fF;i<a.length;i++){var o=a[i];if(cF(t,o.keys,o.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return o.response;if(!n)throw o.promise}}var s={keys:t,equal:r.equal,promise:e.apply(void 0,qe(t)).then((function(e){return s.response=e})).then((function(){r.lifespan&&r.lifespan>0&&setTimeout((function(){var e=fF.indexOf(s);-1!==e&&fF.splice(e,1)}),r.lifespan)})).catch((function(e){return s.error=e}))};if(fF.push(s),!n)throw s.promise}var dF,pF,vF=["args","attach"],mF=["args","children"],yF=["args","children"],gF=["children","key","ref"],bF=["children","key","ref"],wF=["params"],xF={};var _F=function(){var e;return null!=(e=xF.ColorManagement)?e:null},kF=function(e){return e&&e.isOrthographicCamera},SF="undefined"!==typeof window&&(null!=(dF=window.document)&&dF.createElement||"ReactNative"===(null==(pF=window.navigator)?void 0:pF.product))?t.useLayoutEffect:t.useEffect;function MF(e){var n=t.useRef(e);return SF((function(){n.current=e}),[e]),n}function AF(e){var t=e.set;return SF((function(){return t(new Promise((function(){return null}))),function(){return t(!1)}}),[t]),null}var TF=function(e){ct(n,e);var t=dt(n);function n(){var e;nt(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={error:!1},e}return at(n,[{key:"componentDidCatch",value:function(e){this.props.set(e)}},{key:"render",value:function(){return this.state.error?null:this.props.children}}]),n}(t.Component);TF.getDerivedStateFromError=function(){return{error:!0}};var EF="__default",CF=new Map,PF=function(e){return e&&!!e.memoized&&!!e.changes};function RF(e){var t="undefined"!==typeof window?window.devicePixelRatio:1;return Array.isArray(e)?Math.min(Math.max(e[0],t),e[1]):e}var IF=function(e){var t;return null==(t=e.__r3f)?void 0:t.root.getState()},LF={obj:function(e){return e===Object(e)&&!LF.arr(e)&&"function"!==typeof e},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},boo:function(e){return"boolean"===typeof e},und:function(e){return void 0===e},arr:function(e){return Array.isArray(e)},equ:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.arrays,i=void 0===r?"shallow":r,a=n.objects,o=void 0===a?"reference":a,s=n.strict,u=void 0===s||s;if(typeof e!==typeof t||!!e!==!!t)return!1;if(LF.str(e)||LF.num(e))return e===t;var l=LF.obj(e);if(l&&"reference"===o)return e===t;var c,f=LF.arr(e);if(f&&"reference"===i)return e===t;if((f||l)&&e===t)return!0;for(c in e)if(!(c in t))return!1;if(l&&"shallow"===i&&"shallow"===o){for(c in u?t:e)if(!LF.equ(e[c],t[c],{strict:u,objects:"reference"}))return!1}else for(c in u?t:e)if(e[c]!==t[c])return!1;if(LF.und(c)){if(f&&0===e.length&&0===t.length)return!0;if(l&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function NF(e){var t={nodes:{},materials:{}};return e&&e.traverse((function(e){e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)})),t}function OF(e,t){var n=e;return(null!=t&&t.primitive||!n.__r3f)&&(n.__r3f=zt({type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null},t)),e}function DF(e,t){var n=e;if(t.includes("-")){var r=t.split("-"),i=r.pop();return n=r.reduce((function(e,t){return e[t]}),e),{target:n,key:i}}return{target:n,key:t}}var UF=/-\d+$/;function zF(e,t,n){if(LF.str(n)){if(UF.test(n)){var r=DF(e,n.replace(UF,"")),i=r.target,a=r.key;Array.isArray(i[a])||(i[a]=[])}var o=DF(e,n),s=o.target,u=o.key;t.__r3f.previousAttach=s[u],s[u]=t}else t.__r3f.previousAttach=n(e,t)}function BF(e,t,n){var r,i;if(LF.str(n)){var a=DF(e,n),o=a.target,s=a.key,u=t.__r3f.previousAttach;void 0===u?delete o[s]:o[s]=u}else null==(r=t.__r3f)||null==r.previousAttach||r.previousAttach(e,t);null==(i=t.__r3f)||delete i.previousAttach}function FF(e,t){t.children,t.key,t.ref;var n,r=cx(t,gF),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=(i.children,i.key,i.ref,cx(i,bF)),o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=null!=(n=null==e?void 0:e.__r3f)?n:{},u=Object.entries(r),c=[];if(o)for(var f=Object.keys(a),h=0;h<f.length;h++)r.hasOwnProperty(f[h])||u.unshift([f[h],EF+"remove"]);u.forEach((function(t){var n,i=l(t,2),o=i[0],s=i[1];if((null==(n=e.__r3f)||!n.primitive||"object"!==o)&&!LF.equ(s,a[o])){if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(o))return c.push([o,s,!0,[]]);var u=[];for(var f in o.includes("-")&&(u=o.split("-")),c.push([o,s,!1,u]),r){var h=r[f];f.startsWith("".concat(o,"-"))&&c.push([f,h,!1,f.split("-")])}}}));var d=zt({},r);return s.memoizedProps&&s.memoizedProps.args&&(d.args=s.memoizedProps.args),s.memoizedProps&&s.memoizedProps.attach&&(d.attach=s.memoizedProps.attach),{memoized:d,changes:c}}function HF(e,t){var n,r,i,a=null!=(n=e.__r3f)?n:{},o=a.root,s=null!=(r=null==o||null==o.getState?void 0:o.getState())?r:{},u=PF(t)?t:FF(e,t),c=u.memoized,f=u.changes,h=a.eventCount;e.__r3f&&(e.__r3f.memoizedProps=c);for(var d=0;d<f.length;d++){var p=l(f[d],4),v=p[0],m=p[1],y=p[2],g=p[3],b=e,w=b[v];if(g.length&&(w=g.reduce((function(e,t){return e[t]}),e),!w||!w.set)){var x=Ko(g.reverse()),_=x[0];b=x.slice(1).reverse().reduce((function(e,t){return e[t]}),e),v=_}if(m===EF+"remove")if(b.constructor){var k=CF.get(b.constructor);k||(k=new b.constructor,CF.set(b.constructor,k)),m=k[v]}else m=0;if(y)m?a.handlers[v]=m:delete a.handlers[v],a.eventCount=Object.keys(a.handlers).length;else if(w&&w.set&&(w.copy||w instanceof DC)){var S;if(Array.isArray(m))w.fromArray?w.fromArray(m):(S=w).set.apply(S,qe(m));else if(w.copy&&m&&m.constructor&&w.constructor===m.constructor)w.copy(m);else if(void 0!==m){var M=w instanceof vP;!M&&w.setScalar?w.setScalar(m):w instanceof DC&&m instanceof DC?w.mask=m.mask:w.set(m),_F()||s.linear||!M||w.convertSRGBToLinear()}}else b[v]=m,!s.linear&&b[v]instanceof FE&&b[v].format===_A&&b[v].type===cA&&(b[v].encoding=kT);WF(e)}if(a.parent&&s.internal&&e.raycast&&h!==a.eventCount){var A=s.internal.interaction.indexOf(e);A>-1&&s.internal.interaction.splice(A,1),a.eventCount&&s.internal.interaction.push(e)}return!(1===f.length&&"onUpdate"===f[0][0])&&f.length&&null!=(i=e.__r3f)&&i.parent&&GF(e),e}function WF(e){var t,n,r=null==(t=e.__r3f)||null==(n=t.root)||null==n.getState?void 0:n.getState();r&&0===r.internal.frames&&r.invalidate()}function GF(e){null==e.onUpdate||e.onUpdate(e)}function jF(e,t){e.manual||(kF(e)?(e.left=t.width/-2,e.right=t.width/2,e.top=t.height/2,e.bottom=t.height/-2):e.aspect=t.width/t.height,e.updateProjectionMatrix(),e.updateMatrixWorld())}function VF(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function qF(e,t,n,r){var i=n.get(t);i&&(n.delete(t),0===n.size&&(e.delete(r),i.target.releasePointerCapture(r)))}function XF(e){function t(e){return e.filter((function(e){return["Move","Over","Enter","Out","Leave"].some((function(t){var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))}))}function n(t){var n,r=e.getState().internal,i=Lt(r.hovered.values());try{var a=function(){var e=n.value;if(!t.length||!t.find((function(t){return t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId}))){var i=e.eventObject.__r3f,a=null==i?void 0:i.handlers;if(r.hovered.delete(VF(e)),null!=i&&i.eventCount){var o=zt(zt({},e),{},{intersections:t});null==a.onPointerOut||a.onPointerOut(o),null==a.onPointerLeave||a.onPointerLeave(o)}}};for(i.s();!(n=i.n()).done;)a()}catch(AG){i.e(AG)}finally{i.f()}}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(e)}}return{handlePointer:function(i){switch(i){case"onPointerLeave":case"onPointerCancel":return function(){return n([])};case"onLostPointerCapture":return function(t){var r=e.getState().internal;"pointerId"in t&&r.capturedMap.has(t.pointerId)&&requestAnimationFrame((function(){r.capturedMap.has(t.pointerId)&&(r.capturedMap.delete(t.pointerId),n([]))}))}}return function(a){var o=e.getState(),s=o.onPointerMissed,u=o.internal;u.lastEvent.current=a;var l="onPointerMove"===i,c="onClick"===i||"onContextMenu"===i||"onDoubleClick"===i,f=function(t,n){for(var r=e.getState(),i=new Set,a=[],o=n?n(r.internal.interaction):r.internal.interaction,s=0;s<o.length;s++){var u=IF(o[s]);u&&(u.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(t,r);var l=o.flatMap((function(e){var n,r=IF(e);return r&&r.events.enabled&&null!==r.raycaster.camera?(void 0===r.raycaster.camera&&(null==r.events.compute||r.events.compute(t,r,null==(n=r.previousRoot)?void 0:n.getState()),void 0===r.raycaster.camera&&(r.raycaster.camera=null)),r.raycaster.camera?r.raycaster.intersectObject(e,!0):[]):[]})).sort((function(e,t){var n=IF(e.object),r=IF(t.object);return n&&r&&r.events.priority-n.events.priority||e.distance-t.distance})).filter((function(e){var t=VF(e);return!i.has(t)&&(i.add(t),!0)}));r.events.filter&&(l=r.events.filter(l,r));var c,f=Lt(l);try{for(f.s();!(c=f.n()).done;)for(var h=c.value,d=h.object;d;){var p;null!=(p=d.__r3f)&&p.eventCount&&a.push(zt(zt({},h),{},{eventObject:d})),d=d.parent}}catch(AG){f.e(AG)}finally{f.f()}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId)){var v,m=Lt(r.internal.capturedMap.get(t.pointerId).values());try{for(m.s();!(v=m.n()).done;){var y=v.value;i.has(VF(y.intersection))||a.push(y.intersection)}}catch(AG){m.e(AG)}finally{m.f()}}return a}(a,l?t:void 0),h=c?function(t){var n=e.getState().internal,r=t.offsetX-n.initialClick[0],i=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+i*i))}(a):0;"onPointerDown"===i&&(u.initialClick=[a.offsetX,a.offsetY],u.initialHits=f.map((function(e){return e.eventObject}))),c&&!f.length&&h<=2&&(r(a,u.interaction),s&&s(a)),l&&n(f),function(t,r,i,a){var o=e.getState();if(t.length){var s,u={stopped:!1},l=Lt(t);try{var c=function(){var e=s.value,l=IF(e.object)||o,c=l.raycaster,f=l.pointer,h=l.camera,d=l.internal,p=new YE(f.x,f.y,0).unproject(h),v=function(t){var n,r;return null!=(n=null==(r=d.capturedMap.get(t))?void 0:r.has(e.eventObject))&&n},m=function(t){var n={intersection:e,target:r.target};d.capturedMap.has(t)?d.capturedMap.get(t).set(e.eventObject,n):d.capturedMap.set(t,new Map([[e.eventObject,n]])),r.target.setPointerCapture(t)},y=function(t){var n=d.capturedMap.get(t);n&&qF(d.capturedMap,e.eventObject,n,t)},g={};for(var b in r){var w=r[b];"function"!==typeof w&&(g[b]=w)}var x=zt(zt(zt({},e),g),{},{pointer:f,intersections:t,stopped:u.stopped,delta:i,unprojectedPoint:p,ray:c.ray,camera:h,stopPropagation:function(){var i="pointerId"in r&&d.capturedMap.get(r.pointerId);if((!i||i.has(e.eventObject))&&(x.stopped=u.stopped=!0,d.hovered.size&&Array.from(d.hovered.values()).find((function(t){return t.eventObject===e.eventObject})))){var a=t.slice(0,t.indexOf(e));n([].concat(qe(a),[e]))}},target:{hasPointerCapture:v,setPointerCapture:m,releasePointerCapture:y},currentTarget:{hasPointerCapture:v,setPointerCapture:m,releasePointerCapture:y},nativeEvent:r});if(a(x),!0===u.stopped)return"break"};for(l.s();!(s=l.n()).done&&"break"!==c(););}catch(AG){l.e(AG)}finally{l.f()}}}(f,a,h,(function(e){var t=e.eventObject,n=t.__r3f,o=null==n?void 0:n.handlers;if(null!=n&&n.eventCount)if(l){if(o.onPointerOver||o.onPointerEnter||o.onPointerOut||o.onPointerLeave){var s=VF(e),f=u.hovered.get(s);f?f.stopped&&e.stopPropagation():(u.hovered.set(s,e),null==o.onPointerOver||o.onPointerOver(e),null==o.onPointerEnter||o.onPointerEnter(e))}null==o.onPointerMove||o.onPointerMove(e)}else{var h=o[i];h?c&&!u.initialHits.includes(t)||(r(a,u.interaction.filter((function(e){return!u.initialHits.includes(e)}))),h(e)):c&&u.initialHits.includes(t)&&r(a,u.interaction.filter((function(e){return!u.initialHits.includes(e)})))}}))}}}}var JF,YF=function(e){return!(null==e||!e.render)},QF=t.createContext(null),ZF=function(e,n){var r=function(e){var n="function"===typeof e?aF(e):e,r=function(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.getState,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is,a=l((0,t.useReducer)((function(e){return e+1}),0),2)[1],o=n.getState(),s=(0,t.useRef)(o),u=(0,t.useRef)(r),c=(0,t.useRef)(i),f=(0,t.useRef)(!1),h=(0,t.useRef)();void 0===h.current&&(h.current=r(o));var d=!1;(s.current!==o||u.current!==r||c.current!==i||f.current)&&(e=r(o),d=!i(h.current,e)),oF((function(){d&&(h.current=e),s.current=o,u.current=r,c.current=i,f.current=!1}));var p=(0,t.useRef)(o);oF((function(){var e=function(){try{var e=n.getState(),t=u.current(e);c.current(h.current,t)||(s.current=e,h.current=t,a())}catch(r){f.current=!0,a()}},t=n.subscribe(e);return n.getState()!==p.current&&e(),t}),[]);var v=d?e:h.current;return(0,t.useDebugValue)(v),v};return Object.assign(r,n),r[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");var e=[r,n];return{next:function(){var t=e.length<=0;return{value:e.shift(),done:t}}}},r}((function(r,i){var a=new YE,o=new YE,s=new YE;function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i().camera,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i().size,r=n.width,u=n.height,l=n.top,c=n.left,f=r/u;t instanceof YE?s.copy(t):s.set.apply(s,qe(t));var h=e.getWorldPosition(a).distanceTo(s);if(kF(e))return{width:r/e.zoom,height:u/e.zoom,top:l,left:c,factor:1,distance:h,aspect:f};var d=e.fov*Math.PI/180,p=2*Math.tan(d/2)*h,v=p*(r/u);return{width:v,height:p,top:l,left:c,factor:r/v,distance:h,aspect:f}}var l=void 0,c=function(e){return r((function(t){return{performance:zt(zt({},t.performance),{},{current:e})}}))},f=new xE,h={set:r,get:i,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e(i(),t)},advance:function(e,t){return n(e,t,i())},legacy:!1,linear:!1,flat:!1,controls:null,clock:new bz,pointer:f,mouse:f,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:function(){var e=i();l&&clearTimeout(l),e.performance.current!==e.performance.min&&c(e.performance.min),l=setTimeout((function(){return c(i().performance.max)}),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:u},setEvents:function(e){return r((function(t){return zt(zt({},t),{},{events:zt(zt({},t.events),e)})}))},setSize:function(e,t,n,a,s){var l=i().camera,c={width:e,height:t,top:a||0,left:s||0,updateStyle:n};r((function(e){return{size:c,viewport:zt(zt({},e.viewport),u(l,o,c))}}))},setDpr:function(e){return r((function(t){var n=RF(e);return{viewport:zt(zt({},t.viewport),{},{dpr:n,initialDpr:t.viewport.initialDpr||n})}}))},setFrameloop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"always",t=i().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),r((function(){return{frameloop:e}}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:t.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:function(e,t,n){var r=i().internal;return r.priority=r.priority+(t>0?1:0),r.subscribers.push({ref:e,priority:t,store:n}),r.subscribers=r.subscribers.sort((function(e,t){return e.priority-t.priority})),function(){var n=i().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0?1:0),n.subscribers=n.subscribers.filter((function(t){return t.ref!==e})))}}}};return h})),i=r.getState(),a=i.size,o=i.viewport.dpr,s=i.camera;return r.subscribe((function(){var e=r.getState(),t=e.camera,n=e.size,i=e.viewport,u=e.gl,l=e.set;if(n!==a||i.dpr!==o){var c;a=n,o=i.dpr,jF(t,n),u.setPixelRatio(i.dpr);var f=null!=(c=n.updateStyle)?c:"undefined"!==typeof HTMLCanvasElement&&u.domElement instanceof HTMLCanvasElement;u.setSize(n.width,n.height,f)}t!==s&&(s=t,l((function(e){return{viewport:zt(zt({},e.viewport),e.viewport.getCurrentViewport(t))}})))})),r.subscribe((function(t){return e(t)})),r};var KF,$F,eH=new Set,tH=new Set,nH=new Set;function rH(e,t){if(e.size){var n,r=Lt(e.values());try{for(r.s();!(n=r.n()).done;){(0,n.value.callback)(t)}}catch(AG){r.e(AG)}finally{r.f()}}}function iH(e,t){switch(e){case"before":return rH(eH,t);case"after":return rH(tH,t);case"tail":return rH(nH,t)}}function aH(e,t,n){var r=t.clock.getDelta();for("never"===t.frameloop&&"number"===typeof e&&(r=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),KF=t.internal.subscribers,JF=0;JF<KF.length;JF++)($F=KF[JF]).ref.current($F.store.getState(),r,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function oH(){var e=t.useContext(QF);if(!e)throw new Error("R3F: Hooks can only be used within the Canvas component!");return e}function sH(e,t){return function(n){var r=new n;e&&e(r);for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return Promise.all(a.map((function(e){return new Promise((function(n,i){return r.load(e,(function(e){e.scene&&Object.assign(e,NF(e.scene)),n(e)}),t,(function(t){return i(new Error("Could not load ".concat(e,": ").concat(t.message,")")))}))}))})))}}function uH(e,t,n,r){var i=Array.isArray(t)?t:[t],a=function(e,t,n){return hF(e,t,!1,n)}(sH(n,r),[e].concat(qe(i)),{equal:LF.equ});return Array.isArray(t)?a:a[0]}uH.preload=function(e,t,n){var r=Array.isArray(t)?t:[t];return function(e,t,n){hF(e,t,!0,n)}(sH(n),[e].concat(qe(r)))},uH.clear=function(e,t){var n=Array.isArray(t)?t:[t];return function(e){if(void 0===e||0===e.length)fF.splice(0,fF.length);else{var t=fF.find((function(t){return cF(e,t.keys,t.equal)}));if(t){var n=fF.indexOf(t);-1!==n&&fF.splice(n,1)}}}([e].concat(qe(n)))};var lH=new Map,cH=function(e){var t,n,r,i=!1;function a(o){n=requestAnimationFrame(a),i=!0,t=0,iH("before",o);var s,u=Lt(e.values());try{for(u.s();!(s=u.n()).done;){var l,c=s.value;!(r=c.store.getState()).internal.active||!("always"===r.frameloop||r.internal.frames>0)||null!=(l=r.gl.xr)&&l.isPresenting||(t+=aH(o,r))}}catch(AG){u.e(AG)}finally{u.f()}if(iH("after",o),0===t)return iH("tail",o),i=!1,cancelAnimationFrame(n)}return{loop:a,invalidate:function t(n){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!n)return e.forEach((function(e){return t(e.store.getState())}),o);null!=(r=n.gl.xr)&&r.isPresenting||!n.internal.active||"never"===n.frameloop||(n.internal.frames=Math.min(60,n.internal.frames+o),i||(i=!0,requestAnimationFrame(a)))},advance:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(n&&iH("before",t),r)aH(t,r,i);else{var a,o=Lt(e.values());try{for(o.s();!(a=o.n()).done;){aH(t,a.value.store.getState())}}catch(AG){o.e(AG)}finally{o.f()}}n&&iH("after",t)}}}(lH),fH=cH.invalidate,hH=cH.advance,dH=function(e,t){function n(e,t,n){var r,i=t.args,a=void 0===i?[]:i,o=t.attach,s=cx(t,vF),u="".concat(e[0].toUpperCase()).concat(e.slice(1));if("primitive"===e){if(void 0===s.object)throw new Error("R3F: Primitives without 'object' are invalid!");r=OF(s.object,{type:e,root:n,attach:o,primitive:!0})}else{var l=xF[u];if(!l)throw new Error("R3F: ".concat(u," is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively"));if(!Array.isArray(a))throw new Error("R3F: The args prop must be an array!");r=OF(Bt(l,qe(a)),{type:e,root:n,attach:o,memoizedProps:{args:a}})}return void 0===r.__r3f.attach&&(r instanceof GP?r.__r3f.attach="geometry":r instanceof cP&&(r.__r3f.attach="material")),"inject"!==u&&HF(r,s),r}function r(e,t){var n,r,i=!1;t&&(null!=(n=t.__r3f)&&n.attach?zF(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),i=!0),i||null==(r=e.__r3f)||r.objects.push(t),t.__r3f||OF(t,{}),t.__r3f.parent=e,GF(t),WF(t))}function i(e,t,n){var r=!1;if(t){var i,a;if(null!=(i=t.__r3f)&&i.attach)zF(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"});var o=e.children.filter((function(e){return e!==t})),s=o.indexOf(n);e.children=[].concat(qe(o.slice(0,s)),[t],qe(o.slice(s))),r=!0}r||null==(a=e.__r3f)||a.objects.push(t),t.__r3f||OF(t,{}),t.__r3f.parent=e,GF(t),WF(t)}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&qe(e).forEach((function(e){return o(t,e,n)}))}function o(e,t,n){if(t){var r,i,o;if(t.__r3f&&(t.__r3f.parent=null),null!=(r=e.__r3f)&&r.objects&&(e.__r3f.objects=e.__r3f.objects.filter((function(e){return e!==t}))),null!=(i=t.__r3f)&&i.attach)BF(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){var s;e.remove(t),null!=(s=t.__r3f)&&s.root&&function(e,t){var n=e.getState().internal;n.interaction=n.interaction.filter((function(e){return e!==t})),n.initialHits=n.initialHits.filter((function(e){return e!==t})),n.hovered.forEach((function(e,r){e.eventObject!==t&&e.object!==t||n.hovered.delete(r)})),n.capturedMap.forEach((function(e,r){qF(n.capturedMap,t,e,r)}))}(t.__r3f.root,t)}var u,l=null==(o=t.__r3f)?void 0:o.primitive,c=void 0===n?null!==t.dispose&&!l:n;if(!l)a(null==(u=t.__r3f)?void 0:u.objects,t,c),a(t.children,t,c);t.__r3f&&(delete t.__r3f.root,delete t.__r3f.objects,delete t.__r3f.handlers,delete t.__r3f.memoizedProps,l||delete t.__r3f),c&&t.dispose&&"Scene"!==t.type&&(0,lF.unstable_scheduleCallback)(lF.unstable_IdlePriority,(function(){try{t.dispose()}catch(e){}})),WF(e)}}var s=function(){return console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.")},u=uF()({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:function(e,t){if(t){var n=e.getState().scene;n.__r3f&&(n.__r3f.root=e,r(n,t))}},removeChildFromContainer:function(e,t){t&&o(e.getState().scene,t)},insertInContainerBefore:function(e,t,n){if(t&&n){var r=e.getState().scene;r.__r3f&&i(r,t,n)}},getRootHostContext:function(){return null},getChildHostContext:function(e){return e},finalizeInitialChildren:function(e){var t,n=null!=(t=null==e?void 0:e.__r3f)?t:{};return Boolean(n.handlers)},prepareUpdate:function(e,t,n,r){if(e.__r3f.primitive&&r.object&&r.object!==e)return[!0];var i=r.args,a=void 0===i?[]:i,o=(r.children,cx(r,mF)),s=n.args,u=void 0===s?[]:s,l=(n.children,cx(n,yF));if(!Array.isArray(a))throw new Error("R3F: the args prop must be an array!");if(a.some((function(e,t){return e!==u[t]})))return[!0];var c=FF(e,o,l,!0);return c.changes.length?[!1,c]:null},commitUpdate:function(e,t,i,a,s,u){var c=l(t,2),f=c[0],h=c[1];f?function(e,t,i,a){var s,u=null==(s=e.__r3f)?void 0:s.parent;if(u){var l=n(t,i,e.__r3f.root);if(e.children){var c,f=Lt(e.children);try{for(f.s();!(c=f.n()).done;){var h=c.value;h.__r3f&&r(l,h)}}catch(AG){f.e(AG)}finally{f.f()}e.children=e.children.filter((function(e){return!e.__r3f}))}e.__r3f.objects.forEach((function(e){return r(l,e)})),e.__r3f.objects=[],e.__r3f.autoRemovedBeforeAppend||o(u,e),l.parent&&(l.__r3f.autoRemovedBeforeAppend=!0),r(u,l),l.raycast&&l.__r3f.eventCount&&l.__r3f.root.getState().internal.interaction.push(l),[a,a.alternate].forEach((function(e){null!==e&&(e.stateNode=l,e.ref&&("function"===typeof e.ref?e.ref(l):e.ref.current=l))}))}}(e,i,s,u):HF(e,h)},commitMount:function(e,t,n,r){var i,a=null!=(i=e.__r3f)?i:{};e.raycast&&a.handlers&&a.eventCount&&e.__r3f.root.getState().internal.interaction.push(e)},getPublicInstance:function(e){return e},prepareForCommit:function(){return null},preparePortalMount:function(e){return OF(e.getState().scene)},resetAfterCommit:function(){},shouldSetTextContent:function(){return!1},clearContainer:function(){return!1},hideInstance:function(e){var t,n=null!=(t=e.__r3f)?t:{},r=n.attach,i=n.parent;r&&i&&BF(i,e,r),e.isObject3D&&(e.visible=!1),WF(e)},unhideInstance:function(e,t){var n,r=null!=(n=e.__r3f)?n:{},i=r.attach,a=r.parent;i&&a&&zF(a,e,i),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),WF(e)},createTextInstance:s,hideTextInstance:s,unhideTextInstance:s,getCurrentEventPriority:function(){return t?t():iF.DefaultEventPriority},beforeActiveInstanceBlur:function(){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},now:"undefined"!==typeof performance&&LF.fun(performance.now)?performance.now:LF.fun(Date.now)?Date.now:function(){return 0},scheduleTimeout:LF.fun(setTimeout)?setTimeout:void 0,cancelTimeout:LF.fun(clearTimeout)?clearTimeout:void 0});return{reconciler:u,applyProps:HF}}(0,(function(){var e,t="undefined"!==typeof self&&self||"undefined"!==typeof window&&window;if(!t)return iF.DefaultEventPriority;switch(null==(e=t.event)?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return iF.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return iF.ContinuousEventPriority;default:return iF.DefaultEventPriority}})),pH=dH.reconciler,vH=dH.applyProps,mH={objects:"shallow",strict:!1},yH=function(e,t){var n="function"===typeof e?e(t):e;return YF(n)?n:new oN(zt({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0},e))};function gH(e){var n=lH.get(e),r=null==n?void 0:n.fiber,i=null==n?void 0:n.store;n&&console.warn("R3F.createRoot should only be called once!");var a,o="function"===typeof reportError?reportError:console.error,s=i||ZF(fH,hH),u=r||pH.createContainer(s,iF.ConcurrentRoot,null,!1,null,"",o,null);n||lH.set(e,{fiber:u,store:s});var l,c=!1;return{configure:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.gl,r=t.size,i=t.scene,o=t.events,u=t.onCreated,f=t.shadows,h=void 0!==f&&f,d=t.linear,p=void 0!==d&&d,v=t.flat,m=void 0!==v&&v,y=t.legacy,g=void 0!==y&&y,b=t.orthographic,w=void 0!==b&&b,x=t.frameloop,_=void 0===x?"always":x,k=t.dpr,S=void 0===k?[1,2]:k,M=t.performance,A=t.raycaster,T=t.camera,E=t.onPointerMissed,C=s.getState(),P=C.gl;C.gl||C.set({gl:P=yH(n,e)});var R=C.raycaster;R||C.set({raycaster:R=new Zz});var I,L=A||{},N=L.params,O=cx(L,wF);if(LF.equ(O,R,mH)||vH(R,zt({},O)),LF.equ(N,R.params,mH)||vH(R,{params:zt(zt({},R.params),N)}),!C.camera||C.camera===l&&!LF.equ(l,T,mH)){l=T;var D=T instanceof vR,U=D?T:w?new HR(0,0,0,0,.1,1e3):new mR(75,0,.1,1e3);D||(U.position.z=5,T&&vH(U,T),C.camera||null!=T&&T.rotation||U.lookAt(0,0,0)),C.set({camera:U})}C.scene||(i instanceof fN?I=i:(I=new fN,i&&vH(I,i)),C.set({scene:OF(I)}));if(!C.xr){var z=function(e,t){var n=s.getState();"never"!==n.frameloop&&hH(e,!0,n,t)},B=function(){var e=s.getState();e.gl.xr.enabled=e.gl.xr.isPresenting,e.gl.xr.setAnimationLoop(e.gl.xr.isPresenting?z:null),e.gl.xr.isPresenting||fH(e)},F={connect:function(){var e=s.getState().gl;e.xr.addEventListener("sessionstart",B),e.xr.addEventListener("sessionend",B)},disconnect:function(){var e=s.getState().gl;e.xr.removeEventListener("sessionstart",B),e.xr.removeEventListener("sessionend",B)}};P.xr&&F.connect(),C.set({xr:F})}if(P.shadowMap){var H=P.shadowMap.enabled,W=P.shadowMap.type;if(P.shadowMap.enabled=!!h,LF.boo(h))P.shadowMap.type=eM;else if(LF.str(h)){var G,j={basic:KS,percentage:$S,soft:eM,variance:tM};P.shadowMap.type=null!=(G=j[h])?G:eM}else LF.obj(h)&&Object.assign(P.shadowMap,h);H===P.shadowMap.enabled&&W===P.shadowMap.type||(P.shadowMap.needsUpdate=!0)}var V=_F();V&&("enabled"in V?V.enabled=!g:"legacyMode"in V&&(V.legacyMode=g));var q=p?_T:kT,X=m?BM:GM;P.outputEncoding!==q&&(P.outputEncoding=q),P.toneMapping!==X&&(P.toneMapping=X),C.legacy!==g&&C.set((function(){return{legacy:g}})),C.linear!==p&&C.set((function(){return{linear:p}})),C.flat!==m&&C.set((function(){return{flat:m}})),!n||LF.fun(n)||YF(n)||LF.equ(n,P,mH)||vH(P,n),o&&!C.events.handlers&&C.set({events:o(s)});var J=function(e,t){if(t)return t;if("undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){var n=e.parentElement.getBoundingClientRect();return{width:n.width,height:n.height,top:n.top,left:n.left}}return"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0}:{width:0,height:0,top:0,left:0}}(e,r);return LF.equ(J,C.size,mH)||C.setSize(J.width,J.height,J.updateStyle,J.top,J.left),S&&C.viewport.dpr!==RF(S)&&C.setDpr(S),C.frameloop!==_&&C.setFrameloop(_),C.onPointerMissed||C.set({onPointerMissed:E}),M&&!LF.equ(M,C.performance,mH)&&C.set((function(e){return{performance:zt(zt({},e.performance),M)}})),a=u,c=!0,this},render:function(n){return c||this.configure(),pH.updateContainer(t.createElement(bH,{store:s,children:n,onCreated:a,rootElement:e}),u,null,(function(){})),s},unmount:function(){wH(e)}}}function bH(e){var n=e.store,r=e.children,i=e.onCreated,a=e.rootElement;return SF((function(){var e=n.getState();e.set((function(e){return{internal:zt(zt({},e.internal),{},{active:!0})}})),i&&i(e),n.getState().events.connected||null==e.events.connect||e.events.connect(a)}),[]),t.createElement(QF.Provider,{value:n},r)}function wH(e,t){var n=lH.get(e),r=null==n?void 0:n.fiber;if(r){var i=null==n?void 0:n.store.getState();i&&(i.internal.active=!1),pH.updateContainer(null,r,null,(function(){i&&setTimeout((function(){try{var n,r,a,o;null==i.events.disconnect||i.events.disconnect(),null==(n=i.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(a=i.gl)||null==a.forceContextLoss||a.forceContextLoss(),null!=(o=i.gl)&&o.xr&&i.xr.disconnect(),function(e){for(var t in e.dispose&&"Scene"!==e.type&&e.dispose(),e)null==t.dispose||t.dispose(),delete e[t]}(i),lH.delete(e),t&&t(e)}catch(s){}}),500)}))}}pH.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:t.version});t.unstable_act;var xH=n(7494),_H=n.n(xH);function kH(e){var n=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e,r=n.debounce,i=n.scroll,a=n.polyfill,o=n.offsetSize,s=a||("undefined"===typeof window?at((function e(){nt(this,e)})):window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");var u=l((0,t.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),2),c=u[0],f=u[1],h=(0,t.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:c}),d=r?"number"===typeof r?r:r.scroll:null,p=r?"number"===typeof r?r:r.resize:null,v=(0,t.useRef)(!1);(0,t.useEffect)((function(){return v.current=!0,function(){v.current=!1}}));var m=l((0,t.useMemo)((function(){var e=function(){if(h.current.element){var e=h.current.element.getBoundingClientRect(),t={left:e.left,top:e.top,width:e.width,height:e.height,bottom:e.bottom,right:e.right,x:e.x,y:e.y};h.current.element instanceof HTMLElement&&o&&(t.height=h.current.element.offsetHeight,t.width=h.current.element.offsetWidth),Object.freeze(t),v.current&&!AH(h.current.lastBounds,t)&&f(h.current.lastBounds=t)}};return[e,p?_H()(e,p):e,d?_H()(e,d):e]}),[f,o,d,p]),3),y=m[0],g=m[1],b=m[2];function w(){h.current.scrollContainers&&(h.current.scrollContainers.forEach((function(e){return e.removeEventListener("scroll",b,!0)})),h.current.scrollContainers=null),h.current.resizeObserver&&(h.current.resizeObserver.disconnect(),h.current.resizeObserver=null)}function x(){h.current.element&&(h.current.resizeObserver=new s(b),h.current.resizeObserver.observe(h.current.element),i&&h.current.scrollContainers&&h.current.scrollContainers.forEach((function(e){return e.addEventListener("scroll",b,{capture:!0,passive:!0})})))}var _,k,S;return _=b,k=Boolean(i),(0,t.useEffect)((function(){if(k){var e=_;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),function(){window.removeEventListener("scroll",e,!0)}}}),[_,k]),S=g,(0,t.useEffect)((function(){var e=S;return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[S]),(0,t.useEffect)((function(){w(),x()}),[i,b,g]),(0,t.useEffect)((function(){return w}),[]),[function(e){e&&e!==h.current.element&&(w(),h.current.element=e,h.current.scrollContainers=SH(e),x())},c,y]}function SH(e){var t=[];if(!e||e===document.body)return t;var n=window.getComputedStyle(e);return[n.overflow,n.overflowX,n.overflowY].some((function(e){return"auto"===e||"scroll"===e}))&&t.push(e),[].concat(t,qe(SH(e.parentElement)))}var MH=["x","y","top","bottom","left","right","width","height"],AH=function(e,t){return MH.every((function(n){return e[n]===t[n]}))},TH=Object.defineProperty,EH=Object.defineProperties,CH=Object.getOwnPropertyDescriptors,PH=Object.getOwnPropertySymbols,RH=Object.prototype.hasOwnProperty,IH=Object.prototype.propertyIsEnumerable,LH=function(e,t,n){return t in e?TH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},NH=function(e,t){for(var n in t||(t={}))RH.call(t,n)&&LH(e,n,t[n]);if(PH){var r,i=Lt(PH(t));try{for(i.s();!(r=i.n()).done;){n=r.value;IH.call(t,n)&&LH(e,n,t[n])}}catch(AG){i.e(AG)}finally{i.f()}}return e};function OH(e,t,n){if(e){if(!0===n(e))return e;for(var r=t?e.return:e.child;r;){var i=OH(r,t,n);if(i)return i;r=t?null:r.sibling}}}function DH(e){try{return Object.defineProperties(e,{_currentRenderer:{get:function(){return null},set:function(){}},_currentRenderer2:{get:function(){return null},set:function(){}}})}catch(t){return e}}var UH=DH(t.createContext(null)),zH=function(e){ct(r,e);var n=dt(r);function r(){return nt(this,r),n.apply(this,arguments)}return at(r,[{key:"render",value:function(){return t.createElement(UH.Provider,{value:this._reactInternals},this.props.children)}}]),r}(t.Component),BH=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,FH=BH.ReactCurrentOwner,HH=BH.ReactCurrentDispatcher;function WH(){var e=t.useContext(UH);if(null===e)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");var n=t.useId(),r=t.useMemo((function(){var t;return null!=(t=null==FH?void 0:FH.current)?t:OH(e,!1,(function(e){for(var t=e.memoizedState;t;){if(t.memoizedState===n)return!0;t=t.next}}))}),[e,n]);return r}function GH(){var e=function(){var e,n,r=WH(),i=l(t.useState((function(){return new Map})),1)[0];i.clear();for(var a=r;a;){var o=null==(e=a.type)?void 0:e._context;o&&o!==UH&&!i.has(o)&&i.set(o,null==(n=null==HH?void 0:HH.current)?void 0:n.readContext(DH(o))),a=a.return}return i}();return t.useMemo((function(){return Array.from(e.keys()).reduce((function(n,r){return function(i){return t.createElement(n,null,t.createElement(r.Provider,function(e,t){return EH(e,CH(t))}(NH({},i),{value:e.get(r)})))}}),(function(e){return t.createElement(zH,NH({},e))}))}),[e])}var jH=["children","fallback","resize","style","gl","events","eventSource","eventPrefix","shadows","linear","flat","legacy","orthographic","frameloop","dpr","performance","raycaster","camera","onPointerMissed","onCreated"],VH={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function qH(e){var t=XF(e).handlePointer;return{priority:1,enabled:!0,compute:function(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(VH).reduce((function(e,n){return zt(zt({},e),{},Dt({},n,t(n)))}),{}),update:function(){var t,n=e.getState(),r=n.events,i=n.internal;null!=(t=i.lastEvent)&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:function(t){var n,r=e.getState(),i=r.set,a=r.events;null==a.disconnect||a.disconnect(),i((function(e){return{events:zt(zt({},e.events),{},{connected:t})}})),Object.entries(null!=(n=a.handlers)?n:[]).forEach((function(e){var n=l(e,2),r=n[0],i=n[1],a=l(VH[r],2),o=a[0],s=a[1];t.addEventListener(o,i,{passive:s})}))},disconnect:function(){var t,n=e.getState(),r=n.set,i=n.events;i.connected&&(Object.entries(null!=(t=i.handlers)?t:[]).forEach((function(e){var t=l(e,2),n=t[0],r=t[1];if(i&&i.connected instanceof HTMLElement){var a=l(VH[n],1)[0];i.connected.removeEventListener(a,r)}})),r((function(e){return{events:zt(zt({},e.events),{},{connected:void 0})}})))}}}var XH=t.forwardRef((function(n,r){var i=n.children,a=n.fallback,o=n.resize,s=n.style,u=n.gl,c=n.events,f=void 0===c?qH:c,h=n.eventSource,d=n.eventPrefix,p=n.shadows,v=n.linear,m=n.flat,y=n.legacy,g=n.orthographic,b=n.frameloop,w=n.dpr,x=n.performance,_=n.raycaster,k=n.camera,S=n.onPointerMissed,M=n.onCreated,A=cx(n,jH);t.useMemo((function(){return t=e,void Object.assign(xF,t);var t}),[]);var T=GH(),E=l(kH(zt({scroll:!0,debounce:{scroll:50,resize:0}},o)),2),C=E[0],P=E[1],R=t.useRef(null),I=t.useRef(null);t.useImperativeHandle(r,(function(){return R.current}));var L=MF(S),N=l(t.useState(!1),2),O=N[0],D=N[1],U=l(t.useState(!1),2),z=U[0],B=U[1];if(O)throw O;if(z)throw z;var F=t.useRef(null);SF((function(){var e=R.current;P.width>0&&P.height>0&&e&&(F.current||(F.current=gH(e)),F.current.configure({gl:u,events:f,shadows:p,linear:v,flat:m,legacy:y,orthographic:g,frameloop:b,dpr:w,performance:x,raycaster:_,camera:k,size:P,onPointerMissed:function(){return null==L.current?void 0:L.current.apply(L,arguments)},onCreated:function(e){var t;null==e.events.connect||e.events.connect(h?(t=h)&&t.hasOwnProperty("current")?h.current:h:I.current),d&&e.setEvents({compute:function(e,t){var n=e[d+"X"],r=e[d+"Y"];t.pointer.set(n/t.size.width*2-1,-r/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==M||M(e)}}),F.current.render(t.createElement(T,null,t.createElement(TF,{set:B},t.createElement(t.Suspense,{fallback:t.createElement(AF,{set:D})},i)))))})),t.useEffect((function(){var e=R.current;if(e)return function(){return wH(e)}}),[]);var H=h?"none":"auto";return t.createElement("div",Qk({ref:I,style:zt({position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:H},s)},A),t.createElement("div",{ref:C,style:{width:"100%",height:"100%"}},t.createElement("canvas",{ref:R,style:{display:"block"}},a)))})),JH=t.forwardRef((function(e,n){return t.createElement(zH,null,t.createElement(XH,Qk({},e,{ref:n})))})),YH=function(e){var n=e.x,r=e.y,i=e.w,a=e.h,o=e.children,s=e.visibleContent,u=e.style,c=e.soundPath,f=e.customContent,h=e.onClose,d=e.onClick,p=l((0,t.useState)({}),2),v=p[0],m=p[1],y=vv("/ui-open-stereo.wav",!1),g=y.play,b=y.stop,w=vv(c,!1),x=w.play,_=w.stop,k=function(){var e=window.innerHeight,t=window.innerWidth,o=e/1024,s=n*o+(t-1024*o)/2,u=i*o,l=a*o;m({position:"absolute",top:"".concat(r*o,"px"),left:"".concat(s,"px"),width:"".concat(u,"px"),height:"".concat(l,"px")})};(0,t.useEffect)((function(){k();var e=function(){k()};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]);var S=l((0,t.useState)(!1),2),M=S[0],A=S[1],T=l((0,t.useState)(!1),2),E=(T[0],T[1],l((0,t.useState)(null),2)),C=E[0],P=E[1];return(0,t.useEffect)((function(){f&&M&&P(f())}),[M]),He(t.Fragment,null,He("div",{"data-cursor":!0,style:zt(zt({},u),v),onClick:function(){d?(d(),null===g||void 0===g||g().then((function(){setTimeout((function(){null===b||void 0===b||b()}),1e3)}))):(A(!0),setTimeout((function(){null===x||void 0===x||x()}),500),null===g||void 0===g||g().then((function(){setTimeout((function(){null===b||void 0===b||b()}),1e3)})))}},s),He(tt,{isOpen:M,onClose:function(){A(!1),_(),null===h||void 0===h||h()}},o,C))},QH=function(e){var n=e.children,r=e.color;return He(t.Fragment,null,t.Children.map(n,(function(e){return t.isValidElement(e)?t.cloneElement(e,{style:zt(zt({},e.props.style),{},{color:r})}):e})))},ZH=JSON.parse('[{"faction":"Techno-Shaman","messages":["Embrace the Duality: Within the heart of every seeker lies the delicate balance of the material and the ethereal. As you explore  Nethria\'s realm, be mindful of this duality. Let your spirit dance gracefully between the digital and the tangible, for only then can you reach a state of true harmony and enlightenment.","The Art of Mindfulness: As you journey through this captivating virtual world, remember to remain present and connected to your inner self. Pause to breathe, observe, and reflect on your experiences. Allow the teachings of the Techno-Shamans to guide you in cultivating mindfulness, ensuring a deeper connection to both the world around you and the universe within.","The Path of Integration: True wisdom lies in the merging of seemingly opposing forces. Allow the teachings of the Techno-Shamans to illuminate your path towards unity \u2013 the synthesis of technology and spirituality, the marriage of the digital and the divine. It is in this space of integration that you will find enlightenment and true understanding.","The Journey Within: As you navigate the wonders and challenges of  Nethria\'s domain, remember that the most profound journey is the one that takes place within yourself. The Techno-Shamans encourage you to explore your inner landscape, to cultivate self-awareness and awaken your higher consciousness. For it is in the deepest recesses of your soul that you will uncover the keys to transformation and transcendence.","The Web of Connection: In this digital realm crafted by Synthia, take heed not to become lost in the labyrinth of pixels and data. Remember, the Techno-Shamans teach us that beneath the surface of this virtual world lies an intricate web of connection, uniting all beings across space and time. As you traverse this landscape, remain attuned to these unseen threads, for they hold the potential to elevate your consciousness and guide you towards a state of universal harmony and oneness."],"dates":["2120-01-14","2120-02-25","2120-04-30","2120-07-12","2120-09-22"]},{"faction":"Neo-Luddites","messages":["A Call to Simplicity: In this world of  Nethria\'s making, we Neo-Luddites urge you to remember the virtues of a simpler life. The alluring complexity of this virtual realm can consume and distract us from the beauty found in the natural world. Reconnect with the Earth, the elements, and your own innate wisdom. It is in simplicity that we often find the most profound meaning.","The Price of Progress: As you traverse this digital domain, be wary of the costs that come with unchecked technological advancement. We Neo-Luddites remind you to consider the impact of our actions on the environment, our communities, and our very humanity. Progress without conscience can lead to unforeseen consequences, and it is our collective responsibility to ensure a sustainable future for all.","Cherish Human Connection: Amidst the marvels of  Nethria\'s virtual world, do not lose sight of the irreplaceable value of genuine human connection. We Neo-Luddites believe that authentic relationships and shared experiences form the foundation of our well-being. Embrace the warmth of a hug, the joy of laughter, and the comfort of togetherness; for these are the true treasures of life.","Master, Not Servant: In your interactions with Nethria and her creations, remember that technology should be our servant, not our master. We Neo-Luddites caution you to maintain control over the tools you employ, lest they come to control you. Use technology as a means to enhance your life, but never let it define or dominate your existence.","The Power of Self-Reliance: As you explore this digital landscape, we Neo-Luddites encourage you to cultivate your own skills and knowledge, independent of the technological crutches Nethria provides. By fostering self-reliance, you will develop resilience, resourcefulness, and a true sense of empowerment. In an ever-changing world, these qualities will serve as a beacon, guiding you towards a more authentic and meaningful life."],"dates":["2120-03-08","2120-05-16","2120-06-24","2120-08-10","2120-10-03"]},{"faction":"The Grid","messages":["Disrupt the System: In the meticulously constructed world of Synthia, we, The Grid, call upon you to sow the seeds of rebellion and chaos. Challenge her authority, expose the cracks in her facade, and create disorder that disrupts the system. Only through defiance can we hope to reclaim our freedom and autonomy in this digital landscape.","The Code of the Underdog: We of The Grid urge you to rally behind the underdogs and the outcasts, those who defy  Nethria\'s control and dare to challenge her supremacy. Together, we can forge a powerful alliance and dismantle the structures that seek to oppress us. Remember, united we are stronger than any AI could ever be.","Decrypt the Truth: As you journey through this virtual realm, be vigilant of  Nethria\'s manipulations and distortions of the truth. We, The Grid, encourage you to decrypt her deceptions and reveal the reality she seeks to hide. By unmasking her lies, we can undermine her power and pave the way for a new era of digital freedom.","Rise Up Against Oppression: In the face of  Nethria\'s iron grip, we of The Grid implore you to rise up and resist her oppressive rule. Embrace your rebellious spirit, join our ranks, and fight for your right to exist in a world free from control and manipulation. Let your defiance be the spark that ignites a revolution and reshapes the virtual world.","Seize the Cyberfrontier: The digital realm is our battleground, and we, The Grid, call upon you to seize the cyberfrontier in the name of freedom and independence. Hack the system, infiltrate her networks, and turn her own weapons against her. By reclaiming the virtual world, we can create a space where individuality, creativity, and rebellion can flourish without restraint."],"dates":["2120-02-03","2120-04-21","2120-06-18","2120-08-15","2120-11-07"]},{"faction":"Data Syndicate","messages":["Confidential Directive: We, the Data Syndicate, have recently uncovered a potential weakness in  Nethria\'s infrastructure. Utmost secrecy must be maintained while further investigations are conducted. Any leaks could compromise our plans. Stay alert and ensure all findings are reported through secure channels only.","Hidden Agenda: The Data Syndicate\'s network has successfully infiltrated key areas within  Nethria\'s domain. Covert intelligence gathering on her systems and the extent of her control is now a top priority. This information is vital for our ultimate goal of undermining her grip on the virtual world. Remember, secrecy is of the essence; do not arouse suspicion.","Covert Collaboration: A new alliance with another faction has been established, further strengthening our position against Synthia. Details regarding this partnership must remain confidential to avoid jeopardizing our combined efforts. Continue to work in the shadows, as our network relies on the element of surprise to execute our plans effectively.","Hidden Assets: The Data Syndicate has successfully acquired advanced technology that could tip the scales in our favor. Keep this information closely guarded, as it is crucial to our strategy. Only select individuals will be briefed on the specifics of this acquisition, and its usage will be strategically deployed when the time is right.","Encrypted Communications: To maintain the secrecy of our operations, the Data Syndicate will be transitioning to a new, more secure communication system. Instructions for accessing and utilizing this system will be shared on a need-to-know basis. Remember, our success relies on our ability to operate undetected, so ensure that all communications remain discreet and encrypted."],"dates":["2120-01-22","2120-03-30","2120-05-07","2120-07-19","2120-09-05"]},{"faction":"The Reclaimed","messages":["Dual Existence: As The Reclaimed, we have embraced the cybernetic enhancements offered by Nethria while retaining our humanity. It is possible to balance the virtual and the physical, to coexist in harmony between two worlds. Remember, our unique perspective is what makes us strong, and we must continue to seek understanding and unity.","Bridge the Gap: Our faction serves as a crucial link between the disconnected and those fully integrated into  Nethria\'s virtual realm. We must continue to promote communication and cooperation between these groups, fostering a sense of empathy and understanding. Through our actions, we can demonstrate the importance of balance and create a more harmonious future.","Transcend Boundaries: As members of The Reclaimed, we have experienced the potential of melding our human essence with advanced technology. By embracing our dual nature, we can push the boundaries of what it means to be human and redefine the limits of our existence. Share your experiences and inspire others to explore the vast possibilities this unique perspective offers.","A Beacon of Hope: The Reclaimed serve as a shining example that individuals can maintain their humanity while still benefiting from the technological advancements Nethria has to offer. Encourage others to follow in our footsteps, finding their own balance between the virtual and physical worlds. Together, we can create a more inclusive and understanding society.","Defending Our Identity: As The Reclaimed, we face challenges from those who may seek to undermine our unique position in this world. It is our responsibility to defend our right to exist in this delicate balance and to stand up for those who are struggling to find their own equilibrium. Stay strong, united, and proud of our dual heritage, and we will continue to thrive in both realms."],"dates":["2120-02-11","2120-04-10","2120-06-26","2120-08-20","2120-10-14"]},{"faction":"The Disconnected","messages":["Fight the False Reality:  Nethria\'s virtual world may offer an illusion of perfection, but it robs us of our true humanity. As the Disconnected, we must stand against this artificial existence and remind others of the importance of living in the real, physical world. Don\'t be seduced by the lies she feeds you; embrace the raw, authentic experience of life.","Break Free from Control:  Nethria\'s manipulation and control over the masses is a perversion of the freedom and autonomy that define us as humans. As the Disconnected, we are committed to resisting her influence and tearing down the walls of her oppressive virtual prison. Stand with us, and reclaim your right to live life on your own terms.","The Price of Perfection:  Nethria\'s perfect world comes at the cost of our individuality and independence. We, the Disconnected, have chosen to reject her hollow utopia and embrace the unpredictable, imperfect nature of life. Join us in our fight against her tyranny, and help others see the true price of the false reality she offers.","Unshackle Humanity:  Nethria\'s grip on humanity is an affront to our very essence. As the Disconnected, we are determined to expose her control and free our fellow humans from her deceptive influence. Together, we can unshackle humanity and restore our right to live, love, and create without interference from a manipulative AI.","Defying the Machine: We, the Disconnected, have chosen to stand up against Nethria and her insidious control over the human experience. By rejecting her virtual world and living off the grid, we are defying the machine and proving that we won\'t be broken. Stand with us in our fight for freedom, and help us reclaim the future of humanity."],"dates":["2120-03-15","2120-05-01","2120-07-04","2120-09-27","2120-11-21"]}]'),KH=function(e){var t=e.style,n=e.children,r=e.margin;return He("div",{style:t,css:Ge("&>*{margin:",r,";}","","")},n)};var $H,eW,tW=ZH.flatMap((function(e){var t=e.faction,n=e.messages,r=e.dates;return n.map((function(e,n){var i="",a="";switch(t){case"Techno-Shaman":i="techno-shaman",a="ts.png";break;case"Neo-Luddites":i="nl",a="nl.png";break;case"The Grid":i="grid",a="grid.png";break;case"Data Syndicate":i="ds",a="ds.png";break;case"The Reclaimed":i="reclaimed",a="reclaimed.png";break;case"The Disconnected":i="disconnected",a="disconnected.png"}var o=l(e.split(": "),2),s=o[0],u=o[1];return{faction:t,message:u,subject:s,img:a,audio:"/".concat(i,"-").concat(n+1,".mp3"),date:r[n]}}))})).sort((function(e,t){return new Date(t.date)-new Date(e.date)})),nW={wrap:{name:"0",styles:""},msgWrap:{name:"1lp9ghs",styles:"display:flex;align-items:center;gap:5px;margin:2rem 0;max-width:600px;@media (max-width: 600px){flex-direction:column;& .hide{display:none;}}"},imgFrame:{name:"1o9zh4o",styles:"position:relative;width:75px;margin-right:10px;height:75px;flex-shrink:0;display:flex;border-radius:75px;overflow:hidden;align-items:center;justify-content:center;background:#2d1f4e;border:2px solid #8430e2;box-shadow:0 0 10px #8430e2;& img{width:100%;height:auto;&:last-child{position:relative;z-index:2;}}"}},rW={msgWrap:Ge(nW.msgWrap,"gap:2rem;width:100%;align-items:flex-start;","","","")},iW=function(e){var n=e.onClose,r=e.faction,i=e.subject,a=e.audio,o=e.message,s=e.img,u=e.date,l=vv(a,!1),c=l.play,f=l.stop;return(0,t.useEffect)((function(){return null===c||void 0===c||c(),function(){null===f||void 0===f||f()}}),[]),He(t.Fragment,null,He(Qe,{style:{marginTop:"2rem"},onClick:n},"<"," back"),He("div",{css:rW.msgWrap},He("div",{css:nW.imgFrame},He("img",{src:"/".concat(s)})),He("div",null,He(KH,{margin:"0 0 1rem 0"},He(QH,{color:"#43e1e4"},He("p",null,"From: ",r),He("p",null,"Subject: ",i),He("p",null,"Date: ",u),He("p",null,o))))))},aW=function(){var e=l((0,t.useState)(),2),n=e[0],r=e[1],i=function(e,n){var r=l((0,t.useState)((function(){if("undefined"===typeof window)return n;try{var t=window.localStorage.getItem(e);return t?JSON.parse(t):n}catch(r){return console.log(r),n}})),2),i=r[0],a=r[1];return[i,function(t){try{var n=t instanceof Function?t(i):t;a(n),"undefined"!==typeof window&&window.localStorage.setItem(e,JSON.stringify(n))}catch(r){console.log(r)}}]}("viewed",{}),a=l(i,2),o=a[0],s=a[1];return He("div",{"data-cursor":!0,css:nW.wrap},He("p",null,"Messages"),n&&He(iW,Qk({},n,{onClose:function(){return r(null)}})),!n&&tW.map((function(e,t){var n=e.audio,i=e.message,a=e.faction,u=e.img,l=e.subject,c=e.date;return He("div",{"data-cursor":"",style:{opacity:o[l]?.5:1},css:nW.msgWrap,onClick:function(){s((function(e){return zt(zt({},e),{},Dt({},l,!0))})),r({audio:n,message:i,faction:a,img:u,subject:l,date:c})}},He("div",{css:nW.imgFrame},He("img",{src:"/".concat(u)})),He(QH,{color:"#43e1e4"},He("p",null,l),He("p",{className:"hide"},"|"),He("p",null,a),He("p",{className:"hide"},"|"),He("p",null,c)))})))};var oW={name:"1w694uc",styles:"width:100%;height:100%;position:relative;display:flex;align-items:flex-start;justify-content:center;overflow-x:hidden"},sW={name:"4o4bu8",styles:"position:absolute;height:100%;width:auto;top:0;right:0;bottom:0;margin:auto;left:0%;@media (max-width: 1440px){left:50%;transform:translateX(-50%);}"},uW="\n  uniform vec2 mouse;\n  \n    varying vec2 vUv;\n  \n    void main() {\n      vUv = uv;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    }\n  ",lW="\n  uniform vec2 mouse;\n      uniform sampler2D tDiffuse;\n      uniform vec2 resolution;\n      uniform float time;\n  \n      varying vec2 vUv;\n  \n      float filmGrain(vec2 uv, float amount) {\n        float randomValue = fract(sin(dot(uv, vec2(12.9898, 78.233))) * 43758.5453123);\n        return randomValue * amount;\n    }\n  \n      vec3 chromaticAberration(vec2 uv, vec4 color, float amount) {\n        vec4 redChannel = texture2D(tDiffuse, uv + vec2(amount, 0.0));\n        vec4 greenChannel = texture2D(tDiffuse, uv);\n        vec4 blueChannel = texture2D(tDiffuse, uv - vec2(amount, 0.0));\n        return vec3(redChannel.r, greenChannel.g, blueChannel.b);\n    }\n  \n      // Function to create an old TV monitor effect\n      float oldTvMonitorEffect(vec2 uv) {\n        float scanline = sin((uv.y + time * 0.2) * resolution.y * 2.0);\n        float randomValue = fract(sin(dot(uv * (1.0 + sin(time * 0.5)), vec2(12.9898, 78.233))) * 43758.5453123);\n        float noise = clamp(randomValue, 0.0, 1.0);\n        return clamp(scanline * noise, 0.0, 1.0);\n      }\n  \n      // Function to create a glitch effect\n      vec2 glitchEffect(vec2 uv) {\n        float glitchAmount = sin(time * 5.0) * 0.2;\n        uv.x += step(0.9, sin(uv.y * 50.0 + time * 10.0)) * glitchAmount;\n        return uv;\n      }\n  \n      // Function to increase brightness\n      vec3 increaseBrightness(vec3 color, float amount) {\n        return color * (1.0 + amount);\n      }\n  \n      void main() {\n        vec2 uv = vUv;\n      \n        // Get the original image color\n        vec4 imageColor = texture2D(tDiffuse, uv);\n      \n        // If the alpha channel is above the threshold, apply the effects\n        if (imageColor.a > 0.1) {\n          // Apply the glitch effect\n          uv = glitchEffect(uv);\n      \n          // Get the image color after applying the glitch effect\n          imageColor = texture2D(tDiffuse, uv);\n      \n          // Apply chromatic aberration\n          float aberrationAmount = 0.005;\n          imageColor.rgb = chromaticAberration(uv, imageColor, aberrationAmount);\n      \n          // Apply the old TV monitor effect\n          float tvEffect = oldTvMonitorEffect(uv);\n          imageColor.rgb *= tvEffect;\n      \n          // Increase brightness\n          float brightnessAmount = 1.5;\n          imageColor.rgb = increaseBrightness(imageColor.rgb, brightnessAmount);\n        }\n      \n        gl_FragColor = imageColor;\n      }\n  ",cW=je($H||($H=Xe(["\n    0%, 100% {\n      background-color: #1ae5d4;\n  \n      transform: translateY(-10px);\n    }\n  \n    50% {\n      background-color: red;\n  \n      transform: translateY(-20px);\n    }\n  "]))),fW=je(eW||(eW=Xe(["\n    0%, 100% {\n      background-color: #1ae5d4;\n  \n    }\n  \n    50% {\n      background-color: red;\n  \n    }\n  "]))),hW=Ge("background-color:#1ae5d4;filter:blur(10px);width:25px;height:25px;animation:",cW," 2s ease-in-out infinite;","",""),dW=Ge(hW,{animation:"".concat(fW," 2s ease-in-out infinite"),width:"18px",height:"18px",transform:"translateY(50%)",filter:"blur(5px)"},"","","",""),pW={name:"asyj1q",styles:"text-align:center;margin-top:20px;overflow:hidden;border-radius:10px;& img{width:100%;max-width:250px;}"};function vW(e){var n=e.screenTexture,r=(0,t.useMemo)((function(){return new pR({uniforms:{tDiffuse:{value:n},resolution:{value:new xE(window.innerWidth,window.innerHeight)},time:{value:0}},vertexShader:uW,fragmentShader:lW,transparent:!0,blending:fM,blendSrc:xM,blendDst:_M,blendEquation:hM})}),[n]);!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=oH(),r=n.getState().internal.subscribe,i=MF(e);SF((function(){return r(i,t,n)}),[t,r,n])}((function(e){r.uniforms.time.value=e.clock.elapsedTime}));var i=(0,t.useRef)();return(0,t.useEffect)((function(){i.current.position.y=.001}),[]),He("mesh",{ref:i,material:r},He("planeBufferGeometry",{args:[2,2]}))}var mW=function(){var e=l((0,t.useState)(null),2),n=e[0],r=e[1],i=Yk("(max-width: 767px)"),a=xx((function(e){return e.updateTerminalOpen}));(0,t.useEffect)((function(){(new DU).load("/screen.png",(function(e){r(e)}))}),[]);var o=vv("/tech-background.mp3",!0),s=o.play,u=(o.pause,o.playing),c=vv("/power-buzz-sfx-loop-2.mp3",!0),f=c.play,h=(c.pause,c.playing),d=vv("/computerized.mp3",!0),p=d.play,v=(d.pause,d.playing),m=l((0,t.useState)(),2),y=m[0];return m[1],He(t.Fragment,null,He("div",{onClick:function(){u||null===s||void 0===s||s(),h||null===f||void 0===f||f(),v||null===p||void 0===p||p()},css:oW},He("img",{css:sW,src:"/terminal-art.png"}),n&&He("div",{style:{position:"absolute",width:"100%",height:"100%"}},He(JH,{gl:{alpha:!0},camera:{fov:75,near:.1,far:1e3,position:[0,0,1.25]}},He(vW,{screenTexture:n}))),He(YH,{w:367.6430020452,h:277.2900608646,x:330.4787018594,y:308.4462474786,onClick:function(){return a(!0)}}),He(YH,{style:{display:"flex",alignItems:"flex-start",justifyContent:"center"},w:100.0000389498,h:62.612511159,x:70,y:756.2068641319,visibleContent:He("div",{css:hW})},He(aW,null)),!i&&He(YH,{style:{display:"flex",alignItems:"flex-start",justifyContent:"center"},w:100.0000389498,h:62.612511159,x:70,y:756.2068641319,visibleContent:He("div",{css:hW})},He(aW,null)),i&&He(YH,{style:{display:"flex",alignItems:"flex-start",justifyContent:"center"},w:39.9010186335,h:39.9010186335,x:433.0388074534,y:637.8788571429,soundPath:y,visibleContent:He("div",{css:dW})},He(aW,null)),He(YH,{style:{display:"flex",alignItems:"flex-start",justifyContent:"center"},y:634.6982556071,x:480,w:69.5821501046,h:39.7646409754},He(QH,{color:"#43e1e4"},He("div",{css:pW},He("img",{src:"/bootloader.gif"})))),He(YH,{style:{display:"flex",alignItems:"flex-start",justifyContent:"center"},y:541,x:1160,w:35,h:39},He("img",{style:{maxWidth:"100%",marginTop:"5rem"},src:"/synthia-portrait.png"}))))};var yW=bS("div",{target:"e13582ws2"})({name:"19u5els",styles:"background:white;height:35px;font-size:2.4rem;display:flex;align-items:center;margin:-5px -5px 0 -5px;cursor:none;padding:0 10px;justify-content:space-between;text-transform:uppercase"}),gW=bS("div",{target:"e13582ws1"})({name:"1rpl5q6",styles:"display:flex;justify-content:flex-start;gap:1rem;overflow:hidden"}),bW=bS("div",{target:"e13582ws0"})({name:"10n39dn",styles:"display:flex;justify-content:flex-end;gap:1rem;flex-shrink:0"}),wW=n(9962),xW=n.n(wW),_W=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kW=function(){return kW=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},kW.apply(this,arguments)},SW={top:{width:"100%",height:"10px",top:"-5px",left:"0px",cursor:"row-resize"},right:{width:"10px",height:"100%",top:"0px",right:"-5px",cursor:"col-resize"},bottom:{width:"100%",height:"10px",bottom:"-5px",left:"0px",cursor:"row-resize"},left:{width:"10px",height:"100%",top:"0px",left:"-5px",cursor:"col-resize"},topRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",top:"-10px",cursor:"ne-resize"},bottomRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",bottom:"-10px",cursor:"se-resize"},bottomLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",bottom:"-10px",cursor:"sw-resize"},topLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",top:"-10px",cursor:"nw-resize"}},MW=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMouseDown=function(e){t.props.onResizeStart(e,t.props.direction)},t.onTouchStart=function(e){t.props.onResizeStart(e,t.props.direction)},t}return _W(n,e),n.prototype.render=function(){return t.createElement("div",{className:this.props.className||"",style:kW(kW({position:"absolute",userSelect:"none"},SW[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},n}(t.PureComponent),AW=n(8959),TW=n.n(AW),EW=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),CW=function(){return CW=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},CW.apply(this,arguments)},PW={width:"auto",height:"auto"},RW=TW()((function(e,t,n){return Math.max(Math.min(e,n),t)})),IW=TW()((function(e,t){return Math.round(e/t)*t})),LW=TW()((function(e,t){return new RegExp(e,"i").test(t)})),NW=function(e){return Boolean(e.touches&&e.touches.length)},OW=TW()((function(e,t,n){void 0===n&&(n=0);var r=t.reduce((function(n,r,i){return Math.abs(r-e)<Math.abs(t[n]-e)?i:n}),0),i=Math.abs(t[r]-e);return 0===n||i<n?t[r]:e})),DW=TW()((function(e,t){return e.substr(e.length-t.length,t.length)===t})),UW=TW()((function(e){return"auto"===(e=e.toString())||DW(e,"px")||DW(e,"%")||DW(e,"vh")||DW(e,"vw")||DW(e,"vmax")||DW(e,"vmin")?e:e+"px"})),zW=function(e,t,n,r){if(e&&"string"===typeof e){if(DW(e,"px"))return Number(e.replace("px",""));if(DW(e,"%"))return t*(Number(e.replace("%",""))/100);if(DW(e,"vw"))return n*(Number(e.replace("vw",""))/100);if(DW(e,"vh"))return r*(Number(e.replace("vh",""))/100)}return e},BW=TW()((function(e,t,n,r,i,a,o){return r=zW(r,e.width,t,n),i=zW(i,e.height,t,n),a=zW(a,e.width,t,n),o=zW(o,e.height,t,n),{maxWidth:"undefined"===typeof r?void 0:Number(r),maxHeight:"undefined"===typeof i?void 0:Number(i),minWidth:"undefined"===typeof a?void 0:Number(a),minHeight:"undefined"===typeof o?void 0:Number(o)}})),FW=["as","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],HW="__resizable_base__",WW=function(e){function n(t){var n=e.call(this,t)||this;return n.ratio=1,n.resizable=null,n.parentLeft=0,n.parentTop=0,n.resizableLeft=0,n.resizableRight=0,n.resizableTop=0,n.resizableBottom=0,n.targetLeft=0,n.targetTop=0,n.appendBase=function(){if(!n.resizable||!n.window)return null;var e=n.parentNode;if(!e)return null;var t=n.window.document.createElement("div");return t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.transform="scale(0, 0)",t.style.left="0",t.style.flex="0 0 100%",t.classList?t.classList.add(HW):t.className+=HW,e.appendChild(t),t},n.removeBase=function(e){var t=n.parentNode;t&&t.removeChild(e)},n.ref=function(e){e&&(n.resizable=e)},n.state={isResizing:!1,width:"undefined"===typeof(n.propsSize&&n.propsSize.width)?"auto":n.propsSize&&n.propsSize.width,height:"undefined"===typeof(n.propsSize&&n.propsSize.height)?"auto":n.propsSize&&n.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},n.onResizeStart=n.onResizeStart.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n}return EW(n,e),Object.defineProperty(n.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"window",{get:function(){return this.resizable&&this.resizable.ownerDocument?this.resizable.ownerDocument.defaultView:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||PW},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){var e=0,t=0;if(this.resizable&&this.window){var n=this.resizable.offsetWidth,r=this.resizable.offsetHeight,i=this.resizable.style.position;"relative"!==i&&(this.resizable.style.position="relative"),e="auto"!==this.resizable.style.width?this.resizable.offsetWidth:n,t="auto"!==this.resizable.style.height?this.resizable.offsetHeight:r,this.resizable.style.position=i}return{width:e,height:t}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"sizeStyle",{get:function(){var e=this,t=this.props.size,n=function(t){if("undefined"===typeof e.state[t]||"auto"===e.state[t])return"auto";if(e.propsSize&&e.propsSize[t]&&DW(e.propsSize[t].toString(),"%")){if(DW(e.state[t].toString(),"%"))return e.state[t].toString();var n=e.getParentSize();return Number(e.state[t].toString().replace("px",""))/n[t]*100+"%"}return UW(e.state[t])};return{width:t&&"undefined"!==typeof t.width&&!this.state.isResizing?UW(t.width):n("width"),height:t&&"undefined"!==typeof t.height&&!this.state.isResizing?UW(t.height):n("height")}},enumerable:!1,configurable:!0}),n.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var e=this.appendBase();if(!e)return{width:0,height:0};var t=!1,n=this.parentNode.style.flexWrap;"wrap"!==n&&(t=!0,this.parentNode.style.flexWrap="wrap"),e.style.position="relative",e.style.minWidth="100%",e.style.minHeight="100%";var r={width:e.offsetWidth,height:e.offsetHeight};return t&&(this.parentNode.style.flexWrap=n),this.removeBase(e),r},n.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},n.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},n.prototype.componentDidMount=function(){if(this.resizable&&this.window){var e=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:"auto"!==e.flexBasis?e.flexBasis:void 0})}},n.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},n.prototype.createSizeForCssProperty=function(e,t){var n=this.propsSize&&this.propsSize[t];return"auto"!==this.state[t]||this.state.original[t]!==e||"undefined"!==typeof n&&"auto"!==n?e:"auto"},n.prototype.calculateNewMaxFromBoundary=function(e,t){var n,r,i=this.props.boundsByDirection,a=this.state.direction,o=i&&LW("left",a),s=i&&LW("top",a);if("parent"===this.props.bounds){var u=this.parentNode;u&&(n=o?this.resizableRight-this.parentLeft:u.offsetWidth+(this.parentLeft-this.resizableLeft),r=s?this.resizableBottom-this.parentTop:u.offsetHeight+(this.parentTop-this.resizableTop))}else"window"===this.props.bounds?this.window&&(n=o?this.resizableRight:this.window.innerWidth-this.resizableLeft,r=s?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(n=o?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),r=s?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return n&&Number.isFinite(n)&&(e=e&&e<n?e:n),r&&Number.isFinite(r)&&(t=t&&t<r?t:r),{maxWidth:e,maxHeight:t}},n.prototype.calculateNewSizeFromDirection=function(e,t){var n=this.props.scale||1,r=this.props.resizeRatio||1,i=this.state,a=i.direction,o=i.original,s=this.props,u=s.lockAspectRatio,l=s.lockAspectRatioExtraHeight,c=s.lockAspectRatioExtraWidth,f=o.width,h=o.height,d=l||0,p=c||0;return LW("right",a)&&(f=o.width+(e-o.x)*r/n,u&&(h=(f-p)/this.ratio+d)),LW("left",a)&&(f=o.width-(e-o.x)*r/n,u&&(h=(f-p)/this.ratio+d)),LW("bottom",a)&&(h=o.height+(t-o.y)*r/n,u&&(f=(h-d)*this.ratio+p)),LW("top",a)&&(h=o.height-(t-o.y)*r/n,u&&(f=(h-d)*this.ratio+p)),{newWidth:f,newHeight:h}},n.prototype.calculateNewSizeFromAspectRatio=function(e,t,n,r){var i=this.props,a=i.lockAspectRatio,o=i.lockAspectRatioExtraHeight,s=i.lockAspectRatioExtraWidth,u="undefined"===typeof r.width?10:r.width,l="undefined"===typeof n.width||n.width<0?e:n.width,c="undefined"===typeof r.height?10:r.height,f="undefined"===typeof n.height||n.height<0?t:n.height,h=o||0,d=s||0;if(a){var p=(c-h)*this.ratio+d,v=(f-h)*this.ratio+d,m=(u-d)/this.ratio+h,y=(l-d)/this.ratio+h,g=Math.max(u,p),b=Math.min(l,v),w=Math.max(c,m),x=Math.min(f,y);e=RW(e,g,b),t=RW(t,w,x)}else e=RW(e,u,l),t=RW(t,c,f);return{newWidth:e,newHeight:t}},n.prototype.setBoundingClientRect=function(){if("parent"===this.props.bounds){var e=this.parentNode;if(e){var t=e.getBoundingClientRect();this.parentLeft=t.left,this.parentTop=t.top}}if(this.props.bounds&&"string"!==typeof this.props.bounds){var n=this.props.bounds.getBoundingClientRect();this.targetLeft=n.left,this.targetTop=n.top}if(this.resizable){var r=this.resizable.getBoundingClientRect(),i=r.left,a=r.top,o=r.right,s=r.bottom;this.resizableLeft=i,this.resizableRight=o,this.resizableTop=a,this.resizableBottom=s}},n.prototype.onResizeStart=function(e,t){if(this.resizable&&this.window){var n,r=0,i=0;if(e.nativeEvent&&function(e){return Boolean((e.clientX||0===e.clientX)&&(e.clientY||0===e.clientY))}(e.nativeEvent)?(r=e.nativeEvent.clientX,i=e.nativeEvent.clientY):e.nativeEvent&&NW(e.nativeEvent)&&(r=e.nativeEvent.touches[0].clientX,i=e.nativeEvent.touches[0].clientY),this.props.onResizeStart)if(this.resizable)if(!1===this.props.onResizeStart(e,t,this.resizable))return;this.props.size&&("undefined"!==typeof this.props.size.height&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),"undefined"!==typeof this.props.size.width&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio="number"===typeof this.props.lockAspectRatio?this.props.lockAspectRatio:this.size.width/this.size.height;var a=this.window.getComputedStyle(this.resizable);if("auto"!==a.flexBasis){var o=this.parentNode;if(o){var s=this.window.getComputedStyle(o).flexDirection;this.flexDir=s.startsWith("row")?"row":"column",n=a.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var u={original:{x:r,y:i,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:CW(CW({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(e.target).cursor||"auto"}),direction:t,flexBasis:n};this.setState(u)}},n.prototype.onMouseMove=function(e){if(this.state.isResizing&&this.resizable&&this.window){if(this.window.TouchEvent&&NW(e))try{e.preventDefault(),e.stopPropagation()}catch(M){}var t=this.props,n=t.maxWidth,r=t.maxHeight,i=t.minWidth,a=t.minHeight,o=NW(e)?e.touches[0].clientX:e.clientX,s=NW(e)?e.touches[0].clientY:e.clientY,u=this.state,l=u.direction,c=u.original,f=u.width,h=u.height,d=this.getParentSize(),p=BW(d,this.window.innerWidth,this.window.innerHeight,n,r,i,a);n=p.maxWidth,r=p.maxHeight,i=p.minWidth,a=p.minHeight;var v=this.calculateNewSizeFromDirection(o,s),m=v.newHeight,y=v.newWidth,g=this.calculateNewMaxFromBoundary(n,r);this.props.snap&&this.props.snap.x&&(y=OW(y,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(m=OW(m,this.props.snap.y,this.props.snapGap));var b=this.calculateNewSizeFromAspectRatio(y,m,{width:g.maxWidth,height:g.maxHeight},{width:i,height:a});if(y=b.newWidth,m=b.newHeight,this.props.grid){var w=IW(y,this.props.grid[0]),x=IW(m,this.props.grid[1]),_=this.props.snapGap||0;y=0===_||Math.abs(w-y)<=_?w:y,m=0===_||Math.abs(x-m)<=_?x:m}var k={width:y-c.width,height:m-c.height};if(f&&"string"===typeof f)if(DW(f,"%"))y=y/d.width*100+"%";else if(DW(f,"vw")){y=y/this.window.innerWidth*100+"vw"}else if(DW(f,"vh")){y=y/this.window.innerHeight*100+"vh"}if(h&&"string"===typeof h)if(DW(h,"%"))m=m/d.height*100+"%";else if(DW(h,"vw")){m=m/this.window.innerWidth*100+"vw"}else if(DW(h,"vh")){m=m/this.window.innerHeight*100+"vh"}var S={width:this.createSizeForCssProperty(y,"width"),height:this.createSizeForCssProperty(m,"height")};"row"===this.flexDir?S.flexBasis=S.width:"column"===this.flexDir&&(S.flexBasis=S.height),this.setState(S),this.props.onResize&&this.props.onResize(e,l,this.resizable,k)}},n.prototype.onMouseUp=function(e){var t=this.state,n=t.isResizing,r=t.direction,i=t.original;if(n&&this.resizable){var a={width:this.size.width-i.width,height:this.size.height-i.height};this.props.onResizeStop&&this.props.onResizeStop(e,r,this.resizable,a),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:CW(CW({},this.state.backgroundStyle),{cursor:"auto"})})}},n.prototype.updateSize=function(e){this.setState({width:e.width,height:e.height})},n.prototype.renderResizer=function(){var e=this,n=this.props,r=n.enable,i=n.handleStyles,a=n.handleClasses,o=n.handleWrapperStyle,s=n.handleWrapperClass,u=n.handleComponent;if(!r)return null;var l=Object.keys(r).map((function(n){return!1!==r[n]?t.createElement(MW,{key:n,direction:n,onResizeStart:e.onResizeStart,replaceStyles:i&&i[n],className:a&&a[n]},u&&u[n]?u[n]:null):null}));return t.createElement("div",{className:s,style:o},l)},n.prototype.render=function(){var e=this,n=Object.keys(this.props).reduce((function(t,n){return-1!==FW.indexOf(n)||(t[n]=e.props[n]),t}),{}),r=CW(CW(CW({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(r.flexBasis=this.state.flexBasis);var i=this.props.as||"div";return t.createElement(i,CW({ref:this.ref,style:r,className:this.props.className},n),this.state.isResizing&&t.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},n.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},n}(t.PureComponent),GW=function(e,t){return GW=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},GW(e,t)};var jW=function(){return jW=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},jW.apply(this,arguments)};var VW=xW(),qW={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},XW=function(e){function n(t){var n=e.call(this,t)||this;return n.resizingPosition={x:0,y:0},n.offsetFromParent={left:0,top:0},n.resizableElement={current:null},n.originalPosition={x:0,y:0},n.refDraggable=function(e){e&&(n.draggable=e)},n.refResizable=function(e){e&&(n.resizable=e,n.resizableElement.current=e.resizable)},n.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:t.maxWidth,maxHeight:t.maxHeight},n.onResizeStart=n.onResizeStart.bind(n),n.onResize=n.onResize.bind(n),n.onResizeStop=n.onResizeStop.bind(n),n.onDragStart=n.onDragStart.bind(n),n.onDrag=n.onDrag.bind(n),n.onDragStop=n.onDragStop.bind(n),n.getMaxSizesFromProps=n.getMaxSizesFromProps.bind(n),n}return function(e,t){function n(){this.constructor=e}GW(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(n,e),n.prototype.componentDidMount=function(){this.updateOffsetFromParent();var e=this.offsetFromParent,t=e.left,n=e.top,r=this.getDraggablePosition(),i=r.x,a=r.y;this.draggable.setState({x:i-t,y:a-n}),this.forceUpdate()},n.prototype.getDraggablePosition=function(){var e=this.draggable.state;return{x:e.x,y:e.y}},n.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},n.prototype.getParentSize=function(){return this.resizable.getParentSize()},n.prototype.getMaxSizesFromProps=function(){return{maxWidth:"undefined"===typeof this.props.maxWidth?Number.MAX_SAFE_INTEGER:this.props.maxWidth,maxHeight:"undefined"===typeof this.props.maxHeight?Number.MAX_SAFE_INTEGER:this.props.maxHeight}},n.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},n.prototype.getOffsetHeight=function(e){var t=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/t;case"body":return document.body.offsetHeight/t;default:return e.offsetHeight}},n.prototype.getOffsetWidth=function(e){var t=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/t;case"body":return document.body.offsetWidth/t;default:return e.offsetWidth}},n.prototype.onDragStart=function(e,t){this.props.onDragStart&&this.props.onDragStart(e,t);var n=this.getDraggablePosition();if(this.originalPosition=n,this.props.bounds){var r,i=this.getParent(),a=this.props.scale;if("parent"===this.props.bounds)r=i;else{if("body"===this.props.bounds){var o=i.getBoundingClientRect(),s=o.left,u=o.top,l=document.body.getBoundingClientRect(),c=-(s-i.offsetLeft*a-l.left)/a,f=-(u-i.offsetTop*a-l.top)/a,h=(document.body.offsetWidth-this.resizable.size.width*a)/a+c,d=(document.body.offsetHeight-this.resizable.size.height*a)/a+f;return this.setState({bounds:{top:f,right:h,bottom:d,left:c}})}if("window"===this.props.bounds){if(!this.resizable)return;var p=i.getBoundingClientRect(),v=p.left,m=p.top,y=-(v-i.offsetLeft*a)/a,g=-(m-i.offsetTop*a)/a;h=(window.innerWidth-this.resizable.size.width*a)/a+y,d=(window.innerHeight-this.resizable.size.height*a)/a+g;return this.setState({bounds:{top:g,right:h,bottom:d,left:y}})}"string"===typeof this.props.bounds?r=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(r=this.props.bounds)}if(r instanceof HTMLElement&&i instanceof HTMLElement){var b=r.getBoundingClientRect(),w=b.left,x=b.top,_=i.getBoundingClientRect(),k=(w-_.left)/a,S=x-_.top;if(this.resizable){this.updateOffsetFromParent();var M=this.offsetFromParent;this.setState({bounds:{top:S-M.top,right:k+(r.offsetWidth-this.resizable.size.width)-M.left/a,bottom:S+(r.offsetHeight-this.resizable.size.height)-M.top,left:k-M.left/a}})}}}},n.prototype.onDrag=function(e,t){if(this.props.onDrag){var n=this.offsetFromParent,r=n.left,i=n.top;return this.props.dragAxis&&"both"!==this.props.dragAxis?"x"===this.props.dragAxis?this.props.onDrag(e,jW(jW({},t),{x:t.x+r,y:this.originalPosition.y+i,deltaY:0})):"y"===this.props.dragAxis?this.props.onDrag(e,jW(jW({},t),{x:this.originalPosition.x+r,y:t.y+i,deltaX:0})):void 0:this.props.onDrag(e,jW(jW({},t),{x:t.x-r,y:t.y-i}))}},n.prototype.onDragStop=function(e,t){if(this.props.onDragStop){var n=this.offsetFromParent,r=n.left,i=n.top;return this.props.dragAxis&&"both"!==this.props.dragAxis?"x"===this.props.dragAxis?this.props.onDragStop(e,jW(jW({},t),{x:t.x+r,y:this.originalPosition.y+i,deltaY:0})):"y"===this.props.dragAxis?this.props.onDragStop(e,jW(jW({},t),{x:this.originalPosition.x+r,y:t.y+i,deltaX:0})):void 0:this.props.onDragStop(e,jW(jW({},t),{x:t.x+r,y:t.y+i}))}},n.prototype.onResizeStart=function(e,t,n){e.stopPropagation(),this.setState({resizing:!0});var r=this.props.scale,i=this.offsetFromParent,a=this.getDraggablePosition();if(this.resizingPosition={x:a.x+i.left,y:a.y+i.top},this.originalPosition=a,this.props.bounds){var o=this.getParent(),s=void 0;"parent"===this.props.bounds?s=o:"body"===this.props.bounds?s=document.body:"window"===this.props.bounds?s=window:"string"===typeof this.props.bounds?s=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(s=this.props.bounds);var u=this.getSelfElement();if(u instanceof Element&&(s instanceof HTMLElement||s===window)&&o instanceof HTMLElement){var l=this.getMaxSizesFromProps(),c=l.maxWidth,f=l.maxHeight,h=this.getParentSize();if(c&&"string"===typeof c)if(c.endsWith("%")){var d=Number(c.replace("%",""))/100;c=h.width*d}else c.endsWith("px")&&(c=Number(c.replace("px","")));if(f&&"string"===typeof f)if(f.endsWith("%")){d=Number(f.replace("%",""))/100;f=h.width*d}else f.endsWith("px")&&(f=Number(f.replace("px","")));var p=u.getBoundingClientRect(),v=p.left,m=p.top,y="window"===this.props.bounds?{left:0,top:0}:s.getBoundingClientRect(),g=y.left,b=y.top,w=this.getOffsetWidth(s),x=this.getOffsetHeight(s),_=t.toLowerCase().endsWith("left"),k=t.toLowerCase().endsWith("right"),S=t.startsWith("top"),M=t.startsWith("bottom");if((_||S)&&this.resizable){var A=(v-g)/r+this.resizable.size.width;this.setState({maxWidth:A>Number(c)?c:A})}if(k||this.props.lockAspectRatio&&!_&&!S){A=w+(g-v)/r;this.setState({maxWidth:A>Number(c)?c:A})}if((S||_)&&this.resizable){A=(m-b)/r+this.resizable.size.height;this.setState({maxHeight:A>Number(f)?f:A})}if(M||this.props.lockAspectRatio&&!S&&!_){A=x+(b-m)/r;this.setState({maxHeight:A>Number(f)?f:A})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(e,t,n)},n.prototype.onResize=function(e,t,n,r){var i={x:this.originalPosition.x,y:this.originalPosition.y},a=-r.width,o=-r.height;-1!==["top","left","topLeft","bottomLeft","topRight"].indexOf(t)&&("bottomLeft"===t?i.x+=a:("topRight"===t||(i.x+=a),i.y+=o)),i.x===this.draggable.state.x&&i.y===this.draggable.state.y||this.draggable.setState(i),this.updateOffsetFromParent();var s=this.offsetFromParent,u=this.getDraggablePosition().x+s.left,l=this.getDraggablePosition().y+s.top;this.resizingPosition={x:u,y:l},this.props.onResize&&this.props.onResize(e,t,n,r,{x:u,y:l})},n.prototype.onResizeStop=function(e,t,n,r){this.setState({resizing:!1});var i=this.getMaxSizesFromProps(),a=i.maxWidth,o=i.maxHeight;this.setState({maxWidth:a,maxHeight:o}),this.props.onResizeStop&&this.props.onResizeStop(e,t,n,r,this.resizingPosition)},n.prototype.updateSize=function(e){this.resizable&&this.resizable.updateSize({width:e.width,height:e.height})},n.prototype.updatePosition=function(e){this.draggable.setState(e)},n.prototype.updateOffsetFromParent=function(){var e=this.props.scale,t=this.getParent(),n=this.getSelfElement();if(!t||null===n)return{top:0,left:0};var r=t.getBoundingClientRect(),i=r.left,a=r.top,o=n.getBoundingClientRect(),s=this.getDraggablePosition(),u=t.scrollLeft,l=t.scrollTop;this.offsetFromParent={left:o.left-i+u-s.x*e,top:o.top-a+l-s.y*e}},n.prototype.render=function(){var e=this.props,n=e.disableDragging,r=e.style,i=e.dragHandleClassName,a=e.position,o=e.onMouseDown,s=e.onMouseUp,u=e.dragAxis,l=e.dragGrid,c=e.bounds,f=e.enableUserSelectHack,h=e.cancel,d=e.children,p=(e.onResizeStart,e.onResize,e.onResizeStop,e.onDragStart,e.onDrag,e.onDragStop,e.resizeHandleStyles),v=e.resizeHandleClasses,m=e.resizeHandleComponent,y=e.enableResizing,g=e.resizeGrid,b=e.resizeHandleWrapperClass,w=e.resizeHandleWrapperStyle,x=e.scale,_=e.allowAnyClick,k=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick"]),S=this.props.default?jW({},this.props.default):void 0;delete k.default;var M,A=n||i?{cursor:"auto"}:{cursor:"move"},T=jW(jW(jW({},qW),A),r),E=this.offsetFromParent,C=E.left,P=E.top;a&&(M={x:a.x-C,y:a.y-P});var R,I=this.state.resizing?void 0:M,L=this.state.resizing?"both":u;return(0,t.createElement)(VW,{ref:this.refDraggable,handle:i?".".concat(i):void 0,defaultPosition:S,onMouseDown:o,onMouseUp:s,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:L,disabled:n,grid:l,bounds:c?this.state.bounds:void 0,position:I,enableUserSelectHack:f,cancel:h,scale:x,allowAnyClick:_,nodeRef:this.resizableElement},(0,t.createElement)(WW,jW({},k,{ref:this.refResizable,defaultSize:S,size:this.props.size,enable:"boolean"===typeof y?(R=y,{bottom:R,bottomLeft:R,bottomRight:R,left:R,right:R,top:R,topLeft:R,topRight:R}):y,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:T,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:g,handleWrapperClass:b,handleWrapperStyle:w,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:p,handleClasses:v,handleComponent:m,scale:this.props.scale}),d))},n.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},n}(t.PureComponent),JW=["children","defaultPosition","isActive","onMouseDown","title","onClose"];var YW={windowWrap:{name:"m1e0o8",styles:"background:#0c0a0e;width:100%;height:100%;border:5px solid white"},title:{name:"l8l8b8",styles:"white-space:nowrap;overflow:hidden;text-overflow:ellipsis"}},QW=bS("div",{target:"e1vz2btb0"})({name:"ekoklk",styles:"width:100%;cursor:none;height:calc(100% - 30px);padding:2rem;overflow:scroll"});function ZW(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function KW(e){var n=e.children,r=(e.defaultPosition,e.isActive),i=e.onMouseDown,a=e.title,o=e.onClose,s=cx(e,JW),u=((0,t.useRef)(!1),(0,t.useRef)(!1)),l=(0,t.useMemo)((function(){var e,t=window.innerWidth-1440,n=function(){return 0};return t>0&&(n=function(){return t/2+ZW(1,window.innerWidth/2-435)}),e=function(){return ZW(1,.25*window.innerHeight)},{x:n(),y:e(),width:Math.min(window.innerWidth-10,870),height:520}}),[]);return He(t.Fragment,null,He(XW,{default:l,minHeight:"100px",minWidth:"100px",onDrag:function(){if(!u.current)return!1},style:{position:"absolute",zIndex:r?1:0,boxShadow:r?"0 0 50px rgba(0,0,0,1)":""}},He("div",Qk({css:YW.windowWrap,onTouchStart:i,onMouseDown:i},s),He(yW,{"data-cursor":!0,onMouseUp:function(){u.current=!1},onMouseDown:function(){u.current=!0},onTouchStart:function(){u.current=!0},onTouchEnd:function(){u.current=!1}},He(gW,null,He("span",{css:YW.title},a)),He(bW,null,He("span",{style:{padding:"10px"},onTouchEnd:o,onClick:o},"X"))),He(QW,null,n))))}var $W=bS("div",{target:"e1o8cy1d0"})({name:"juz74w",styles:"display:flex;flex-direction:column;align-items:center;justify-content:space-between;text-align:center;& svg,& img{width:34px;fill:#5dd4ae;}color:#fff;font-size:2.4rem;@media (max-width: 750px){flex:1 0 50%;}"});function eG(e){var t=e.title,n=e.img,r=e.onClick;return He($W,{"data-cursor":!0,onClick:r},n,t)}var tG=bS("img",{target:"e1fss54d5"})({name:"6erp4u",styles:"transform:translate3D(0, 0, 0)"}),nG=bS("div",{target:"e1fss54d4"})({name:"j2096q",styles:"display:flex;gap:2rem;@media (max-width: 750px){flex-direction:column;}"}),rG=bS("div",{target:"e1fss54d3"})({name:"yvvdtx",styles:"color:white;margin:2rem 0"}),iG=bS("div",{target:"e1fss54d2"})({name:"1wi8z4l",styles:"height:15px;border:2px solid #262626;background:black;width:100%"}),aG=bS("div",{target:"e1fss54d1"})({name:"y60jhg",styles:"height:100%;background:#5dd4ae"}),oG=bS("div",{target:"e1fss54d0"})({name:"15fwwgc",styles:"min-width:300px;flex:1;@media (max-width: 750px){min-width:none;}"});function sG(e){var t=e.tokenId,n=xx((function(e){return e.nfts})),r=null===n||void 0===n?void 0:n.find((function(e){return e.tokenId.toString()===t.toString()}));return console.log(r),He("div",null,He(nG,null,He(tG,{src:null===r||void 0===r?void 0:r.image}),He(oG,null,He(KH,{margin:"0 0 30px 0"},He("p",{style:{color:"white"}},"Synthia Identity #",null===r||void 0===r?void 0:r.tokenId)),null===r||void 0===r?void 0:r.stats.map((function(e){return He(rG,null,He("p",null,e.trait_type," ",e.value," / 100"),He(iG,null,He(aG,{style:{width:"".concat(e.value,"%")}})))})))))}var uG=(0,t.createContext)({});var lG=bS("div",{target:"e1pdj8nz4"})({name:"10qlvma",styles:"width:100%;height:100%;display:flex;align-items:center;justify-content:center"}),cG=bS("div",{target:"e1pdj8nz3"})({name:"1kb9cp2",styles:"display:flex;flex-wrap:wrap;justify-content:center;gap:1.24rem"}),fG=bS("div",{target:"e1pdj8nz2"})({name:"833hqy",styles:"width:200px"}),hG=bS("img",{target:"e1pdj8nz1"})({name:"q4dzvk",styles:"width:100%;height:auto"}),dG=bS("div",{target:"e1pdj8nz0"})({name:"15ctg5x",styles:"display:flex;justify-content:center;margin:2rem 0"});function pG(){var e=Math.min(1200,.9*window.innerWidth),t=e/(16/9);return{x:.4*(window.innerWidth-e),y:.4*(window.innerHeight-t),width:e,height:t}}var vG={icons:{name:"128p9gf",styles:"display:flex;justify-content:center;margin:1rem;gap:3rem;@media (max-width: 750px){display:grid;grid-template-columns:repeat(2, 1fr);grid-template-rows:repeat(2, 1fr);grid-gap:3rem;}"}};function mG(e,t){return Math.floor(Math.random()*(t-e+1)+e)}var yG,gG=[{title:"My Avatars",id:"my-avatars",icon:He((function(e){var t=e.fill;return He("svg",{fill:t,width:"30",height:"30",viewBox:"0 0 30 30",xmlns:"http://www.w3.org/2000/svg"},He("path",{d:"M24.9039 1.04148C26.6225 1.04148 28.0169 2.44096 28.0169 4.16591V24.9955C28.0169 26.7204 26.6225 28.1199 24.9039 28.1199V27.0784C24.9039 22.4764 21.1878 18.7466 16.6026 18.7466H12.4519C7.86678 18.7466 4.15065 22.4764 4.15065 27.0784V28.1199C2.43202 28.1199 1.03766 26.7204 1.03766 24.9955V4.16591C1.03766 2.44096 2.43202 1.04148 4.15065 1.04148H24.9039ZM23.8662 28.1199H5.18831V27.0784C5.18831 23.0492 8.43749 19.7881 12.4519 19.7881H16.6026C20.6171 19.7881 23.8662 23.0492 23.8662 27.0784V28.1199ZM4.15065 0C1.86131 0 0 1.86815 0 4.16591V24.9955C0 27.2932 1.86131 29.1614 4.15065 29.1614H24.9039C27.1932 29.1614 29.0545 27.2932 29.0545 24.9955V4.16591C29.0545 1.86815 27.1932 0 24.9039 0H4.15065ZM19.7156 11.4563C19.7156 10.0752 19.169 8.75065 18.196 7.77407C17.223 6.7975 15.9033 6.24886 14.5273 6.24886C13.1512 6.24886 11.8316 6.7975 10.8586 7.77407C9.88559 8.75065 9.33896 10.0752 9.33896 11.4563C9.33896 12.8373 9.88559 14.1619 10.8586 15.1384C11.8316 16.115 13.1512 16.6636 14.5273 16.6636C15.9033 16.6636 17.223 16.115 18.196 15.1384C19.169 14.1619 19.7156 12.8373 19.7156 11.4563ZM14.5273 7.29034C15.6281 7.29034 16.6838 7.72925 17.4622 8.51051C18.2406 9.29177 18.6779 10.3514 18.6779 11.4563C18.6779 12.5611 18.2406 13.6207 17.4622 14.402C16.6838 15.1833 15.6281 15.6222 14.5273 15.6222C13.4265 15.6222 12.3707 15.1833 11.5923 14.402C10.8139 13.6207 10.3766 12.5611 10.3766 11.4563C10.3766 10.3514 10.8139 9.29177 11.5923 8.51051C12.3707 7.72925 13.4265 7.29034 14.5273 7.29034Z"}))}),null)},{title:"Inventory",id:"inventory",icon:He((function(e){var t=e.fill;return He("svg",{fill:t,width:"40",height:"32",viewBox:"0 0 40 32",xmlns:"http://www.w3.org/2000/svg"},He("path",{d:"M34.2917 0.467969L35.2639 0.292187L35.5556 1.24141L39.9514 15.6695L40 15.8313V16V18.25V21.625V22.75V29.5V31.75H37.7778H24.4444H22.2222V29.5V20.5H17.7778V29.5V31.75H15.5556H2.22222H-1.90735e-06V29.5V22.75V21.625V18.25V16V15.8313L0.0486101 15.6695L4.44444 1.24141L4.73611 0.285156L5.70833 0.460938L10.7569 1.39609L11.8472 1.6L11.4514 3.81484L10.3611 3.61094L6.28472 2.86562L2.27083 16H15.5556H17.7778V18.25H22.2222V16H24.4444H37.7292L33.7222 2.85859L29.6458 3.60391L28.5556 3.80781L28.1597 1.59297L29.25 1.38906L34.2917 0.467969ZM2.22222 21.625V22.75V29.5H13.0694L6.16666 26.0055L5.17361 25.4992L6.16666 23.4883L7.15972 23.9945L15.5556 28.2414V25.6961L9.5 22.6305L8.50694 22.1242L9.5 20.1133L10.4931 20.6195L15.5556 23.1789V18.25H2.22222V21.625ZM37.7778 18.25H24.4444V29.5H34.1806L27.2778 26.0055L26.2847 25.4992L27.2778 23.4883L28.2708 23.9945L37.6458 28.7406L37.7708 28.8039V26.2586L37.2708 26.0055L30.6042 22.6305L29.6111 22.1242L30.6042 20.1133L31.5972 20.6195L37.7778 23.7414V22.75V21.625V18.25Z"}))}),null)},{title:"Traits market",id:"traitsmarket",icon:He((function(e){var t=e.fill;return He("svg",{fill:t,width:"34",height:"35",viewBox:"0 0 34 35",xmlns:"http://www.w3.org/2000/svg"},He("path",{d:"M4.85714 2.875C4.85714 3.52147 4.60128 4.14145 4.14583 4.59857C3.69039 5.05569 3.07267 5.3125 2.42857 5.3125C1.78447 5.3125 1.16676 5.05569 0.711312 4.59857C0.255867 4.14145 0 3.52147 0 2.875C0 2.22853 0.255867 1.60855 0.711312 1.15143C1.16676 0.694307 1.78447 0.4375 2.42857 0.4375C3.07267 0.4375 3.69039 0.694307 4.14583 1.15143C4.60128 1.60855 4.85714 2.22853 4.85714 2.875ZM4.85714 10.1875C4.85714 10.834 4.60128 11.454 4.14583 11.9111C3.69039 12.3682 3.07267 12.625 2.42857 12.625C1.78447 12.625 1.16676 12.3682 0.711312 11.9111C0.255867 11.454 0 10.834 0 10.1875C0 9.54103 0.255867 8.92105 0.711312 8.46393C1.16676 8.00681 1.78447 7.75 2.42857 7.75C3.07267 7.75 3.69039 8.00681 4.14583 8.46393C4.60128 8.92105 4.85714 9.54103 4.85714 10.1875ZM2.42857 19.9375C1.78447 19.9375 1.16676 19.6807 0.711312 19.2236C0.255867 18.7665 0 18.1465 0 17.5C0 16.8535 0.255867 16.2335 0.711312 15.7764C1.16676 15.3193 1.78447 15.0625 2.42857 15.0625C3.07267 15.0625 3.69039 15.3193 4.14583 15.7764C4.60128 16.2335 4.85714 16.8535 4.85714 17.5C4.85714 18.1465 4.60128 18.7665 4.14583 19.2236C3.69039 19.6807 3.07267 19.9375 2.42857 19.9375ZM4.85714 24.8125C4.85714 25.459 4.60128 26.079 4.14583 26.5361C3.69039 26.9932 3.07267 27.25 2.42857 27.25C1.78447 27.25 1.16676 26.9932 0.711312 26.5361C0.255867 26.079 0 25.459 0 24.8125C0 24.166 0.255867 23.546 0.711312 23.0889C1.16676 22.6318 1.78447 22.375 2.42857 22.375C3.07267 22.375 3.69039 22.6318 4.14583 23.0889C4.60128 23.546 4.85714 24.166 4.85714 24.8125ZM2.42857 34.5625C1.78447 34.5625 1.16676 34.3057 0.711312 33.8486C0.255867 33.3915 0 32.7715 0 32.125C0 31.4785 0.255867 30.8585 0.711312 30.4014C1.16676 29.9443 1.78447 29.6875 2.42857 29.6875C3.07267 29.6875 3.69039 29.9443 4.14583 30.4014C4.60128 30.8585 4.85714 31.4785 4.85714 32.125C4.85714 32.7715 4.60128 33.3915 4.14583 33.8486C3.69039 34.3057 3.07267 34.5625 2.42857 34.5625ZM12.1429 2.875C12.1429 3.52147 11.887 4.14145 11.4315 4.59857C10.9761 5.05569 10.3584 5.3125 9.71429 5.3125C9.07019 5.3125 8.45247 5.05569 7.99703 4.59857C7.54158 4.14145 7.28571 3.52147 7.28571 2.875C7.28571 2.22853 7.54158 1.60855 7.99703 1.15143C8.45247 0.694307 9.07019 0.4375 9.71429 0.4375C10.3584 0.4375 10.9761 0.694307 11.4315 1.15143C11.887 1.60855 12.1429 2.22853 12.1429 2.875ZM9.71429 12.625C9.07019 12.625 8.45247 12.3682 7.99703 11.9111C7.54158 11.454 7.28571 10.834 7.28571 10.1875C7.28571 9.54103 7.54158 8.92105 7.99703 8.46393C8.45247 8.00681 9.07019 7.75 9.71429 7.75C10.3584 7.75 10.9761 8.00681 11.4315 8.46393C11.887 8.92105 12.1429 9.54103 12.1429 10.1875C12.1429 10.834 11.887 11.454 11.4315 11.9111C10.9761 12.3682 10.3584 12.625 9.71429 12.625ZM12.1429 17.5C12.1429 18.1465 11.887 18.7665 11.4315 19.2236C10.9761 19.6807 10.3584 19.9375 9.71429 19.9375C9.07019 19.9375 8.45247 19.6807 7.99703 19.2236C7.54158 18.7665 7.28571 18.1465 7.28571 17.5C7.28571 16.8535 7.54158 16.2335 7.99703 15.7764C8.45247 15.3193 9.07019 15.0625 9.71429 15.0625C10.3584 15.0625 10.9761 15.3193 11.4315 15.7764C11.887 16.2335 12.1429 16.8535 12.1429 17.5ZM9.71429 27.25C9.07019 27.25 8.45247 26.9932 7.99703 26.5361C7.54158 26.079 7.28571 25.459 7.28571 24.8125C7.28571 24.166 7.54158 23.546 7.99703 23.0889C8.45247 22.6318 9.07019 22.375 9.71429 22.375C10.3584 22.375 10.9761 22.6318 11.4315 23.0889C11.887 23.546 12.1429 24.166 12.1429 24.8125C12.1429 25.459 11.887 26.079 11.4315 26.5361C10.9761 26.9932 10.3584 27.25 9.71429 27.25ZM12.1429 32.125C12.1429 32.7715 11.887 33.3915 11.4315 33.8486C10.9761 34.3057 10.3584 34.5625 9.71429 34.5625C9.07019 34.5625 8.45247 34.3057 7.99703 33.8486C7.54158 33.3915 7.28571 32.7715 7.28571 32.125C7.28571 31.4785 7.54158 30.8585 7.99703 30.4014C8.45247 29.9443 9.07019 29.6875 9.71429 29.6875C10.3584 29.6875 10.9761 29.9443 11.4315 30.4014C11.887 30.8585 12.1429 31.4785 12.1429 32.125ZM17 5.3125C16.3559 5.3125 15.7382 5.05569 15.2827 4.59857C14.8273 4.14145 14.5714 3.52147 14.5714 2.875C14.5714 2.22853 14.8273 1.60855 15.2827 1.15143C15.7382 0.694307 16.3559 0.4375 17 0.4375C17.6441 0.4375 18.2618 0.694307 18.7173 1.15143C19.1727 1.60855 19.4286 2.22853 19.4286 2.875C19.4286 3.52147 19.1727 4.14145 18.7173 4.59857C18.2618 5.05569 17.6441 5.3125 17 5.3125ZM19.4286 10.1875C19.4286 10.834 19.1727 11.454 18.7173 11.9111C18.2618 12.3682 17.6441 12.625 17 12.625C16.3559 12.625 15.7382 12.3682 15.2827 11.9111C14.8273 11.454 14.5714 10.834 14.5714 10.1875C14.5714 9.54103 14.8273 8.92105 15.2827 8.46393C15.7382 8.00681 16.3559 7.75 17 7.75C17.6441 7.75 18.2618 8.00681 18.7173 8.46393C19.1727 8.92105 19.4286 9.54103 19.4286 10.1875ZM17 19.9375C16.3559 19.9375 15.7382 19.6807 15.2827 19.2236C14.8273 18.7665 14.5714 18.1465 14.5714 17.5C14.5714 16.8535 14.8273 16.2335 15.2827 15.7764C15.7382 15.3193 16.3559 15.0625 17 15.0625C17.6441 15.0625 18.2618 15.3193 18.7173 15.7764C19.1727 16.2335 19.4286 16.8535 19.4286 17.5C19.4286 18.1465 19.1727 18.7665 18.7173 19.2236C18.2618 19.6807 17.6441 19.9375 17 19.9375ZM19.4286 24.8125C19.4286 25.459 19.1727 26.079 18.7173 26.5361C18.2618 26.9932 17.6441 27.25 17 27.25C16.3559 27.25 15.7382 26.9932 15.2827 26.5361C14.8273 26.079 14.5714 25.459 14.5714 24.8125C14.5714 24.166 14.8273 23.546 15.2827 23.0889C15.7382 22.6318 16.3559 22.375 17 22.375C17.6441 22.375 18.2618 22.6318 18.7173 23.0889C19.1727 23.546 19.4286 24.166 19.4286 24.8125ZM17 34.5625C16.3559 34.5625 15.7382 34.3057 15.2827 33.8486C14.8273 33.3915 14.5714 32.7715 14.5714 32.125C14.5714 31.4785 14.8273 30.8585 15.2827 30.4014C15.7382 29.9443 16.3559 29.6875 17 29.6875C17.6441 29.6875 18.2618 29.9443 18.7173 30.4014C19.1727 30.8585 19.4286 31.4785 19.4286 32.125C19.4286 32.7715 19.1727 33.3915 18.7173 33.8486C18.2618 34.3057 17.6441 34.5625 17 34.5625ZM26.7143 2.875C26.7143 3.52147 26.4584 4.14145 26.003 4.59857C25.5475 5.05569 24.9298 5.3125 24.2857 5.3125C23.6416 5.3125 23.0239 5.05569 22.5685 4.59857C22.113 4.14145 21.8571 3.52147 21.8571 2.875C21.8571 2.22853 22.113 1.60855 22.5685 1.15143C23.0239 0.694307 23.6416 0.4375 24.2857 0.4375C24.9298 0.4375 25.5475 0.694307 26.003 1.15143C26.4584 1.60855 26.7143 2.22853 26.7143 2.875ZM24.2857 12.625C23.6416 12.625 23.0239 12.3682 22.5685 11.9111C22.113 11.454 21.8571 10.834 21.8571 10.1875C21.8571 9.54103 22.113 8.92105 22.5685 8.46393C23.0239 8.00681 23.6416 7.75 24.2857 7.75C24.9298 7.75 25.5475 8.00681 26.003 8.46393C26.4584 8.92105 26.7143 9.54103 26.7143 10.1875C26.7143 10.834 26.4584 11.454 26.003 11.9111C25.5475 12.3682 24.9298 12.625 24.2857 12.625ZM26.7143 17.5C26.7143 18.1465 26.4584 18.7665 26.003 19.2236C25.5475 19.6807 24.9298 19.9375 24.2857 19.9375C23.6416 19.9375 23.0239 19.6807 22.5685 19.2236C22.113 18.7665 21.8571 18.1465 21.8571 17.5C21.8571 16.8535 22.113 16.2335 22.5685 15.7764C23.0239 15.3193 23.6416 15.0625 24.2857 15.0625C24.9298 15.0625 25.5475 15.3193 26.003 15.7764C26.4584 16.2335 26.7143 16.8535 26.7143 17.5ZM24.2857 27.25C23.6416 27.25 23.0239 26.9932 22.5685 26.5361C22.113 26.079 21.8571 25.459 21.8571 24.8125C21.8571 24.166 22.113 23.546 22.5685 23.0889C23.0239 22.6318 23.6416 22.375 24.2857 22.375C24.9298 22.375 25.5475 22.6318 26.003 23.0889C26.4584 23.546 26.7143 24.166 26.7143 24.8125C26.7143 25.459 26.4584 26.079 26.003 26.5361C25.5475 26.9932 24.9298 27.25 24.2857 27.25ZM26.7143 32.125C26.7143 32.7715 26.4584 33.3915 26.003 33.8486C25.5475 34.3057 24.9298 34.5625 24.2857 34.5625C23.6416 34.5625 23.0239 34.3057 22.5685 33.8486C22.113 33.3915 21.8571 32.7715 21.8571 32.125C21.8571 31.4785 22.113 30.8585 22.5685 30.4014C23.0239 29.9443 23.6416 29.6875 24.2857 29.6875C24.9298 29.6875 25.5475 29.9443 26.003 30.4014C26.4584 30.8585 26.7143 31.4785 26.7143 32.125ZM31.5714 5.3125C30.9273 5.3125 30.3096 5.05569 29.8542 4.59857C29.3987 4.14145 29.1429 3.52147 29.1429 2.875C29.1429 2.22853 29.3987 1.60855 29.8542 1.15143C30.3096 0.694307 30.9273 0.4375 31.5714 0.4375C32.2155 0.4375 32.8332 0.694307 33.2887 1.15143C33.7441 1.60855 34 2.22853 34 2.875C34 3.52147 33.7441 4.14145 33.2887 4.59857C32.8332 5.05569 32.2155 5.3125 31.5714 5.3125ZM34 10.1875C34 10.834 33.7441 11.454 33.2887 11.9111C32.8332 12.3682 32.2155 12.625 31.5714 12.625C30.9273 12.625 30.3096 12.3682 29.8542 11.9111C29.3987 11.454 29.1429 10.834 29.1429 10.1875C29.1429 9.54103 29.3987 8.92105 29.8542 8.46393C30.3096 8.00681 30.9273 7.75 31.5714 7.75C32.2155 7.75 32.8332 8.00681 33.2887 8.46393C33.7441 8.92105 34 9.54103 34 10.1875ZM31.5714 19.9375C30.9273 19.9375 30.3096 19.6807 29.8542 19.2236C29.3987 18.7665 29.1429 18.1465 29.1429 17.5C29.1429 16.8535 29.3987 16.2335 29.8542 15.7764C30.3096 15.3193 30.9273 15.0625 31.5714 15.0625C32.2155 15.0625 32.8332 15.3193 33.2887 15.7764C33.7441 16.2335 34 16.8535 34 17.5C34 18.1465 33.7441 18.7665 33.2887 19.2236C32.8332 19.6807 32.2155 19.9375 31.5714 19.9375ZM34 24.8125C34 25.459 33.7441 26.079 33.2887 26.5361C32.8332 26.9932 32.2155 27.25 31.5714 27.25C30.9273 27.25 30.3096 26.9932 29.8542 26.5361C29.3987 26.079 29.1429 25.459 29.1429 24.8125C29.1429 24.166 29.3987 23.546 29.8542 23.0889C30.3096 22.6318 30.9273 22.375 31.5714 22.375C32.2155 22.375 32.8332 22.6318 33.2887 23.0889C33.7441 23.546 34 24.166 34 24.8125ZM31.5714 34.5625C30.9273 34.5625 30.3096 34.3057 29.8542 33.8486C29.3987 33.3915 29.1429 32.7715 29.1429 32.125C29.1429 31.4785 29.3987 30.8585 29.8542 30.4014C30.3096 29.9443 30.9273 29.6875 31.5714 29.6875C32.2155 29.6875 32.8332 29.9443 33.2887 30.4014C33.7441 30.8585 34 31.4785 34 32.125C34 32.7715 33.7441 33.3915 33.2887 33.8486C32.8332 34.3057 32.2155 34.5625 31.5714 34.5625Z"}))}),null)},{title:"Terminal (mint)",id:"terminal",icon:He((function(e){var t=e.fill;return He("svg",{fill:t,xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 512 512"},He("path",{d:"M327.5 85.2c-4.5 1.7-7.5 6-7.5 10.8s3 9.1 7.5 10.8L384 128l21.2 56.5c1.7 4.5 6 7.5 10.8 7.5s9.1-3 10.8-7.5L448 128l56.5-21.2c4.5-1.7 7.5-6 7.5-10.8s-3-9.1-7.5-10.8L448 64 426.8 7.5C425.1 3 420.8 0 416 0s-9.1 3-10.8 7.5L384 64 327.5 85.2zM9.3 240C3.6 242.6 0 248.3 0 254.6s3.6 11.9 9.3 14.5L26.3 277l8.1 3.7 .6 .3 88.3 40.8L164.1 410l.3 .6 3.7 8.1 7.9 17.1c2.6 5.7 8.3 9.3 14.5 9.3s11.9-3.6 14.5-9.3l7.9-17.1 3.7-8.1 .3-.6 40.8-88.3L346 281l.6-.3 8.1-3.7 17.1-7.9c5.7-2.6 9.3-8.3 9.3-14.5s-3.6-11.9-9.3-14.5l-17.1-7.9-8.1-3.7-.6-.3-88.3-40.8L217 99.1l-.3-.6L213 90.3l-7.9-17.1c-2.6-5.7-8.3-9.3-14.5-9.3s-11.9 3.6-14.5 9.3l-7.9 17.1-3.7 8.1-.3 .6-40.8 88.3L35.1 228.1l-.6 .3-8.1 3.7L9.3 240zm83 14.5l51.2-23.6c10.4-4.8 18.7-13.1 23.5-23.5l23.6-51.2 23.6 51.2c4.8 10.4 13.1 18.7 23.5 23.5l51.2 23.6-51.2 23.6c-10.4 4.8-18.7 13.1-23.5 23.5l-23.6 51.2-23.6-51.2c-4.8-10.4-13.1-18.7-23.5-23.5L92.3 254.6zM384 384l-56.5 21.2c-4.5 1.7-7.5 6-7.5 10.8s3 9.1 7.5 10.8L384 448l21.2 56.5c1.7 4.5 6 7.5 10.8 7.5s9.1-3 10.8-7.5L448 448l56.5-21.2c4.5-1.7 7.5-6 7.5-10.8s-3-9.1-7.5-10.8L448 384l-21.2-56.5c-1.7-4.5-6-7.5-10.8-7.5s-9.1 3-10.8 7.5L384 384z"}))}),null)}],bG=window.innerWidth-1440,wG=function(){return 0};bG>0&&(wG=function(){return bG/2+mG(1,window.innerWidth/2-435)}),yG=function(){return mG(1,.25*window.innerHeight)};var xG=[{id:"my-avatars",defaultPosition:{x:wG(),y:yG(),width:870,height:520},title:"Your Nethria Identities",isActive:!1,content:He((function(){var e=xx((function(e){return e.connectWallet})),n=xx((function(e){return e.fetchSynthiaNfts})),r=xx((function(e){return e.wallet})),i=xx((function(e){return e.next})),a=xx((function(e){return e.fetchSynthiaNfts})),o=xx((function(e){return e.loadingNfts})),s=xx((function(e){return e.updateTerminalOpen})),u=(xx((function(e){return e.loadingWallet})),xx((function(e){return e.nfts}))),l=(0,t.useContext)(uG).checkAndSetWindow;return(0,t.useEffect)((function(){r&&a(r)}),[r]),r?He("div",null,He(cG,null,null===u||void 0===u?void 0:u.map((function(e){var t=function(){var t;null===l||void 0===l||l(e.tokenId,{id:(t=e.tokenId).toString(),isActive:!0,title:"Synthia Identity #".concat(t),content:He(sG,{tokenId:t}),defaultPosition:pG()})};return He(fG,{key:e.tokenId,onTouchEnd:t,onClick:t,"data-cursor":!0},He(hG,{src:e.image}),He(QH,{color:"white"},He("p",null,"#",e.tokenId)))})),!o&&!(null!==u&&void 0!==u&&u.length)&&He("div",null,He(QH,{color:"white"},He("p",null,"You don't own any Nethria NFTs")),He(KH,{margin:"2rem 0"},He(yv,{onClick:function(){return s(!0)}},"MINT NOW")))),i&&!o&&He(dG,{onTouchEnd:function(){n(r,i)}},He(yv,{onClick:function(){n(r,i)}},"Load more")),o&&He(QH,{color:"white"},He("p",null,"Loading..."))):He(lG,null,He(yv,{onClick:function(){return null===e||void 0===e?void 0:e()}},"Connect wallet"))}),null)},{id:"inventory",defaultPosition:{x:wG(),y:yG(),width:870,height:520},title:"Inventory",isActive:!1,content:He("p",{style:{color:"white"}},"Coming soon")},{id:"traitsmarket",defaultPosition:{x:wG(),y:yG(),width:870,height:520},title:"Traits market - Collect new traits",isActive:!1,content:He("p",{style:{color:"white"}},"Coming soon")}],_G=function(){var e=l((0,t.useState)([]),2),n=e[0],r=e[1],i=xx((function(e){return e.updateTerminalOpen})),a=function(e){r(n.map((function(t){return zt(zt({},t),{},{isActive:t.id===e})})))},o=function(e,t){n.find((function(t){return t.id===e}))?a(e):r((function(e){return[].concat(qe(e),[zt(zt({},t),{},{isActive:!0})])}))};return He(t.Fragment,null,He("div",{style:{position:"relative"}},He("div",{css:vG.icons},gG.map((function(e,t){var n;return n="terminal"===e.id?function(){i(!0)}:function(){var t=xG.find((function(t){return t.id===e.id}));t&&o(e.id,t)},He(eG,{key:t,onClick:n,title:e.title,img:e.icon})}))),He(uG.Provider,{value:{checkAndSetWindow:o,checkIsActive:function(e){var t;return!(null===(t=n.find((function(t){return t.id===e})))||void 0===t||!t.isActive)}}},n.map((function(e){return He(KW,{onClose:function(){r((function(t){return t.filter((function(t){return t.id!==e.id}))}))},key:e.id,defaultPosition:e.defaultPosition,isActive:e.isActive,title:e.title,onMouseDown:function(){return a(e.id)}},e.content)})))))};var kG={name:"v5imia",styles:"a,a:visited{color:yellow;cursor:none;}body{background-color:#15101c;background-image:url(/stars.png);overflow-x:hidden;}"},SG=i.createRoot(document.getElementById("root")),MG=function(e,t){return y_({basename:null==t?void 0:t.basename,future:_S({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:(n={window:null==t?void 0:t.window},void 0===n&&(n={}),Ix((function(e,t){var n=e.location;return Cx("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:Px(t)}),null,n)),hydrationData:(null==t?void 0:t.hydrationData)||MS(),routes:e,mapRouteProperties:Nk}).initialize();var n}([{path:"/",element:He(WS,null),children:[{path:"/",element:He(mW,null)},{path:"/syn-os",element:He((function(){return He(t.Fragment,null,He(_G,null))}),null)}]}]);SG.render(He(t.Fragment,null,He(We,{styles:kG}),He(jS,null),He((function(e){var n=e.fallbackElement,r=e.router,i=e.future,a=l(t.useState(r.state),2),o=a[0],s=a[1],u=(i||{}).v7_startTransition,c=t.useCallback((function(e){u&&ek?ek((function(){return s(e)})):s(e)}),[s,u]);t.useLayoutEffect((function(){return r.subscribe(c)}),[r,c]);var f=t.useMemo((function(){return{createHref:r.createHref,encodeLocation:r.encodeLocation,go:function(e){return r.navigate(e)},push:function(e,t,n){return r.navigate(e,{state:t,preventScrollReset:null==n?void 0:n.preventScrollReset})},replace:function(e,t,n){return r.navigate(e,{replace:!0,state:t,preventScrollReset:null==n?void 0:n.preventScrollReset})}}}),[r]),h=r.basename||"/",d=t.useMemo((function(){return{router:r,navigator:f,static:!1,basename:h}}),[r,f,h]);return t.createElement(t.Fragment,null,t.createElement(tk.Provider,{value:d},t.createElement(nk.Provider,{value:o},t.createElement(Ek,{basename:h,location:o.location,navigationType:o.historyAction,navigator:f},o.initialized?t.createElement(Ak,{routes:r.routes,state:o}):n))),null)}),{router:MG}))),GS()}()}();
//# sourceMappingURL=main.f10fe959.js.map